<!DOCTYPE html>
<html>
<head>
    <title>Table-POS: Assembly Payments Instore Integration Solution</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="shortcut icon" href="/favicon.png">

    <script src="/dist/TablePos.min.js"></script>

</head>
<body class="status-unpaired flow-idle">
    <table id="layout">
    <tr>
        <td class="col settings" rowspan="2">
            <h1>Settings</h1>
            <div class="padding-1">
                <form name="settings" id="settings-form" onSubmit="return false;">
                    <fieldset>
                        <legend>EFTPOS config</legend>
                        <table class="form">
                        <tr>
                            <th><label for="pos_id">Pos ID:</label></th>
                            <td><input type="text" class="input medium" name="pos_id" id="pos_id" placeholder="Pos ID" value="TABLEPOS1" required aria-label="Point of sale ID" /></td>
                        </tr>
                        <tr>
                            <th><label for="eftpos_address">EFTPOS Address:</label></th>
                            <td><input type="text" class="input medium" name="eftpos_address" id="eftpos_address" placeholder="EFTPOS address" value="192.168.1.1" aria-label="IP address of terminal or FQDN" required /></td>
                        </tr>
                        </table>
                    </fieldset>

                    <fieldset>
                        <legend>Print config</legend>
                        <table class="form">
                        <tr>
                            <th><label for="print_merchant_copy">Merchant receipt:</label></th>
                            <td><input type="checkbox" class="input" id="print_merchant_copy" name="print_merchant_copy" value="false" aria-label="Offer Merchant Receipt From Eftpos"></td>
                        </tr>
                        <tr>
                            <th><label for="rcpt_from_eftpos">Customer receipt:</label></th>
                            <td><input type="checkbox" class="input" id="rcpt_from_eftpos" name="rcpt_from_eftpos" value="false" aria-label="Offer Customer Receipt From Eftpos"></td>
                        </tr>
                        <tr>
                            <th><label for="sig_flow_from_eftpos">Signature:</label></th>
                            <td><input type="checkbox" class="input" id="sig_flow_from_eftpos" name="sig_flow_from_eftpos" value="false" aria-label="Signature Flow to be handled by Eftpos"></td>
                        </tr>
                        </table>
                    </fieldset>

                    <fieldset>
                        <legend>Table config</legend>
                        <table class="form table-config">
                        <tr>
                            <th><label for="pat_all_enable">Enable all:</label></th>
                            <td><button type="button" class="action" id="pat_all_enable" name="pat_all_enable" value="false" aria-label="Enable all pay at table settings">Enable</button></td>
                        </tr>
                        <tr>
                            <th><label for="pat_enabled">Enable PAT:</label></th>
                            <td><input type="checkbox" class="input table-config" id="pat_enabled" name="pat_enabled" value="false" aria-label="Enable pay at table"></td>
                        </tr>
                        <tr>
                            <th><label for="operatorid_enabled">Enable operator ID:</label></th>
                            <td><input type="checkbox" class="input table-config" id="operatorid_enabled" name="operatorid_enabled" value="false" aria-label="Enable operator id property"></td>
                        </tr>
                        <tr>
                            <th><label for="set_allowed_operatorid">Allowed operator IDs:</label></th>
                            <td><input type="number" class="input small table-config" id="set_allowed_operatorid" name="set_allowed_operatorid" value="" aria-label="Set allowed operator ids (comma seperated)" size="2"></td>
                        </tr>
                        <tr>
                            <th><label for="equal_split">Equal split:</label></th>
                            <td><input type="checkbox" class="input table-config" id="equal_split" name="equal_split" value="false" aria-label="Enable equal split property"></td>
                        </tr>
                        <tr>
                            <th><label for="split_by_amount">Split by amount:</label></th>
                            <td><input type="checkbox" class="input table-config" id="split_by_amount" name="split_by_amount" value="false" aria-label="Enable split by amount property"></td>
                        </tr>
                        <tr>
                            <th><label for="tipping">Tipping:</label></th>
                            <td><input type="checkbox" class="input table-config" id="tipping" name="tipping" value="false" aria-label="Enable tipping property"></td>
                        </tr>
                        <tr>
                            <th><label for="summary_report">Summary report:</label></th>
                            <td><input type="checkbox" class="input table-config" id="summary_report" name="summary_report" value="false" aria-label="Enable summary report"></td>
                        </tr>
                        <tr>
                            <th><label for="set_label_operatorid">Operator ID label:</label></th>
                            <td><input type="text" class="input medium table-config" id="set_label_operatorid" name="set_label_operatorid" value="Operator ID" aria-label="Set operatorid label" requried></td>
                        </tr>
                        <tr>
                            <th><label for="set_label_tableid">Table ID label:</label></th>
                            <td><input type="text" class="input medium table-config" id="set_label_tableid" name="set_label_tableid" value="Table Number" aria-label="Set tableid label" required></td>
                        </tr>
                        <tr>
                            <th><label for="set_label_paybutton">Pay button label:</label></th>
                            <td><input type="text" class="input medium table-config" id="set_label_paybutton" name="set_label_paybutton" value="Pay at Table" aria-label="Set pay button label" required></td>
                        </tr>
                        <tr>
                            <th><label for="table_retrieval_enabled">Table retrieval:</label></th>
                            <td><input type="checkbox" class="input table-config" id="table_retrieval_enabled" name="table_retrieval_enabled" value="false" aria-label="Enable table retrieval button"></td>
                        </tr>
                        </table>
                    </fieldset>

                    <div class="submit-input">
                        <button type="button" class="action no-hide" id="save_settings">Save settings</button>
                    </div>
                    
                </form>
            </div>
        </td>
        <td class="col flow">
            <h1>Flow: <span id="flow_status_heading">Idle</span></h1>
            <div class="padding-1">
                <div><p id="flow_msg"></p></div>
                <pre id="log"></pre>
            </div>
        </td>
        <td class="col receipt" rowspan="2">
            <h1>Receipt</h1>
            <div class="padding-1">
                <div id="receipt_output"></div>
            </div>
        </td>
    </tr>
    <tr>
        <td class="col actions">

            <h1>Actions</h1>


            <div class="padding-1">

                <form name="pairing" id="pairing-form">
                    <p id="status_indicator" data-status="Unpaired" data-flow="Idle">
                        <label id="primary_status">Unpaired</label>
                        <span>: </span>
                        <label id="flow_status" class="flow_status">Idle</label>
                    </p>
                    <p class="paring-buttons">
                        <button type="button" class="action" id="pair" aria-label="Pair with Eftpos">PAIR</button>
                        <button type="button" class="action" id="unpair" aria-label="Unpair and Disconnect">UNPAIR</button>

                        <button type="button" class="action" id="pair_confirm" aria-label="Confirm Pairing Code">Confirm Code</button>
                        <button type="button" class="action" id="pair_cancel" aria-label="Cancel Pairing">Cancel Pairing</button>
                    </p>
                </form>

                <form id="action-form" name="controls">

                    <div class="action-buttons">
                        <button type="button" class="action" id="open" aria-label="Start a new bill">Open table</button>
                        <button type="button" class="action" id="add" aria-label="Add an amount to a bill" data-ref="[bill_id]">Add to bill</button>
                        <button type="button" class="action" id="close" aria-label="Close a table" data-ref="[table_number]">Close table</button>
                        <button type="button" class="action" id="lock" aria-label="Lock/Unlock a table" data-ref="[table_number, locked]">Lock/Unlock table</button>
                        <button type="button" class="action" id="tables" aria-label="List open tables">List open tables</button>
                        <button type="button" class="action" id="table" aria-label="Print current bill for a table">Get table bill</button>
                        <button type="button" class="action" id="bill" aria-label="Print a bill">Print bill ID</button>

                        <button type="button" class="action" id="pat_all_enable" aria-label="Enable all pay at table settings">Enable All PAT settings</button>
                        <button type="button" class="action" id="pat_enabled" aria-label="enable/disable pay at table" data-ref="[enabled]">Pay at table</button>
                        <button type="button" class="action" id="operatorid_enabled" aria-label="enable/disable operator id property" data-ref="[enabled]">Operator ID</button>
                        <button type="button" class="action" id="set_allowed_operatorid" aria-label="set allowed operator id" data-ref="[enabled]">Set allowed operator ID</button>
                        <button type="button" class="action" id="equal_split" aria-label="enable/disable equal split property" data-ref="[enabled]">Equal split</button>
                        <button type="button" class="action" id="split_by_amount" aria-label="enable/disable split by amount property" data-ref="[enabled]">Split by amount</button>
                        <button type="button" class="action" id="tipping" aria-label="enable/disable tipping property" data-ref="[enabled]">Tipping</button>
                        <button type="button" class="action" id="summary_report" aria-label="enable/disable summary report" data-ref="[enabled]">Summary report</button>
                        <button type="button" class="action" id="set_label_operatorid" aria-label="set operatorid label" data-ref="[label]">Set operatorid label</button>
                        <button type="button" class="action" id="set_label_tableid" aria-label="set tableid label" data-ref="[label]">Set tableid label</button>
                        <button type="button" class="action" id="set_label_paybutton" aria-label="set pay button label" data-ref="[label]">Set pay button label</button>
                        <button type="button" class="action" id="table_retrieval_enabled" aria-label="enable/disable table retrieval button" data-ref="[enabled]">Table retrieval button</button>

                        <button type="button" class="action" id="purchase" aria-label="Quick Purchase Tx">Purchase</button>
                        <button type="button" class="action" id="refund" aria-label="hand out a refund">Refund</button>
                        <button type="button" class="action" id="settle" aria-label="Initiate Settlement">Settle</button>

                        <button type="button" class="action" id="tx_sign_accept" aria-label="Accept Signature">Accept Signature</button>
                        <button type="button" class="action" id="tx_sign_decline" aria-label=Decline Signature">Decline Signature</button>
                        <button type="button" class="action" id="tx_cancel" aria-label="Attempt to Cancel Tx">Cancel</button>
                        <button type="button" class="action" id="ok" aria-label="acknowledge final">Ok</button>
                    </div>

                    <div class="action-inputs">
                        <fieldset id="amount_input" class="input">
                            <label for="amount">Amount (cents): </label>
                            <input type="number" id="amount" name="amount" value="10" placeholder="Amount (cents)" required>
                        </fieldset>

                        <fieldset id="table_input" class="input">
                            <label for="table">Table #: </label>
                            <input type="number" id="table_number" name="table_number" value="1" placeholder="Table number" required>
                        </fieldset>

                        <fieldset id="locked_input" class="input">
                            <label for="locked">Locked: </label>
                            <input type="checkbox" id="locked" name="locked" value="false">
                        </fieldset>

                        <fieldset id="enabled_input" class="input">
                            <label for="enabled">Enabled: </label>
                            <input type="checkbox" id="enabled" name="enabled" value="false">
                        </fieldset>

                        <fieldset id="bill_id_input" class="input">
                            <label for="bill_id">Bill #: </label>
                            <input type="number" id="bill_id" name="bill_id" value="" placeholder="Bill ID" required>
                        </fieldset>

                        <fieldset id="operator_id_input" class="input">
                            <label for="operator_id">Operator ID: </label>
                            <input type="number" id="operator_id" name="operator_id" value="" placeholder="Operator ID" required>
                        </fieldset>

                        <fieldset id="label_input" class="input">
                            <label for="label">Label: </label>
                            <input type="text" id="label" name="label" value="" placeholder="Label" required>
                        </fieldset>

                        <button type="submit" name="save" id="save">Save</button>
                    </div>

                </form>

            </div>
        </td>
    </tr>
    </table>

</body>
</html>
