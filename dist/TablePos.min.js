(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else {
		var a = factory();
		for(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];
	}
})(window, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	function hotDisposeChunk(chunkId) {
/******/ 		delete installedChunks[chunkId];
/******/ 	}
/******/ 	var parentHotUpdateCallback = window["webpackHotUpdate"];
/******/ 	window["webpackHotUpdate"] = // eslint-disable-next-line no-unused-vars
/******/ 	function webpackHotUpdateCallback(chunkId, moreModules) {
/******/ 		hotAddUpdateChunk(chunkId, moreModules);
/******/ 		if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
/******/ 	} ;
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadUpdateChunk(chunkId) {
/******/ 		var script = document.createElement("script");
/******/ 		script.charset = "utf-8";
/******/ 		script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
/******/ 		if (null) script.crossOrigin = null;
/******/ 		document.head.appendChild(script);
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotDownloadManifest(requestTimeout) {
/******/ 		requestTimeout = requestTimeout || 10000;
/******/ 		return new Promise(function(resolve, reject) {
/******/ 			if (typeof XMLHttpRequest === "undefined") {
/******/ 				return reject(new Error("No browser support"));
/******/ 			}
/******/ 			try {
/******/ 				var request = new XMLHttpRequest();
/******/ 				var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
/******/ 				request.open("GET", requestPath, true);
/******/ 				request.timeout = requestTimeout;
/******/ 				request.send(null);
/******/ 			} catch (err) {
/******/ 				return reject(err);
/******/ 			}
/******/ 			request.onreadystatechange = function() {
/******/ 				if (request.readyState !== 4) return;
/******/ 				if (request.status === 0) {
/******/ 					// timeout
/******/ 					reject(
/******/ 						new Error("Manifest request to " + requestPath + " timed out.")
/******/ 					);
/******/ 				} else if (request.status === 404) {
/******/ 					// no update available
/******/ 					resolve();
/******/ 				} else if (request.status !== 200 && request.status !== 304) {
/******/ 					// other failure
/******/ 					reject(new Error("Manifest request to " + requestPath + " failed."));
/******/ 				} else {
/******/ 					// success
/******/ 					try {
/******/ 						var update = JSON.parse(request.responseText);
/******/ 					} catch (e) {
/******/ 						reject(e);
/******/ 						return;
/******/ 					}
/******/ 					resolve(update);
/******/ 				}
/******/ 			};
/******/ 		});
/******/ 	}
/******/
/******/ 	var hotApplyOnUpdate = true;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentHash = "1c79140bc14b7f41fae7";
/******/ 	var hotRequestTimeout = 10000;
/******/ 	var hotCurrentModuleData = {};
/******/ 	var hotCurrentChildModule;
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParents = [];
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	var hotCurrentParentsTemp = [];
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateRequire(moduleId) {
/******/ 		var me = installedModules[moduleId];
/******/ 		if (!me) return __webpack_require__;
/******/ 		var fn = function(request) {
/******/ 			if (me.hot.active) {
/******/ 				if (installedModules[request]) {
/******/ 					if (installedModules[request].parents.indexOf(moduleId) === -1) {
/******/ 						installedModules[request].parents.push(moduleId);
/******/ 					}
/******/ 				} else {
/******/ 					hotCurrentParents = [moduleId];
/******/ 					hotCurrentChildModule = request;
/******/ 				}
/******/ 				if (me.children.indexOf(request) === -1) {
/******/ 					me.children.push(request);
/******/ 				}
/******/ 			} else {
/******/ 				console.warn(
/******/ 					"[HMR] unexpected require(" +
/******/ 						request +
/******/ 						") from disposed module " +
/******/ 						moduleId
/******/ 				);
/******/ 				hotCurrentParents = [];
/******/ 			}
/******/ 			return __webpack_require__(request);
/******/ 		};
/******/ 		var ObjectFactory = function ObjectFactory(name) {
/******/ 			return {
/******/ 				configurable: true,
/******/ 				enumerable: true,
/******/ 				get: function() {
/******/ 					return __webpack_require__[name];
/******/ 				},
/******/ 				set: function(value) {
/******/ 					__webpack_require__[name] = value;
/******/ 				}
/******/ 			};
/******/ 		};
/******/ 		for (var name in __webpack_require__) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
/******/ 				name !== "e" &&
/******/ 				name !== "t"
/******/ 			) {
/******/ 				Object.defineProperty(fn, name, ObjectFactory(name));
/******/ 			}
/******/ 		}
/******/ 		fn.e = function(chunkId) {
/******/ 			if (hotStatus === "ready") hotSetStatus("prepare");
/******/ 			hotChunksLoading++;
/******/ 			return __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {
/******/ 				finishChunkLoading();
/******/ 				throw err;
/******/ 			});
/******/
/******/ 			function finishChunkLoading() {
/******/ 				hotChunksLoading--;
/******/ 				if (hotStatus === "prepare") {
/******/ 					if (!hotWaitingFilesMap[chunkId]) {
/******/ 						hotEnsureUpdateChunk(chunkId);
/******/ 					}
/******/ 					if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
/******/ 						hotUpdateDownloaded();
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 		fn.t = function(value, mode) {
/******/ 			if (mode & 1) value = fn(value);
/******/ 			return __webpack_require__.t(value, mode & ~1);
/******/ 		};
/******/ 		return fn;
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotCreateModule(moduleId) {
/******/ 		var hot = {
/******/ 			// private stuff
/******/ 			_acceptedDependencies: {},
/******/ 			_declinedDependencies: {},
/******/ 			_selfAccepted: false,
/******/ 			_selfDeclined: false,
/******/ 			_disposeHandlers: [],
/******/ 			_main: hotCurrentChildModule !== moduleId,
/******/
/******/ 			// Module API
/******/ 			active: true,
/******/ 			accept: function(dep, callback) {
/******/ 				if (dep === undefined) hot._selfAccepted = true;
/******/ 				else if (typeof dep === "function") hot._selfAccepted = dep;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._acceptedDependencies[dep[i]] = callback || function() {};
/******/ 				else hot._acceptedDependencies[dep] = callback || function() {};
/******/ 			},
/******/ 			decline: function(dep) {
/******/ 				if (dep === undefined) hot._selfDeclined = true;
/******/ 				else if (typeof dep === "object")
/******/ 					for (var i = 0; i < dep.length; i++)
/******/ 						hot._declinedDependencies[dep[i]] = true;
/******/ 				else hot._declinedDependencies[dep] = true;
/******/ 			},
/******/ 			dispose: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			addDisposeHandler: function(callback) {
/******/ 				hot._disposeHandlers.push(callback);
/******/ 			},
/******/ 			removeDisposeHandler: function(callback) {
/******/ 				var idx = hot._disposeHandlers.indexOf(callback);
/******/ 				if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			// Management API
/******/ 			check: hotCheck,
/******/ 			apply: hotApply,
/******/ 			status: function(l) {
/******/ 				if (!l) return hotStatus;
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			addStatusHandler: function(l) {
/******/ 				hotStatusHandlers.push(l);
/******/ 			},
/******/ 			removeStatusHandler: function(l) {
/******/ 				var idx = hotStatusHandlers.indexOf(l);
/******/ 				if (idx >= 0) hotStatusHandlers.splice(idx, 1);
/******/ 			},
/******/
/******/ 			//inherit from previous dispose call
/******/ 			data: hotCurrentModuleData[moduleId]
/******/ 		};
/******/ 		hotCurrentChildModule = undefined;
/******/ 		return hot;
/******/ 	}
/******/
/******/ 	var hotStatusHandlers = [];
/******/ 	var hotStatus = "idle";
/******/
/******/ 	function hotSetStatus(newStatus) {
/******/ 		hotStatus = newStatus;
/******/ 		for (var i = 0; i < hotStatusHandlers.length; i++)
/******/ 			hotStatusHandlers[i].call(null, newStatus);
/******/ 	}
/******/
/******/ 	// while downloading
/******/ 	var hotWaitingFiles = 0;
/******/ 	var hotChunksLoading = 0;
/******/ 	var hotWaitingFilesMap = {};
/******/ 	var hotRequestedFilesMap = {};
/******/ 	var hotAvailableFilesMap = {};
/******/ 	var hotDeferred;
/******/
/******/ 	// The update info
/******/ 	var hotUpdate, hotUpdateNewHash;
/******/
/******/ 	function toModuleId(id) {
/******/ 		var isNumber = +id + "" === id;
/******/ 		return isNumber ? +id : id;
/******/ 	}
/******/
/******/ 	function hotCheck(apply) {
/******/ 		if (hotStatus !== "idle") {
/******/ 			throw new Error("check() is only allowed in idle status");
/******/ 		}
/******/ 		hotApplyOnUpdate = apply;
/******/ 		hotSetStatus("check");
/******/ 		return hotDownloadManifest(hotRequestTimeout).then(function(update) {
/******/ 			if (!update) {
/******/ 				hotSetStatus("idle");
/******/ 				return null;
/******/ 			}
/******/ 			hotRequestedFilesMap = {};
/******/ 			hotWaitingFilesMap = {};
/******/ 			hotAvailableFilesMap = update.c;
/******/ 			hotUpdateNewHash = update.h;
/******/
/******/ 			hotSetStatus("prepare");
/******/ 			var promise = new Promise(function(resolve, reject) {
/******/ 				hotDeferred = {
/******/ 					resolve: resolve,
/******/ 					reject: reject
/******/ 				};
/******/ 			});
/******/ 			hotUpdate = {};
/******/ 			var chunkId = "TablePos";
/******/ 			// eslint-disable-next-line no-lone-blocks
/******/ 			{
/******/ 				/*globals chunkId */
/******/ 				hotEnsureUpdateChunk(chunkId);
/******/ 			}
/******/ 			if (
/******/ 				hotStatus === "prepare" &&
/******/ 				hotChunksLoading === 0 &&
/******/ 				hotWaitingFiles === 0
/******/ 			) {
/******/ 				hotUpdateDownloaded();
/******/ 			}
/******/ 			return promise;
/******/ 		});
/******/ 	}
/******/
/******/ 	// eslint-disable-next-line no-unused-vars
/******/ 	function hotAddUpdateChunk(chunkId, moreModules) {
/******/ 		if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
/******/ 			return;
/******/ 		hotRequestedFilesMap[chunkId] = false;
/******/ 		for (var moduleId in moreModules) {
/******/ 			if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				hotUpdate[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
/******/ 			hotUpdateDownloaded();
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotEnsureUpdateChunk(chunkId) {
/******/ 		if (!hotAvailableFilesMap[chunkId]) {
/******/ 			hotWaitingFilesMap[chunkId] = true;
/******/ 		} else {
/******/ 			hotRequestedFilesMap[chunkId] = true;
/******/ 			hotWaitingFiles++;
/******/ 			hotDownloadUpdateChunk(chunkId);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotUpdateDownloaded() {
/******/ 		hotSetStatus("ready");
/******/ 		var deferred = hotDeferred;
/******/ 		hotDeferred = null;
/******/ 		if (!deferred) return;
/******/ 		if (hotApplyOnUpdate) {
/******/ 			// Wrap deferred object in Promise to mark it as a well-handled Promise to
/******/ 			// avoid triggering uncaught exception warning in Chrome.
/******/ 			// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666
/******/ 			Promise.resolve()
/******/ 				.then(function() {
/******/ 					return hotApply(hotApplyOnUpdate);
/******/ 				})
/******/ 				.then(
/******/ 					function(result) {
/******/ 						deferred.resolve(result);
/******/ 					},
/******/ 					function(err) {
/******/ 						deferred.reject(err);
/******/ 					}
/******/ 				);
/******/ 		} else {
/******/ 			var outdatedModules = [];
/******/ 			for (var id in hotUpdate) {
/******/ 				if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 					outdatedModules.push(toModuleId(id));
/******/ 				}
/******/ 			}
/******/ 			deferred.resolve(outdatedModules);
/******/ 		}
/******/ 	}
/******/
/******/ 	function hotApply(options) {
/******/ 		if (hotStatus !== "ready")
/******/ 			throw new Error("apply() is only allowed in ready status");
/******/ 		options = options || {};
/******/
/******/ 		var cb;
/******/ 		var i;
/******/ 		var j;
/******/ 		var module;
/******/ 		var moduleId;
/******/
/******/ 		function getAffectedStuff(updateModuleId) {
/******/ 			var outdatedModules = [updateModuleId];
/******/ 			var outdatedDependencies = {};
/******/
/******/ 			var queue = outdatedModules.slice().map(function(id) {
/******/ 				return {
/******/ 					chain: [id],
/******/ 					id: id
/******/ 				};
/******/ 			});
/******/ 			while (queue.length > 0) {
/******/ 				var queueItem = queue.pop();
/******/ 				var moduleId = queueItem.id;
/******/ 				var chain = queueItem.chain;
/******/ 				module = installedModules[moduleId];
/******/ 				if (!module || module.hot._selfAccepted) continue;
/******/ 				if (module.hot._selfDeclined) {
/******/ 					return {
/******/ 						type: "self-declined",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				if (module.hot._main) {
/******/ 					return {
/******/ 						type: "unaccepted",
/******/ 						chain: chain,
/******/ 						moduleId: moduleId
/******/ 					};
/******/ 				}
/******/ 				for (var i = 0; i < module.parents.length; i++) {
/******/ 					var parentId = module.parents[i];
/******/ 					var parent = installedModules[parentId];
/******/ 					if (!parent) continue;
/******/ 					if (parent.hot._declinedDependencies[moduleId]) {
/******/ 						return {
/******/ 							type: "declined",
/******/ 							chain: chain.concat([parentId]),
/******/ 							moduleId: moduleId,
/******/ 							parentId: parentId
/******/ 						};
/******/ 					}
/******/ 					if (outdatedModules.indexOf(parentId) !== -1) continue;
/******/ 					if (parent.hot._acceptedDependencies[moduleId]) {
/******/ 						if (!outdatedDependencies[parentId])
/******/ 							outdatedDependencies[parentId] = [];
/******/ 						addAllToSet(outdatedDependencies[parentId], [moduleId]);
/******/ 						continue;
/******/ 					}
/******/ 					delete outdatedDependencies[parentId];
/******/ 					outdatedModules.push(parentId);
/******/ 					queue.push({
/******/ 						chain: chain.concat([parentId]),
/******/ 						id: parentId
/******/ 					});
/******/ 				}
/******/ 			}
/******/
/******/ 			return {
/******/ 				type: "accepted",
/******/ 				moduleId: updateModuleId,
/******/ 				outdatedModules: outdatedModules,
/******/ 				outdatedDependencies: outdatedDependencies
/******/ 			};
/******/ 		}
/******/
/******/ 		function addAllToSet(a, b) {
/******/ 			for (var i = 0; i < b.length; i++) {
/******/ 				var item = b[i];
/******/ 				if (a.indexOf(item) === -1) a.push(item);
/******/ 			}
/******/ 		}
/******/
/******/ 		// at begin all updates modules are outdated
/******/ 		// the "outdated" status can propagate to parents if they don't accept the children
/******/ 		var outdatedDependencies = {};
/******/ 		var outdatedModules = [];
/******/ 		var appliedUpdate = {};
/******/
/******/ 		var warnUnexpectedRequire = function warnUnexpectedRequire() {
/******/ 			console.warn(
/******/ 				"[HMR] unexpected require(" + result.moduleId + ") to disposed module"
/******/ 			);
/******/ 		};
/******/
/******/ 		for (var id in hotUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
/******/ 				moduleId = toModuleId(id);
/******/ 				/** @type {TODO} */
/******/ 				var result;
/******/ 				if (hotUpdate[id]) {
/******/ 					result = getAffectedStuff(moduleId);
/******/ 				} else {
/******/ 					result = {
/******/ 						type: "disposed",
/******/ 						moduleId: id
/******/ 					};
/******/ 				}
/******/ 				/** @type {Error|false} */
/******/ 				var abortError = false;
/******/ 				var doApply = false;
/******/ 				var doDispose = false;
/******/ 				var chainInfo = "";
/******/ 				if (result.chain) {
/******/ 					chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
/******/ 				}
/******/ 				switch (result.type) {
/******/ 					case "self-declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of self decline: " +
/******/ 									result.moduleId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "declined":
/******/ 						if (options.onDeclined) options.onDeclined(result);
/******/ 						if (!options.ignoreDeclined)
/******/ 							abortError = new Error(
/******/ 								"Aborted because of declined dependency: " +
/******/ 									result.moduleId +
/******/ 									" in " +
/******/ 									result.parentId +
/******/ 									chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "unaccepted":
/******/ 						if (options.onUnaccepted) options.onUnaccepted(result);
/******/ 						if (!options.ignoreUnaccepted)
/******/ 							abortError = new Error(
/******/ 								"Aborted because " + moduleId + " is not accepted" + chainInfo
/******/ 							);
/******/ 						break;
/******/ 					case "accepted":
/******/ 						if (options.onAccepted) options.onAccepted(result);
/******/ 						doApply = true;
/******/ 						break;
/******/ 					case "disposed":
/******/ 						if (options.onDisposed) options.onDisposed(result);
/******/ 						doDispose = true;
/******/ 						break;
/******/ 					default:
/******/ 						throw new Error("Unexception type " + result.type);
/******/ 				}
/******/ 				if (abortError) {
/******/ 					hotSetStatus("abort");
/******/ 					return Promise.reject(abortError);
/******/ 				}
/******/ 				if (doApply) {
/******/ 					appliedUpdate[moduleId] = hotUpdate[moduleId];
/******/ 					addAllToSet(outdatedModules, result.outdatedModules);
/******/ 					for (moduleId in result.outdatedDependencies) {
/******/ 						if (
/******/ 							Object.prototype.hasOwnProperty.call(
/******/ 								result.outdatedDependencies,
/******/ 								moduleId
/******/ 							)
/******/ 						) {
/******/ 							if (!outdatedDependencies[moduleId])
/******/ 								outdatedDependencies[moduleId] = [];
/******/ 							addAllToSet(
/******/ 								outdatedDependencies[moduleId],
/******/ 								result.outdatedDependencies[moduleId]
/******/ 							);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 				if (doDispose) {
/******/ 					addAllToSet(outdatedModules, [result.moduleId]);
/******/ 					appliedUpdate[moduleId] = warnUnexpectedRequire;
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Store self accepted outdated modules to require them later by the module system
/******/ 		var outdatedSelfAcceptedModules = [];
/******/ 		for (i = 0; i < outdatedModules.length; i++) {
/******/ 			moduleId = outdatedModules[i];
/******/ 			if (
/******/ 				installedModules[moduleId] &&
/******/ 				installedModules[moduleId].hot._selfAccepted
/******/ 			)
/******/ 				outdatedSelfAcceptedModules.push({
/******/ 					module: moduleId,
/******/ 					errorHandler: installedModules[moduleId].hot._selfAccepted
/******/ 				});
/******/ 		}
/******/
/******/ 		// Now in "dispose" phase
/******/ 		hotSetStatus("dispose");
/******/ 		Object.keys(hotAvailableFilesMap).forEach(function(chunkId) {
/******/ 			if (hotAvailableFilesMap[chunkId] === false) {
/******/ 				hotDisposeChunk(chunkId);
/******/ 			}
/******/ 		});
/******/
/******/ 		var idx;
/******/ 		var queue = outdatedModules.slice();
/******/ 		while (queue.length > 0) {
/******/ 			moduleId = queue.pop();
/******/ 			module = installedModules[moduleId];
/******/ 			if (!module) continue;
/******/
/******/ 			var data = {};
/******/
/******/ 			// Call dispose handlers
/******/ 			var disposeHandlers = module.hot._disposeHandlers;
/******/ 			for (j = 0; j < disposeHandlers.length; j++) {
/******/ 				cb = disposeHandlers[j];
/******/ 				cb(data);
/******/ 			}
/******/ 			hotCurrentModuleData[moduleId] = data;
/******/
/******/ 			// disable module (this disables requires from this module)
/******/ 			module.hot.active = false;
/******/
/******/ 			// remove module from cache
/******/ 			delete installedModules[moduleId];
/******/
/******/ 			// when disposing there is no need to call dispose handler
/******/ 			delete outdatedDependencies[moduleId];
/******/
/******/ 			// remove "parents" references from all children
/******/ 			for (j = 0; j < module.children.length; j++) {
/******/ 				var child = installedModules[module.children[j]];
/******/ 				if (!child) continue;
/******/ 				idx = child.parents.indexOf(moduleId);
/******/ 				if (idx >= 0) {
/******/ 					child.parents.splice(idx, 1);
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// remove outdated dependency from module children
/******/ 		var dependency;
/******/ 		var moduleOutdatedDependencies;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					for (j = 0; j < moduleOutdatedDependencies.length; j++) {
/******/ 						dependency = moduleOutdatedDependencies[j];
/******/ 						idx = module.children.indexOf(dependency);
/******/ 						if (idx >= 0) module.children.splice(idx, 1);
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Not in "apply" phase
/******/ 		hotSetStatus("apply");
/******/
/******/ 		hotCurrentHash = hotUpdateNewHash;
/******/
/******/ 		// insert new code
/******/ 		for (moduleId in appliedUpdate) {
/******/ 			if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
/******/ 				modules[moduleId] = appliedUpdate[moduleId];
/******/ 			}
/******/ 		}
/******/
/******/ 		// call accept handlers
/******/ 		var error = null;
/******/ 		for (moduleId in outdatedDependencies) {
/******/ 			if (
/******/ 				Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
/******/ 			) {
/******/ 				module = installedModules[moduleId];
/******/ 				if (module) {
/******/ 					moduleOutdatedDependencies = outdatedDependencies[moduleId];
/******/ 					var callbacks = [];
/******/ 					for (i = 0; i < moduleOutdatedDependencies.length; i++) {
/******/ 						dependency = moduleOutdatedDependencies[i];
/******/ 						cb = module.hot._acceptedDependencies[dependency];
/******/ 						if (cb) {
/******/ 							if (callbacks.indexOf(cb) !== -1) continue;
/******/ 							callbacks.push(cb);
/******/ 						}
/******/ 					}
/******/ 					for (i = 0; i < callbacks.length; i++) {
/******/ 						cb = callbacks[i];
/******/ 						try {
/******/ 							cb(moduleOutdatedDependencies);
/******/ 						} catch (err) {
/******/ 							if (options.onErrored) {
/******/ 								options.onErrored({
/******/ 									type: "accept-errored",
/******/ 									moduleId: moduleId,
/******/ 									dependencyId: moduleOutdatedDependencies[i],
/******/ 									error: err
/******/ 								});
/******/ 							}
/******/ 							if (!options.ignoreErrored) {
/******/ 								if (!error) error = err;
/******/ 							}
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// Load self accepted modules
/******/ 		for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
/******/ 			var item = outdatedSelfAcceptedModules[i];
/******/ 			moduleId = item.module;
/******/ 			hotCurrentParents = [moduleId];
/******/ 			try {
/******/ 				__webpack_require__(moduleId);
/******/ 			} catch (err) {
/******/ 				if (typeof item.errorHandler === "function") {
/******/ 					try {
/******/ 						item.errorHandler(err);
/******/ 					} catch (err2) {
/******/ 						if (options.onErrored) {
/******/ 							options.onErrored({
/******/ 								type: "self-accept-error-handler-errored",
/******/ 								moduleId: moduleId,
/******/ 								error: err2,
/******/ 								originalError: err
/******/ 							});
/******/ 						}
/******/ 						if (!options.ignoreErrored) {
/******/ 							if (!error) error = err2;
/******/ 						}
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				} else {
/******/ 					if (options.onErrored) {
/******/ 						options.onErrored({
/******/ 							type: "self-accept-errored",
/******/ 							moduleId: moduleId,
/******/ 							error: err
/******/ 						});
/******/ 					}
/******/ 					if (!options.ignoreErrored) {
/******/ 						if (!error) error = err;
/******/ 					}
/******/ 				}
/******/ 			}
/******/ 		}
/******/
/******/ 		// handle errors in accept handlers and self accepted module load
/******/ 		if (error) {
/******/ 			hotSetStatus("fail");
/******/ 			return Promise.reject(error);
/******/ 		}
/******/
/******/ 		hotSetStatus("idle");
/******/ 		return new Promise(function(resolve) {
/******/ 			resolve(outdatedModules);
/******/ 		});
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {},
/******/ 			hot: hotCreateModule(moduleId),
/******/ 			parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),
/******/ 			children: []
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// __webpack_hash__
/******/ 	__webpack_require__.h = function() { return hotCurrentHash; };
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return hotCreateRequire("./TablePos/TablePos.js")(__webpack_require__.s = "./TablePos/TablePos.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./TablePos/TablePos.js":
/*!******************************!*\
  !*** ./TablePos/TablePos.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/spi-client-js */ "./lib/spi-client-js.js");
/* harmony import */ var _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

 //'@assemblypayments/spi-client-js/dist/spi-client-js';
// <summary>
// NOTE: THIS PROJECT USES THE 2.1.x of the SPI Client Library
//  
// This is your POS. To integrate with SPI, you need to instantiate a Spi object
// and interact with it.
// 
// Primarily you need to implement 3 things.
// 1. Settings Screen
// 2. Pairing Flow Screen
// 3. Transaction Flow screen
// 
// To see logs from spi, check the console
// </summary>

var TablePos =
/*#__PURE__*/
function () {
  function TablePos(log, receipt, flow_msg) {
    _classCallCheck(this, TablePos);

    this._spi = null;
    this._posId = "TABLEPOS1";
    this._eftposAddress = "192.168.1.1";
    this._spiSecrets = null;
    this._version = '2.5.0';
    this._serialNumber = "";
    this._rcpt_from_eftpos = false;
    this._sig_flow_from_eftpos = false;
    this._print_merchant_copy = false; // My Bills Store.
    // Key = BillId
    // Value = Bill 

    this.billsStore = {}; // Lookup dictionary of table -> current order
    // Key = TableId
    // Value = BillId

    this.tableToBillMapping = {}; // Assembly Payments Integration asks us to persist some data on their behalf
    // So that the eftpos terminal can recover state.
    // Key = BillId
    // Value = Assembly Payments Bill Data

    this.assemblyBillDataStore = {};
    this._pat = null;
    this._log = log;
    this._receipt = receipt;
    this._flow_msg = flow_msg;
  }

  _createClass(TablePos, [{
    key: "Start",
    value: function Start() {
      var _this = this;

      this._log.info("Starting TablePos...");

      this.LoadPersistedState(); // region Spi Setup
      // This is how you instantiate Spi.

      this._spi = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Spi"](this._posId, this._serialNumber, this._eftposAddress, this._spiSecrets); // It is ok to not have the secrets yet to start with.

      this._spi.Config.PromptForCustomerCopyOnEftpos = this._rcpt_from_eftpos;
      this._spi.Config.SignatureFlowOnEftpos = this._sig_flow_from_eftpos;
      this._spi.Config.PrintMerchantCopy = this._print_merchant_copy;

      this._spi.SetPosInfo("assembly", this._version);

      document.addEventListener('StatusChanged', function (e) {
        return _this.OnSpiStatusChanged(e.detail);
      });
      document.addEventListener('PairingFlowStateChanged', function (e) {
        return _this.OnPairingFlowStateChanged(e.detail);
      });
      document.addEventListener('SecretsChanged', function (e) {
        return _this.OnSecretsChanged(e.detail);
      });
      document.addEventListener('TxFlowStateChanged', function (e) {
        return _this.OnTxFlowStateChanged(e.detail);
      });
      this._pat = this._spi.EnablePayAtTable();
      this.EnablePayAtTableConfigs();
      this._pat.GetBillStatus = this.PayAtTableGetBillDetails.bind(this);
      this._pat.BillPaymentReceived = this.PayAtTableBillPaymentReceived.bind(this);
      this._pat.BillPaymentFlowEnded = this.PayAtTableBillPaymentFlowEnded.bind(this);
      this._pat.GetOpenTables = this.PayAtTableGetOpenTables.bind(this);

      this._spi.Start(); // And Now we just accept user input and display to the user what is happening.


      this._flow_msg.Clear();

      this._flow_msg.Info("# Welcome to TablePos !");

      this.PrintStatusAndActions();
      this.AcceptUserInput();
    }
  }, {
    key: "EnablePayAtTableConfigs",
    value: function EnablePayAtTableConfigs() {
      this._pat.Config.PayAtTableEnabled = true;
      this._pat.Config.OperatorIdEnabled = true;
      this._pat.Config.AllowedOperatorIds = [];
      this._pat.Config.EqualSplitEnabled = true;
      this._pat.Config.SplitByAmountEnabled = true;
      this._pat.Config.SummaryReportEnabled = true;
      this._pat.Config.TippingEnabled = true;
      this._pat.Config.LabelOperatorId = "Operator ID";
      this._pat.Config.LabelPayButton = "Pay at Table";
      this._pat.Config.LabelTableId = "Table Number";
      this._pat.Config.TableRetrievalEnabled = true;
    }
  }, {
    key: "OnTxFlowStateChanged",
    value: function OnTxFlowStateChanged(txState) {
      this._flow_msg.Clear();

      this.PrintStatusAndActions();

      this._flow_msg.Info("> ");
    }
  }, {
    key: "OnPairingFlowStateChanged",
    value: function OnPairingFlowStateChanged(pairingFlowState) {
      this._flow_msg.Clear();

      this.PrintStatusAndActions();

      this._flow_msg.Info("> ");
    }
  }, {
    key: "OnSecretsChanged",
    value: function OnSecretsChanged(secrets) {
      this._spiSecrets = secrets;

      if (secrets != null) {
        this._log.info("# I Have Secrets: ".concat(secrets.EncKey).concat(secrets.HmacKey, ". Persist them Securely."));

        localStorage.setItem('EncKey', secrets.EncKey);
        localStorage.setItem('HmacKey', secrets.HmacKey);
      } else {
        this._log.info("# I Have Lost the Secrets, i.e. Unpaired. Destroy the persisted secrets.");

        localStorage.removeItem('EncKey');
        localStorage.removeItem('HmacKey');
      }
    } // <summary>
    // Called when we received a Status Update i.e. Unpaired/PairedConnecting/PairedConnected
    // </summary>
    // <param name="sender"></param>
    // <param name="spiStatus"></param>

  }, {
    key: "OnSpiStatusChanged",
    value: function OnSpiStatusChanged(spiStatus) {
      this._log.clear();

      this._log.info("# --> SPI Status Changed: ".concat(spiStatus));

      this.PrintStatusAndActions();
    } // region PayAtTable Delegates
    // <param name="billId"></param>
    // <param name="tableId"></param>
    // <param name="operatorId"></param>
    // <returns></returns>

  }, {
    key: "PayAtTableGetBillDetails",
    value: function PayAtTableGetBillDetails(billId, tableId, operatorId, paymentFlowStarted) {
      if (!billId) {
        // We were not given a billId, just a tableId.
        // This means that we are being asked for the bill by its table number.
        // Let's see if we have it.
        if (!this.tableToBillMapping[tableId]) {
          // We didn't find a bill for this table.
          // We just tell the Eftpos that.
          return Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
            Result: BillRetrievalResult.INVALID_TABLE_ID
          });
        } // We have a billId for this Table.
        // Let's set it so we can retrieve it.


        billId = this.tableToBillMapping[tableId];
      }

      if (!this.billsStore[billId]) {
        // We could not find the billId that was asked for.
        // We just tell the Eftpos that.
        return Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
          Result: BillRetrievalResult.INVALID_BILL_ID
        });
      }

      var myBill = this.billsStore[billId];

      if (this.billsStore[billId].Locked && paymentFlowStarted) {
        this._log.info("Table is Locked.");

        return Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
          Result: BillRetrievalResult.INVALID_TABLE_ID
        });
      }

      this.billsStore[billId].Locked = paymentFlowStarted;
      var response = Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
        Result: BillRetrievalResult.SUCCESS,
        BillId: billId,
        TableId: tableId,
        OperatorId: operatorId,
        TotalAmount: myBill.TotalAmount,
        OutstandingAmount: myBill.OutstandingAmount
      });
      var billData = this.assemblyBillDataStore[billId];
      response.BillData = billData;
      return response;
    } // <param name="billPayment"></param>
    // <param name="updatedBillData"></param>

  }, {
    key: "PayAtTableBillPaymentReceived",
    value: function PayAtTableBillPaymentReceived(billPayment, updatedBillData) {
      if (!this.billsStore[billPayment.BillId]) {
        // We cannot find this bill.
        return Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
          Result: BillRetrievalResult.INVALID_BILL_ID
        });
      }

      this._flow_msg.Info("# Got a ".concat(billPayment.PaymentType, " Payment against bill ").concat(billPayment.BillId, " for table ").concat(billPayment.TableId));

      var bill = this.billsStore[billPayment.BillId];
      bill.OutstandingAmount -= billPayment.PurchaseAmount;
      bill.tippedAmount += billPayment.TipAmount;
      bill.SurchargeAmount += billPayment.SurchargeAmount;
      bill.Locked = bill.OutstandingAmount == 0 ? false : true;

      this._flow_msg.Info("Updated Bill: ".concat(JSON.stringify(bill))); // Here you can access other data that you might want to store from this payment, for example the merchant receipt.
      // billPayment.PurchaseResponse.GetMerchantReceipt();
      // It is important that we persist this data on behalf of assembly.


      this.assemblyBillDataStore[billPayment.BillId] = updatedBillData;
      return Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillStatusResponse"](), {
        Result: BillRetrievalResult.SUCCESS,
        OutstandingAmount: bill.OutstandingAmount,
        TotalAmount: bill.TotalAmount
      });
    }
  }, {
    key: "PayAtTableBillPaymentFlowEnded",
    value: function PayAtTableBillPaymentFlowEnded(message) {
      var billPaymentFlowEndedResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["BillPaymentFlowEndedResponse"](message);

      if (!billsStore[billPaymentFlowEndedResponse.BillId]) {
        // We cannot find this bill.
        this._flow_msg.Info("Incorrect Bill Id!");

        return;
      }

      var myBill = billsStore[billPaymentFlowEndedResponse.BillId];
      myBill.Locked = false;

      this._flow_msg.Info("\n            Bill Id                : ".concat(billPaymentFlowEndedResponse.BillId, "\n            Table                  : ").concat(billPaymentFlowEndedResponse.TableId, "\n            Operator Id            : ").concat(billPaymentFlowEndedResponse.OperatorId, "\n            Bill OutStanding Amount: ").concat((billPaymentFlowEndedResponse.BillOutstandingAmount / 100.0).toFixed(2), "\n            Bill Total Amount      : ").concat((billPaymentFlowEndedResponse.BillTotalAmount / 100.0).toFixed(2), "\n            Card Total Count       : ").concat(billPaymentFlowEndedResponse.CardTotalCount, "\n            Card Total Amount      : ").concat(billPaymentFlowEndedResponse.CardTotalAmount, "\n            Cash Total Count       : ").concat(billPaymentFlowEndedResponse.CashTotalCount, "\n            Cash Total Amount      : ").concat(billPaymentFlowEndedResponse.CashTotalAmount, "\n            Locked                 : ").concat(myBill.Locked));
    }
  }, {
    key: "PayAtTableGetOpenTables",
    value: function PayAtTableGetOpenTables(operatorId) {
      var openTableList = [];
      var isOpenTables = false;

      if (Object.keys(this.tableToBillMapping).length > 0) {
        for (var tableId in this.tableToBillMapping) {
          var item = this.tableToBillMapping[tableId];

          if (billsStore[item.Value].OperatorId == operatorId && billsStore[item.Value].OutstandingAmount > 0) {
            if (!isOpenTables) {
              this._flow_msg.Info("#    Open Tables: ");

              isOpenTables = true;
            }

            var openTablesItem = Object.assign(new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["OpenTablesEntry"](), {
              TableId: item.Key,
              Label: billsStore[item.Value].Label,
              BillOutstandingAmount: billsStore[item.Value].OutstandingAmount
            });

            this._flow_msg.Info("Table Id : ".concat(item.Key, ", Bill Id: ").concat(billsStore[item.Value].BillId, ", Outstanding Amount: $").concat((billsStore[item.Value].OutstandingAmount / 100).toFixed(2)));

            openTableList.push(openTablesItem);
          }
        }
      }

      if (!isOpenTables) {
        this._flow_msg.Info("# No Open Tables.");
      }

      var openTableListJson = JSON.stringify(openTableList);
      return Object.assign(new GetOpenTablesResponse(), {
        TableData: openTableListJson
      });
    } // endregion

  }, {
    key: "PrintStatusAndActions",
    value: function PrintStatusAndActions() {
      this.PrintFlowInfo();
      this.PrintActions();
      this.PrintPairingStatus();
    }
  }, {
    key: "PrintFlowInfo",
    value: function PrintFlowInfo() {
      switch (this._spi.CurrentFlow) {
        case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Pairing:
          var pairingState = this._spi.CurrentPairingFlowState;

          this._flow_msg.Info("### PAIRING PROCESS UPDATE ###");

          this._flow_msg.Info("# ".concat(pairingState.Message));

          this._flow_msg.Info("# Finished? ".concat(pairingState.Finished));

          this._flow_msg.Info("# Successful? ".concat(pairingState.Successful));

          this._flow_msg.Info("# Confirmation Code: ".concat(pairingState.ConfirmationCode));

          this._flow_msg.Info("# Waiting Confirm from Eftpos? ".concat(pairingState.AwaitingCheckFromEftpos));

          this._flow_msg.Info("# Waiting Confirm from POS? ".concat(pairingState.AwaitingCheckFromPos));

          break;

        case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Transaction:
          var txState = this._spi.CurrentTxFlowState;

          this._flow_msg.Info("### TX PROCESS UPDATE ###");

          this._flow_msg.Info("# ".concat(txState.DisplayMessage));

          this._flow_msg.Info("# PosRefId: ".concat(txState.PosRefId));

          this._flow_msg.Info("# Type: ".concat(txState.Type));

          this._flow_msg.Info("# Request Amount: $".concat((txState.AmountCents / 100.0).toFixed(2)));

          this._flow_msg.Info("# Waiting For Signature: ".concat(txState.AwaitingSignatureCheck));

          this._flow_msg.Info("# Attempting to Cancel : ".concat(txState.AttemptingToCancel));

          this._flow_msg.Info("# Finished: ".concat(txState.Finished));

          this._flow_msg.Info("# Success: ".concat(txState.Success));

          if (txState.Finished) {
            switch (txState.Success) {
              case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success:
                switch (txState.Type) {
                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Purchase:
                    this._flow_msg.Info("# WOOHOO - WE GOT PAID!");

                    var purchaseResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["PurchaseResponse"](txState.Response);

                    this._flow_msg.Info("# Response: ".concat(purchaseResponse.GetResponseText()));

                    this._flow_msg.Info("# RRN: ".concat(purchaseResponse.GetRRN()));

                    this._flow_msg.Info("# Scheme: ".concat(purchaseResponse.SchemeName));

                    this._flow_msg.Info("# Customer Receipt:");

                    this._receipt.Info(!purchaseResponse.WasCustomerReceiptPrinted() ? purchaseResponse.GetCustomerReceipt().trim() : "# PRINTED FROM EFTPOS");

                    this._flow_msg.Info("# PURCHASE: ".concat(purchaseResponse.GetPurchaseAmount()));

                    this._flow_msg.Info("# TIP: ".concat(purchaseResponse.GetTipAmount()));

                    this._flow_msg.Info("# CASHOUT: ".concat(purchaseResponse.GetCashoutAmount()));

                    this._flow_msg.Info("# BANKED NON-CASH AMOUNT: ".concat(purchaseResponse.GetBankNonCashAmount()));

                    this._flow_msg.Info("# BANKED CASH AMOUNT: ".concat(purchaseResponse.GetBankCashAmount()));

                    break;

                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Refund:
                    this._flow_msg.Info("# REFUND GIVEN- OH WELL!");

                    var refundResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["RefundResponse"](txState.Response);

                    this._flow_msg.Info("# Response: ".concat(refundResponse.GetResponseText()));

                    this._flow_msg.Info("# RRN: ".concat(refundResponse.GetRRN()));

                    this._flow_msg.Info("# Scheme: ".concat(refundResponse.SchemeName));

                    this._flow_msg.Info("# Customer Receipt:");

                    this._receipt.Info(!refundResponse.WasCustomerReceiptPrinted() ? refundResponse.GetCustomerReceipt().trim() : "# PRINTED FROM EFTPOS");

                    this._flow_msg.Info("# REFUNDED AMOUNT: ".concat(refundResponse.GetRefundAmount()));

                    break;

                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Settle:
                    this._flow_msg.Info("# SETTLEMENT SUCCESSFUL!");

                    if (txState.Response != null) {
                      var settleResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Settlement"](txState.Response);

                      this._flow_msg.Info("# Response: ".concat(settleResponse.GetResponseText()));

                      this._flow_msg.Info("# Merchant Receipt:");

                      this._receipt.Info(settleResponse.GetReceipt().trim());
                    }

                    break;
                }

                break;

              case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Failed:
                switch (txState.Type) {
                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Purchase:
                    this._flow_msg.Info("# WE DID NOT GET PAID :(");

                    if (txState.Response != null) {
                      var _purchaseResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["PurchaseResponse"](txState.Response);

                      this._flow_msg.Info("# Error: ".concat(txState.Response.GetError()));

                      this._flow_msg.Info("# Response: ".concat(_purchaseResponse.GetResponseText()));

                      this._flow_msg.Info("# RRN: ".concat(_purchaseResponse.GetRRN()));

                      this._flow_msg.Info("# Scheme: ".concat(_purchaseResponse.SchemeName));

                      this._flow_msg.Info("# Customer Receipt:");

                      this._receipt.Info(!_purchaseResponse.WasCustomerReceiptPrinted() ? _purchaseResponse.GetCustomerReceipt().trim() : "# PRINTED FROM EFTPOS");
                    }

                    break;

                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Refund:
                    this._flow_msg.Info("# REFUND FAILED!");

                    if (txState.Response != null) {
                      var _refundResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["RefundResponse"](txState.Response);

                      this._flow_msg.Info("# Response: ".concat(_refundResponse.GetResponseText()));

                      this._flow_msg.Info("# RRN: ".concat(_refundResponse.GetRRN()));

                      this._flow_msg.Info("# Scheme: ".concat(_refundResponse.SchemeName));

                      this._flow_msg.Info("# Customer Receipt:");

                      this._receipt.Info(!_refundResponse.WasCustomerReceiptPrinted() ? _refundResponse.GetCustomerReceipt().trim() : "# PRINTED FROM EFTPOS");
                    }

                    break;

                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Settle:
                    this._flow_msg.Info("# SETTLEMENT FAILED!");

                    if (txState.Response != null) {
                      var _settleResponse = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Settlement"](txState.Response);

                      this._flow_msg.Info("# Response: ".concat(_settleResponse.GetResponseText()));

                      this._flow_msg.Info("# Error: ".concat(txState.Response.GetError()));

                      this._flow_msg.Info("# Merchant Receipt:");

                      this._receipt.Info(_settleResponse.GetReceipt());
                    }

                    break;

                  default:
                    this._flow_msg.Info("# MOTEL POS DOESN'T KNOW WHAT TO DO WITH THIS TX TYPE WHEN IT FAILS");

                    break;
                }

                break;

              case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Unknown:
                switch (txState.Type) {
                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Purchase:
                    this._flow_msg.Info("# WE'RE NOT QUITE SURE WHETHER WE GOT PAID OR NOT :/");

                    this._flow_msg.Info("# CHECK THE LAST TRANSACTION ON THE EFTPOS ITSELF FROM THE APPROPRIATE MENU ITEM.");

                    this._flow_msg.Info("# IF YOU CONFIRM THAT THE CUSTOMER PAID, CLOSE THE ORDER.");

                    this._flow_msg.Info("# OTHERWISE, RETRY THE PAYMENT FROM SCRATCH.");

                    break;

                  case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["TransactionType"].Refund:
                    this._flow_msg.Info("# WE'RE NOT QUITE SURE WHETHER THE REFUND WENT THROUGH OR NOT :/");

                    this._flow_msg.Info("# CHECK THE LAST TRANSACTION ON THE EFTPOS ITSELF FROM THE APPROPRIATE MENU ITEM.");

                    this._flow_msg.Info("# YOU CAN THE TAKE THE APPROPRIATE ACTION.");

                    break;
                }

                break;
            }
          }

          break;
      }
    }
  }, {
    key: "PrintActions",
    value: function PrintActions() {
      // List of input controls which are enabled / shown for the current application state
      var inputsEnabled = [];
      var statusEl = document.getElementById('status_indicator');
      var primaryStatusEl = document.getElementById('primary_status');
      var flowStatusEl = document.getElementById('flow_status');
      var flowStatusHeading = document.getElementById('flow_status_heading');
      statusEl.dataset['status'] = this._spi.CurrentStatus;
      statusEl.dataset['flow'] = this._spi.CurrentFlow;
      primaryStatusEl.innerText = this._spi.CurrentStatus;
      flowStatusEl.innerText = this._spi.CurrentFlow;
      flowStatusHeading.innerText = this._spi.CurrentFlow; // Available Actions depend on the current status (Unpaired/PairedConnecting/PairedConnected)

      switch (this._spi.CurrentStatus) {
        case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiStatus"].Unpaired:
          //Unpaired...
          switch (this._spi.CurrentFlow) {
            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Idle:
              // Unpaired, Idle
              inputsEnabled.push('pos_id');
              inputsEnabled.push('eftpos_address');
              inputsEnabled.push('print_merchant_copy');
              inputsEnabled.push('rcpt_from_eftpos');
              inputsEnabled.push('sig_flow_from_eftpos');
              inputsEnabled.push('pair');
              inputsEnabled.push('save_settings');
              break;

            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Pairing:
              // Unpaired, PairingFlow
              var pairingState = this._spi.CurrentPairingFlowState;

              if (pairingState.AwaitingCheckFromPos) {
                inputsEnabled.push('pair_confirm');
              }

              if (!pairingState.Finished) {
                inputsEnabled.push('pair_cancel');
              } else {
                inputsEnabled.push('ok');
              }

              break;

            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Transaction: // Unpaired, TransactionFlow - Should never be the case!

            default:
              this._log.info("# .. Unexpected Flow .. ".concat(this._spi.CurrentFlow));

              break;
          }

          break;

        case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiStatus"].PairedConnecting:
          // This is still considered as a Paired kind of state, but...
          // .. we give user the option of changing IP address, just in case the EFTPOS got a new one in the meanwhile
          inputsEnabled.push('eftpos_address');
          inputsEnabled.push('print_merchant_copy');
          inputsEnabled.push('rcpt_from_eftpos');
          inputsEnabled.push('sig_flow_from_eftpos');
          inputsEnabled.push('save_settings');
        // .. but otherwise we give the same options as PairedConnected
        // goto case SpiStatus.PairedConnected;

        case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiStatus"].PairedConnected:
          switch (this._spi.CurrentFlow) {
            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Idle:
              // Paired, Idle
              inputsEnabled.push('amount_input');
              inputsEnabled.push('table_input');
              inputsEnabled.push('bill_id_input');
              inputsEnabled.push('save_settings');
              inputsEnabled.push('open');
              inputsEnabled.push('add');
              inputsEnabled.push('close');
              inputsEnabled.push('tables');
              inputsEnabled.push('table');
              inputsEnabled.push('bill');
              inputsEnabled.push('lock');
              inputsEnabled.push('locked');
              inputsEnabled.push('operator_id');
              inputsEnabled.push('label');
              inputsEnabled.push('purchase');
              inputsEnabled.push('refund');
              inputsEnabled.push('settle');
              inputsEnabled.push('unpair');
              inputsEnabled.push('rcpt_from_eftpos');
              inputsEnabled.push('sig_flow_from_eftpos');
              break;

            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Transaction:
              // Paired, Transaction
              if (this._spi.CurrentTxFlowState.AwaitingSignatureCheck) {
                inputsEnabled.push('tx_sign_accept');
                inputsEnabled.push('tx_sign_decline');
              }

              if (!this._spi.CurrentTxFlowState.Finished && !this._spi.CurrentTxFlowState.AttemptingToCancel) {
                inputsEnabled.push('tx_cancel');
              }

              if (this._spi.CurrentTxFlowState.Finished) {
                inputsEnabled.push('ok');
              }

              break;

            case _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Pairing:
              // Paired, Pairing - we have just finished the pairing flow. OK to ack.
              inputsEnabled.push('ok');
              break;

            default:
              this._log.info("# .. Unexpected Flow .. ".concat(this._spi.CurrentFlow));

              break;
          }

          break;

        default:
          this._log.info("# .. Unexpected State .. ".concat(this._spi.CurrentStatus));

          break;
      } // Configure buttons / inputs


      var inputs = document.querySelectorAll('.input');

      for (var i = 0; i < inputs.length; i++) {
        inputs[i].disabled = true;
      }

      inputsEnabled.forEach(function (input) {
        document.getElementById(input).disabled = false;
      });

      this._flow_msg.Info();
    }
  }, {
    key: "PrintPairingStatus",
    value: function PrintPairingStatus() {
      this._flow_msg.Info("# --------------- STATUS ------------------");

      this._flow_msg.Info("# ".concat(this._posId, " <-> Eftpos: ").concat(this._eftposAddress, " #"));

      this._flow_msg.Info("# SPI STATUS: ".concat(this._spi.CurrentStatus, "     FLOW: ").concat(this._spi.CurrentFlow, " #"));

      this._flow_msg.Info("# SPI CONFIG: ".concat(JSON.stringify(this._spi.Config)));

      this._flow_msg.Info("# ----------------TABLES-------------------");

      this._flow_msg.Info("#    Open Tables: ".concat(Object.keys(this.tableToBillMapping).length));

      this._flow_msg.Info("# Bills in Store: ".concat(Object.keys(this.billsStore).length));

      this._flow_msg.Info("# Assembly Bills: ".concat(Object.keys(this.assemblyBillDataStore).length));

      this._flow_msg.Info("# -----------------------------------------");

      this._flow_msg.Info("# POS: v".concat(this._version, " Spi: v").concat(_lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Spi"].GetVersion()));
    }
  }, {
    key: "AcceptUserInput",
    value: function AcceptUserInput() {
      var _this2 = this;

      document.getElementById('save_settings').addEventListener('click', function () {
        if (_this2._spi.CurrentStatus === _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiStatus"].Unpaired && _this2._spi.CurrentFlow === _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["SpiFlow"].Idle) {
          _this2._posId = document.getElementById('pos_id').value;
          _this2._eftposAddress = document.getElementById('eftpos_address').value;

          _this2._spi.SetPosId(_this2._posId);

          _this2._spi.SetEftposAddress(_this2._eftposAddress);

          localStorage.setItem('pos_id', _this2._posId);
          localStorage.setItem('eftpos_address', _this2._eftposAddress);
        }

        _this2._spi.Config.PrintMerchantCopy = document.getElementById('print_merchant_copy').checked;
        _this2._spi.Config.PromptForCustomerCopyOnEftpos = document.getElementById('rcpt_from_eftpos').checked;
        _this2._spi.Config.SignatureFlowOnEftpos = document.getElementById('sig_flow_from_eftpos').checked;
        localStorage.setItem('print_merchant_copy', _this2._spi.Config.PrintMerchantCopy);
        localStorage.setItem('rcpt_from_eftpos', _this2._spi.Config.PromptForCustomerCopyOnEftpos);
        localStorage.setItem('sig_flow_from_eftpos', _this2._spi.Config.SignatureFlowOnEftpos);

        _this2._log.info("Saved settings ".concat(_this2._posId, ":").concat(_this2._eftposAddress));

        _this2.PrintPairingStatus();
      });
      document.getElementById('pair').addEventListener('click', function () {
        _this2._spi.Pair();
      });
      document.getElementById('pair_confirm').addEventListener('click', function () {
        _this2._spi.PairingConfirmCode();
      });
      document.getElementById('pair_cancel').addEventListener('click', function () {
        _this2._spi.PairingCancel();
      });
      document.getElementById('unpair').addEventListener('click', function () {
        _this2._spi.Unpair();
      });
      document.getElementById('open').addEventListener('click', function () {
        var table = document.getElementById('table_number').value;
        var operatorId = document.getElementById('operator_id').value;
        var label = document.getElementById('label').value;

        if (!table) {
          _this2._flow_msg.Info('# Please give a table number');

          return false;
        }

        _this2.OpenTable(table, operatorId, label);
      });
      document.getElementById('lock').addEventListener('click', function () {
        var table = document.getElementById('table_number').value;
        var isLock = document.getElementById('locked').checked;

        if (!table) {
          _this2._flow_msg.Info('# Please give a table number');

          return false;
        }

        _this2.LockTable(table, isLock);
      });
      document.getElementById('close').addEventListener('click', function () {
        var table = document.getElementById('table_number').value;

        if (!table) {
          _this2._flow_msg.Info('# Please give a table number');

          return false;
        }

        _this2.CloseTable(table);
      });
      document.getElementById('add').addEventListener('click', function () {
        var table = document.getElementById('table_number').value;
        var amount = parseInt(document.getElementById('amount').value, 10);

        if (!table) {
          _this2._flow_msg.Info('# Please give a table number');

          return false;
        }

        if (!amount) {
          _this2._flow_msg.Info('# Please enter an amount');

          return false;
        }

        _this2.AddToTable(table, amount);
      });
      document.getElementById('table').addEventListener('click', function () {
        var table = document.getElementById('table_number').value;

        if (!table) {
          _this2._flow_msg.Info('# Please give a table number');

          return false;
        }

        _this2.PrintTable(table);
      });
      document.getElementById('bill').addEventListener('click', function () {
        var billId = document.getElementById('bill_id').value;

        if (!billId) {
          _this2._flow_msg.Info('# Please give a bill number');

          return false;
        }

        _this2.PrintBill(billId);
      });
      document.getElementById('tables').addEventListener('click', function () {
        _this2.PrintTables();
      });
      document.getElementById('purchase').addEventListener('click', function () {
        var posRefId = "purchase-".concat(new Date().toISOString());
        var purchaseAmount = parseInt(document.getElementById('amount').value, 10);
        var tipAmount = 0;
        var cashoutAmount = 0;
        var promptForCashout = false;

        var res = _this2._spi.InitiatePurchaseTxV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout);

        if (!res.Initiated) {
          _this2._flow_msg.Info("# Could not initiate purchase: ".concat(res.Message, ". Please Retry."));
        }
      });
      document.getElementById('refund').addEventListener('click', function () {
        var amount = parseInt(document.getElementById('amount').value, 10);
        var posRefId = "refund-".concat(new Date().toISOString());

        var res = _this2._spi.InitiateRefundTx(posRefId, amount);

        _this2._flow_msg.Info(res.Initiated ? "# Refund Initiated. Will be updated with Progress." : "# Could not initiate refund: ".concat(res.Message, ". Please Retry."));
      });
      document.getElementById('tx_sign_accept').addEventListener('click', function () {
        _this2._spi.AcceptSignature(true);
      });
      document.getElementById('tx_sign_decline').addEventListener('click', function () {
        _this2._spi.AcceptSignature(false);
      });
      document.getElementById('tx_cancel').addEventListener('click', function () {
        _this2._spi.CancelTransaction();
      });
      document.getElementById('settle').addEventListener('click', function () {
        var res = _this2._spi.InitiateSettleTx(_lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("settle"));

        _this2._flow_msg.Info(res.Initiated ? "# Settle Initiated. Will be updated with Progress." : "# Could not initiate settle: ".concat(res.Message, ". Please Retry."));
      });
      document.getElementById('ok').addEventListener('click', function () {
        _this2._spi.AckFlowEndedAndBackToIdle();

        _this2._flow_msg.Clear();

        _this2._flow_msg.innerHTML = "Select from the options below";

        _this2.PrintStatusAndActions();
      });
      document.getElementById('ok_cancel').addEventListener('click', function () {
        _this2._spi.AckFlowEndedAndBackToIdle();

        _this2._log.clear();

        _this2._flow_msg.innerHTML = "Order Cancelled";

        _this2.PrintStatusAndActions();
      });
    } //region My Pos Functions

  }, {
    key: "OpenTable",
    value: function OpenTable(tableId, operatorId, label) {
      if (this.tableToBillMapping[tableId]) {
        this._flow_msg.Info("Table Already Open: ".concat(JSON.stringify(this.billsStore[this.tableToBillMapping[tableId]])));

        return;
      }

      var newBill = Object.assign(new Bill(), {
        BillId: this.NewBillId(),
        TableId: tableId,
        OperatorId: operatorId,
        Label: label
      });
      this.billsStore[newBill.BillId] = newBill;
      this.tableToBillMapping[newBill.TableId] = newBill.BillId;
      this.SaveBillState();

      this._flow_msg.Info("Opened: ".concat(JSON.stringify(newBill)));
    }
  }, {
    key: "AddToTable",
    value: function AddToTable(tableId, amountCents) {
      if (!this.tableToBillMapping[tableId]) {
        this._flow_msg.Info("Table not Open.");

        return;
      }

      var bill = this.billsStore[this.tableToBillMapping[tableId]];

      if (bill.Locked) {
        this._flow_msg.Info("Table is Locked.");

        return;
      }

      bill.TotalAmount += amountCents;
      bill.OutstandingAmount += amountCents;
      this.SaveBillState();

      this._flow_msg.Info("Updated: ".concat(JSON.stringify(bill)));
    }
  }, {
    key: "CloseTable",
    value: function CloseTable(tableId) {
      if (!this.tableToBillMapping[tableId]) {
        this._flow_msg.Info("Table not Open.");

        return;
      }

      var bill = this.billsStore[this.tableToBillMapping[tableId]];

      if (bill.Locked) {
        this._flow_msg.Info("Table is Locked.");

        return;
      }

      if (bill.OutstandingAmount > 0) {
        this._flow_msg.Info("Bill not Paid Yet: ".concat(JSON.stringify(bill)));

        return;
      }

      delete this.billsStore[this.tableToBillMapping[tableId]];
      delete this.tableToBillMapping[tableId];
      delete this.assemblyBillDataStore[bill.BillId];
      this.SaveBillState();

      this._flow_msg.Info("Closed: ".concat(JSON.stringify(bill)));
    }
  }, {
    key: "LockTable",
    value: function LockTable(tableId, locked) {
      if (!this.tableToBillMapping[tableId]) {
        this._flow_msg.Info("Table not Open.");

        return;
      }

      var bill = this.billsStore[this.tableToBillMapping[tableId]];
      bill.Locked = locked;

      if (locked) {
        this._flow_msg.Info("Locked: ".concat(JSON.stringify(bill)));
      } else {
        this._flow_msg.Info("UnLocked: ".concat(JSON.stringify(bill)));
      }
    }
  }, {
    key: "PrintTable",
    value: function PrintTable(tableId) {
      if (!this.tableToBillMapping[tableId]) {
        this._flow_msg.Info("Table not Open.");

        return;
      }

      this.PrintBill(this.tableToBillMapping[tableId]);
    }
  }, {
    key: "PrintTables",
    value: function PrintTables() {
      if (Object.keys(this.tableToBillMapping).length > 0) {
        this._flow_msg.Info("# Open Tables: ");

        for (var table in this.tableToBillMapping) {
          this._flow_msg.Info("# Table #".concat(table, ", Bill #").concat(this.tableToBillMapping[table]));
        }
      } else {
        this._flow_msg.Info("# No Open Tables.");
      }

      if (Object.keys(this.billsStore).length > 0) {
        this._flow_msg.Info("# My Bills Store: ");

        for (var bill in this.billsStore) {
          this._flow_msg.Info("# " + this.billsStore[bill].toString());
        }
      }

      if (Object.keys(this.assemblyBillDataStore).length > 0) {
        this._flow_msg.Info("# Assembly Bills Data: " + JSON.stringify(this.assemblyBillDataStore));
      }
    }
  }, {
    key: "PrintBill",
    value: function PrintBill(billId) {
      if (!this.billsStore[billId]) {
        this._flow_msg.Info("Bill Not Found.");

        return;
      }

      this._flow_msg.Info("Bill: ".concat(this.billsStore[billId].toString()));
    }
  }, {
    key: "NewBillId",
    value: function NewBillId() {
      return (Date.now() * 1000 + new Date().getMilliseconds()).toString();
    } // endregion

  }, {
    key: "SaveBillState",
    value: function SaveBillState() {
      localStorage.setItem('tableToBillMapping', JSON.stringify(this.tableToBillMapping));
      localStorage.setItem('billsStore', JSON.stringify(this.billsStore));
      localStorage.setItem('assemblyBillDataStore', JSON.stringify(this.assemblyBillDataStore));
    }
  }, {
    key: "LoadPersistedState",
    value: function LoadPersistedState() {
      if (localStorage.getItem('pos_id')) {
        this._posId = localStorage.getItem('pos_id');
        document.getElementById('pos_id').value = this._posId;
      } else {
        this._posId = document.getElementById('pos_id').value;
      }

      if (localStorage.getItem('eftpos_address')) {
        this._eftposAddress = localStorage.getItem('eftpos_address');
        document.getElementById('eftpos_address').value = this._eftposAddress;
      } else {
        this._eftposAddress = document.getElementById('eftpos_address').value;
      }

      this._print_merchant_copy = document.getElementById('print_merchant_copy').checked = localStorage.getItem('print_merchant_copy') === 'true' || false;
      this._rcpt_from_eftpos = document.getElementById('rcpt_from_eftpos').checked = localStorage.getItem('rcpt_from_eftpos') === 'true' || false;
      this._sig_flow_from_eftpos = document.getElementById('sig_flow_from_eftpos').checked = localStorage.getItem('sig_flow_from_eftpos') === 'true' || false;

      if (localStorage.getItem('EncKey') && localStorage.getItem('HmacKey')) {
        this._spiSecrets = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Secrets"](localStorage.getItem('EncKey'), localStorage.getItem('HmacKey'));
      }

      this.tableToBillMapping = JSON.parse(localStorage.getItem('tableToBillMapping') || '{}');
      this.assemblyBillDataStore = JSON.parse(localStorage.getItem('assemblyBillDataStore') || '{}');
      var savedBillData = JSON.parse(localStorage.getItem('billsStore') || '{}');

      for (var bill in savedBillData) {
        this.billsStore[bill] = Object.assign(new Bill(), savedBillData[bill]);
      }
    }
  }]);

  return TablePos;
}();

var Bill = function Bill() {
  _classCallCheck(this, Bill);

  this.BillId = null;
  this.TableId = null;
  this.OperatorId = null;
  this.Label = null;
  this.TotalAmount = 0;
  this.OutstandingAmount = 0;
  this.tippedAmount = 0;
  this.Locked = false;
};

Bill.prototype.toString = function () {
  return "".concat(this.BillId, " - /\n        Table:").concat(this.TableId, " \n        Operator Id:").concat(this.OperatorId, " \n        Label:").concat(this.Label, " \n        Total:$").concat((this.TotalAmount / 100).toFixed(2), " \n        Outstanding:$").concat((this.OutstandingAmount / 100).toFixed(2), " \n        Tips:$").concat((this.tippedAmount / 100).toFixed(2), "\n        Surcharge:$").concat((this.SurchargeAmount / 100).toFixed(2), "  \n        Locked:").concat(this.Locked);
};
/**
 * Start the POS
 */


document.addEventListener('DOMContentLoaded', function () {
  try {
    var log = console;
    var receipt = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Logger"](document.getElementById('receipt_output'), "\n\n \\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/ \n\n");
    var flow_msg = new _lib_spi_client_js__WEBPACK_IMPORTED_MODULE_0__["Logger"](document.getElementById('flow_msg'));
    var pos = new TablePos(log, receipt, flow_msg);
    pos.Start();
  } catch (err) {
    console.error(err);
  }
});

/***/ }),

/***/ "./lib/spi-client-js.js":
/*!******************************!*\
  !*** ./lib/spi-client-js.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

(function webpackUniversalModuleDefinition(root, factory) {
  if (( false ? undefined : _typeof(exports)) === 'object' && ( false ? undefined : _typeof(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else { var i, a; }
})(window, function () {
  return (
    /******/
    function (modules) {
      // webpackBootstrap

      /******/
      function hotDisposeChunk(chunkId) {
        /******/
        delete installedChunks[chunkId];
        /******/
      }
      /******/


      var parentHotUpdateCallback = window["webpackHotUpdate"];
      /******/

      window["webpackHotUpdate"] = // eslint-disable-next-line no-unused-vars

      /******/
      function webpackHotUpdateCallback(chunkId, moreModules) {
        /******/
        hotAddUpdateChunk(chunkId, moreModules);
        /******/

        if (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);
        /******/
      };
      /******/

      /******/
      // eslint-disable-next-line no-unused-vars

      /******/


      function hotDownloadUpdateChunk(chunkId) {
        /******/
        var script = document.createElement("script");
        /******/

        script.charset = "utf-8";
        /******/

        script.src = __webpack_require__.p + "" + chunkId + "." + hotCurrentHash + ".hot-update.js";
        /******/

        if (null) {}
        /******/

        document.head.appendChild(script);
        /******/
      }
      /******/

      /******/
      // eslint-disable-next-line no-unused-vars

      /******/


      function hotDownloadManifest(requestTimeout) {
        /******/
        requestTimeout = requestTimeout || 10000;
        /******/

        return new Promise(function (resolve, reject) {
          /******/
          if (typeof XMLHttpRequest === "undefined") {
            /******/
            return reject(new Error("No browser support"));
            /******/
          }
          /******/


          try {
            /******/
            var request = new XMLHttpRequest();
            /******/

            var requestPath = __webpack_require__.p + "" + hotCurrentHash + ".hot-update.json";
            /******/

            request.open("GET", requestPath, true);
            /******/

            request.timeout = requestTimeout;
            /******/

            request.send(null);
            /******/
          } catch (err) {
            /******/
            return reject(err);
            /******/
          }
          /******/


          request.onreadystatechange = function () {
            /******/
            if (request.readyState !== 4) return;
            /******/

            if (request.status === 0) {
              /******/
              // timeout

              /******/
              reject(
              /******/
              new Error("Manifest request to " + requestPath + " timed out.")
              /******/
              );
              /******/
            } else if (request.status === 404) {
              /******/
              // no update available

              /******/
              resolve();
              /******/
            } else if (request.status !== 200 && request.status !== 304) {
              /******/
              // other failure

              /******/
              reject(new Error("Manifest request to " + requestPath + " failed."));
              /******/
            } else {
              /******/
              // success

              /******/
              try {
                /******/
                var update = JSON.parse(request.responseText);
                /******/
              } catch (e) {
                /******/
                reject(e);
                /******/

                return;
                /******/
              }
              /******/


              resolve(update);
              /******/
            }
            /******/

          };
          /******/

        });
        /******/
      }
      /******/

      /******/


      var hotApplyOnUpdate = true;
      /******/
      // eslint-disable-next-line no-unused-vars

      /******/

      var hotCurrentHash = "de52193f0adfa93bb82a";
      /******/

      var hotRequestTimeout = 10000;
      /******/

      var hotCurrentModuleData = {};
      /******/

      var hotCurrentChildModule;
      /******/
      // eslint-disable-next-line no-unused-vars

      /******/

      var hotCurrentParents = [];
      /******/
      // eslint-disable-next-line no-unused-vars

      /******/

      var hotCurrentParentsTemp = [];
      /******/

      /******/
      // eslint-disable-next-line no-unused-vars

      /******/

      function hotCreateRequire(moduleId) {
        /******/
        var me = installedModules[moduleId];
        /******/

        if (!me) return __webpack_require__;
        /******/

        var fn = function fn(request) {
          /******/
          if (me.hot.active) {
            /******/
            if (installedModules[request]) {
              /******/
              if (installedModules[request].parents.indexOf(moduleId) === -1) {
                /******/
                installedModules[request].parents.push(moduleId);
                /******/
              }
              /******/

            } else {
              /******/
              hotCurrentParents = [moduleId];
              /******/

              hotCurrentChildModule = request;
              /******/
            }
            /******/


            if (me.children.indexOf(request) === -1) {
              /******/
              me.children.push(request);
              /******/
            }
            /******/

          } else {
            /******/
            console.warn(
            /******/
            "[HMR] unexpected require(" +
            /******/
            request +
            /******/
            ") from disposed module " +
            /******/
            moduleId
            /******/
            );
            /******/

            hotCurrentParents = [];
            /******/
          }
          /******/


          return __webpack_require__(request);
          /******/
        };
        /******/


        var ObjectFactory = function ObjectFactory(name) {
          /******/
          return {
            /******/
            configurable: true,

            /******/
            enumerable: true,

            /******/
            get: function get() {
              /******/
              return __webpack_require__[name];
              /******/
            },

            /******/
            set: function set(value) {
              /******/
              __webpack_require__[name] = value;
              /******/
            }
            /******/

          };
          /******/
        };
        /******/


        for (var name in __webpack_require__) {
          /******/
          if (
          /******/
          Object.prototype.hasOwnProperty.call(__webpack_require__, name) &&
          /******/
          name !== "e" &&
          /******/
          name !== "t"
          /******/
          ) {
              /******/
              Object.defineProperty(fn, name, ObjectFactory(name));
              /******/
            }
          /******/

        }
        /******/


        fn.e = function (chunkId) {
          /******/
          if (hotStatus === "ready") hotSetStatus("prepare");
          /******/

          hotChunksLoading++;
          /******/

          return __webpack_require__.e(chunkId).then(finishChunkLoading, function (err) {
            /******/
            finishChunkLoading();
            /******/

            throw err;
            /******/
          });
          /******/

          /******/

          function finishChunkLoading() {
            /******/
            hotChunksLoading--;
            /******/

            if (hotStatus === "prepare") {
              /******/
              if (!hotWaitingFilesMap[chunkId]) {
                /******/
                hotEnsureUpdateChunk(chunkId);
                /******/
              }
              /******/


              if (hotChunksLoading === 0 && hotWaitingFiles === 0) {
                /******/
                hotUpdateDownloaded();
                /******/
              }
              /******/

            }
            /******/

          }
          /******/

        };
        /******/


        fn.t = function (value, mode) {
          /******/
          if (mode & 1) value = fn(value);
          /******/

          return __webpack_require__.t(value, mode & ~1);
          /******/
        };
        /******/


        return fn;
        /******/
      }
      /******/

      /******/
      // eslint-disable-next-line no-unused-vars

      /******/


      function hotCreateModule(moduleId) {
        /******/
        var hot = {
          /******/
          // private stuff

          /******/
          _acceptedDependencies: {},

          /******/
          _declinedDependencies: {},

          /******/
          _selfAccepted: false,

          /******/
          _selfDeclined: false,

          /******/
          _disposeHandlers: [],

          /******/
          _main: hotCurrentChildModule !== moduleId,

          /******/

          /******/
          // Module API

          /******/
          active: true,

          /******/
          accept: function accept(dep, callback) {
            /******/
            if (dep === undefined) hot._selfAccepted = true;
            /******/
            else if (typeof dep === "function") hot._selfAccepted = dep;
              /******/
              else if (_typeof(dep) === "object")
                  /******/
                  for (var i = 0; i < dep.length; i++) {
                    /******/
                    hot._acceptedDependencies[dep[i]] = callback || function () {};
                  }
                  /******/
                else hot._acceptedDependencies[dep] = callback || function () {};
            /******/
          },

          /******/
          decline: function decline(dep) {
            /******/
            if (dep === undefined) hot._selfDeclined = true;
            /******/
            else if (_typeof(dep) === "object")
                /******/
                for (var i = 0; i < dep.length; i++) {
                  /******/
                  hot._declinedDependencies[dep[i]] = true;
                }
                /******/
              else hot._declinedDependencies[dep] = true;
            /******/
          },

          /******/
          dispose: function dispose(callback) {
            /******/
            hot._disposeHandlers.push(callback);
            /******/

          },

          /******/
          addDisposeHandler: function addDisposeHandler(callback) {
            /******/
            hot._disposeHandlers.push(callback);
            /******/

          },

          /******/
          removeDisposeHandler: function removeDisposeHandler(callback) {
            /******/
            var idx = hot._disposeHandlers.indexOf(callback);
            /******/


            if (idx >= 0) hot._disposeHandlers.splice(idx, 1);
            /******/
          },

          /******/

          /******/
          // Management API

          /******/
          check: hotCheck,

          /******/
          apply: hotApply,

          /******/
          status: function status(l) {
            /******/
            if (!l) return hotStatus;
            /******/

            hotStatusHandlers.push(l);
            /******/
          },

          /******/
          addStatusHandler: function addStatusHandler(l) {
            /******/
            hotStatusHandlers.push(l);
            /******/
          },

          /******/
          removeStatusHandler: function removeStatusHandler(l) {
            /******/
            var idx = hotStatusHandlers.indexOf(l);
            /******/

            if (idx >= 0) hotStatusHandlers.splice(idx, 1);
            /******/
          },

          /******/

          /******/
          //inherit from previous dispose call

          /******/
          data: hotCurrentModuleData[moduleId]
          /******/

        };
        /******/

        hotCurrentChildModule = undefined;
        /******/

        return hot;
        /******/
      }
      /******/

      /******/


      var hotStatusHandlers = [];
      /******/

      var hotStatus = "idle";
      /******/

      /******/

      function hotSetStatus(newStatus) {
        /******/
        hotStatus = newStatus;
        /******/

        for (var i = 0; i < hotStatusHandlers.length; i++) {
          /******/
          hotStatusHandlers[i].call(null, newStatus);
        }
        /******/

      }
      /******/

      /******/
      // while downloading

      /******/


      var hotWaitingFiles = 0;
      /******/

      var hotChunksLoading = 0;
      /******/

      var hotWaitingFilesMap = {};
      /******/

      var hotRequestedFilesMap = {};
      /******/

      var hotAvailableFilesMap = {};
      /******/

      var hotDeferred;
      /******/

      /******/
      // The update info

      /******/

      var hotUpdate, hotUpdateNewHash;
      /******/

      /******/

      function toModuleId(id) {
        /******/
        var isNumber = +id + "" === id;
        /******/

        return isNumber ? +id : id;
        /******/
      }
      /******/

      /******/


      function hotCheck(apply) {
        /******/
        if (hotStatus !== "idle") {
          /******/
          throw new Error("check() is only allowed in idle status");
          /******/
        }
        /******/


        hotApplyOnUpdate = apply;
        /******/

        hotSetStatus("check");
        /******/

        return hotDownloadManifest(hotRequestTimeout).then(function (update) {
          /******/
          if (!update) {
            /******/
            hotSetStatus("idle");
            /******/

            return null;
            /******/
          }
          /******/


          hotRequestedFilesMap = {};
          /******/

          hotWaitingFilesMap = {};
          /******/

          hotAvailableFilesMap = update.c;
          /******/

          hotUpdateNewHash = update.h;
          /******/

          /******/

          hotSetStatus("prepare");
          /******/

          var promise = new Promise(function (resolve, reject) {
            /******/
            hotDeferred = {
              /******/
              resolve: resolve,

              /******/
              reject: reject
              /******/

            };
            /******/
          });
          /******/

          hotUpdate = {};
          /******/

          var chunkId = "main";
          /******/
          // eslint-disable-next-line no-lone-blocks

          /******/

          {
            /******/

            /*globals chunkId */

            /******/
            hotEnsureUpdateChunk(chunkId);
            /******/
          }
          /******/

          if (
          /******/
          hotStatus === "prepare" &&
          /******/
          hotChunksLoading === 0 &&
          /******/
          hotWaitingFiles === 0
          /******/
          ) {
              /******/
              hotUpdateDownloaded();
              /******/
            }
          /******/


          return promise;
          /******/
        });
        /******/
      }
      /******/

      /******/
      // eslint-disable-next-line no-unused-vars

      /******/


      function hotAddUpdateChunk(chunkId, moreModules) {
        /******/
        if (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])
          /******/
          return;
        /******/

        hotRequestedFilesMap[chunkId] = false;
        /******/

        for (var moduleId in moreModules) {
          /******/
          if (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
            /******/
            hotUpdate[moduleId] = moreModules[moduleId];
            /******/
          }
          /******/

        }
        /******/


        if (--hotWaitingFiles === 0 && hotChunksLoading === 0) {
          /******/
          hotUpdateDownloaded();
          /******/
        }
        /******/

      }
      /******/

      /******/


      function hotEnsureUpdateChunk(chunkId) {
        /******/
        if (!hotAvailableFilesMap[chunkId]) {
          /******/
          hotWaitingFilesMap[chunkId] = true;
          /******/
        } else {
          /******/
          hotRequestedFilesMap[chunkId] = true;
          /******/

          hotWaitingFiles++;
          /******/

          hotDownloadUpdateChunk(chunkId);
          /******/
        }
        /******/

      }
      /******/

      /******/


      function hotUpdateDownloaded() {
        /******/
        hotSetStatus("ready");
        /******/

        var deferred = hotDeferred;
        /******/

        hotDeferred = null;
        /******/

        if (!deferred) return;
        /******/

        if (hotApplyOnUpdate) {
          /******/
          // Wrap deferred object in Promise to mark it as a well-handled Promise to

          /******/
          // avoid triggering uncaught exception warning in Chrome.

          /******/
          // See https://bugs.chromium.org/p/chromium/issues/detail?id=465666

          /******/
          Promise.resolve()
          /******/
          .then(function () {
            /******/
            return hotApply(hotApplyOnUpdate);
            /******/
          })
          /******/
          .then(
          /******/
          function (result) {
            /******/
            deferred.resolve(result);
            /******/
          },
          /******/
          function (err) {
            /******/
            deferred.reject(err);
            /******/
          }
          /******/
          );
          /******/
        } else {
          /******/
          var outdatedModules = [];
          /******/

          for (var id in hotUpdate) {
            /******/
            if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
              /******/
              outdatedModules.push(toModuleId(id));
              /******/
            }
            /******/

          }
          /******/


          deferred.resolve(outdatedModules);
          /******/
        }
        /******/

      }
      /******/

      /******/


      function hotApply(options) {
        /******/
        if (hotStatus !== "ready")
          /******/
          throw new Error("apply() is only allowed in ready status");
        /******/

        options = options || {};
        /******/

        /******/

        var cb;
        /******/

        var i;
        /******/

        var j;
        /******/

        var module;
        /******/

        var moduleId;
        /******/

        /******/

        function getAffectedStuff(updateModuleId) {
          /******/
          var outdatedModules = [updateModuleId];
          /******/

          var outdatedDependencies = {};
          /******/

          /******/

          var queue = outdatedModules.slice().map(function (id) {
            /******/
            return {
              /******/
              chain: [id],

              /******/
              id: id
              /******/

            };
            /******/
          });
          /******/

          while (queue.length > 0) {
            /******/
            var queueItem = queue.pop();
            /******/

            var moduleId = queueItem.id;
            /******/

            var chain = queueItem.chain;
            /******/

            module = installedModules[moduleId];
            /******/

            if (!module || module.hot._selfAccepted) continue;
            /******/

            if (module.hot._selfDeclined) {
              /******/
              return {
                /******/
                type: "self-declined",

                /******/
                chain: chain,

                /******/
                moduleId: moduleId
                /******/

              };
              /******/
            }
            /******/


            if (module.hot._main) {
              /******/
              return {
                /******/
                type: "unaccepted",

                /******/
                chain: chain,

                /******/
                moduleId: moduleId
                /******/

              };
              /******/
            }
            /******/


            for (var i = 0; i < module.parents.length; i++) {
              /******/
              var parentId = module.parents[i];
              /******/

              var parent = installedModules[parentId];
              /******/

              if (!parent) continue;
              /******/

              if (parent.hot._declinedDependencies[moduleId]) {
                /******/
                return {
                  /******/
                  type: "declined",

                  /******/
                  chain: chain.concat([parentId]),

                  /******/
                  moduleId: moduleId,

                  /******/
                  parentId: parentId
                  /******/

                };
                /******/
              }
              /******/


              if (outdatedModules.indexOf(parentId) !== -1) continue;
              /******/

              if (parent.hot._acceptedDependencies[moduleId]) {
                /******/
                if (!outdatedDependencies[parentId])
                  /******/
                  outdatedDependencies[parentId] = [];
                /******/

                addAllToSet(outdatedDependencies[parentId], [moduleId]);
                /******/

                continue;
                /******/
              }
              /******/


              delete outdatedDependencies[parentId];
              /******/

              outdatedModules.push(parentId);
              /******/

              queue.push({
                /******/
                chain: chain.concat([parentId]),

                /******/
                id: parentId
                /******/

              });
              /******/
            }
            /******/

          }
          /******/

          /******/


          return {
            /******/
            type: "accepted",

            /******/
            moduleId: updateModuleId,

            /******/
            outdatedModules: outdatedModules,

            /******/
            outdatedDependencies: outdatedDependencies
            /******/

          };
          /******/
        }
        /******/

        /******/


        function addAllToSet(a, b) {
          /******/
          for (var i = 0; i < b.length; i++) {
            /******/
            var item = b[i];
            /******/

            if (a.indexOf(item) === -1) a.push(item);
            /******/
          }
          /******/

        }
        /******/

        /******/
        // at begin all updates modules are outdated

        /******/
        // the "outdated" status can propagate to parents if they don't accept the children

        /******/


        var outdatedDependencies = {};
        /******/

        var outdatedModules = [];
        /******/

        var appliedUpdate = {};
        /******/

        /******/

        var warnUnexpectedRequire = function warnUnexpectedRequire() {
          /******/
          console.warn(
          /******/
          "[HMR] unexpected require(" + result.moduleId + ") to disposed module"
          /******/
          );
          /******/
        };
        /******/

        /******/


        for (var id in hotUpdate) {
          /******/
          if (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {
            /******/
            moduleId = toModuleId(id);
            /******/

            /** @type {TODO} */

            /******/

            var result;
            /******/

            if (hotUpdate[id]) {
              /******/
              result = getAffectedStuff(moduleId);
              /******/
            } else {
              /******/
              result = {
                /******/
                type: "disposed",

                /******/
                moduleId: id
                /******/

              };
              /******/
            }
            /******/

            /** @type {Error|false} */

            /******/


            var abortError = false;
            /******/

            var doApply = false;
            /******/

            var doDispose = false;
            /******/

            var chainInfo = "";
            /******/

            if (result.chain) {
              /******/
              chainInfo = "\nUpdate propagation: " + result.chain.join(" -> ");
              /******/
            }
            /******/


            switch (result.type) {
              /******/
              case "self-declined":
                /******/
                if (options.onDeclined) options.onDeclined(result);
                /******/

                if (!options.ignoreDeclined)
                  /******/
                  abortError = new Error(
                  /******/
                  "Aborted because of self decline: " +
                  /******/
                  result.moduleId +
                  /******/
                  chainInfo
                  /******/
                  );
                /******/

                break;

              /******/

              case "declined":
                /******/
                if (options.onDeclined) options.onDeclined(result);
                /******/

                if (!options.ignoreDeclined)
                  /******/
                  abortError = new Error(
                  /******/
                  "Aborted because of declined dependency: " +
                  /******/
                  result.moduleId +
                  /******/
                  " in " +
                  /******/
                  result.parentId +
                  /******/
                  chainInfo
                  /******/
                  );
                /******/

                break;

              /******/

              case "unaccepted":
                /******/
                if (options.onUnaccepted) options.onUnaccepted(result);
                /******/

                if (!options.ignoreUnaccepted)
                  /******/
                  abortError = new Error(
                  /******/
                  "Aborted because " + moduleId + " is not accepted" + chainInfo
                  /******/
                  );
                /******/

                break;

              /******/

              case "accepted":
                /******/
                if (options.onAccepted) options.onAccepted(result);
                /******/

                doApply = true;
                /******/

                break;

              /******/

              case "disposed":
                /******/
                if (options.onDisposed) options.onDisposed(result);
                /******/

                doDispose = true;
                /******/

                break;

              /******/

              default:
                /******/
                throw new Error("Unexception type " + result.type);

              /******/
            }
            /******/


            if (abortError) {
              /******/
              hotSetStatus("abort");
              /******/

              return Promise.reject(abortError);
              /******/
            }
            /******/


            if (doApply) {
              /******/
              appliedUpdate[moduleId] = hotUpdate[moduleId];
              /******/

              addAllToSet(outdatedModules, result.outdatedModules);
              /******/

              for (moduleId in result.outdatedDependencies) {
                /******/
                if (
                /******/
                Object.prototype.hasOwnProperty.call(
                /******/
                result.outdatedDependencies,
                /******/
                moduleId
                /******/
                )
                /******/
                ) {
                    /******/
                    if (!outdatedDependencies[moduleId])
                      /******/
                      outdatedDependencies[moduleId] = [];
                    /******/

                    addAllToSet(
                    /******/
                    outdatedDependencies[moduleId],
                    /******/
                    result.outdatedDependencies[moduleId]
                    /******/
                    );
                    /******/
                  }
                /******/

              }
              /******/

            }
            /******/


            if (doDispose) {
              /******/
              addAllToSet(outdatedModules, [result.moduleId]);
              /******/

              appliedUpdate[moduleId] = warnUnexpectedRequire;
              /******/
            }
            /******/

          }
          /******/

        }
        /******/

        /******/
        // Store self accepted outdated modules to require them later by the module system

        /******/


        var outdatedSelfAcceptedModules = [];
        /******/

        for (i = 0; i < outdatedModules.length; i++) {
          /******/
          moduleId = outdatedModules[i];
          /******/

          if (
          /******/
          installedModules[moduleId] &&
          /******/
          installedModules[moduleId].hot._selfAccepted
          /******/
          )
            /******/
            outdatedSelfAcceptedModules.push({
              /******/
              module: moduleId,

              /******/
              errorHandler: installedModules[moduleId].hot._selfAccepted
              /******/

            });
          /******/
        }
        /******/

        /******/
        // Now in "dispose" phase

        /******/


        hotSetStatus("dispose");
        /******/

        Object.keys(hotAvailableFilesMap).forEach(function (chunkId) {
          /******/
          if (hotAvailableFilesMap[chunkId] === false) {
            /******/
            hotDisposeChunk(chunkId);
            /******/
          }
          /******/

        });
        /******/

        /******/

        var idx;
        /******/

        var queue = outdatedModules.slice();
        /******/

        while (queue.length > 0) {
          /******/
          moduleId = queue.pop();
          /******/

          module = installedModules[moduleId];
          /******/

          if (!module) continue;
          /******/

          /******/

          var data = {};
          /******/

          /******/
          // Call dispose handlers

          /******/

          var disposeHandlers = module.hot._disposeHandlers;
          /******/

          for (j = 0; j < disposeHandlers.length; j++) {
            /******/
            cb = disposeHandlers[j];
            /******/

            cb(data);
            /******/
          }
          /******/


          hotCurrentModuleData[moduleId] = data;
          /******/

          /******/
          // disable module (this disables requires from this module)

          /******/

          module.hot.active = false;
          /******/

          /******/
          // remove module from cache

          /******/

          delete installedModules[moduleId];
          /******/

          /******/
          // when disposing there is no need to call dispose handler

          /******/

          delete outdatedDependencies[moduleId];
          /******/

          /******/
          // remove "parents" references from all children

          /******/

          for (j = 0; j < module.children.length; j++) {
            /******/
            var child = installedModules[module.children[j]];
            /******/

            if (!child) continue;
            /******/

            idx = child.parents.indexOf(moduleId);
            /******/

            if (idx >= 0) {
              /******/
              child.parents.splice(idx, 1);
              /******/
            }
            /******/

          }
          /******/

        }
        /******/

        /******/
        // remove outdated dependency from module children

        /******/


        var dependency;
        /******/

        var moduleOutdatedDependencies;
        /******/

        for (moduleId in outdatedDependencies) {
          /******/
          if (
          /******/
          Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
          /******/
          ) {
              /******/
              module = installedModules[moduleId];
              /******/

              if (module) {
                /******/
                moduleOutdatedDependencies = outdatedDependencies[moduleId];
                /******/

                for (j = 0; j < moduleOutdatedDependencies.length; j++) {
                  /******/
                  dependency = moduleOutdatedDependencies[j];
                  /******/

                  idx = module.children.indexOf(dependency);
                  /******/

                  if (idx >= 0) module.children.splice(idx, 1);
                  /******/
                }
                /******/

              }
              /******/

            }
          /******/

        }
        /******/

        /******/
        // Not in "apply" phase

        /******/


        hotSetStatus("apply");
        /******/

        /******/

        hotCurrentHash = hotUpdateNewHash;
        /******/

        /******/
        // insert new code

        /******/

        for (moduleId in appliedUpdate) {
          /******/
          if (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {
            /******/
            modules[moduleId] = appliedUpdate[moduleId];
            /******/
          }
          /******/

        }
        /******/

        /******/
        // call accept handlers

        /******/


        var error = null;
        /******/

        for (moduleId in outdatedDependencies) {
          /******/
          if (
          /******/
          Object.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)
          /******/
          ) {
              /******/
              module = installedModules[moduleId];
              /******/

              if (module) {
                /******/
                moduleOutdatedDependencies = outdatedDependencies[moduleId];
                /******/

                var callbacks = [];
                /******/

                for (i = 0; i < moduleOutdatedDependencies.length; i++) {
                  /******/
                  dependency = moduleOutdatedDependencies[i];
                  /******/

                  cb = module.hot._acceptedDependencies[dependency];
                  /******/

                  if (cb) {
                    /******/
                    if (callbacks.indexOf(cb) !== -1) continue;
                    /******/

                    callbacks.push(cb);
                    /******/
                  }
                  /******/

                }
                /******/


                for (i = 0; i < callbacks.length; i++) {
                  /******/
                  cb = callbacks[i];
                  /******/

                  try {
                    /******/
                    cb(moduleOutdatedDependencies);
                    /******/
                  } catch (err) {
                    /******/
                    if (options.onErrored) {
                      /******/
                      options.onErrored({
                        /******/
                        type: "accept-errored",

                        /******/
                        moduleId: moduleId,

                        /******/
                        dependencyId: moduleOutdatedDependencies[i],

                        /******/
                        error: err
                        /******/

                      });
                      /******/
                    }
                    /******/


                    if (!options.ignoreErrored) {
                      /******/
                      if (!error) error = err;
                      /******/
                    }
                    /******/

                  }
                  /******/

                }
                /******/

              }
              /******/

            }
          /******/

        }
        /******/

        /******/
        // Load self accepted modules

        /******/


        for (i = 0; i < outdatedSelfAcceptedModules.length; i++) {
          /******/
          var item = outdatedSelfAcceptedModules[i];
          /******/

          moduleId = item.module;
          /******/

          hotCurrentParents = [moduleId];
          /******/

          try {
            /******/
            __webpack_require__(moduleId);
            /******/

          } catch (err) {
            /******/
            if (typeof item.errorHandler === "function") {
              /******/
              try {
                /******/
                item.errorHandler(err);
                /******/
              } catch (err2) {
                /******/
                if (options.onErrored) {
                  /******/
                  options.onErrored({
                    /******/
                    type: "self-accept-error-handler-errored",

                    /******/
                    moduleId: moduleId,

                    /******/
                    error: err2,

                    /******/
                    originalError: err
                    /******/

                  });
                  /******/
                }
                /******/


                if (!options.ignoreErrored) {
                  /******/
                  if (!error) error = err2;
                  /******/
                }
                /******/


                if (!error) error = err;
                /******/
              }
              /******/

            } else {
              /******/
              if (options.onErrored) {
                /******/
                options.onErrored({
                  /******/
                  type: "self-accept-errored",

                  /******/
                  moduleId: moduleId,

                  /******/
                  error: err
                  /******/

                });
                /******/
              }
              /******/


              if (!options.ignoreErrored) {
                /******/
                if (!error) error = err;
                /******/
              }
              /******/

            }
            /******/

          }
          /******/

        }
        /******/

        /******/
        // handle errors in accept handlers and self accepted module load

        /******/


        if (error) {
          /******/
          hotSetStatus("fail");
          /******/

          return Promise.reject(error);
          /******/
        }
        /******/

        /******/


        hotSetStatus("idle");
        /******/

        return new Promise(function (resolve) {
          /******/
          resolve(outdatedModules);
          /******/
        });
        /******/
      }
      /******/

      /******/
      // The module cache

      /******/


      var installedModules = {};
      /******/

      /******/
      // The require function

      /******/

      function __webpack_require__(moduleId) {
        /******/

        /******/
        // Check if module is in cache

        /******/
        if (installedModules[moduleId]) {
          /******/
          return installedModules[moduleId].exports;
          /******/
        }
        /******/
        // Create a new module (and put it into the cache)

        /******/


        var module = installedModules[moduleId] = {
          /******/
          i: moduleId,

          /******/
          l: false,

          /******/
          exports: {},

          /******/
          hot: hotCreateModule(moduleId),

          /******/
          parents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),

          /******/
          children: []
          /******/

        };
        /******/

        /******/
        // Execute the module function

        /******/

        modules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));
        /******/

        /******/
        // Flag the module as loaded

        /******/

        module.l = true;
        /******/

        /******/
        // Return the exports of the module

        /******/

        return module.exports;
        /******/
      }
      /******/

      /******/

      /******/
      // expose the modules object (__webpack_modules__)

      /******/


      __webpack_require__.m = modules;
      /******/

      /******/
      // expose the module cache

      /******/

      __webpack_require__.c = installedModules;
      /******/

      /******/
      // define getter function for harmony exports

      /******/

      __webpack_require__.d = function (exports, name, getter) {
        /******/
        if (!__webpack_require__.o(exports, name)) {
          /******/
          Object.defineProperty(exports, name, {
            enumerable: true,
            get: getter
          });
          /******/
        }
        /******/

      };
      /******/

      /******/
      // define __esModule on exports

      /******/


      __webpack_require__.r = function (exports) {
        /******/
        if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
          /******/
          Object.defineProperty(exports, Symbol.toStringTag, {
            value: 'Module'
          });
          /******/
        }
        /******/


        Object.defineProperty(exports, '__esModule', {
          value: true
        });
        /******/
      };
      /******/

      /******/
      // create a fake namespace object

      /******/
      // mode & 1: value is a module id, require it

      /******/
      // mode & 2: merge all properties of value into the ns

      /******/
      // mode & 4: return value when already ns object

      /******/
      // mode & 8|1: behave like require

      /******/


      __webpack_require__.t = function (value, mode) {
        /******/
        if (mode & 1) value = __webpack_require__(value);
        /******/

        if (mode & 8) return value;
        /******/

        if (mode & 4 && _typeof(value) === 'object' && value && value.__esModule) return value;
        /******/

        var ns = Object.create(null);
        /******/

        __webpack_require__.r(ns);
        /******/


        Object.defineProperty(ns, 'default', {
          enumerable: true,
          value: value
        });
        /******/

        if (mode & 2 && typeof value != 'string') for (var key in value) {
          __webpack_require__.d(ns, key, function (key) {
            return value[key];
          }.bind(null, key));
        }
        /******/

        return ns;
        /******/
      };
      /******/

      /******/
      // getDefaultExport function for compatibility with non-harmony modules

      /******/


      __webpack_require__.n = function (module) {
        /******/
        var getter = module && module.__esModule ?
        /******/
        function getDefault() {
          return module['default'];
        } :
        /******/
        function getModuleExports() {
          return module;
        };
        /******/

        __webpack_require__.d(getter, 'a', getter);
        /******/


        return getter;
        /******/
      };
      /******/

      /******/
      // Object.prototype.hasOwnProperty.call

      /******/


      __webpack_require__.o = function (object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
      };
      /******/

      /******/
      // __webpack_public_path__

      /******/


      __webpack_require__.p = "";
      /******/

      /******/
      // __webpack_hash__

      /******/

      __webpack_require__.h = function () {
        return hotCurrentHash;
      };
      /******/

      /******/

      /******/
      // Load entry module and return exports

      /******/


      return hotCreateRequire("./index.js")(__webpack_require__.s = "./index.js");
      /******/
    }(
    /************************************************************************/

    /******/
    {
      /***/
      "./index.js":
      /*!******************!*\
        !*** ./index.js ***!
        \******************/

      /*! exports provided: Spi, Logger, Secrets, SuccessState, TransactionOptions, TransactionType, SpiFlow, SpiStatus, PrintingResponse, RefundResponse, PurchaseResponse, GetLastTransactionResponse, MotoPurchaseResponse, TerminalStatusResponse, TerminalBattery, CashoutOnlyResponse, Settlement, RequestIdHelper, BillStatusResponse, BillRetrievalResult, OpenTablesEntry, BillPaymentFlowEndedResponse */

      /***/
      function indexJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony import */


        var _src_Spi__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./src/Spi */
        "./src/Spi.js");
        /* harmony import */


        var _src_Logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./src/Logger */
        "./src/Logger.js");
        /* harmony import */


        var _src_Printing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./src/Printing */
        "./src/Printing.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "Spi", function () {
          return _src_Spi__WEBPACK_IMPORTED_MODULE_0__["Spi"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "Logger", function () {
          return _src_Logger__WEBPACK_IMPORTED_MODULE_1__["Logger"];
        });
        /* harmony import */


        var _src_Secrets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
        /*! ./src/Secrets */
        "./src/Secrets.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "Secrets", function () {
          return _src_Secrets__WEBPACK_IMPORTED_MODULE_3__["Secrets"];
        });
        /* harmony import */


        var _src_Messages__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
        /*! ./src/Messages */
        "./src/Messages.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "SuccessState", function () {
          return _src_Messages__WEBPACK_IMPORTED_MODULE_4__["SuccessState"];
        });
        /* harmony import */


        var _src_SpiModels__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
        /*! ./src/SpiModels */
        "./src/SpiModels.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "TransactionOptions", function () {
          return _src_SpiModels__WEBPACK_IMPORTED_MODULE_5__["TransactionOptions"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "TransactionType", function () {
          return _src_SpiModels__WEBPACK_IMPORTED_MODULE_5__["TransactionType"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "SpiFlow", function () {
          return _src_SpiModels__WEBPACK_IMPORTED_MODULE_5__["SpiFlow"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "SpiStatus", function () {
          return _src_SpiModels__WEBPACK_IMPORTED_MODULE_5__["SpiStatus"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "PrintingResponse", function () {
          return _src_Printing__WEBPACK_IMPORTED_MODULE_2__["PrintingResponse"];
        });
        /* harmony import */


        var _src_Purchase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
        /*! ./src/Purchase */
        "./src/Purchase.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "RefundResponse", function () {
          return _src_Purchase__WEBPACK_IMPORTED_MODULE_6__["RefundResponse"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "PurchaseResponse", function () {
          return _src_Purchase__WEBPACK_IMPORTED_MODULE_6__["PurchaseResponse"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "GetLastTransactionResponse", function () {
          return _src_Purchase__WEBPACK_IMPORTED_MODULE_6__["GetLastTransactionResponse"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "MotoPurchaseResponse", function () {
          return _src_Purchase__WEBPACK_IMPORTED_MODULE_6__["MotoPurchaseResponse"];
        });
        /* harmony import */


        var _src_TerminalStatus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
        /*! ./src/TerminalStatus */
        "./src/TerminalStatus.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "TerminalStatusResponse", function () {
          return _src_TerminalStatus__WEBPACK_IMPORTED_MODULE_7__["TerminalStatusResponse"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "TerminalBattery", function () {
          return _src_TerminalStatus__WEBPACK_IMPORTED_MODULE_7__["TerminalBattery"];
        });
        /* harmony import */


        var _src_Cashout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
        /*! ./src/Cashout */
        "./src/Cashout.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "CashoutOnlyResponse", function () {
          return _src_Cashout__WEBPACK_IMPORTED_MODULE_8__["CashoutOnlyResponse"];
        });
        /* harmony import */


        var _src_Settlement__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
        /*! ./src/Settlement */
        "./src/Settlement.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "Settlement", function () {
          return _src_Settlement__WEBPACK_IMPORTED_MODULE_9__["Settlement"];
        });
        /* harmony import */


        var _src_RequestIdHelper__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
        /*! ./src/RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "RequestIdHelper", function () {
          return _src_RequestIdHelper__WEBPACK_IMPORTED_MODULE_10__["RequestIdHelper"];
        });
        /* harmony import */


        var _src_PayAtTable__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
        /*! ./src/PayAtTable */
        "./src/PayAtTable.js");
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "BillStatusResponse", function () {
          return _src_PayAtTable__WEBPACK_IMPORTED_MODULE_11__["BillStatusResponse"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "BillRetrievalResult", function () {
          return _src_PayAtTable__WEBPACK_IMPORTED_MODULE_11__["BillRetrievalResult"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "OpenTablesEntry", function () {
          return _src_PayAtTable__WEBPACK_IMPORTED_MODULE_11__["OpenTablesEntry"];
        });
        /* harmony reexport (safe) */


        __webpack_require__.d(__webpack_exports__, "BillPaymentFlowEndedResponse", function () {
          return _src_PayAtTable__WEBPACK_IMPORTED_MODULE_11__["BillPaymentFlowEndedResponse"];
        }); // Re-exported modules required for POS vendors


        window.Spi = _src_Spi__WEBPACK_IMPORTED_MODULE_0__["Spi"];
        window.Logger = _src_Logger__WEBPACK_IMPORTED_MODULE_1__["Logger"];
        window.Printer = _src_Printing__WEBPACK_IMPORTED_MODULE_2__["Printer"];
        /***/
      },

      /***/
      "./node_modules/aes-js/index.js":
      /*!**************************************!*\
        !*** ./node_modules/aes-js/index.js ***!
        \**************************************/

      /*! no static exports found */

      /***/
      function node_modulesAesJsIndexJs(module, exports, __webpack_require__) {
        /*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */
        (function (root) {
          "use strict";

          function checkInt(value) {
            return parseInt(value) === value;
          }

          function checkInts(arrayish) {
            if (!checkInt(arrayish.length)) {
              return false;
            }

            for (var i = 0; i < arrayish.length; i++) {
              if (!checkInt(arrayish[i]) || arrayish[i] < 0 || arrayish[i] > 255) {
                return false;
              }
            }

            return true;
          }

          function coerceArray(arg, copy) {
            // ArrayBuffer view
            if (arg.buffer && arg.name === 'Uint8Array') {
              if (copy) {
                if (arg.slice) {
                  arg = arg.slice();
                } else {
                  arg = Array.prototype.slice.call(arg);
                }
              }

              return arg;
            } // It's an array; check it is a valid representation of a byte


            if (Array.isArray(arg)) {
              if (!checkInts(arg)) {
                throw new Error('Array contains invalid value: ' + arg);
              }

              return new Uint8Array(arg);
            } // Something else, but behaves like an array (maybe a Buffer? Arguments?)


            if (checkInt(arg.length) && checkInts(arg)) {
              return new Uint8Array(arg);
            }

            throw new Error('unsupported array-like object');
          }

          function createArray(length) {
            return new Uint8Array(length);
          }

          function copyArray(sourceArray, targetArray, targetStart, sourceStart, sourceEnd) {
            if (sourceStart != null || sourceEnd != null) {
              if (sourceArray.slice) {
                sourceArray = sourceArray.slice(sourceStart, sourceEnd);
              } else {
                sourceArray = Array.prototype.slice.call(sourceArray, sourceStart, sourceEnd);
              }
            }

            targetArray.set(sourceArray, targetStart);
          }

          var convertUtf8 = function () {
            function toBytes(text) {
              var result = [],
                  i = 0;
              text = encodeURI(text);

              while (i < text.length) {
                var c = text.charCodeAt(i++); // if it is a % sign, encode the following 2 bytes as a hex value

                if (c === 37) {
                  result.push(parseInt(text.substr(i, 2), 16));
                  i += 2; // otherwise, just the actual byte
                } else {
                  result.push(c);
                }
              }

              return coerceArray(result);
            }

            function fromBytes(bytes) {
              var result = [],
                  i = 0;

              while (i < bytes.length) {
                var c = bytes[i];

                if (c < 128) {
                  result.push(String.fromCharCode(c));
                  i++;
                } else if (c > 191 && c < 224) {
                  result.push(String.fromCharCode((c & 0x1f) << 6 | bytes[i + 1] & 0x3f));
                  i += 2;
                } else {
                  result.push(String.fromCharCode((c & 0x0f) << 12 | (bytes[i + 1] & 0x3f) << 6 | bytes[i + 2] & 0x3f));
                  i += 3;
                }
              }

              return result.join('');
            }

            return {
              toBytes: toBytes,
              fromBytes: fromBytes
            };
          }();

          var convertHex = function () {
            function toBytes(text) {
              var result = [];

              for (var i = 0; i < text.length; i += 2) {
                result.push(parseInt(text.substr(i, 2), 16));
              }

              return result;
            } // http://ixti.net/development/javascript/2011/11/11/base64-encodedecode-of-utf8-in-browser-with-js.html


            var Hex = '0123456789abcdef';

            function fromBytes(bytes) {
              var result = [];

              for (var i = 0; i < bytes.length; i++) {
                var v = bytes[i];
                result.push(Hex[(v & 0xf0) >> 4] + Hex[v & 0x0f]);
              }

              return result.join('');
            }

            return {
              toBytes: toBytes,
              fromBytes: fromBytes
            };
          }(); // Number of rounds by keysize


          var numberOfRounds = {
            16: 10,
            24: 12,
            32: 14 // Round constant words

          };
          var rcon = [0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36, 0x6c, 0xd8, 0xab, 0x4d, 0x9a, 0x2f, 0x5e, 0xbc, 0x63, 0xc6, 0x97, 0x35, 0x6a, 0xd4, 0xb3, 0x7d, 0xfa, 0xef, 0xc5, 0x91]; // S-box and Inverse S-box (S is for Substitution)

          var S = [0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76, 0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0, 0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15, 0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75, 0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84, 0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf, 0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8, 0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2, 0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73, 0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb, 0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79, 0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08, 0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a, 0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e, 0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf, 0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16];
          var Si = [0x52, 0x09, 0x6a, 0xd5, 0x30, 0x36, 0xa5, 0x38, 0xbf, 0x40, 0xa3, 0x9e, 0x81, 0xf3, 0xd7, 0xfb, 0x7c, 0xe3, 0x39, 0x82, 0x9b, 0x2f, 0xff, 0x87, 0x34, 0x8e, 0x43, 0x44, 0xc4, 0xde, 0xe9, 0xcb, 0x54, 0x7b, 0x94, 0x32, 0xa6, 0xc2, 0x23, 0x3d, 0xee, 0x4c, 0x95, 0x0b, 0x42, 0xfa, 0xc3, 0x4e, 0x08, 0x2e, 0xa1, 0x66, 0x28, 0xd9, 0x24, 0xb2, 0x76, 0x5b, 0xa2, 0x49, 0x6d, 0x8b, 0xd1, 0x25, 0x72, 0xf8, 0xf6, 0x64, 0x86, 0x68, 0x98, 0x16, 0xd4, 0xa4, 0x5c, 0xcc, 0x5d, 0x65, 0xb6, 0x92, 0x6c, 0x70, 0x48, 0x50, 0xfd, 0xed, 0xb9, 0xda, 0x5e, 0x15, 0x46, 0x57, 0xa7, 0x8d, 0x9d, 0x84, 0x90, 0xd8, 0xab, 0x00, 0x8c, 0xbc, 0xd3, 0x0a, 0xf7, 0xe4, 0x58, 0x05, 0xb8, 0xb3, 0x45, 0x06, 0xd0, 0x2c, 0x1e, 0x8f, 0xca, 0x3f, 0x0f, 0x02, 0xc1, 0xaf, 0xbd, 0x03, 0x01, 0x13, 0x8a, 0x6b, 0x3a, 0x91, 0x11, 0x41, 0x4f, 0x67, 0xdc, 0xea, 0x97, 0xf2, 0xcf, 0xce, 0xf0, 0xb4, 0xe6, 0x73, 0x96, 0xac, 0x74, 0x22, 0xe7, 0xad, 0x35, 0x85, 0xe2, 0xf9, 0x37, 0xe8, 0x1c, 0x75, 0xdf, 0x6e, 0x47, 0xf1, 0x1a, 0x71, 0x1d, 0x29, 0xc5, 0x89, 0x6f, 0xb7, 0x62, 0x0e, 0xaa, 0x18, 0xbe, 0x1b, 0xfc, 0x56, 0x3e, 0x4b, 0xc6, 0xd2, 0x79, 0x20, 0x9a, 0xdb, 0xc0, 0xfe, 0x78, 0xcd, 0x5a, 0xf4, 0x1f, 0xdd, 0xa8, 0x33, 0x88, 0x07, 0xc7, 0x31, 0xb1, 0x12, 0x10, 0x59, 0x27, 0x80, 0xec, 0x5f, 0x60, 0x51, 0x7f, 0xa9, 0x19, 0xb5, 0x4a, 0x0d, 0x2d, 0xe5, 0x7a, 0x9f, 0x93, 0xc9, 0x9c, 0xef, 0xa0, 0xe0, 0x3b, 0x4d, 0xae, 0x2a, 0xf5, 0xb0, 0xc8, 0xeb, 0xbb, 0x3c, 0x83, 0x53, 0x99, 0x61, 0x17, 0x2b, 0x04, 0x7e, 0xba, 0x77, 0xd6, 0x26, 0xe1, 0x69, 0x14, 0x63, 0x55, 0x21, 0x0c, 0x7d]; // Transformations for encryption

          var T1 = [0xc66363a5, 0xf87c7c84, 0xee777799, 0xf67b7b8d, 0xfff2f20d, 0xd66b6bbd, 0xde6f6fb1, 0x91c5c554, 0x60303050, 0x02010103, 0xce6767a9, 0x562b2b7d, 0xe7fefe19, 0xb5d7d762, 0x4dababe6, 0xec76769a, 0x8fcaca45, 0x1f82829d, 0x89c9c940, 0xfa7d7d87, 0xeffafa15, 0xb25959eb, 0x8e4747c9, 0xfbf0f00b, 0x41adadec, 0xb3d4d467, 0x5fa2a2fd, 0x45afafea, 0x239c9cbf, 0x53a4a4f7, 0xe4727296, 0x9bc0c05b, 0x75b7b7c2, 0xe1fdfd1c, 0x3d9393ae, 0x4c26266a, 0x6c36365a, 0x7e3f3f41, 0xf5f7f702, 0x83cccc4f, 0x6834345c, 0x51a5a5f4, 0xd1e5e534, 0xf9f1f108, 0xe2717193, 0xabd8d873, 0x62313153, 0x2a15153f, 0x0804040c, 0x95c7c752, 0x46232365, 0x9dc3c35e, 0x30181828, 0x379696a1, 0x0a05050f, 0x2f9a9ab5, 0x0e070709, 0x24121236, 0x1b80809b, 0xdfe2e23d, 0xcdebeb26, 0x4e272769, 0x7fb2b2cd, 0xea75759f, 0x1209091b, 0x1d83839e, 0x582c2c74, 0x341a1a2e, 0x361b1b2d, 0xdc6e6eb2, 0xb45a5aee, 0x5ba0a0fb, 0xa45252f6, 0x763b3b4d, 0xb7d6d661, 0x7db3b3ce, 0x5229297b, 0xdde3e33e, 0x5e2f2f71, 0x13848497, 0xa65353f5, 0xb9d1d168, 0x00000000, 0xc1eded2c, 0x40202060, 0xe3fcfc1f, 0x79b1b1c8, 0xb65b5bed, 0xd46a6abe, 0x8dcbcb46, 0x67bebed9, 0x7239394b, 0x944a4ade, 0x984c4cd4, 0xb05858e8, 0x85cfcf4a, 0xbbd0d06b, 0xc5efef2a, 0x4faaaae5, 0xedfbfb16, 0x864343c5, 0x9a4d4dd7, 0x66333355, 0x11858594, 0x8a4545cf, 0xe9f9f910, 0x04020206, 0xfe7f7f81, 0xa05050f0, 0x783c3c44, 0x259f9fba, 0x4ba8a8e3, 0xa25151f3, 0x5da3a3fe, 0x804040c0, 0x058f8f8a, 0x3f9292ad, 0x219d9dbc, 0x70383848, 0xf1f5f504, 0x63bcbcdf, 0x77b6b6c1, 0xafdada75, 0x42212163, 0x20101030, 0xe5ffff1a, 0xfdf3f30e, 0xbfd2d26d, 0x81cdcd4c, 0x180c0c14, 0x26131335, 0xc3ecec2f, 0xbe5f5fe1, 0x359797a2, 0x884444cc, 0x2e171739, 0x93c4c457, 0x55a7a7f2, 0xfc7e7e82, 0x7a3d3d47, 0xc86464ac, 0xba5d5de7, 0x3219192b, 0xe6737395, 0xc06060a0, 0x19818198, 0x9e4f4fd1, 0xa3dcdc7f, 0x44222266, 0x542a2a7e, 0x3b9090ab, 0x0b888883, 0x8c4646ca, 0xc7eeee29, 0x6bb8b8d3, 0x2814143c, 0xa7dede79, 0xbc5e5ee2, 0x160b0b1d, 0xaddbdb76, 0xdbe0e03b, 0x64323256, 0x743a3a4e, 0x140a0a1e, 0x924949db, 0x0c06060a, 0x4824246c, 0xb85c5ce4, 0x9fc2c25d, 0xbdd3d36e, 0x43acacef, 0xc46262a6, 0x399191a8, 0x319595a4, 0xd3e4e437, 0xf279798b, 0xd5e7e732, 0x8bc8c843, 0x6e373759, 0xda6d6db7, 0x018d8d8c, 0xb1d5d564, 0x9c4e4ed2, 0x49a9a9e0, 0xd86c6cb4, 0xac5656fa, 0xf3f4f407, 0xcfeaea25, 0xca6565af, 0xf47a7a8e, 0x47aeaee9, 0x10080818, 0x6fbabad5, 0xf0787888, 0x4a25256f, 0x5c2e2e72, 0x381c1c24, 0x57a6a6f1, 0x73b4b4c7, 0x97c6c651, 0xcbe8e823, 0xa1dddd7c, 0xe874749c, 0x3e1f1f21, 0x964b4bdd, 0x61bdbddc, 0x0d8b8b86, 0x0f8a8a85, 0xe0707090, 0x7c3e3e42, 0x71b5b5c4, 0xcc6666aa, 0x904848d8, 0x06030305, 0xf7f6f601, 0x1c0e0e12, 0xc26161a3, 0x6a35355f, 0xae5757f9, 0x69b9b9d0, 0x17868691, 0x99c1c158, 0x3a1d1d27, 0x279e9eb9, 0xd9e1e138, 0xebf8f813, 0x2b9898b3, 0x22111133, 0xd26969bb, 0xa9d9d970, 0x078e8e89, 0x339494a7, 0x2d9b9bb6, 0x3c1e1e22, 0x15878792, 0xc9e9e920, 0x87cece49, 0xaa5555ff, 0x50282878, 0xa5dfdf7a, 0x038c8c8f, 0x59a1a1f8, 0x09898980, 0x1a0d0d17, 0x65bfbfda, 0xd7e6e631, 0x844242c6, 0xd06868b8, 0x824141c3, 0x299999b0, 0x5a2d2d77, 0x1e0f0f11, 0x7bb0b0cb, 0xa85454fc, 0x6dbbbbd6, 0x2c16163a];
          var T2 = [0xa5c66363, 0x84f87c7c, 0x99ee7777, 0x8df67b7b, 0x0dfff2f2, 0xbdd66b6b, 0xb1de6f6f, 0x5491c5c5, 0x50603030, 0x03020101, 0xa9ce6767, 0x7d562b2b, 0x19e7fefe, 0x62b5d7d7, 0xe64dabab, 0x9aec7676, 0x458fcaca, 0x9d1f8282, 0x4089c9c9, 0x87fa7d7d, 0x15effafa, 0xebb25959, 0xc98e4747, 0x0bfbf0f0, 0xec41adad, 0x67b3d4d4, 0xfd5fa2a2, 0xea45afaf, 0xbf239c9c, 0xf753a4a4, 0x96e47272, 0x5b9bc0c0, 0xc275b7b7, 0x1ce1fdfd, 0xae3d9393, 0x6a4c2626, 0x5a6c3636, 0x417e3f3f, 0x02f5f7f7, 0x4f83cccc, 0x5c683434, 0xf451a5a5, 0x34d1e5e5, 0x08f9f1f1, 0x93e27171, 0x73abd8d8, 0x53623131, 0x3f2a1515, 0x0c080404, 0x5295c7c7, 0x65462323, 0x5e9dc3c3, 0x28301818, 0xa1379696, 0x0f0a0505, 0xb52f9a9a, 0x090e0707, 0x36241212, 0x9b1b8080, 0x3ddfe2e2, 0x26cdebeb, 0x694e2727, 0xcd7fb2b2, 0x9fea7575, 0x1b120909, 0x9e1d8383, 0x74582c2c, 0x2e341a1a, 0x2d361b1b, 0xb2dc6e6e, 0xeeb45a5a, 0xfb5ba0a0, 0xf6a45252, 0x4d763b3b, 0x61b7d6d6, 0xce7db3b3, 0x7b522929, 0x3edde3e3, 0x715e2f2f, 0x97138484, 0xf5a65353, 0x68b9d1d1, 0x00000000, 0x2cc1eded, 0x60402020, 0x1fe3fcfc, 0xc879b1b1, 0xedb65b5b, 0xbed46a6a, 0x468dcbcb, 0xd967bebe, 0x4b723939, 0xde944a4a, 0xd4984c4c, 0xe8b05858, 0x4a85cfcf, 0x6bbbd0d0, 0x2ac5efef, 0xe54faaaa, 0x16edfbfb, 0xc5864343, 0xd79a4d4d, 0x55663333, 0x94118585, 0xcf8a4545, 0x10e9f9f9, 0x06040202, 0x81fe7f7f, 0xf0a05050, 0x44783c3c, 0xba259f9f, 0xe34ba8a8, 0xf3a25151, 0xfe5da3a3, 0xc0804040, 0x8a058f8f, 0xad3f9292, 0xbc219d9d, 0x48703838, 0x04f1f5f5, 0xdf63bcbc, 0xc177b6b6, 0x75afdada, 0x63422121, 0x30201010, 0x1ae5ffff, 0x0efdf3f3, 0x6dbfd2d2, 0x4c81cdcd, 0x14180c0c, 0x35261313, 0x2fc3ecec, 0xe1be5f5f, 0xa2359797, 0xcc884444, 0x392e1717, 0x5793c4c4, 0xf255a7a7, 0x82fc7e7e, 0x477a3d3d, 0xacc86464, 0xe7ba5d5d, 0x2b321919, 0x95e67373, 0xa0c06060, 0x98198181, 0xd19e4f4f, 0x7fa3dcdc, 0x66442222, 0x7e542a2a, 0xab3b9090, 0x830b8888, 0xca8c4646, 0x29c7eeee, 0xd36bb8b8, 0x3c281414, 0x79a7dede, 0xe2bc5e5e, 0x1d160b0b, 0x76addbdb, 0x3bdbe0e0, 0x56643232, 0x4e743a3a, 0x1e140a0a, 0xdb924949, 0x0a0c0606, 0x6c482424, 0xe4b85c5c, 0x5d9fc2c2, 0x6ebdd3d3, 0xef43acac, 0xa6c46262, 0xa8399191, 0xa4319595, 0x37d3e4e4, 0x8bf27979, 0x32d5e7e7, 0x438bc8c8, 0x596e3737, 0xb7da6d6d, 0x8c018d8d, 0x64b1d5d5, 0xd29c4e4e, 0xe049a9a9, 0xb4d86c6c, 0xfaac5656, 0x07f3f4f4, 0x25cfeaea, 0xafca6565, 0x8ef47a7a, 0xe947aeae, 0x18100808, 0xd56fbaba, 0x88f07878, 0x6f4a2525, 0x725c2e2e, 0x24381c1c, 0xf157a6a6, 0xc773b4b4, 0x5197c6c6, 0x23cbe8e8, 0x7ca1dddd, 0x9ce87474, 0x213e1f1f, 0xdd964b4b, 0xdc61bdbd, 0x860d8b8b, 0x850f8a8a, 0x90e07070, 0x427c3e3e, 0xc471b5b5, 0xaacc6666, 0xd8904848, 0x05060303, 0x01f7f6f6, 0x121c0e0e, 0xa3c26161, 0x5f6a3535, 0xf9ae5757, 0xd069b9b9, 0x91178686, 0x5899c1c1, 0x273a1d1d, 0xb9279e9e, 0x38d9e1e1, 0x13ebf8f8, 0xb32b9898, 0x33221111, 0xbbd26969, 0x70a9d9d9, 0x89078e8e, 0xa7339494, 0xb62d9b9b, 0x223c1e1e, 0x92158787, 0x20c9e9e9, 0x4987cece, 0xffaa5555, 0x78502828, 0x7aa5dfdf, 0x8f038c8c, 0xf859a1a1, 0x80098989, 0x171a0d0d, 0xda65bfbf, 0x31d7e6e6, 0xc6844242, 0xb8d06868, 0xc3824141, 0xb0299999, 0x775a2d2d, 0x111e0f0f, 0xcb7bb0b0, 0xfca85454, 0xd66dbbbb, 0x3a2c1616];
          var T3 = [0x63a5c663, 0x7c84f87c, 0x7799ee77, 0x7b8df67b, 0xf20dfff2, 0x6bbdd66b, 0x6fb1de6f, 0xc55491c5, 0x30506030, 0x01030201, 0x67a9ce67, 0x2b7d562b, 0xfe19e7fe, 0xd762b5d7, 0xabe64dab, 0x769aec76, 0xca458fca, 0x829d1f82, 0xc94089c9, 0x7d87fa7d, 0xfa15effa, 0x59ebb259, 0x47c98e47, 0xf00bfbf0, 0xadec41ad, 0xd467b3d4, 0xa2fd5fa2, 0xafea45af, 0x9cbf239c, 0xa4f753a4, 0x7296e472, 0xc05b9bc0, 0xb7c275b7, 0xfd1ce1fd, 0x93ae3d93, 0x266a4c26, 0x365a6c36, 0x3f417e3f, 0xf702f5f7, 0xcc4f83cc, 0x345c6834, 0xa5f451a5, 0xe534d1e5, 0xf108f9f1, 0x7193e271, 0xd873abd8, 0x31536231, 0x153f2a15, 0x040c0804, 0xc75295c7, 0x23654623, 0xc35e9dc3, 0x18283018, 0x96a13796, 0x050f0a05, 0x9ab52f9a, 0x07090e07, 0x12362412, 0x809b1b80, 0xe23ddfe2, 0xeb26cdeb, 0x27694e27, 0xb2cd7fb2, 0x759fea75, 0x091b1209, 0x839e1d83, 0x2c74582c, 0x1a2e341a, 0x1b2d361b, 0x6eb2dc6e, 0x5aeeb45a, 0xa0fb5ba0, 0x52f6a452, 0x3b4d763b, 0xd661b7d6, 0xb3ce7db3, 0x297b5229, 0xe33edde3, 0x2f715e2f, 0x84971384, 0x53f5a653, 0xd168b9d1, 0x00000000, 0xed2cc1ed, 0x20604020, 0xfc1fe3fc, 0xb1c879b1, 0x5bedb65b, 0x6abed46a, 0xcb468dcb, 0xbed967be, 0x394b7239, 0x4ade944a, 0x4cd4984c, 0x58e8b058, 0xcf4a85cf, 0xd06bbbd0, 0xef2ac5ef, 0xaae54faa, 0xfb16edfb, 0x43c58643, 0x4dd79a4d, 0x33556633, 0x85941185, 0x45cf8a45, 0xf910e9f9, 0x02060402, 0x7f81fe7f, 0x50f0a050, 0x3c44783c, 0x9fba259f, 0xa8e34ba8, 0x51f3a251, 0xa3fe5da3, 0x40c08040, 0x8f8a058f, 0x92ad3f92, 0x9dbc219d, 0x38487038, 0xf504f1f5, 0xbcdf63bc, 0xb6c177b6, 0xda75afda, 0x21634221, 0x10302010, 0xff1ae5ff, 0xf30efdf3, 0xd26dbfd2, 0xcd4c81cd, 0x0c14180c, 0x13352613, 0xec2fc3ec, 0x5fe1be5f, 0x97a23597, 0x44cc8844, 0x17392e17, 0xc45793c4, 0xa7f255a7, 0x7e82fc7e, 0x3d477a3d, 0x64acc864, 0x5de7ba5d, 0x192b3219, 0x7395e673, 0x60a0c060, 0x81981981, 0x4fd19e4f, 0xdc7fa3dc, 0x22664422, 0x2a7e542a, 0x90ab3b90, 0x88830b88, 0x46ca8c46, 0xee29c7ee, 0xb8d36bb8, 0x143c2814, 0xde79a7de, 0x5ee2bc5e, 0x0b1d160b, 0xdb76addb, 0xe03bdbe0, 0x32566432, 0x3a4e743a, 0x0a1e140a, 0x49db9249, 0x060a0c06, 0x246c4824, 0x5ce4b85c, 0xc25d9fc2, 0xd36ebdd3, 0xacef43ac, 0x62a6c462, 0x91a83991, 0x95a43195, 0xe437d3e4, 0x798bf279, 0xe732d5e7, 0xc8438bc8, 0x37596e37, 0x6db7da6d, 0x8d8c018d, 0xd564b1d5, 0x4ed29c4e, 0xa9e049a9, 0x6cb4d86c, 0x56faac56, 0xf407f3f4, 0xea25cfea, 0x65afca65, 0x7a8ef47a, 0xaee947ae, 0x08181008, 0xbad56fba, 0x7888f078, 0x256f4a25, 0x2e725c2e, 0x1c24381c, 0xa6f157a6, 0xb4c773b4, 0xc65197c6, 0xe823cbe8, 0xdd7ca1dd, 0x749ce874, 0x1f213e1f, 0x4bdd964b, 0xbddc61bd, 0x8b860d8b, 0x8a850f8a, 0x7090e070, 0x3e427c3e, 0xb5c471b5, 0x66aacc66, 0x48d89048, 0x03050603, 0xf601f7f6, 0x0e121c0e, 0x61a3c261, 0x355f6a35, 0x57f9ae57, 0xb9d069b9, 0x86911786, 0xc15899c1, 0x1d273a1d, 0x9eb9279e, 0xe138d9e1, 0xf813ebf8, 0x98b32b98, 0x11332211, 0x69bbd269, 0xd970a9d9, 0x8e89078e, 0x94a73394, 0x9bb62d9b, 0x1e223c1e, 0x87921587, 0xe920c9e9, 0xce4987ce, 0x55ffaa55, 0x28785028, 0xdf7aa5df, 0x8c8f038c, 0xa1f859a1, 0x89800989, 0x0d171a0d, 0xbfda65bf, 0xe631d7e6, 0x42c68442, 0x68b8d068, 0x41c38241, 0x99b02999, 0x2d775a2d, 0x0f111e0f, 0xb0cb7bb0, 0x54fca854, 0xbbd66dbb, 0x163a2c16];
          var T4 = [0x6363a5c6, 0x7c7c84f8, 0x777799ee, 0x7b7b8df6, 0xf2f20dff, 0x6b6bbdd6, 0x6f6fb1de, 0xc5c55491, 0x30305060, 0x01010302, 0x6767a9ce, 0x2b2b7d56, 0xfefe19e7, 0xd7d762b5, 0xababe64d, 0x76769aec, 0xcaca458f, 0x82829d1f, 0xc9c94089, 0x7d7d87fa, 0xfafa15ef, 0x5959ebb2, 0x4747c98e, 0xf0f00bfb, 0xadadec41, 0xd4d467b3, 0xa2a2fd5f, 0xafafea45, 0x9c9cbf23, 0xa4a4f753, 0x727296e4, 0xc0c05b9b, 0xb7b7c275, 0xfdfd1ce1, 0x9393ae3d, 0x26266a4c, 0x36365a6c, 0x3f3f417e, 0xf7f702f5, 0xcccc4f83, 0x34345c68, 0xa5a5f451, 0xe5e534d1, 0xf1f108f9, 0x717193e2, 0xd8d873ab, 0x31315362, 0x15153f2a, 0x04040c08, 0xc7c75295, 0x23236546, 0xc3c35e9d, 0x18182830, 0x9696a137, 0x05050f0a, 0x9a9ab52f, 0x0707090e, 0x12123624, 0x80809b1b, 0xe2e23ddf, 0xebeb26cd, 0x2727694e, 0xb2b2cd7f, 0x75759fea, 0x09091b12, 0x83839e1d, 0x2c2c7458, 0x1a1a2e34, 0x1b1b2d36, 0x6e6eb2dc, 0x5a5aeeb4, 0xa0a0fb5b, 0x5252f6a4, 0x3b3b4d76, 0xd6d661b7, 0xb3b3ce7d, 0x29297b52, 0xe3e33edd, 0x2f2f715e, 0x84849713, 0x5353f5a6, 0xd1d168b9, 0x00000000, 0xeded2cc1, 0x20206040, 0xfcfc1fe3, 0xb1b1c879, 0x5b5bedb6, 0x6a6abed4, 0xcbcb468d, 0xbebed967, 0x39394b72, 0x4a4ade94, 0x4c4cd498, 0x5858e8b0, 0xcfcf4a85, 0xd0d06bbb, 0xefef2ac5, 0xaaaae54f, 0xfbfb16ed, 0x4343c586, 0x4d4dd79a, 0x33335566, 0x85859411, 0x4545cf8a, 0xf9f910e9, 0x02020604, 0x7f7f81fe, 0x5050f0a0, 0x3c3c4478, 0x9f9fba25, 0xa8a8e34b, 0x5151f3a2, 0xa3a3fe5d, 0x4040c080, 0x8f8f8a05, 0x9292ad3f, 0x9d9dbc21, 0x38384870, 0xf5f504f1, 0xbcbcdf63, 0xb6b6c177, 0xdada75af, 0x21216342, 0x10103020, 0xffff1ae5, 0xf3f30efd, 0xd2d26dbf, 0xcdcd4c81, 0x0c0c1418, 0x13133526, 0xecec2fc3, 0x5f5fe1be, 0x9797a235, 0x4444cc88, 0x1717392e, 0xc4c45793, 0xa7a7f255, 0x7e7e82fc, 0x3d3d477a, 0x6464acc8, 0x5d5de7ba, 0x19192b32, 0x737395e6, 0x6060a0c0, 0x81819819, 0x4f4fd19e, 0xdcdc7fa3, 0x22226644, 0x2a2a7e54, 0x9090ab3b, 0x8888830b, 0x4646ca8c, 0xeeee29c7, 0xb8b8d36b, 0x14143c28, 0xdede79a7, 0x5e5ee2bc, 0x0b0b1d16, 0xdbdb76ad, 0xe0e03bdb, 0x32325664, 0x3a3a4e74, 0x0a0a1e14, 0x4949db92, 0x06060a0c, 0x24246c48, 0x5c5ce4b8, 0xc2c25d9f, 0xd3d36ebd, 0xacacef43, 0x6262a6c4, 0x9191a839, 0x9595a431, 0xe4e437d3, 0x79798bf2, 0xe7e732d5, 0xc8c8438b, 0x3737596e, 0x6d6db7da, 0x8d8d8c01, 0xd5d564b1, 0x4e4ed29c, 0xa9a9e049, 0x6c6cb4d8, 0x5656faac, 0xf4f407f3, 0xeaea25cf, 0x6565afca, 0x7a7a8ef4, 0xaeaee947, 0x08081810, 0xbabad56f, 0x787888f0, 0x25256f4a, 0x2e2e725c, 0x1c1c2438, 0xa6a6f157, 0xb4b4c773, 0xc6c65197, 0xe8e823cb, 0xdddd7ca1, 0x74749ce8, 0x1f1f213e, 0x4b4bdd96, 0xbdbddc61, 0x8b8b860d, 0x8a8a850f, 0x707090e0, 0x3e3e427c, 0xb5b5c471, 0x6666aacc, 0x4848d890, 0x03030506, 0xf6f601f7, 0x0e0e121c, 0x6161a3c2, 0x35355f6a, 0x5757f9ae, 0xb9b9d069, 0x86869117, 0xc1c15899, 0x1d1d273a, 0x9e9eb927, 0xe1e138d9, 0xf8f813eb, 0x9898b32b, 0x11113322, 0x6969bbd2, 0xd9d970a9, 0x8e8e8907, 0x9494a733, 0x9b9bb62d, 0x1e1e223c, 0x87879215, 0xe9e920c9, 0xcece4987, 0x5555ffaa, 0x28287850, 0xdfdf7aa5, 0x8c8c8f03, 0xa1a1f859, 0x89898009, 0x0d0d171a, 0xbfbfda65, 0xe6e631d7, 0x4242c684, 0x6868b8d0, 0x4141c382, 0x9999b029, 0x2d2d775a, 0x0f0f111e, 0xb0b0cb7b, 0x5454fca8, 0xbbbbd66d, 0x16163a2c]; // Transformations for decryption

          var T5 = [0x51f4a750, 0x7e416553, 0x1a17a4c3, 0x3a275e96, 0x3bab6bcb, 0x1f9d45f1, 0xacfa58ab, 0x4be30393, 0x2030fa55, 0xad766df6, 0x88cc7691, 0xf5024c25, 0x4fe5d7fc, 0xc52acbd7, 0x26354480, 0xb562a38f, 0xdeb15a49, 0x25ba1b67, 0x45ea0e98, 0x5dfec0e1, 0xc32f7502, 0x814cf012, 0x8d4697a3, 0x6bd3f9c6, 0x038f5fe7, 0x15929c95, 0xbf6d7aeb, 0x955259da, 0xd4be832d, 0x587421d3, 0x49e06929, 0x8ec9c844, 0x75c2896a, 0xf48e7978, 0x99583e6b, 0x27b971dd, 0xbee14fb6, 0xf088ad17, 0xc920ac66, 0x7dce3ab4, 0x63df4a18, 0xe51a3182, 0x97513360, 0x62537f45, 0xb16477e0, 0xbb6bae84, 0xfe81a01c, 0xf9082b94, 0x70486858, 0x8f45fd19, 0x94de6c87, 0x527bf8b7, 0xab73d323, 0x724b02e2, 0xe31f8f57, 0x6655ab2a, 0xb2eb2807, 0x2fb5c203, 0x86c57b9a, 0xd33708a5, 0x302887f2, 0x23bfa5b2, 0x02036aba, 0xed16825c, 0x8acf1c2b, 0xa779b492, 0xf307f2f0, 0x4e69e2a1, 0x65daf4cd, 0x0605bed5, 0xd134621f, 0xc4a6fe8a, 0x342e539d, 0xa2f355a0, 0x058ae132, 0xa4f6eb75, 0x0b83ec39, 0x4060efaa, 0x5e719f06, 0xbd6e1051, 0x3e218af9, 0x96dd063d, 0xdd3e05ae, 0x4de6bd46, 0x91548db5, 0x71c45d05, 0x0406d46f, 0x605015ff, 0x1998fb24, 0xd6bde997, 0x894043cc, 0x67d99e77, 0xb0e842bd, 0x07898b88, 0xe7195b38, 0x79c8eedb, 0xa17c0a47, 0x7c420fe9, 0xf8841ec9, 0x00000000, 0x09808683, 0x322bed48, 0x1e1170ac, 0x6c5a724e, 0xfd0efffb, 0x0f853856, 0x3daed51e, 0x362d3927, 0x0a0fd964, 0x685ca621, 0x9b5b54d1, 0x24362e3a, 0x0c0a67b1, 0x9357e70f, 0xb4ee96d2, 0x1b9b919e, 0x80c0c54f, 0x61dc20a2, 0x5a774b69, 0x1c121a16, 0xe293ba0a, 0xc0a02ae5, 0x3c22e043, 0x121b171d, 0x0e090d0b, 0xf28bc7ad, 0x2db6a8b9, 0x141ea9c8, 0x57f11985, 0xaf75074c, 0xee99ddbb, 0xa37f60fd, 0xf701269f, 0x5c72f5bc, 0x44663bc5, 0x5bfb7e34, 0x8b432976, 0xcb23c6dc, 0xb6edfc68, 0xb8e4f163, 0xd731dcca, 0x42638510, 0x13972240, 0x84c61120, 0x854a247d, 0xd2bb3df8, 0xaef93211, 0xc729a16d, 0x1d9e2f4b, 0xdcb230f3, 0x0d8652ec, 0x77c1e3d0, 0x2bb3166c, 0xa970b999, 0x119448fa, 0x47e96422, 0xa8fc8cc4, 0xa0f03f1a, 0x567d2cd8, 0x223390ef, 0x87494ec7, 0xd938d1c1, 0x8ccaa2fe, 0x98d40b36, 0xa6f581cf, 0xa57ade28, 0xdab78e26, 0x3fadbfa4, 0x2c3a9de4, 0x5078920d, 0x6a5fcc9b, 0x547e4662, 0xf68d13c2, 0x90d8b8e8, 0x2e39f75e, 0x82c3aff5, 0x9f5d80be, 0x69d0937c, 0x6fd52da9, 0xcf2512b3, 0xc8ac993b, 0x10187da7, 0xe89c636e, 0xdb3bbb7b, 0xcd267809, 0x6e5918f4, 0xec9ab701, 0x834f9aa8, 0xe6956e65, 0xaaffe67e, 0x21bccf08, 0xef15e8e6, 0xbae79bd9, 0x4a6f36ce, 0xea9f09d4, 0x29b07cd6, 0x31a4b2af, 0x2a3f2331, 0xc6a59430, 0x35a266c0, 0x744ebc37, 0xfc82caa6, 0xe090d0b0, 0x33a7d815, 0xf104984a, 0x41ecdaf7, 0x7fcd500e, 0x1791f62f, 0x764dd68d, 0x43efb04d, 0xccaa4d54, 0xe49604df, 0x9ed1b5e3, 0x4c6a881b, 0xc12c1fb8, 0x4665517f, 0x9d5eea04, 0x018c355d, 0xfa877473, 0xfb0b412e, 0xb3671d5a, 0x92dbd252, 0xe9105633, 0x6dd64713, 0x9ad7618c, 0x37a10c7a, 0x59f8148e, 0xeb133c89, 0xcea927ee, 0xb761c935, 0xe11ce5ed, 0x7a47b13c, 0x9cd2df59, 0x55f2733f, 0x1814ce79, 0x73c737bf, 0x53f7cdea, 0x5ffdaa5b, 0xdf3d6f14, 0x7844db86, 0xcaaff381, 0xb968c43e, 0x3824342c, 0xc2a3405f, 0x161dc372, 0xbce2250c, 0x283c498b, 0xff0d9541, 0x39a80171, 0x080cb3de, 0xd8b4e49c, 0x6456c190, 0x7bcb8461, 0xd532b670, 0x486c5c74, 0xd0b85742];
          var T6 = [0x5051f4a7, 0x537e4165, 0xc31a17a4, 0x963a275e, 0xcb3bab6b, 0xf11f9d45, 0xabacfa58, 0x934be303, 0x552030fa, 0xf6ad766d, 0x9188cc76, 0x25f5024c, 0xfc4fe5d7, 0xd7c52acb, 0x80263544, 0x8fb562a3, 0x49deb15a, 0x6725ba1b, 0x9845ea0e, 0xe15dfec0, 0x02c32f75, 0x12814cf0, 0xa38d4697, 0xc66bd3f9, 0xe7038f5f, 0x9515929c, 0xebbf6d7a, 0xda955259, 0x2dd4be83, 0xd3587421, 0x2949e069, 0x448ec9c8, 0x6a75c289, 0x78f48e79, 0x6b99583e, 0xdd27b971, 0xb6bee14f, 0x17f088ad, 0x66c920ac, 0xb47dce3a, 0x1863df4a, 0x82e51a31, 0x60975133, 0x4562537f, 0xe0b16477, 0x84bb6bae, 0x1cfe81a0, 0x94f9082b, 0x58704868, 0x198f45fd, 0x8794de6c, 0xb7527bf8, 0x23ab73d3, 0xe2724b02, 0x57e31f8f, 0x2a6655ab, 0x07b2eb28, 0x032fb5c2, 0x9a86c57b, 0xa5d33708, 0xf2302887, 0xb223bfa5, 0xba02036a, 0x5ced1682, 0x2b8acf1c, 0x92a779b4, 0xf0f307f2, 0xa14e69e2, 0xcd65daf4, 0xd50605be, 0x1fd13462, 0x8ac4a6fe, 0x9d342e53, 0xa0a2f355, 0x32058ae1, 0x75a4f6eb, 0x390b83ec, 0xaa4060ef, 0x065e719f, 0x51bd6e10, 0xf93e218a, 0x3d96dd06, 0xaedd3e05, 0x464de6bd, 0xb591548d, 0x0571c45d, 0x6f0406d4, 0xff605015, 0x241998fb, 0x97d6bde9, 0xcc894043, 0x7767d99e, 0xbdb0e842, 0x8807898b, 0x38e7195b, 0xdb79c8ee, 0x47a17c0a, 0xe97c420f, 0xc9f8841e, 0x00000000, 0x83098086, 0x48322bed, 0xac1e1170, 0x4e6c5a72, 0xfbfd0eff, 0x560f8538, 0x1e3daed5, 0x27362d39, 0x640a0fd9, 0x21685ca6, 0xd19b5b54, 0x3a24362e, 0xb10c0a67, 0x0f9357e7, 0xd2b4ee96, 0x9e1b9b91, 0x4f80c0c5, 0xa261dc20, 0x695a774b, 0x161c121a, 0x0ae293ba, 0xe5c0a02a, 0x433c22e0, 0x1d121b17, 0x0b0e090d, 0xadf28bc7, 0xb92db6a8, 0xc8141ea9, 0x8557f119, 0x4caf7507, 0xbbee99dd, 0xfda37f60, 0x9ff70126, 0xbc5c72f5, 0xc544663b, 0x345bfb7e, 0x768b4329, 0xdccb23c6, 0x68b6edfc, 0x63b8e4f1, 0xcad731dc, 0x10426385, 0x40139722, 0x2084c611, 0x7d854a24, 0xf8d2bb3d, 0x11aef932, 0x6dc729a1, 0x4b1d9e2f, 0xf3dcb230, 0xec0d8652, 0xd077c1e3, 0x6c2bb316, 0x99a970b9, 0xfa119448, 0x2247e964, 0xc4a8fc8c, 0x1aa0f03f, 0xd8567d2c, 0xef223390, 0xc787494e, 0xc1d938d1, 0xfe8ccaa2, 0x3698d40b, 0xcfa6f581, 0x28a57ade, 0x26dab78e, 0xa43fadbf, 0xe42c3a9d, 0x0d507892, 0x9b6a5fcc, 0x62547e46, 0xc2f68d13, 0xe890d8b8, 0x5e2e39f7, 0xf582c3af, 0xbe9f5d80, 0x7c69d093, 0xa96fd52d, 0xb3cf2512, 0x3bc8ac99, 0xa710187d, 0x6ee89c63, 0x7bdb3bbb, 0x09cd2678, 0xf46e5918, 0x01ec9ab7, 0xa8834f9a, 0x65e6956e, 0x7eaaffe6, 0x0821bccf, 0xe6ef15e8, 0xd9bae79b, 0xce4a6f36, 0xd4ea9f09, 0xd629b07c, 0xaf31a4b2, 0x312a3f23, 0x30c6a594, 0xc035a266, 0x37744ebc, 0xa6fc82ca, 0xb0e090d0, 0x1533a7d8, 0x4af10498, 0xf741ecda, 0x0e7fcd50, 0x2f1791f6, 0x8d764dd6, 0x4d43efb0, 0x54ccaa4d, 0xdfe49604, 0xe39ed1b5, 0x1b4c6a88, 0xb8c12c1f, 0x7f466551, 0x049d5eea, 0x5d018c35, 0x73fa8774, 0x2efb0b41, 0x5ab3671d, 0x5292dbd2, 0x33e91056, 0x136dd647, 0x8c9ad761, 0x7a37a10c, 0x8e59f814, 0x89eb133c, 0xeecea927, 0x35b761c9, 0xede11ce5, 0x3c7a47b1, 0x599cd2df, 0x3f55f273, 0x791814ce, 0xbf73c737, 0xea53f7cd, 0x5b5ffdaa, 0x14df3d6f, 0x867844db, 0x81caaff3, 0x3eb968c4, 0x2c382434, 0x5fc2a340, 0x72161dc3, 0x0cbce225, 0x8b283c49, 0x41ff0d95, 0x7139a801, 0xde080cb3, 0x9cd8b4e4, 0x906456c1, 0x617bcb84, 0x70d532b6, 0x74486c5c, 0x42d0b857];
          var T7 = [0xa75051f4, 0x65537e41, 0xa4c31a17, 0x5e963a27, 0x6bcb3bab, 0x45f11f9d, 0x58abacfa, 0x03934be3, 0xfa552030, 0x6df6ad76, 0x769188cc, 0x4c25f502, 0xd7fc4fe5, 0xcbd7c52a, 0x44802635, 0xa38fb562, 0x5a49deb1, 0x1b6725ba, 0x0e9845ea, 0xc0e15dfe, 0x7502c32f, 0xf012814c, 0x97a38d46, 0xf9c66bd3, 0x5fe7038f, 0x9c951592, 0x7aebbf6d, 0x59da9552, 0x832dd4be, 0x21d35874, 0x692949e0, 0xc8448ec9, 0x896a75c2, 0x7978f48e, 0x3e6b9958, 0x71dd27b9, 0x4fb6bee1, 0xad17f088, 0xac66c920, 0x3ab47dce, 0x4a1863df, 0x3182e51a, 0x33609751, 0x7f456253, 0x77e0b164, 0xae84bb6b, 0xa01cfe81, 0x2b94f908, 0x68587048, 0xfd198f45, 0x6c8794de, 0xf8b7527b, 0xd323ab73, 0x02e2724b, 0x8f57e31f, 0xab2a6655, 0x2807b2eb, 0xc2032fb5, 0x7b9a86c5, 0x08a5d337, 0x87f23028, 0xa5b223bf, 0x6aba0203, 0x825ced16, 0x1c2b8acf, 0xb492a779, 0xf2f0f307, 0xe2a14e69, 0xf4cd65da, 0xbed50605, 0x621fd134, 0xfe8ac4a6, 0x539d342e, 0x55a0a2f3, 0xe132058a, 0xeb75a4f6, 0xec390b83, 0xefaa4060, 0x9f065e71, 0x1051bd6e, 0x8af93e21, 0x063d96dd, 0x05aedd3e, 0xbd464de6, 0x8db59154, 0x5d0571c4, 0xd46f0406, 0x15ff6050, 0xfb241998, 0xe997d6bd, 0x43cc8940, 0x9e7767d9, 0x42bdb0e8, 0x8b880789, 0x5b38e719, 0xeedb79c8, 0x0a47a17c, 0x0fe97c42, 0x1ec9f884, 0x00000000, 0x86830980, 0xed48322b, 0x70ac1e11, 0x724e6c5a, 0xfffbfd0e, 0x38560f85, 0xd51e3dae, 0x3927362d, 0xd9640a0f, 0xa621685c, 0x54d19b5b, 0x2e3a2436, 0x67b10c0a, 0xe70f9357, 0x96d2b4ee, 0x919e1b9b, 0xc54f80c0, 0x20a261dc, 0x4b695a77, 0x1a161c12, 0xba0ae293, 0x2ae5c0a0, 0xe0433c22, 0x171d121b, 0x0d0b0e09, 0xc7adf28b, 0xa8b92db6, 0xa9c8141e, 0x198557f1, 0x074caf75, 0xddbbee99, 0x60fda37f, 0x269ff701, 0xf5bc5c72, 0x3bc54466, 0x7e345bfb, 0x29768b43, 0xc6dccb23, 0xfc68b6ed, 0xf163b8e4, 0xdccad731, 0x85104263, 0x22401397, 0x112084c6, 0x247d854a, 0x3df8d2bb, 0x3211aef9, 0xa16dc729, 0x2f4b1d9e, 0x30f3dcb2, 0x52ec0d86, 0xe3d077c1, 0x166c2bb3, 0xb999a970, 0x48fa1194, 0x642247e9, 0x8cc4a8fc, 0x3f1aa0f0, 0x2cd8567d, 0x90ef2233, 0x4ec78749, 0xd1c1d938, 0xa2fe8cca, 0x0b3698d4, 0x81cfa6f5, 0xde28a57a, 0x8e26dab7, 0xbfa43fad, 0x9de42c3a, 0x920d5078, 0xcc9b6a5f, 0x4662547e, 0x13c2f68d, 0xb8e890d8, 0xf75e2e39, 0xaff582c3, 0x80be9f5d, 0x937c69d0, 0x2da96fd5, 0x12b3cf25, 0x993bc8ac, 0x7da71018, 0x636ee89c, 0xbb7bdb3b, 0x7809cd26, 0x18f46e59, 0xb701ec9a, 0x9aa8834f, 0x6e65e695, 0xe67eaaff, 0xcf0821bc, 0xe8e6ef15, 0x9bd9bae7, 0x36ce4a6f, 0x09d4ea9f, 0x7cd629b0, 0xb2af31a4, 0x23312a3f, 0x9430c6a5, 0x66c035a2, 0xbc37744e, 0xcaa6fc82, 0xd0b0e090, 0xd81533a7, 0x984af104, 0xdaf741ec, 0x500e7fcd, 0xf62f1791, 0xd68d764d, 0xb04d43ef, 0x4d54ccaa, 0x04dfe496, 0xb5e39ed1, 0x881b4c6a, 0x1fb8c12c, 0x517f4665, 0xea049d5e, 0x355d018c, 0x7473fa87, 0x412efb0b, 0x1d5ab367, 0xd25292db, 0x5633e910, 0x47136dd6, 0x618c9ad7, 0x0c7a37a1, 0x148e59f8, 0x3c89eb13, 0x27eecea9, 0xc935b761, 0xe5ede11c, 0xb13c7a47, 0xdf599cd2, 0x733f55f2, 0xce791814, 0x37bf73c7, 0xcdea53f7, 0xaa5b5ffd, 0x6f14df3d, 0xdb867844, 0xf381caaf, 0xc43eb968, 0x342c3824, 0x405fc2a3, 0xc372161d, 0x250cbce2, 0x498b283c, 0x9541ff0d, 0x017139a8, 0xb3de080c, 0xe49cd8b4, 0xc1906456, 0x84617bcb, 0xb670d532, 0x5c74486c, 0x5742d0b8];
          var T8 = [0xf4a75051, 0x4165537e, 0x17a4c31a, 0x275e963a, 0xab6bcb3b, 0x9d45f11f, 0xfa58abac, 0xe303934b, 0x30fa5520, 0x766df6ad, 0xcc769188, 0x024c25f5, 0xe5d7fc4f, 0x2acbd7c5, 0x35448026, 0x62a38fb5, 0xb15a49de, 0xba1b6725, 0xea0e9845, 0xfec0e15d, 0x2f7502c3, 0x4cf01281, 0x4697a38d, 0xd3f9c66b, 0x8f5fe703, 0x929c9515, 0x6d7aebbf, 0x5259da95, 0xbe832dd4, 0x7421d358, 0xe0692949, 0xc9c8448e, 0xc2896a75, 0x8e7978f4, 0x583e6b99, 0xb971dd27, 0xe14fb6be, 0x88ad17f0, 0x20ac66c9, 0xce3ab47d, 0xdf4a1863, 0x1a3182e5, 0x51336097, 0x537f4562, 0x6477e0b1, 0x6bae84bb, 0x81a01cfe, 0x082b94f9, 0x48685870, 0x45fd198f, 0xde6c8794, 0x7bf8b752, 0x73d323ab, 0x4b02e272, 0x1f8f57e3, 0x55ab2a66, 0xeb2807b2, 0xb5c2032f, 0xc57b9a86, 0x3708a5d3, 0x2887f230, 0xbfa5b223, 0x036aba02, 0x16825ced, 0xcf1c2b8a, 0x79b492a7, 0x07f2f0f3, 0x69e2a14e, 0xdaf4cd65, 0x05bed506, 0x34621fd1, 0xa6fe8ac4, 0x2e539d34, 0xf355a0a2, 0x8ae13205, 0xf6eb75a4, 0x83ec390b, 0x60efaa40, 0x719f065e, 0x6e1051bd, 0x218af93e, 0xdd063d96, 0x3e05aedd, 0xe6bd464d, 0x548db591, 0xc45d0571, 0x06d46f04, 0x5015ff60, 0x98fb2419, 0xbde997d6, 0x4043cc89, 0xd99e7767, 0xe842bdb0, 0x898b8807, 0x195b38e7, 0xc8eedb79, 0x7c0a47a1, 0x420fe97c, 0x841ec9f8, 0x00000000, 0x80868309, 0x2bed4832, 0x1170ac1e, 0x5a724e6c, 0x0efffbfd, 0x8538560f, 0xaed51e3d, 0x2d392736, 0x0fd9640a, 0x5ca62168, 0x5b54d19b, 0x362e3a24, 0x0a67b10c, 0x57e70f93, 0xee96d2b4, 0x9b919e1b, 0xc0c54f80, 0xdc20a261, 0x774b695a, 0x121a161c, 0x93ba0ae2, 0xa02ae5c0, 0x22e0433c, 0x1b171d12, 0x090d0b0e, 0x8bc7adf2, 0xb6a8b92d, 0x1ea9c814, 0xf1198557, 0x75074caf, 0x99ddbbee, 0x7f60fda3, 0x01269ff7, 0x72f5bc5c, 0x663bc544, 0xfb7e345b, 0x4329768b, 0x23c6dccb, 0xedfc68b6, 0xe4f163b8, 0x31dccad7, 0x63851042, 0x97224013, 0xc6112084, 0x4a247d85, 0xbb3df8d2, 0xf93211ae, 0x29a16dc7, 0x9e2f4b1d, 0xb230f3dc, 0x8652ec0d, 0xc1e3d077, 0xb3166c2b, 0x70b999a9, 0x9448fa11, 0xe9642247, 0xfc8cc4a8, 0xf03f1aa0, 0x7d2cd856, 0x3390ef22, 0x494ec787, 0x38d1c1d9, 0xcaa2fe8c, 0xd40b3698, 0xf581cfa6, 0x7ade28a5, 0xb78e26da, 0xadbfa43f, 0x3a9de42c, 0x78920d50, 0x5fcc9b6a, 0x7e466254, 0x8d13c2f6, 0xd8b8e890, 0x39f75e2e, 0xc3aff582, 0x5d80be9f, 0xd0937c69, 0xd52da96f, 0x2512b3cf, 0xac993bc8, 0x187da710, 0x9c636ee8, 0x3bbb7bdb, 0x267809cd, 0x5918f46e, 0x9ab701ec, 0x4f9aa883, 0x956e65e6, 0xffe67eaa, 0xbccf0821, 0x15e8e6ef, 0xe79bd9ba, 0x6f36ce4a, 0x9f09d4ea, 0xb07cd629, 0xa4b2af31, 0x3f23312a, 0xa59430c6, 0xa266c035, 0x4ebc3774, 0x82caa6fc, 0x90d0b0e0, 0xa7d81533, 0x04984af1, 0xecdaf741, 0xcd500e7f, 0x91f62f17, 0x4dd68d76, 0xefb04d43, 0xaa4d54cc, 0x9604dfe4, 0xd1b5e39e, 0x6a881b4c, 0x2c1fb8c1, 0x65517f46, 0x5eea049d, 0x8c355d01, 0x877473fa, 0x0b412efb, 0x671d5ab3, 0xdbd25292, 0x105633e9, 0xd647136d, 0xd7618c9a, 0xa10c7a37, 0xf8148e59, 0x133c89eb, 0xa927eece, 0x61c935b7, 0x1ce5ede1, 0x47b13c7a, 0xd2df599c, 0xf2733f55, 0x14ce7918, 0xc737bf73, 0xf7cdea53, 0xfdaa5b5f, 0x3d6f14df, 0x44db8678, 0xaff381ca, 0x68c43eb9, 0x24342c38, 0xa3405fc2, 0x1dc37216, 0xe2250cbc, 0x3c498b28, 0x0d9541ff, 0xa8017139, 0x0cb3de08, 0xb4e49cd8, 0x56c19064, 0xcb84617b, 0x32b670d5, 0x6c5c7448, 0xb85742d0]; // Transformations for decryption key expansion

          var U1 = [0x00000000, 0x0e090d0b, 0x1c121a16, 0x121b171d, 0x3824342c, 0x362d3927, 0x24362e3a, 0x2a3f2331, 0x70486858, 0x7e416553, 0x6c5a724e, 0x62537f45, 0x486c5c74, 0x4665517f, 0x547e4662, 0x5a774b69, 0xe090d0b0, 0xee99ddbb, 0xfc82caa6, 0xf28bc7ad, 0xd8b4e49c, 0xd6bde997, 0xc4a6fe8a, 0xcaaff381, 0x90d8b8e8, 0x9ed1b5e3, 0x8ccaa2fe, 0x82c3aff5, 0xa8fc8cc4, 0xa6f581cf, 0xb4ee96d2, 0xbae79bd9, 0xdb3bbb7b, 0xd532b670, 0xc729a16d, 0xc920ac66, 0xe31f8f57, 0xed16825c, 0xff0d9541, 0xf104984a, 0xab73d323, 0xa57ade28, 0xb761c935, 0xb968c43e, 0x9357e70f, 0x9d5eea04, 0x8f45fd19, 0x814cf012, 0x3bab6bcb, 0x35a266c0, 0x27b971dd, 0x29b07cd6, 0x038f5fe7, 0x0d8652ec, 0x1f9d45f1, 0x119448fa, 0x4be30393, 0x45ea0e98, 0x57f11985, 0x59f8148e, 0x73c737bf, 0x7dce3ab4, 0x6fd52da9, 0x61dc20a2, 0xad766df6, 0xa37f60fd, 0xb16477e0, 0xbf6d7aeb, 0x955259da, 0x9b5b54d1, 0x894043cc, 0x87494ec7, 0xdd3e05ae, 0xd33708a5, 0xc12c1fb8, 0xcf2512b3, 0xe51a3182, 0xeb133c89, 0xf9082b94, 0xf701269f, 0x4de6bd46, 0x43efb04d, 0x51f4a750, 0x5ffdaa5b, 0x75c2896a, 0x7bcb8461, 0x69d0937c, 0x67d99e77, 0x3daed51e, 0x33a7d815, 0x21bccf08, 0x2fb5c203, 0x058ae132, 0x0b83ec39, 0x1998fb24, 0x1791f62f, 0x764dd68d, 0x7844db86, 0x6a5fcc9b, 0x6456c190, 0x4e69e2a1, 0x4060efaa, 0x527bf8b7, 0x5c72f5bc, 0x0605bed5, 0x080cb3de, 0x1a17a4c3, 0x141ea9c8, 0x3e218af9, 0x302887f2, 0x223390ef, 0x2c3a9de4, 0x96dd063d, 0x98d40b36, 0x8acf1c2b, 0x84c61120, 0xaef93211, 0xa0f03f1a, 0xb2eb2807, 0xbce2250c, 0xe6956e65, 0xe89c636e, 0xfa877473, 0xf48e7978, 0xdeb15a49, 0xd0b85742, 0xc2a3405f, 0xccaa4d54, 0x41ecdaf7, 0x4fe5d7fc, 0x5dfec0e1, 0x53f7cdea, 0x79c8eedb, 0x77c1e3d0, 0x65daf4cd, 0x6bd3f9c6, 0x31a4b2af, 0x3fadbfa4, 0x2db6a8b9, 0x23bfa5b2, 0x09808683, 0x07898b88, 0x15929c95, 0x1b9b919e, 0xa17c0a47, 0xaf75074c, 0xbd6e1051, 0xb3671d5a, 0x99583e6b, 0x97513360, 0x854a247d, 0x8b432976, 0xd134621f, 0xdf3d6f14, 0xcd267809, 0xc32f7502, 0xe9105633, 0xe7195b38, 0xf5024c25, 0xfb0b412e, 0x9ad7618c, 0x94de6c87, 0x86c57b9a, 0x88cc7691, 0xa2f355a0, 0xacfa58ab, 0xbee14fb6, 0xb0e842bd, 0xea9f09d4, 0xe49604df, 0xf68d13c2, 0xf8841ec9, 0xd2bb3df8, 0xdcb230f3, 0xcea927ee, 0xc0a02ae5, 0x7a47b13c, 0x744ebc37, 0x6655ab2a, 0x685ca621, 0x42638510, 0x4c6a881b, 0x5e719f06, 0x5078920d, 0x0a0fd964, 0x0406d46f, 0x161dc372, 0x1814ce79, 0x322bed48, 0x3c22e043, 0x2e39f75e, 0x2030fa55, 0xec9ab701, 0xe293ba0a, 0xf088ad17, 0xfe81a01c, 0xd4be832d, 0xdab78e26, 0xc8ac993b, 0xc6a59430, 0x9cd2df59, 0x92dbd252, 0x80c0c54f, 0x8ec9c844, 0xa4f6eb75, 0xaaffe67e, 0xb8e4f163, 0xb6edfc68, 0x0c0a67b1, 0x02036aba, 0x10187da7, 0x1e1170ac, 0x342e539d, 0x3a275e96, 0x283c498b, 0x26354480, 0x7c420fe9, 0x724b02e2, 0x605015ff, 0x6e5918f4, 0x44663bc5, 0x4a6f36ce, 0x587421d3, 0x567d2cd8, 0x37a10c7a, 0x39a80171, 0x2bb3166c, 0x25ba1b67, 0x0f853856, 0x018c355d, 0x13972240, 0x1d9e2f4b, 0x47e96422, 0x49e06929, 0x5bfb7e34, 0x55f2733f, 0x7fcd500e, 0x71c45d05, 0x63df4a18, 0x6dd64713, 0xd731dcca, 0xd938d1c1, 0xcb23c6dc, 0xc52acbd7, 0xef15e8e6, 0xe11ce5ed, 0xf307f2f0, 0xfd0efffb, 0xa779b492, 0xa970b999, 0xbb6bae84, 0xb562a38f, 0x9f5d80be, 0x91548db5, 0x834f9aa8, 0x8d4697a3];
          var U2 = [0x00000000, 0x0b0e090d, 0x161c121a, 0x1d121b17, 0x2c382434, 0x27362d39, 0x3a24362e, 0x312a3f23, 0x58704868, 0x537e4165, 0x4e6c5a72, 0x4562537f, 0x74486c5c, 0x7f466551, 0x62547e46, 0x695a774b, 0xb0e090d0, 0xbbee99dd, 0xa6fc82ca, 0xadf28bc7, 0x9cd8b4e4, 0x97d6bde9, 0x8ac4a6fe, 0x81caaff3, 0xe890d8b8, 0xe39ed1b5, 0xfe8ccaa2, 0xf582c3af, 0xc4a8fc8c, 0xcfa6f581, 0xd2b4ee96, 0xd9bae79b, 0x7bdb3bbb, 0x70d532b6, 0x6dc729a1, 0x66c920ac, 0x57e31f8f, 0x5ced1682, 0x41ff0d95, 0x4af10498, 0x23ab73d3, 0x28a57ade, 0x35b761c9, 0x3eb968c4, 0x0f9357e7, 0x049d5eea, 0x198f45fd, 0x12814cf0, 0xcb3bab6b, 0xc035a266, 0xdd27b971, 0xd629b07c, 0xe7038f5f, 0xec0d8652, 0xf11f9d45, 0xfa119448, 0x934be303, 0x9845ea0e, 0x8557f119, 0x8e59f814, 0xbf73c737, 0xb47dce3a, 0xa96fd52d, 0xa261dc20, 0xf6ad766d, 0xfda37f60, 0xe0b16477, 0xebbf6d7a, 0xda955259, 0xd19b5b54, 0xcc894043, 0xc787494e, 0xaedd3e05, 0xa5d33708, 0xb8c12c1f, 0xb3cf2512, 0x82e51a31, 0x89eb133c, 0x94f9082b, 0x9ff70126, 0x464de6bd, 0x4d43efb0, 0x5051f4a7, 0x5b5ffdaa, 0x6a75c289, 0x617bcb84, 0x7c69d093, 0x7767d99e, 0x1e3daed5, 0x1533a7d8, 0x0821bccf, 0x032fb5c2, 0x32058ae1, 0x390b83ec, 0x241998fb, 0x2f1791f6, 0x8d764dd6, 0x867844db, 0x9b6a5fcc, 0x906456c1, 0xa14e69e2, 0xaa4060ef, 0xb7527bf8, 0xbc5c72f5, 0xd50605be, 0xde080cb3, 0xc31a17a4, 0xc8141ea9, 0xf93e218a, 0xf2302887, 0xef223390, 0xe42c3a9d, 0x3d96dd06, 0x3698d40b, 0x2b8acf1c, 0x2084c611, 0x11aef932, 0x1aa0f03f, 0x07b2eb28, 0x0cbce225, 0x65e6956e, 0x6ee89c63, 0x73fa8774, 0x78f48e79, 0x49deb15a, 0x42d0b857, 0x5fc2a340, 0x54ccaa4d, 0xf741ecda, 0xfc4fe5d7, 0xe15dfec0, 0xea53f7cd, 0xdb79c8ee, 0xd077c1e3, 0xcd65daf4, 0xc66bd3f9, 0xaf31a4b2, 0xa43fadbf, 0xb92db6a8, 0xb223bfa5, 0x83098086, 0x8807898b, 0x9515929c, 0x9e1b9b91, 0x47a17c0a, 0x4caf7507, 0x51bd6e10, 0x5ab3671d, 0x6b99583e, 0x60975133, 0x7d854a24, 0x768b4329, 0x1fd13462, 0x14df3d6f, 0x09cd2678, 0x02c32f75, 0x33e91056, 0x38e7195b, 0x25f5024c, 0x2efb0b41, 0x8c9ad761, 0x8794de6c, 0x9a86c57b, 0x9188cc76, 0xa0a2f355, 0xabacfa58, 0xb6bee14f, 0xbdb0e842, 0xd4ea9f09, 0xdfe49604, 0xc2f68d13, 0xc9f8841e, 0xf8d2bb3d, 0xf3dcb230, 0xeecea927, 0xe5c0a02a, 0x3c7a47b1, 0x37744ebc, 0x2a6655ab, 0x21685ca6, 0x10426385, 0x1b4c6a88, 0x065e719f, 0x0d507892, 0x640a0fd9, 0x6f0406d4, 0x72161dc3, 0x791814ce, 0x48322bed, 0x433c22e0, 0x5e2e39f7, 0x552030fa, 0x01ec9ab7, 0x0ae293ba, 0x17f088ad, 0x1cfe81a0, 0x2dd4be83, 0x26dab78e, 0x3bc8ac99, 0x30c6a594, 0x599cd2df, 0x5292dbd2, 0x4f80c0c5, 0x448ec9c8, 0x75a4f6eb, 0x7eaaffe6, 0x63b8e4f1, 0x68b6edfc, 0xb10c0a67, 0xba02036a, 0xa710187d, 0xac1e1170, 0x9d342e53, 0x963a275e, 0x8b283c49, 0x80263544, 0xe97c420f, 0xe2724b02, 0xff605015, 0xf46e5918, 0xc544663b, 0xce4a6f36, 0xd3587421, 0xd8567d2c, 0x7a37a10c, 0x7139a801, 0x6c2bb316, 0x6725ba1b, 0x560f8538, 0x5d018c35, 0x40139722, 0x4b1d9e2f, 0x2247e964, 0x2949e069, 0x345bfb7e, 0x3f55f273, 0x0e7fcd50, 0x0571c45d, 0x1863df4a, 0x136dd647, 0xcad731dc, 0xc1d938d1, 0xdccb23c6, 0xd7c52acb, 0xe6ef15e8, 0xede11ce5, 0xf0f307f2, 0xfbfd0eff, 0x92a779b4, 0x99a970b9, 0x84bb6bae, 0x8fb562a3, 0xbe9f5d80, 0xb591548d, 0xa8834f9a, 0xa38d4697];
          var U3 = [0x00000000, 0x0d0b0e09, 0x1a161c12, 0x171d121b, 0x342c3824, 0x3927362d, 0x2e3a2436, 0x23312a3f, 0x68587048, 0x65537e41, 0x724e6c5a, 0x7f456253, 0x5c74486c, 0x517f4665, 0x4662547e, 0x4b695a77, 0xd0b0e090, 0xddbbee99, 0xcaa6fc82, 0xc7adf28b, 0xe49cd8b4, 0xe997d6bd, 0xfe8ac4a6, 0xf381caaf, 0xb8e890d8, 0xb5e39ed1, 0xa2fe8cca, 0xaff582c3, 0x8cc4a8fc, 0x81cfa6f5, 0x96d2b4ee, 0x9bd9bae7, 0xbb7bdb3b, 0xb670d532, 0xa16dc729, 0xac66c920, 0x8f57e31f, 0x825ced16, 0x9541ff0d, 0x984af104, 0xd323ab73, 0xde28a57a, 0xc935b761, 0xc43eb968, 0xe70f9357, 0xea049d5e, 0xfd198f45, 0xf012814c, 0x6bcb3bab, 0x66c035a2, 0x71dd27b9, 0x7cd629b0, 0x5fe7038f, 0x52ec0d86, 0x45f11f9d, 0x48fa1194, 0x03934be3, 0x0e9845ea, 0x198557f1, 0x148e59f8, 0x37bf73c7, 0x3ab47dce, 0x2da96fd5, 0x20a261dc, 0x6df6ad76, 0x60fda37f, 0x77e0b164, 0x7aebbf6d, 0x59da9552, 0x54d19b5b, 0x43cc8940, 0x4ec78749, 0x05aedd3e, 0x08a5d337, 0x1fb8c12c, 0x12b3cf25, 0x3182e51a, 0x3c89eb13, 0x2b94f908, 0x269ff701, 0xbd464de6, 0xb04d43ef, 0xa75051f4, 0xaa5b5ffd, 0x896a75c2, 0x84617bcb, 0x937c69d0, 0x9e7767d9, 0xd51e3dae, 0xd81533a7, 0xcf0821bc, 0xc2032fb5, 0xe132058a, 0xec390b83, 0xfb241998, 0xf62f1791, 0xd68d764d, 0xdb867844, 0xcc9b6a5f, 0xc1906456, 0xe2a14e69, 0xefaa4060, 0xf8b7527b, 0xf5bc5c72, 0xbed50605, 0xb3de080c, 0xa4c31a17, 0xa9c8141e, 0x8af93e21, 0x87f23028, 0x90ef2233, 0x9de42c3a, 0x063d96dd, 0x0b3698d4, 0x1c2b8acf, 0x112084c6, 0x3211aef9, 0x3f1aa0f0, 0x2807b2eb, 0x250cbce2, 0x6e65e695, 0x636ee89c, 0x7473fa87, 0x7978f48e, 0x5a49deb1, 0x5742d0b8, 0x405fc2a3, 0x4d54ccaa, 0xdaf741ec, 0xd7fc4fe5, 0xc0e15dfe, 0xcdea53f7, 0xeedb79c8, 0xe3d077c1, 0xf4cd65da, 0xf9c66bd3, 0xb2af31a4, 0xbfa43fad, 0xa8b92db6, 0xa5b223bf, 0x86830980, 0x8b880789, 0x9c951592, 0x919e1b9b, 0x0a47a17c, 0x074caf75, 0x1051bd6e, 0x1d5ab367, 0x3e6b9958, 0x33609751, 0x247d854a, 0x29768b43, 0x621fd134, 0x6f14df3d, 0x7809cd26, 0x7502c32f, 0x5633e910, 0x5b38e719, 0x4c25f502, 0x412efb0b, 0x618c9ad7, 0x6c8794de, 0x7b9a86c5, 0x769188cc, 0x55a0a2f3, 0x58abacfa, 0x4fb6bee1, 0x42bdb0e8, 0x09d4ea9f, 0x04dfe496, 0x13c2f68d, 0x1ec9f884, 0x3df8d2bb, 0x30f3dcb2, 0x27eecea9, 0x2ae5c0a0, 0xb13c7a47, 0xbc37744e, 0xab2a6655, 0xa621685c, 0x85104263, 0x881b4c6a, 0x9f065e71, 0x920d5078, 0xd9640a0f, 0xd46f0406, 0xc372161d, 0xce791814, 0xed48322b, 0xe0433c22, 0xf75e2e39, 0xfa552030, 0xb701ec9a, 0xba0ae293, 0xad17f088, 0xa01cfe81, 0x832dd4be, 0x8e26dab7, 0x993bc8ac, 0x9430c6a5, 0xdf599cd2, 0xd25292db, 0xc54f80c0, 0xc8448ec9, 0xeb75a4f6, 0xe67eaaff, 0xf163b8e4, 0xfc68b6ed, 0x67b10c0a, 0x6aba0203, 0x7da71018, 0x70ac1e11, 0x539d342e, 0x5e963a27, 0x498b283c, 0x44802635, 0x0fe97c42, 0x02e2724b, 0x15ff6050, 0x18f46e59, 0x3bc54466, 0x36ce4a6f, 0x21d35874, 0x2cd8567d, 0x0c7a37a1, 0x017139a8, 0x166c2bb3, 0x1b6725ba, 0x38560f85, 0x355d018c, 0x22401397, 0x2f4b1d9e, 0x642247e9, 0x692949e0, 0x7e345bfb, 0x733f55f2, 0x500e7fcd, 0x5d0571c4, 0x4a1863df, 0x47136dd6, 0xdccad731, 0xd1c1d938, 0xc6dccb23, 0xcbd7c52a, 0xe8e6ef15, 0xe5ede11c, 0xf2f0f307, 0xfffbfd0e, 0xb492a779, 0xb999a970, 0xae84bb6b, 0xa38fb562, 0x80be9f5d, 0x8db59154, 0x9aa8834f, 0x97a38d46];
          var U4 = [0x00000000, 0x090d0b0e, 0x121a161c, 0x1b171d12, 0x24342c38, 0x2d392736, 0x362e3a24, 0x3f23312a, 0x48685870, 0x4165537e, 0x5a724e6c, 0x537f4562, 0x6c5c7448, 0x65517f46, 0x7e466254, 0x774b695a, 0x90d0b0e0, 0x99ddbbee, 0x82caa6fc, 0x8bc7adf2, 0xb4e49cd8, 0xbde997d6, 0xa6fe8ac4, 0xaff381ca, 0xd8b8e890, 0xd1b5e39e, 0xcaa2fe8c, 0xc3aff582, 0xfc8cc4a8, 0xf581cfa6, 0xee96d2b4, 0xe79bd9ba, 0x3bbb7bdb, 0x32b670d5, 0x29a16dc7, 0x20ac66c9, 0x1f8f57e3, 0x16825ced, 0x0d9541ff, 0x04984af1, 0x73d323ab, 0x7ade28a5, 0x61c935b7, 0x68c43eb9, 0x57e70f93, 0x5eea049d, 0x45fd198f, 0x4cf01281, 0xab6bcb3b, 0xa266c035, 0xb971dd27, 0xb07cd629, 0x8f5fe703, 0x8652ec0d, 0x9d45f11f, 0x9448fa11, 0xe303934b, 0xea0e9845, 0xf1198557, 0xf8148e59, 0xc737bf73, 0xce3ab47d, 0xd52da96f, 0xdc20a261, 0x766df6ad, 0x7f60fda3, 0x6477e0b1, 0x6d7aebbf, 0x5259da95, 0x5b54d19b, 0x4043cc89, 0x494ec787, 0x3e05aedd, 0x3708a5d3, 0x2c1fb8c1, 0x2512b3cf, 0x1a3182e5, 0x133c89eb, 0x082b94f9, 0x01269ff7, 0xe6bd464d, 0xefb04d43, 0xf4a75051, 0xfdaa5b5f, 0xc2896a75, 0xcb84617b, 0xd0937c69, 0xd99e7767, 0xaed51e3d, 0xa7d81533, 0xbccf0821, 0xb5c2032f, 0x8ae13205, 0x83ec390b, 0x98fb2419, 0x91f62f17, 0x4dd68d76, 0x44db8678, 0x5fcc9b6a, 0x56c19064, 0x69e2a14e, 0x60efaa40, 0x7bf8b752, 0x72f5bc5c, 0x05bed506, 0x0cb3de08, 0x17a4c31a, 0x1ea9c814, 0x218af93e, 0x2887f230, 0x3390ef22, 0x3a9de42c, 0xdd063d96, 0xd40b3698, 0xcf1c2b8a, 0xc6112084, 0xf93211ae, 0xf03f1aa0, 0xeb2807b2, 0xe2250cbc, 0x956e65e6, 0x9c636ee8, 0x877473fa, 0x8e7978f4, 0xb15a49de, 0xb85742d0, 0xa3405fc2, 0xaa4d54cc, 0xecdaf741, 0xe5d7fc4f, 0xfec0e15d, 0xf7cdea53, 0xc8eedb79, 0xc1e3d077, 0xdaf4cd65, 0xd3f9c66b, 0xa4b2af31, 0xadbfa43f, 0xb6a8b92d, 0xbfa5b223, 0x80868309, 0x898b8807, 0x929c9515, 0x9b919e1b, 0x7c0a47a1, 0x75074caf, 0x6e1051bd, 0x671d5ab3, 0x583e6b99, 0x51336097, 0x4a247d85, 0x4329768b, 0x34621fd1, 0x3d6f14df, 0x267809cd, 0x2f7502c3, 0x105633e9, 0x195b38e7, 0x024c25f5, 0x0b412efb, 0xd7618c9a, 0xde6c8794, 0xc57b9a86, 0xcc769188, 0xf355a0a2, 0xfa58abac, 0xe14fb6be, 0xe842bdb0, 0x9f09d4ea, 0x9604dfe4, 0x8d13c2f6, 0x841ec9f8, 0xbb3df8d2, 0xb230f3dc, 0xa927eece, 0xa02ae5c0, 0x47b13c7a, 0x4ebc3774, 0x55ab2a66, 0x5ca62168, 0x63851042, 0x6a881b4c, 0x719f065e, 0x78920d50, 0x0fd9640a, 0x06d46f04, 0x1dc37216, 0x14ce7918, 0x2bed4832, 0x22e0433c, 0x39f75e2e, 0x30fa5520, 0x9ab701ec, 0x93ba0ae2, 0x88ad17f0, 0x81a01cfe, 0xbe832dd4, 0xb78e26da, 0xac993bc8, 0xa59430c6, 0xd2df599c, 0xdbd25292, 0xc0c54f80, 0xc9c8448e, 0xf6eb75a4, 0xffe67eaa, 0xe4f163b8, 0xedfc68b6, 0x0a67b10c, 0x036aba02, 0x187da710, 0x1170ac1e, 0x2e539d34, 0x275e963a, 0x3c498b28, 0x35448026, 0x420fe97c, 0x4b02e272, 0x5015ff60, 0x5918f46e, 0x663bc544, 0x6f36ce4a, 0x7421d358, 0x7d2cd856, 0xa10c7a37, 0xa8017139, 0xb3166c2b, 0xba1b6725, 0x8538560f, 0x8c355d01, 0x97224013, 0x9e2f4b1d, 0xe9642247, 0xe0692949, 0xfb7e345b, 0xf2733f55, 0xcd500e7f, 0xc45d0571, 0xdf4a1863, 0xd647136d, 0x31dccad7, 0x38d1c1d9, 0x23c6dccb, 0x2acbd7c5, 0x15e8e6ef, 0x1ce5ede1, 0x07f2f0f3, 0x0efffbfd, 0x79b492a7, 0x70b999a9, 0x6bae84bb, 0x62a38fb5, 0x5d80be9f, 0x548db591, 0x4f9aa883, 0x4697a38d];

          function convertToInt32(bytes) {
            var result = [];

            for (var i = 0; i < bytes.length; i += 4) {
              result.push(bytes[i] << 24 | bytes[i + 1] << 16 | bytes[i + 2] << 8 | bytes[i + 3]);
            }

            return result;
          }

          var AES = function AES(key) {
            if (!(this instanceof AES)) {
              throw Error('AES must be instanitated with `new`');
            }

            Object.defineProperty(this, 'key', {
              value: coerceArray(key, true)
            });

            this._prepare();
          };

          AES.prototype._prepare = function () {
            var rounds = numberOfRounds[this.key.length];

            if (rounds == null) {
              throw new Error('invalid key size (must be 16, 24 or 32 bytes)');
            } // encryption round keys


            this._Ke = []; // decryption round keys

            this._Kd = [];

            for (var i = 0; i <= rounds; i++) {
              this._Ke.push([0, 0, 0, 0]);

              this._Kd.push([0, 0, 0, 0]);
            }

            var roundKeyCount = (rounds + 1) * 4;
            var KC = this.key.length / 4; // convert the key into ints

            var tk = convertToInt32(this.key); // copy values into round key arrays

            var index;

            for (var i = 0; i < KC; i++) {
              index = i >> 2;
              this._Ke[index][i % 4] = tk[i];
              this._Kd[rounds - index][i % 4] = tk[i];
            } // key expansion (fips-197 section 5.2)


            var rconpointer = 0;
            var t = KC,
                tt;

            while (t < roundKeyCount) {
              tt = tk[KC - 1];
              tk[0] ^= S[tt >> 16 & 0xFF] << 24 ^ S[tt >> 8 & 0xFF] << 16 ^ S[tt & 0xFF] << 8 ^ S[tt >> 24 & 0xFF] ^ rcon[rconpointer] << 24;
              rconpointer += 1; // key expansion (for non-256 bit)

              if (KC != 8) {
                for (var i = 1; i < KC; i++) {
                  tk[i] ^= tk[i - 1];
                } // key expansion for 256-bit keys is "slightly different" (fips-197)

              } else {
                for (var i = 1; i < KC / 2; i++) {
                  tk[i] ^= tk[i - 1];
                }

                tt = tk[KC / 2 - 1];
                tk[KC / 2] ^= S[tt & 0xFF] ^ S[tt >> 8 & 0xFF] << 8 ^ S[tt >> 16 & 0xFF] << 16 ^ S[tt >> 24 & 0xFF] << 24;

                for (var i = KC / 2 + 1; i < KC; i++) {
                  tk[i] ^= tk[i - 1];
                }
              } // copy values into round key arrays


              var i = 0,
                  r,
                  c;

              while (i < KC && t < roundKeyCount) {
                r = t >> 2;
                c = t % 4;
                this._Ke[r][c] = tk[i];
                this._Kd[rounds - r][c] = tk[i++];
                t++;
              }
            } // inverse-cipher-ify the decryption round key (fips-197 section 5.3)


            for (var r = 1; r < rounds; r++) {
              for (var c = 0; c < 4; c++) {
                tt = this._Kd[r][c];
                this._Kd[r][c] = U1[tt >> 24 & 0xFF] ^ U2[tt >> 16 & 0xFF] ^ U3[tt >> 8 & 0xFF] ^ U4[tt & 0xFF];
              }
            }
          };

          AES.prototype.encrypt = function (plaintext) {
            if (plaintext.length != 16) {
              throw new Error('invalid plaintext size (must be 16 bytes)');
            }

            var rounds = this._Ke.length - 1;
            var a = [0, 0, 0, 0]; // convert plaintext to (ints ^ key)

            var t = convertToInt32(plaintext);

            for (var i = 0; i < 4; i++) {
              t[i] ^= this._Ke[0][i];
            } // apply round transforms


            for (var r = 1; r < rounds; r++) {
              for (var i = 0; i < 4; i++) {
                a[i] = T1[t[i] >> 24 & 0xff] ^ T2[t[(i + 1) % 4] >> 16 & 0xff] ^ T3[t[(i + 2) % 4] >> 8 & 0xff] ^ T4[t[(i + 3) % 4] & 0xff] ^ this._Ke[r][i];
              }

              t = a.slice();
            } // the last round is special


            var result = createArray(16),
                tt;

            for (var i = 0; i < 4; i++) {
              tt = this._Ke[rounds][i];
              result[4 * i] = (S[t[i] >> 24 & 0xff] ^ tt >> 24) & 0xff;
              result[4 * i + 1] = (S[t[(i + 1) % 4] >> 16 & 0xff] ^ tt >> 16) & 0xff;
              result[4 * i + 2] = (S[t[(i + 2) % 4] >> 8 & 0xff] ^ tt >> 8) & 0xff;
              result[4 * i + 3] = (S[t[(i + 3) % 4] & 0xff] ^ tt) & 0xff;
            }

            return result;
          };

          AES.prototype.decrypt = function (ciphertext) {
            if (ciphertext.length != 16) {
              throw new Error('invalid ciphertext size (must be 16 bytes)');
            }

            var rounds = this._Kd.length - 1;
            var a = [0, 0, 0, 0]; // convert plaintext to (ints ^ key)

            var t = convertToInt32(ciphertext);

            for (var i = 0; i < 4; i++) {
              t[i] ^= this._Kd[0][i];
            } // apply round transforms


            for (var r = 1; r < rounds; r++) {
              for (var i = 0; i < 4; i++) {
                a[i] = T5[t[i] >> 24 & 0xff] ^ T6[t[(i + 3) % 4] >> 16 & 0xff] ^ T7[t[(i + 2) % 4] >> 8 & 0xff] ^ T8[t[(i + 1) % 4] & 0xff] ^ this._Kd[r][i];
              }

              t = a.slice();
            } // the last round is special


            var result = createArray(16),
                tt;

            for (var i = 0; i < 4; i++) {
              tt = this._Kd[rounds][i];
              result[4 * i] = (Si[t[i] >> 24 & 0xff] ^ tt >> 24) & 0xff;
              result[4 * i + 1] = (Si[t[(i + 3) % 4] >> 16 & 0xff] ^ tt >> 16) & 0xff;
              result[4 * i + 2] = (Si[t[(i + 2) % 4] >> 8 & 0xff] ^ tt >> 8) & 0xff;
              result[4 * i + 3] = (Si[t[(i + 1) % 4] & 0xff] ^ tt) & 0xff;
            }

            return result;
          };
          /**
           *  Mode Of Operation - Electonic Codebook (ECB)
           */


          var ModeOfOperationECB = function ModeOfOperationECB(key) {
            if (!(this instanceof ModeOfOperationECB)) {
              throw Error('AES must be instanitated with `new`');
            }

            this.description = "Electronic Code Block";
            this.name = "ecb";
            this._aes = new AES(key);
          };

          ModeOfOperationECB.prototype.encrypt = function (plaintext) {
            plaintext = coerceArray(plaintext);

            if (plaintext.length % 16 !== 0) {
              throw new Error('invalid plaintext size (must be multiple of 16 bytes)');
            }

            var ciphertext = createArray(plaintext.length);
            var block = createArray(16);

            for (var i = 0; i < plaintext.length; i += 16) {
              copyArray(plaintext, block, 0, i, i + 16);
              block = this._aes.encrypt(block);
              copyArray(block, ciphertext, i);
            }

            return ciphertext;
          };

          ModeOfOperationECB.prototype.decrypt = function (ciphertext) {
            ciphertext = coerceArray(ciphertext);

            if (ciphertext.length % 16 !== 0) {
              throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');
            }

            var plaintext = createArray(ciphertext.length);
            var block = createArray(16);

            for (var i = 0; i < ciphertext.length; i += 16) {
              copyArray(ciphertext, block, 0, i, i + 16);
              block = this._aes.decrypt(block);
              copyArray(block, plaintext, i);
            }

            return plaintext;
          };
          /**
           *  Mode Of Operation - Cipher Block Chaining (CBC)
           */


          var ModeOfOperationCBC = function ModeOfOperationCBC(key, iv) {
            if (!(this instanceof ModeOfOperationCBC)) {
              throw Error('AES must be instanitated with `new`');
            }

            this.description = "Cipher Block Chaining";
            this.name = "cbc";

            if (!iv) {
              iv = createArray(16);
            } else if (iv.length != 16) {
              throw new Error('invalid initialation vector size (must be 16 bytes)');
            }

            this._lastCipherblock = coerceArray(iv, true);
            this._aes = new AES(key);
          };

          ModeOfOperationCBC.prototype.encrypt = function (plaintext) {
            plaintext = coerceArray(plaintext);

            if (plaintext.length % 16 !== 0) {
              throw new Error('invalid plaintext size (must be multiple of 16 bytes)');
            }

            var ciphertext = createArray(plaintext.length);
            var block = createArray(16);

            for (var i = 0; i < plaintext.length; i += 16) {
              copyArray(plaintext, block, 0, i, i + 16);

              for (var j = 0; j < 16; j++) {
                block[j] ^= this._lastCipherblock[j];
              }

              this._lastCipherblock = this._aes.encrypt(block);
              copyArray(this._lastCipherblock, ciphertext, i);
            }

            return ciphertext;
          };

          ModeOfOperationCBC.prototype.decrypt = function (ciphertext) {
            ciphertext = coerceArray(ciphertext);

            if (ciphertext.length % 16 !== 0) {
              throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');
            }

            var plaintext = createArray(ciphertext.length);
            var block = createArray(16);

            for (var i = 0; i < ciphertext.length; i += 16) {
              copyArray(ciphertext, block, 0, i, i + 16);
              block = this._aes.decrypt(block);

              for (var j = 0; j < 16; j++) {
                plaintext[i + j] = block[j] ^ this._lastCipherblock[j];
              }

              copyArray(ciphertext, this._lastCipherblock, 0, i, i + 16);
            }

            return plaintext;
          };
          /**
           *  Mode Of Operation - Cipher Feedback (CFB)
           */


          var ModeOfOperationCFB = function ModeOfOperationCFB(key, iv, segmentSize) {
            if (!(this instanceof ModeOfOperationCFB)) {
              throw Error('AES must be instanitated with `new`');
            }

            this.description = "Cipher Feedback";
            this.name = "cfb";

            if (!iv) {
              iv = createArray(16);
            } else if (iv.length != 16) {
              throw new Error('invalid initialation vector size (must be 16 size)');
            }

            if (!segmentSize) {
              segmentSize = 1;
            }

            this.segmentSize = segmentSize;
            this._shiftRegister = coerceArray(iv, true);
            this._aes = new AES(key);
          };

          ModeOfOperationCFB.prototype.encrypt = function (plaintext) {
            if (plaintext.length % this.segmentSize != 0) {
              throw new Error('invalid plaintext size (must be segmentSize bytes)');
            }

            var encrypted = coerceArray(plaintext, true);
            var xorSegment;

            for (var i = 0; i < encrypted.length; i += this.segmentSize) {
              xorSegment = this._aes.encrypt(this._shiftRegister);

              for (var j = 0; j < this.segmentSize; j++) {
                encrypted[i + j] ^= xorSegment[j];
              } // Shift the register


              copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);
              copyArray(encrypted, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);
            }

            return encrypted;
          };

          ModeOfOperationCFB.prototype.decrypt = function (ciphertext) {
            if (ciphertext.length % this.segmentSize != 0) {
              throw new Error('invalid ciphertext size (must be segmentSize bytes)');
            }

            var plaintext = coerceArray(ciphertext, true);
            var xorSegment;

            for (var i = 0; i < plaintext.length; i += this.segmentSize) {
              xorSegment = this._aes.encrypt(this._shiftRegister);

              for (var j = 0; j < this.segmentSize; j++) {
                plaintext[i + j] ^= xorSegment[j];
              } // Shift the register


              copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);
              copyArray(ciphertext, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);
            }

            return plaintext;
          };
          /**
           *  Mode Of Operation - Output Feedback (OFB)
           */


          var ModeOfOperationOFB = function ModeOfOperationOFB(key, iv) {
            if (!(this instanceof ModeOfOperationOFB)) {
              throw Error('AES must be instanitated with `new`');
            }

            this.description = "Output Feedback";
            this.name = "ofb";

            if (!iv) {
              iv = createArray(16);
            } else if (iv.length != 16) {
              throw new Error('invalid initialation vector size (must be 16 bytes)');
            }

            this._lastPrecipher = coerceArray(iv, true);
            this._lastPrecipherIndex = 16;
            this._aes = new AES(key);
          };

          ModeOfOperationOFB.prototype.encrypt = function (plaintext) {
            var encrypted = coerceArray(plaintext, true);

            for (var i = 0; i < encrypted.length; i++) {
              if (this._lastPrecipherIndex === 16) {
                this._lastPrecipher = this._aes.encrypt(this._lastPrecipher);
                this._lastPrecipherIndex = 0;
              }

              encrypted[i] ^= this._lastPrecipher[this._lastPrecipherIndex++];
            }

            return encrypted;
          }; // Decryption is symetric


          ModeOfOperationOFB.prototype.decrypt = ModeOfOperationOFB.prototype.encrypt;
          /**
           *  Counter object for CTR common mode of operation
           */

          var Counter = function Counter(initialValue) {
            if (!(this instanceof Counter)) {
              throw Error('Counter must be instanitated with `new`');
            } // We allow 0, but anything false-ish uses the default 1


            if (initialValue !== 0 && !initialValue) {
              initialValue = 1;
            }

            if (typeof initialValue === 'number') {
              this._counter = createArray(16);
              this.setValue(initialValue);
            } else {
              this.setBytes(initialValue);
            }
          };

          Counter.prototype.setValue = function (value) {
            if (typeof value !== 'number' || parseInt(value) != value) {
              throw new Error('invalid counter value (must be an integer)');
            } // We cannot safely handle numbers beyond the safe range for integers


            if (value > Number.MAX_SAFE_INTEGER) {
              throw new Error('integer value out of safe range');
            }

            for (var index = 15; index >= 0; --index) {
              this._counter[index] = value % 256;
              value = parseInt(value / 256);
            }
          };

          Counter.prototype.setBytes = function (bytes) {
            bytes = coerceArray(bytes, true);

            if (bytes.length != 16) {
              throw new Error('invalid counter bytes size (must be 16 bytes)');
            }

            this._counter = bytes;
          };

          Counter.prototype.increment = function () {
            for (var i = 15; i >= 0; i--) {
              if (this._counter[i] === 255) {
                this._counter[i] = 0;
              } else {
                this._counter[i]++;
                break;
              }
            }
          };
          /**
           *  Mode Of Operation - Counter (CTR)
           */


          var ModeOfOperationCTR = function ModeOfOperationCTR(key, counter) {
            if (!(this instanceof ModeOfOperationCTR)) {
              throw Error('AES must be instanitated with `new`');
            }

            this.description = "Counter";
            this.name = "ctr";

            if (!(counter instanceof Counter)) {
              counter = new Counter(counter);
            }

            this._counter = counter;
            this._remainingCounter = null;
            this._remainingCounterIndex = 16;
            this._aes = new AES(key);
          };

          ModeOfOperationCTR.prototype.encrypt = function (plaintext) {
            var encrypted = coerceArray(plaintext, true);

            for (var i = 0; i < encrypted.length; i++) {
              if (this._remainingCounterIndex === 16) {
                this._remainingCounter = this._aes.encrypt(this._counter._counter);
                this._remainingCounterIndex = 0;

                this._counter.increment();
              }

              encrypted[i] ^= this._remainingCounter[this._remainingCounterIndex++];
            }

            return encrypted;
          }; // Decryption is symetric


          ModeOfOperationCTR.prototype.decrypt = ModeOfOperationCTR.prototype.encrypt; ///////////////////////
          // Padding
          // See:https://tools.ietf.org/html/rfc2315

          function pkcs7pad(data) {
            data = coerceArray(data, true);
            var padder = 16 - data.length % 16;
            var result = createArray(data.length + padder);
            copyArray(data, result);

            for (var i = data.length; i < result.length; i++) {
              result[i] = padder;
            }

            return result;
          }

          function pkcs7strip(data) {
            data = coerceArray(data, true);

            if (data.length < 16) {
              throw new Error('PKCS#7 invalid length');
            }

            var padder = data[data.length - 1];

            if (padder > 16) {
              throw new Error('PKCS#7 padding byte out of range');
            }

            var length = data.length - padder;

            for (var i = 0; i < padder; i++) {
              if (data[length + i] !== padder) {
                throw new Error('PKCS#7 invalid padding byte');
              }
            }

            var result = createArray(length);
            copyArray(data, result, 0, 0, length);
            return result;
          } ///////////////////////
          // Exporting
          // The block cipher


          var aesjs = {
            AES: AES,
            Counter: Counter,
            ModeOfOperation: {
              ecb: ModeOfOperationECB,
              cbc: ModeOfOperationCBC,
              cfb: ModeOfOperationCFB,
              ofb: ModeOfOperationOFB,
              ctr: ModeOfOperationCTR
            },
            utils: {
              hex: convertHex,
              utf8: convertUtf8
            },
            padding: {
              pkcs7: {
                pad: pkcs7pad,
                strip: pkcs7strip
              }
            },
            _arrayTest: {
              coerceArray: coerceArray,
              createArray: createArray,
              copyArray: copyArray
            }
          }; // node.js

          if (true) {
            module.exports = aesjs; // RequireJS/AMD
            // http://www.requirejs.org/docs/api.html
            // https://github.com/amdjs/amdjs-api/wiki/AMD
          } else {}
        })(this);
        /***/

      },

      /***/
      "./node_modules/bn.js/lib/bn.js":
      /*!**************************************!*\
        !*** ./node_modules/bn.js/lib/bn.js ***!
        \**************************************/

      /*! no static exports found */

      /***/
      function node_modulesBnJsLibBnJs(module, exports, __webpack_require__) {
        /* WEBPACK VAR INJECTION */
        (function (module) {
          (function (module, exports) {
            'use strict'; // Utils

            function assert(val, msg) {
              if (!val) throw new Error(msg || 'Assertion failed');
            } // Could use `inherits` module, but don't want to move from single file
            // architecture yet.


            function inherits(ctor, superCtor) {
              ctor.super_ = superCtor;

              var TempCtor = function TempCtor() {};

              TempCtor.prototype = superCtor.prototype;
              ctor.prototype = new TempCtor();
              ctor.prototype.constructor = ctor;
            } // BN


            function BN(number, base, endian) {
              if (BN.isBN(number)) {
                return number;
              }

              this.negative = 0;
              this.words = null;
              this.length = 0; // Reduction context

              this.red = null;

              if (number !== null) {
                if (base === 'le' || base === 'be') {
                  endian = base;
                  base = 10;
                }

                this._init(number || 0, base || 10, endian || 'be');
              }
            }

            if (_typeof(module) === 'object') {
              module.exports = BN;
            } else {
              exports.BN = BN;
            }

            BN.BN = BN;
            BN.wordSize = 26;
            var Buffer;

            try {
              Buffer = __webpack_require__(
              /*! buffer */
              0).Buffer;
            } catch (e) {}

            BN.isBN = function isBN(num) {
              if (num instanceof BN) {
                return true;
              }

              return num !== null && _typeof(num) === 'object' && num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);
            };

            BN.max = function max(left, right) {
              if (left.cmp(right) > 0) return left;
              return right;
            };

            BN.min = function min(left, right) {
              if (left.cmp(right) < 0) return left;
              return right;
            };

            BN.prototype._init = function init(number, base, endian) {
              if (typeof number === 'number') {
                return this._initNumber(number, base, endian);
              }

              if (_typeof(number) === 'object') {
                return this._initArray(number, base, endian);
              }

              if (base === 'hex') {
                base = 16;
              }

              assert(base === (base | 0) && base >= 2 && base <= 36);
              number = number.toString().replace(/\s+/g, '');
              var start = 0;

              if (number[0] === '-') {
                start++;
              }

              if (base === 16) {
                this._parseHex(number, start);
              } else {
                this._parseBase(number, base, start);
              }

              if (number[0] === '-') {
                this.negative = 1;
              }

              this.strip();
              if (endian !== 'le') return;

              this._initArray(this.toArray(), base, endian);
            };

            BN.prototype._initNumber = function _initNumber(number, base, endian) {
              if (number < 0) {
                this.negative = 1;
                number = -number;
              }

              if (number < 0x4000000) {
                this.words = [number & 0x3ffffff];
                this.length = 1;
              } else if (number < 0x10000000000000) {
                this.words = [number & 0x3ffffff, number / 0x4000000 & 0x3ffffff];
                this.length = 2;
              } else {
                assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)

                this.words = [number & 0x3ffffff, number / 0x4000000 & 0x3ffffff, 1];
                this.length = 3;
              }

              if (endian !== 'le') return; // Reverse the bytes

              this._initArray(this.toArray(), base, endian);
            };

            BN.prototype._initArray = function _initArray(number, base, endian) {
              // Perhaps a Uint8Array
              assert(typeof number.length === 'number');

              if (number.length <= 0) {
                this.words = [0];
                this.length = 1;
                return this;
              }

              this.length = Math.ceil(number.length / 3);
              this.words = new Array(this.length);

              for (var i = 0; i < this.length; i++) {
                this.words[i] = 0;
              }

              var j, w;
              var off = 0;

              if (endian === 'be') {
                for (i = number.length - 1, j = 0; i >= 0; i -= 3) {
                  w = number[i] | number[i - 1] << 8 | number[i - 2] << 16;
                  this.words[j] |= w << off & 0x3ffffff;
                  this.words[j + 1] = w >>> 26 - off & 0x3ffffff;
                  off += 24;

                  if (off >= 26) {
                    off -= 26;
                    j++;
                  }
                }
              } else if (endian === 'le') {
                for (i = 0, j = 0; i < number.length; i += 3) {
                  w = number[i] | number[i + 1] << 8 | number[i + 2] << 16;
                  this.words[j] |= w << off & 0x3ffffff;
                  this.words[j + 1] = w >>> 26 - off & 0x3ffffff;
                  off += 24;

                  if (off >= 26) {
                    off -= 26;
                    j++;
                  }
                }
              }

              return this.strip();
            };

            function parseHex(str, start, end) {
              var r = 0;
              var len = Math.min(str.length, end);

              for (var i = start; i < len; i++) {
                var c = str.charCodeAt(i) - 48;
                r <<= 4; // 'a' - 'f'

                if (c >= 49 && c <= 54) {
                  r |= c - 49 + 0xa; // 'A' - 'F'
                } else if (c >= 17 && c <= 22) {
                  r |= c - 17 + 0xa; // '0' - '9'
                } else {
                  r |= c & 0xf;
                }
              }

              return r;
            }

            BN.prototype._parseHex = function _parseHex(number, start) {
              // Create possibly bigger array to ensure that it fits the number
              this.length = Math.ceil((number.length - start) / 6);
              this.words = new Array(this.length);

              for (var i = 0; i < this.length; i++) {
                this.words[i] = 0;
              }

              var j, w; // Scan 24-bit chunks and add them to the number

              var off = 0;

              for (i = number.length - 6, j = 0; i >= start; i -= 6) {
                w = parseHex(number, i, i + 6);
                this.words[j] |= w << off & 0x3ffffff; // NOTE: `0x3fffff` is intentional here, 26bits max shift + 24bit hex limb

                this.words[j + 1] |= w >>> 26 - off & 0x3fffff;
                off += 24;

                if (off >= 26) {
                  off -= 26;
                  j++;
                }
              }

              if (i + 6 !== start) {
                w = parseHex(number, start, i + 6);
                this.words[j] |= w << off & 0x3ffffff;
                this.words[j + 1] |= w >>> 26 - off & 0x3fffff;
              }

              this.strip();
            };

            function parseBase(str, start, end, mul) {
              var r = 0;
              var len = Math.min(str.length, end);

              for (var i = start; i < len; i++) {
                var c = str.charCodeAt(i) - 48;
                r *= mul; // 'a'

                if (c >= 49) {
                  r += c - 49 + 0xa; // 'A'
                } else if (c >= 17) {
                  r += c - 17 + 0xa; // '0' - '9'
                } else {
                  r += c;
                }
              }

              return r;
            }

            BN.prototype._parseBase = function _parseBase(number, base, start) {
              // Initialize as zero
              this.words = [0];
              this.length = 1; // Find length of limb in base

              for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {
                limbLen++;
              }

              limbLen--;
              limbPow = limbPow / base | 0;
              var total = number.length - start;
              var mod = total % limbLen;
              var end = Math.min(total, total - mod) + start;
              var word = 0;

              for (var i = start; i < end; i += limbLen) {
                word = parseBase(number, i, i + limbLen, base);
                this.imuln(limbPow);

                if (this.words[0] + word < 0x4000000) {
                  this.words[0] += word;
                } else {
                  this._iaddn(word);
                }
              }

              if (mod !== 0) {
                var pow = 1;
                word = parseBase(number, i, number.length, base);

                for (i = 0; i < mod; i++) {
                  pow *= base;
                }

                this.imuln(pow);

                if (this.words[0] + word < 0x4000000) {
                  this.words[0] += word;
                } else {
                  this._iaddn(word);
                }
              }
            };

            BN.prototype.copy = function copy(dest) {
              dest.words = new Array(this.length);

              for (var i = 0; i < this.length; i++) {
                dest.words[i] = this.words[i];
              }

              dest.length = this.length;
              dest.negative = this.negative;
              dest.red = this.red;
            };

            BN.prototype.clone = function clone() {
              var r = new BN(null);
              this.copy(r);
              return r;
            };

            BN.prototype._expand = function _expand(size) {
              while (this.length < size) {
                this.words[this.length++] = 0;
              }

              return this;
            }; // Remove leading `0` from `this`


            BN.prototype.strip = function strip() {
              while (this.length > 1 && this.words[this.length - 1] === 0) {
                this.length--;
              }

              return this._normSign();
            };

            BN.prototype._normSign = function _normSign() {
              // -0 = 0
              if (this.length === 1 && this.words[0] === 0) {
                this.negative = 0;
              }

              return this;
            };

            BN.prototype.inspect = function inspect() {
              return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';
            };
            /*
             var zeros = [];
            var groupSizes = [];
            var groupBases = [];
             var s = '';
            var i = -1;
            while (++i < BN.wordSize) {
              zeros[i] = s;
              s += '0';
            }
            groupSizes[0] = 0;
            groupSizes[1] = 0;
            groupBases[0] = 0;
            groupBases[1] = 0;
            var base = 2 - 1;
            while (++base < 36 + 1) {
              var groupSize = 0;
              var groupBase = 1;
              while (groupBase < (1 << BN.wordSize) / base) {
                groupBase *= base;
                groupSize += 1;
              }
              groupSizes[base] = groupSize;
              groupBases[base] = groupBase;
            }
             */


            var zeros = ['', '0', '00', '000', '0000', '00000', '000000', '0000000', '00000000', '000000000', '0000000000', '00000000000', '000000000000', '0000000000000', '00000000000000', '000000000000000', '0000000000000000', '00000000000000000', '000000000000000000', '0000000000000000000', '00000000000000000000', '000000000000000000000', '0000000000000000000000', '00000000000000000000000', '000000000000000000000000', '0000000000000000000000000'];
            var groupSizes = [0, 0, 25, 16, 12, 11, 10, 9, 8, 8, 7, 7, 7, 7, 6, 6, 6, 6, 6, 6, 6, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5];
            var groupBases = [0, 0, 33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216, 43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625, 16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632, 6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149, 24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176];

            BN.prototype.toString = function toString(base, padding) {
              base = base || 10;
              padding = padding | 0 || 1;
              var out;

              if (base === 16 || base === 'hex') {
                out = '';
                var off = 0;
                var carry = 0;

                for (var i = 0; i < this.length; i++) {
                  var w = this.words[i];
                  var word = ((w << off | carry) & 0xffffff).toString(16);
                  carry = w >>> 24 - off & 0xffffff;

                  if (carry !== 0 || i !== this.length - 1) {
                    out = zeros[6 - word.length] + word + out;
                  } else {
                    out = word + out;
                  }

                  off += 2;

                  if (off >= 26) {
                    off -= 26;
                    i--;
                  }
                }

                if (carry !== 0) {
                  out = carry.toString(16) + out;
                }

                while (out.length % padding !== 0) {
                  out = '0' + out;
                }

                if (this.negative !== 0) {
                  out = '-' + out;
                }

                return out;
              }

              if (base === (base | 0) && base >= 2 && base <= 36) {
                // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));
                var groupSize = groupSizes[base]; // var groupBase = Math.pow(base, groupSize);

                var groupBase = groupBases[base];
                out = '';
                var c = this.clone();
                c.negative = 0;

                while (!c.isZero()) {
                  var r = c.modn(groupBase).toString(base);
                  c = c.idivn(groupBase);

                  if (!c.isZero()) {
                    out = zeros[groupSize - r.length] + r + out;
                  } else {
                    out = r + out;
                  }
                }

                if (this.isZero()) {
                  out = '0' + out;
                }

                while (out.length % padding !== 0) {
                  out = '0' + out;
                }

                if (this.negative !== 0) {
                  out = '-' + out;
                }

                return out;
              }

              assert(false, 'Base should be between 2 and 36');
            };

            BN.prototype.toNumber = function toNumber() {
              var ret = this.words[0];

              if (this.length === 2) {
                ret += this.words[1] * 0x4000000;
              } else if (this.length === 3 && this.words[2] === 0x01) {
                // NOTE: at this stage it is known that the top bit is set
                ret += 0x10000000000000 + this.words[1] * 0x4000000;
              } else if (this.length > 2) {
                assert(false, 'Number can only safely store up to 53 bits');
              }

              return this.negative !== 0 ? -ret : ret;
            };

            BN.prototype.toJSON = function toJSON() {
              return this.toString(16);
            };

            BN.prototype.toBuffer = function toBuffer(endian, length) {
              assert(typeof Buffer !== 'undefined');
              return this.toArrayLike(Buffer, endian, length);
            };

            BN.prototype.toArray = function toArray(endian, length) {
              return this.toArrayLike(Array, endian, length);
            };

            BN.prototype.toArrayLike = function toArrayLike(ArrayType, endian, length) {
              var byteLength = this.byteLength();
              var reqLength = length || Math.max(1, byteLength);
              assert(byteLength <= reqLength, 'byte array longer than desired length');
              assert(reqLength > 0, 'Requested array length <= 0');
              this.strip();
              var littleEndian = endian === 'le';
              var res = new ArrayType(reqLength);
              var b, i;
              var q = this.clone();

              if (!littleEndian) {
                // Assume big-endian
                for (i = 0; i < reqLength - byteLength; i++) {
                  res[i] = 0;
                }

                for (i = 0; !q.isZero(); i++) {
                  b = q.andln(0xff);
                  q.iushrn(8);
                  res[reqLength - i - 1] = b;
                }
              } else {
                for (i = 0; !q.isZero(); i++) {
                  b = q.andln(0xff);
                  q.iushrn(8);
                  res[i] = b;
                }

                for (; i < reqLength; i++) {
                  res[i] = 0;
                }
              }

              return res;
            };

            if (Math.clz32) {
              BN.prototype._countBits = function _countBits(w) {
                return 32 - Math.clz32(w);
              };
            } else {
              BN.prototype._countBits = function _countBits(w) {
                var t = w;
                var r = 0;

                if (t >= 0x1000) {
                  r += 13;
                  t >>>= 13;
                }

                if (t >= 0x40) {
                  r += 7;
                  t >>>= 7;
                }

                if (t >= 0x8) {
                  r += 4;
                  t >>>= 4;
                }

                if (t >= 0x02) {
                  r += 2;
                  t >>>= 2;
                }

                return r + t;
              };
            }

            BN.prototype._zeroBits = function _zeroBits(w) {
              // Short-cut
              if (w === 0) return 26;
              var t = w;
              var r = 0;

              if ((t & 0x1fff) === 0) {
                r += 13;
                t >>>= 13;
              }

              if ((t & 0x7f) === 0) {
                r += 7;
                t >>>= 7;
              }

              if ((t & 0xf) === 0) {
                r += 4;
                t >>>= 4;
              }

              if ((t & 0x3) === 0) {
                r += 2;
                t >>>= 2;
              }

              if ((t & 0x1) === 0) {
                r++;
              }

              return r;
            }; // Return number of used bits in a BN


            BN.prototype.bitLength = function bitLength() {
              var w = this.words[this.length - 1];

              var hi = this._countBits(w);

              return (this.length - 1) * 26 + hi;
            };

            function toBitArray(num) {
              var w = new Array(num.bitLength());

              for (var bit = 0; bit < w.length; bit++) {
                var off = bit / 26 | 0;
                var wbit = bit % 26;
                w[bit] = (num.words[off] & 1 << wbit) >>> wbit;
              }

              return w;
            } // Number of trailing zero bits


            BN.prototype.zeroBits = function zeroBits() {
              if (this.isZero()) return 0;
              var r = 0;

              for (var i = 0; i < this.length; i++) {
                var b = this._zeroBits(this.words[i]);

                r += b;
                if (b !== 26) break;
              }

              return r;
            };

            BN.prototype.byteLength = function byteLength() {
              return Math.ceil(this.bitLength() / 8);
            };

            BN.prototype.toTwos = function toTwos(width) {
              if (this.negative !== 0) {
                return this.abs().inotn(width).iaddn(1);
              }

              return this.clone();
            };

            BN.prototype.fromTwos = function fromTwos(width) {
              if (this.testn(width - 1)) {
                return this.notn(width).iaddn(1).ineg();
              }

              return this.clone();
            };

            BN.prototype.isNeg = function isNeg() {
              return this.negative !== 0;
            }; // Return negative clone of `this`


            BN.prototype.neg = function neg() {
              return this.clone().ineg();
            };

            BN.prototype.ineg = function ineg() {
              if (!this.isZero()) {
                this.negative ^= 1;
              }

              return this;
            }; // Or `num` with `this` in-place


            BN.prototype.iuor = function iuor(num) {
              while (this.length < num.length) {
                this.words[this.length++] = 0;
              }

              for (var i = 0; i < num.length; i++) {
                this.words[i] = this.words[i] | num.words[i];
              }

              return this.strip();
            };

            BN.prototype.ior = function ior(num) {
              assert((this.negative | num.negative) === 0);
              return this.iuor(num);
            }; // Or `num` with `this`


            BN.prototype.or = function or(num) {
              if (this.length > num.length) return this.clone().ior(num);
              return num.clone().ior(this);
            };

            BN.prototype.uor = function uor(num) {
              if (this.length > num.length) return this.clone().iuor(num);
              return num.clone().iuor(this);
            }; // And `num` with `this` in-place


            BN.prototype.iuand = function iuand(num) {
              // b = min-length(num, this)
              var b;

              if (this.length > num.length) {
                b = num;
              } else {
                b = this;
              }

              for (var i = 0; i < b.length; i++) {
                this.words[i] = this.words[i] & num.words[i];
              }

              this.length = b.length;
              return this.strip();
            };

            BN.prototype.iand = function iand(num) {
              assert((this.negative | num.negative) === 0);
              return this.iuand(num);
            }; // And `num` with `this`


            BN.prototype.and = function and(num) {
              if (this.length > num.length) return this.clone().iand(num);
              return num.clone().iand(this);
            };

            BN.prototype.uand = function uand(num) {
              if (this.length > num.length) return this.clone().iuand(num);
              return num.clone().iuand(this);
            }; // Xor `num` with `this` in-place


            BN.prototype.iuxor = function iuxor(num) {
              // a.length > b.length
              var a;
              var b;

              if (this.length > num.length) {
                a = this;
                b = num;
              } else {
                a = num;
                b = this;
              }

              for (var i = 0; i < b.length; i++) {
                this.words[i] = a.words[i] ^ b.words[i];
              }

              if (this !== a) {
                for (; i < a.length; i++) {
                  this.words[i] = a.words[i];
                }
              }

              this.length = a.length;
              return this.strip();
            };

            BN.prototype.ixor = function ixor(num) {
              assert((this.negative | num.negative) === 0);
              return this.iuxor(num);
            }; // Xor `num` with `this`


            BN.prototype.xor = function xor(num) {
              if (this.length > num.length) return this.clone().ixor(num);
              return num.clone().ixor(this);
            };

            BN.prototype.uxor = function uxor(num) {
              if (this.length > num.length) return this.clone().iuxor(num);
              return num.clone().iuxor(this);
            }; // Not ``this`` with ``width`` bitwidth


            BN.prototype.inotn = function inotn(width) {
              assert(typeof width === 'number' && width >= 0);
              var bytesNeeded = Math.ceil(width / 26) | 0;
              var bitsLeft = width % 26; // Extend the buffer with leading zeroes

              this._expand(bytesNeeded);

              if (bitsLeft > 0) {
                bytesNeeded--;
              } // Handle complete words


              for (var i = 0; i < bytesNeeded; i++) {
                this.words[i] = ~this.words[i] & 0x3ffffff;
              } // Handle the residue


              if (bitsLeft > 0) {
                this.words[i] = ~this.words[i] & 0x3ffffff >> 26 - bitsLeft;
              } // And remove leading zeroes


              return this.strip();
            };

            BN.prototype.notn = function notn(width) {
              return this.clone().inotn(width);
            }; // Set `bit` of `this`


            BN.prototype.setn = function setn(bit, val) {
              assert(typeof bit === 'number' && bit >= 0);
              var off = bit / 26 | 0;
              var wbit = bit % 26;

              this._expand(off + 1);

              if (val) {
                this.words[off] = this.words[off] | 1 << wbit;
              } else {
                this.words[off] = this.words[off] & ~(1 << wbit);
              }

              return this.strip();
            }; // Add `num` to `this` in-place


            BN.prototype.iadd = function iadd(num) {
              var r; // negative + positive

              if (this.negative !== 0 && num.negative === 0) {
                this.negative = 0;
                r = this.isub(num);
                this.negative ^= 1;
                return this._normSign(); // positive + negative
              } else if (this.negative === 0 && num.negative !== 0) {
                num.negative = 0;
                r = this.isub(num);
                num.negative = 1;
                return r._normSign();
              } // a.length > b.length


              var a, b;

              if (this.length > num.length) {
                a = this;
                b = num;
              } else {
                a = num;
                b = this;
              }

              var carry = 0;

              for (var i = 0; i < b.length; i++) {
                r = (a.words[i] | 0) + (b.words[i] | 0) + carry;
                this.words[i] = r & 0x3ffffff;
                carry = r >>> 26;
              }

              for (; carry !== 0 && i < a.length; i++) {
                r = (a.words[i] | 0) + carry;
                this.words[i] = r & 0x3ffffff;
                carry = r >>> 26;
              }

              this.length = a.length;

              if (carry !== 0) {
                this.words[this.length] = carry;
                this.length++; // Copy the rest of the words
              } else if (a !== this) {
                for (; i < a.length; i++) {
                  this.words[i] = a.words[i];
                }
              }

              return this;
            }; // Add `num` to `this`


            BN.prototype.add = function add(num) {
              var res;

              if (num.negative !== 0 && this.negative === 0) {
                num.negative = 0;
                res = this.sub(num);
                num.negative ^= 1;
                return res;
              } else if (num.negative === 0 && this.negative !== 0) {
                this.negative = 0;
                res = num.sub(this);
                this.negative = 1;
                return res;
              }

              if (this.length > num.length) return this.clone().iadd(num);
              return num.clone().iadd(this);
            }; // Subtract `num` from `this` in-place


            BN.prototype.isub = function isub(num) {
              // this - (-num) = this + num
              if (num.negative !== 0) {
                num.negative = 0;
                var r = this.iadd(num);
                num.negative = 1;
                return r._normSign(); // -this - num = -(this + num)
              } else if (this.negative !== 0) {
                this.negative = 0;
                this.iadd(num);
                this.negative = 1;
                return this._normSign();
              } // At this point both numbers are positive


              var cmp = this.cmp(num); // Optimization - zeroify

              if (cmp === 0) {
                this.negative = 0;
                this.length = 1;
                this.words[0] = 0;
                return this;
              } // a > b


              var a, b;

              if (cmp > 0) {
                a = this;
                b = num;
              } else {
                a = num;
                b = this;
              }

              var carry = 0;

              for (var i = 0; i < b.length; i++) {
                r = (a.words[i] | 0) - (b.words[i] | 0) + carry;
                carry = r >> 26;
                this.words[i] = r & 0x3ffffff;
              }

              for (; carry !== 0 && i < a.length; i++) {
                r = (a.words[i] | 0) + carry;
                carry = r >> 26;
                this.words[i] = r & 0x3ffffff;
              } // Copy rest of the words


              if (carry === 0 && i < a.length && a !== this) {
                for (; i < a.length; i++) {
                  this.words[i] = a.words[i];
                }
              }

              this.length = Math.max(this.length, i);

              if (a !== this) {
                this.negative = 1;
              }

              return this.strip();
            }; // Subtract `num` from `this`


            BN.prototype.sub = function sub(num) {
              return this.clone().isub(num);
            };

            function smallMulTo(self, num, out) {
              out.negative = num.negative ^ self.negative;
              var len = self.length + num.length | 0;
              out.length = len;
              len = len - 1 | 0; // Peel one iteration (compiler can't do it, because of code complexity)

              var a = self.words[0] | 0;
              var b = num.words[0] | 0;
              var r = a * b;
              var lo = r & 0x3ffffff;
              var carry = r / 0x4000000 | 0;
              out.words[0] = lo;

              for (var k = 1; k < len; k++) {
                // Sum all words with the same `i + j = k` and accumulate `ncarry`,
                // note that ncarry could be >= 0x3ffffff
                var ncarry = carry >>> 26;
                var rword = carry & 0x3ffffff;
                var maxJ = Math.min(k, num.length - 1);

                for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {
                  var i = k - j | 0;
                  a = self.words[i] | 0;
                  b = num.words[j] | 0;
                  r = a * b + rword;
                  ncarry += r / 0x4000000 | 0;
                  rword = r & 0x3ffffff;
                }

                out.words[k] = rword | 0;
                carry = ncarry | 0;
              }

              if (carry !== 0) {
                out.words[k] = carry | 0;
              } else {
                out.length--;
              }

              return out.strip();
            } // TODO(indutny): it may be reasonable to omit it for users who don't need
            // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit
            // multiplication (like elliptic secp256k1).


            var comb10MulTo = function comb10MulTo(self, num, out) {
              var a = self.words;
              var b = num.words;
              var o = out.words;
              var c = 0;
              var lo;
              var mid;
              var hi;
              var a0 = a[0] | 0;
              var al0 = a0 & 0x1fff;
              var ah0 = a0 >>> 13;
              var a1 = a[1] | 0;
              var al1 = a1 & 0x1fff;
              var ah1 = a1 >>> 13;
              var a2 = a[2] | 0;
              var al2 = a2 & 0x1fff;
              var ah2 = a2 >>> 13;
              var a3 = a[3] | 0;
              var al3 = a3 & 0x1fff;
              var ah3 = a3 >>> 13;
              var a4 = a[4] | 0;
              var al4 = a4 & 0x1fff;
              var ah4 = a4 >>> 13;
              var a5 = a[5] | 0;
              var al5 = a5 & 0x1fff;
              var ah5 = a5 >>> 13;
              var a6 = a[6] | 0;
              var al6 = a6 & 0x1fff;
              var ah6 = a6 >>> 13;
              var a7 = a[7] | 0;
              var al7 = a7 & 0x1fff;
              var ah7 = a7 >>> 13;
              var a8 = a[8] | 0;
              var al8 = a8 & 0x1fff;
              var ah8 = a8 >>> 13;
              var a9 = a[9] | 0;
              var al9 = a9 & 0x1fff;
              var ah9 = a9 >>> 13;
              var b0 = b[0] | 0;
              var bl0 = b0 & 0x1fff;
              var bh0 = b0 >>> 13;
              var b1 = b[1] | 0;
              var bl1 = b1 & 0x1fff;
              var bh1 = b1 >>> 13;
              var b2 = b[2] | 0;
              var bl2 = b2 & 0x1fff;
              var bh2 = b2 >>> 13;
              var b3 = b[3] | 0;
              var bl3 = b3 & 0x1fff;
              var bh3 = b3 >>> 13;
              var b4 = b[4] | 0;
              var bl4 = b4 & 0x1fff;
              var bh4 = b4 >>> 13;
              var b5 = b[5] | 0;
              var bl5 = b5 & 0x1fff;
              var bh5 = b5 >>> 13;
              var b6 = b[6] | 0;
              var bl6 = b6 & 0x1fff;
              var bh6 = b6 >>> 13;
              var b7 = b[7] | 0;
              var bl7 = b7 & 0x1fff;
              var bh7 = b7 >>> 13;
              var b8 = b[8] | 0;
              var bl8 = b8 & 0x1fff;
              var bh8 = b8 >>> 13;
              var b9 = b[9] | 0;
              var bl9 = b9 & 0x1fff;
              var bh9 = b9 >>> 13;
              out.negative = self.negative ^ num.negative;
              out.length = 19;
              /* k = 0 */

              lo = Math.imul(al0, bl0);
              mid = Math.imul(al0, bh0);
              mid = mid + Math.imul(ah0, bl0) | 0;
              hi = Math.imul(ah0, bh0);
              var w0 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w0 >>> 26) | 0;
              w0 &= 0x3ffffff;
              /* k = 1 */

              lo = Math.imul(al1, bl0);
              mid = Math.imul(al1, bh0);
              mid = mid + Math.imul(ah1, bl0) | 0;
              hi = Math.imul(ah1, bh0);
              lo = lo + Math.imul(al0, bl1) | 0;
              mid = mid + Math.imul(al0, bh1) | 0;
              mid = mid + Math.imul(ah0, bl1) | 0;
              hi = hi + Math.imul(ah0, bh1) | 0;
              var w1 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w1 >>> 26) | 0;
              w1 &= 0x3ffffff;
              /* k = 2 */

              lo = Math.imul(al2, bl0);
              mid = Math.imul(al2, bh0);
              mid = mid + Math.imul(ah2, bl0) | 0;
              hi = Math.imul(ah2, bh0);
              lo = lo + Math.imul(al1, bl1) | 0;
              mid = mid + Math.imul(al1, bh1) | 0;
              mid = mid + Math.imul(ah1, bl1) | 0;
              hi = hi + Math.imul(ah1, bh1) | 0;
              lo = lo + Math.imul(al0, bl2) | 0;
              mid = mid + Math.imul(al0, bh2) | 0;
              mid = mid + Math.imul(ah0, bl2) | 0;
              hi = hi + Math.imul(ah0, bh2) | 0;
              var w2 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w2 >>> 26) | 0;
              w2 &= 0x3ffffff;
              /* k = 3 */

              lo = Math.imul(al3, bl0);
              mid = Math.imul(al3, bh0);
              mid = mid + Math.imul(ah3, bl0) | 0;
              hi = Math.imul(ah3, bh0);
              lo = lo + Math.imul(al2, bl1) | 0;
              mid = mid + Math.imul(al2, bh1) | 0;
              mid = mid + Math.imul(ah2, bl1) | 0;
              hi = hi + Math.imul(ah2, bh1) | 0;
              lo = lo + Math.imul(al1, bl2) | 0;
              mid = mid + Math.imul(al1, bh2) | 0;
              mid = mid + Math.imul(ah1, bl2) | 0;
              hi = hi + Math.imul(ah1, bh2) | 0;
              lo = lo + Math.imul(al0, bl3) | 0;
              mid = mid + Math.imul(al0, bh3) | 0;
              mid = mid + Math.imul(ah0, bl3) | 0;
              hi = hi + Math.imul(ah0, bh3) | 0;
              var w3 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w3 >>> 26) | 0;
              w3 &= 0x3ffffff;
              /* k = 4 */

              lo = Math.imul(al4, bl0);
              mid = Math.imul(al4, bh0);
              mid = mid + Math.imul(ah4, bl0) | 0;
              hi = Math.imul(ah4, bh0);
              lo = lo + Math.imul(al3, bl1) | 0;
              mid = mid + Math.imul(al3, bh1) | 0;
              mid = mid + Math.imul(ah3, bl1) | 0;
              hi = hi + Math.imul(ah3, bh1) | 0;
              lo = lo + Math.imul(al2, bl2) | 0;
              mid = mid + Math.imul(al2, bh2) | 0;
              mid = mid + Math.imul(ah2, bl2) | 0;
              hi = hi + Math.imul(ah2, bh2) | 0;
              lo = lo + Math.imul(al1, bl3) | 0;
              mid = mid + Math.imul(al1, bh3) | 0;
              mid = mid + Math.imul(ah1, bl3) | 0;
              hi = hi + Math.imul(ah1, bh3) | 0;
              lo = lo + Math.imul(al0, bl4) | 0;
              mid = mid + Math.imul(al0, bh4) | 0;
              mid = mid + Math.imul(ah0, bl4) | 0;
              hi = hi + Math.imul(ah0, bh4) | 0;
              var w4 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w4 >>> 26) | 0;
              w4 &= 0x3ffffff;
              /* k = 5 */

              lo = Math.imul(al5, bl0);
              mid = Math.imul(al5, bh0);
              mid = mid + Math.imul(ah5, bl0) | 0;
              hi = Math.imul(ah5, bh0);
              lo = lo + Math.imul(al4, bl1) | 0;
              mid = mid + Math.imul(al4, bh1) | 0;
              mid = mid + Math.imul(ah4, bl1) | 0;
              hi = hi + Math.imul(ah4, bh1) | 0;
              lo = lo + Math.imul(al3, bl2) | 0;
              mid = mid + Math.imul(al3, bh2) | 0;
              mid = mid + Math.imul(ah3, bl2) | 0;
              hi = hi + Math.imul(ah3, bh2) | 0;
              lo = lo + Math.imul(al2, bl3) | 0;
              mid = mid + Math.imul(al2, bh3) | 0;
              mid = mid + Math.imul(ah2, bl3) | 0;
              hi = hi + Math.imul(ah2, bh3) | 0;
              lo = lo + Math.imul(al1, bl4) | 0;
              mid = mid + Math.imul(al1, bh4) | 0;
              mid = mid + Math.imul(ah1, bl4) | 0;
              hi = hi + Math.imul(ah1, bh4) | 0;
              lo = lo + Math.imul(al0, bl5) | 0;
              mid = mid + Math.imul(al0, bh5) | 0;
              mid = mid + Math.imul(ah0, bl5) | 0;
              hi = hi + Math.imul(ah0, bh5) | 0;
              var w5 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w5 >>> 26) | 0;
              w5 &= 0x3ffffff;
              /* k = 6 */

              lo = Math.imul(al6, bl0);
              mid = Math.imul(al6, bh0);
              mid = mid + Math.imul(ah6, bl0) | 0;
              hi = Math.imul(ah6, bh0);
              lo = lo + Math.imul(al5, bl1) | 0;
              mid = mid + Math.imul(al5, bh1) | 0;
              mid = mid + Math.imul(ah5, bl1) | 0;
              hi = hi + Math.imul(ah5, bh1) | 0;
              lo = lo + Math.imul(al4, bl2) | 0;
              mid = mid + Math.imul(al4, bh2) | 0;
              mid = mid + Math.imul(ah4, bl2) | 0;
              hi = hi + Math.imul(ah4, bh2) | 0;
              lo = lo + Math.imul(al3, bl3) | 0;
              mid = mid + Math.imul(al3, bh3) | 0;
              mid = mid + Math.imul(ah3, bl3) | 0;
              hi = hi + Math.imul(ah3, bh3) | 0;
              lo = lo + Math.imul(al2, bl4) | 0;
              mid = mid + Math.imul(al2, bh4) | 0;
              mid = mid + Math.imul(ah2, bl4) | 0;
              hi = hi + Math.imul(ah2, bh4) | 0;
              lo = lo + Math.imul(al1, bl5) | 0;
              mid = mid + Math.imul(al1, bh5) | 0;
              mid = mid + Math.imul(ah1, bl5) | 0;
              hi = hi + Math.imul(ah1, bh5) | 0;
              lo = lo + Math.imul(al0, bl6) | 0;
              mid = mid + Math.imul(al0, bh6) | 0;
              mid = mid + Math.imul(ah0, bl6) | 0;
              hi = hi + Math.imul(ah0, bh6) | 0;
              var w6 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w6 >>> 26) | 0;
              w6 &= 0x3ffffff;
              /* k = 7 */

              lo = Math.imul(al7, bl0);
              mid = Math.imul(al7, bh0);
              mid = mid + Math.imul(ah7, bl0) | 0;
              hi = Math.imul(ah7, bh0);
              lo = lo + Math.imul(al6, bl1) | 0;
              mid = mid + Math.imul(al6, bh1) | 0;
              mid = mid + Math.imul(ah6, bl1) | 0;
              hi = hi + Math.imul(ah6, bh1) | 0;
              lo = lo + Math.imul(al5, bl2) | 0;
              mid = mid + Math.imul(al5, bh2) | 0;
              mid = mid + Math.imul(ah5, bl2) | 0;
              hi = hi + Math.imul(ah5, bh2) | 0;
              lo = lo + Math.imul(al4, bl3) | 0;
              mid = mid + Math.imul(al4, bh3) | 0;
              mid = mid + Math.imul(ah4, bl3) | 0;
              hi = hi + Math.imul(ah4, bh3) | 0;
              lo = lo + Math.imul(al3, bl4) | 0;
              mid = mid + Math.imul(al3, bh4) | 0;
              mid = mid + Math.imul(ah3, bl4) | 0;
              hi = hi + Math.imul(ah3, bh4) | 0;
              lo = lo + Math.imul(al2, bl5) | 0;
              mid = mid + Math.imul(al2, bh5) | 0;
              mid = mid + Math.imul(ah2, bl5) | 0;
              hi = hi + Math.imul(ah2, bh5) | 0;
              lo = lo + Math.imul(al1, bl6) | 0;
              mid = mid + Math.imul(al1, bh6) | 0;
              mid = mid + Math.imul(ah1, bl6) | 0;
              hi = hi + Math.imul(ah1, bh6) | 0;
              lo = lo + Math.imul(al0, bl7) | 0;
              mid = mid + Math.imul(al0, bh7) | 0;
              mid = mid + Math.imul(ah0, bl7) | 0;
              hi = hi + Math.imul(ah0, bh7) | 0;
              var w7 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w7 >>> 26) | 0;
              w7 &= 0x3ffffff;
              /* k = 8 */

              lo = Math.imul(al8, bl0);
              mid = Math.imul(al8, bh0);
              mid = mid + Math.imul(ah8, bl0) | 0;
              hi = Math.imul(ah8, bh0);
              lo = lo + Math.imul(al7, bl1) | 0;
              mid = mid + Math.imul(al7, bh1) | 0;
              mid = mid + Math.imul(ah7, bl1) | 0;
              hi = hi + Math.imul(ah7, bh1) | 0;
              lo = lo + Math.imul(al6, bl2) | 0;
              mid = mid + Math.imul(al6, bh2) | 0;
              mid = mid + Math.imul(ah6, bl2) | 0;
              hi = hi + Math.imul(ah6, bh2) | 0;
              lo = lo + Math.imul(al5, bl3) | 0;
              mid = mid + Math.imul(al5, bh3) | 0;
              mid = mid + Math.imul(ah5, bl3) | 0;
              hi = hi + Math.imul(ah5, bh3) | 0;
              lo = lo + Math.imul(al4, bl4) | 0;
              mid = mid + Math.imul(al4, bh4) | 0;
              mid = mid + Math.imul(ah4, bl4) | 0;
              hi = hi + Math.imul(ah4, bh4) | 0;
              lo = lo + Math.imul(al3, bl5) | 0;
              mid = mid + Math.imul(al3, bh5) | 0;
              mid = mid + Math.imul(ah3, bl5) | 0;
              hi = hi + Math.imul(ah3, bh5) | 0;
              lo = lo + Math.imul(al2, bl6) | 0;
              mid = mid + Math.imul(al2, bh6) | 0;
              mid = mid + Math.imul(ah2, bl6) | 0;
              hi = hi + Math.imul(ah2, bh6) | 0;
              lo = lo + Math.imul(al1, bl7) | 0;
              mid = mid + Math.imul(al1, bh7) | 0;
              mid = mid + Math.imul(ah1, bl7) | 0;
              hi = hi + Math.imul(ah1, bh7) | 0;
              lo = lo + Math.imul(al0, bl8) | 0;
              mid = mid + Math.imul(al0, bh8) | 0;
              mid = mid + Math.imul(ah0, bl8) | 0;
              hi = hi + Math.imul(ah0, bh8) | 0;
              var w8 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w8 >>> 26) | 0;
              w8 &= 0x3ffffff;
              /* k = 9 */

              lo = Math.imul(al9, bl0);
              mid = Math.imul(al9, bh0);
              mid = mid + Math.imul(ah9, bl0) | 0;
              hi = Math.imul(ah9, bh0);
              lo = lo + Math.imul(al8, bl1) | 0;
              mid = mid + Math.imul(al8, bh1) | 0;
              mid = mid + Math.imul(ah8, bl1) | 0;
              hi = hi + Math.imul(ah8, bh1) | 0;
              lo = lo + Math.imul(al7, bl2) | 0;
              mid = mid + Math.imul(al7, bh2) | 0;
              mid = mid + Math.imul(ah7, bl2) | 0;
              hi = hi + Math.imul(ah7, bh2) | 0;
              lo = lo + Math.imul(al6, bl3) | 0;
              mid = mid + Math.imul(al6, bh3) | 0;
              mid = mid + Math.imul(ah6, bl3) | 0;
              hi = hi + Math.imul(ah6, bh3) | 0;
              lo = lo + Math.imul(al5, bl4) | 0;
              mid = mid + Math.imul(al5, bh4) | 0;
              mid = mid + Math.imul(ah5, bl4) | 0;
              hi = hi + Math.imul(ah5, bh4) | 0;
              lo = lo + Math.imul(al4, bl5) | 0;
              mid = mid + Math.imul(al4, bh5) | 0;
              mid = mid + Math.imul(ah4, bl5) | 0;
              hi = hi + Math.imul(ah4, bh5) | 0;
              lo = lo + Math.imul(al3, bl6) | 0;
              mid = mid + Math.imul(al3, bh6) | 0;
              mid = mid + Math.imul(ah3, bl6) | 0;
              hi = hi + Math.imul(ah3, bh6) | 0;
              lo = lo + Math.imul(al2, bl7) | 0;
              mid = mid + Math.imul(al2, bh7) | 0;
              mid = mid + Math.imul(ah2, bl7) | 0;
              hi = hi + Math.imul(ah2, bh7) | 0;
              lo = lo + Math.imul(al1, bl8) | 0;
              mid = mid + Math.imul(al1, bh8) | 0;
              mid = mid + Math.imul(ah1, bl8) | 0;
              hi = hi + Math.imul(ah1, bh8) | 0;
              lo = lo + Math.imul(al0, bl9) | 0;
              mid = mid + Math.imul(al0, bh9) | 0;
              mid = mid + Math.imul(ah0, bl9) | 0;
              hi = hi + Math.imul(ah0, bh9) | 0;
              var w9 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w9 >>> 26) | 0;
              w9 &= 0x3ffffff;
              /* k = 10 */

              lo = Math.imul(al9, bl1);
              mid = Math.imul(al9, bh1);
              mid = mid + Math.imul(ah9, bl1) | 0;
              hi = Math.imul(ah9, bh1);
              lo = lo + Math.imul(al8, bl2) | 0;
              mid = mid + Math.imul(al8, bh2) | 0;
              mid = mid + Math.imul(ah8, bl2) | 0;
              hi = hi + Math.imul(ah8, bh2) | 0;
              lo = lo + Math.imul(al7, bl3) | 0;
              mid = mid + Math.imul(al7, bh3) | 0;
              mid = mid + Math.imul(ah7, bl3) | 0;
              hi = hi + Math.imul(ah7, bh3) | 0;
              lo = lo + Math.imul(al6, bl4) | 0;
              mid = mid + Math.imul(al6, bh4) | 0;
              mid = mid + Math.imul(ah6, bl4) | 0;
              hi = hi + Math.imul(ah6, bh4) | 0;
              lo = lo + Math.imul(al5, bl5) | 0;
              mid = mid + Math.imul(al5, bh5) | 0;
              mid = mid + Math.imul(ah5, bl5) | 0;
              hi = hi + Math.imul(ah5, bh5) | 0;
              lo = lo + Math.imul(al4, bl6) | 0;
              mid = mid + Math.imul(al4, bh6) | 0;
              mid = mid + Math.imul(ah4, bl6) | 0;
              hi = hi + Math.imul(ah4, bh6) | 0;
              lo = lo + Math.imul(al3, bl7) | 0;
              mid = mid + Math.imul(al3, bh7) | 0;
              mid = mid + Math.imul(ah3, bl7) | 0;
              hi = hi + Math.imul(ah3, bh7) | 0;
              lo = lo + Math.imul(al2, bl8) | 0;
              mid = mid + Math.imul(al2, bh8) | 0;
              mid = mid + Math.imul(ah2, bl8) | 0;
              hi = hi + Math.imul(ah2, bh8) | 0;
              lo = lo + Math.imul(al1, bl9) | 0;
              mid = mid + Math.imul(al1, bh9) | 0;
              mid = mid + Math.imul(ah1, bl9) | 0;
              hi = hi + Math.imul(ah1, bh9) | 0;
              var w10 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w10 >>> 26) | 0;
              w10 &= 0x3ffffff;
              /* k = 11 */

              lo = Math.imul(al9, bl2);
              mid = Math.imul(al9, bh2);
              mid = mid + Math.imul(ah9, bl2) | 0;
              hi = Math.imul(ah9, bh2);
              lo = lo + Math.imul(al8, bl3) | 0;
              mid = mid + Math.imul(al8, bh3) | 0;
              mid = mid + Math.imul(ah8, bl3) | 0;
              hi = hi + Math.imul(ah8, bh3) | 0;
              lo = lo + Math.imul(al7, bl4) | 0;
              mid = mid + Math.imul(al7, bh4) | 0;
              mid = mid + Math.imul(ah7, bl4) | 0;
              hi = hi + Math.imul(ah7, bh4) | 0;
              lo = lo + Math.imul(al6, bl5) | 0;
              mid = mid + Math.imul(al6, bh5) | 0;
              mid = mid + Math.imul(ah6, bl5) | 0;
              hi = hi + Math.imul(ah6, bh5) | 0;
              lo = lo + Math.imul(al5, bl6) | 0;
              mid = mid + Math.imul(al5, bh6) | 0;
              mid = mid + Math.imul(ah5, bl6) | 0;
              hi = hi + Math.imul(ah5, bh6) | 0;
              lo = lo + Math.imul(al4, bl7) | 0;
              mid = mid + Math.imul(al4, bh7) | 0;
              mid = mid + Math.imul(ah4, bl7) | 0;
              hi = hi + Math.imul(ah4, bh7) | 0;
              lo = lo + Math.imul(al3, bl8) | 0;
              mid = mid + Math.imul(al3, bh8) | 0;
              mid = mid + Math.imul(ah3, bl8) | 0;
              hi = hi + Math.imul(ah3, bh8) | 0;
              lo = lo + Math.imul(al2, bl9) | 0;
              mid = mid + Math.imul(al2, bh9) | 0;
              mid = mid + Math.imul(ah2, bl9) | 0;
              hi = hi + Math.imul(ah2, bh9) | 0;
              var w11 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w11 >>> 26) | 0;
              w11 &= 0x3ffffff;
              /* k = 12 */

              lo = Math.imul(al9, bl3);
              mid = Math.imul(al9, bh3);
              mid = mid + Math.imul(ah9, bl3) | 0;
              hi = Math.imul(ah9, bh3);
              lo = lo + Math.imul(al8, bl4) | 0;
              mid = mid + Math.imul(al8, bh4) | 0;
              mid = mid + Math.imul(ah8, bl4) | 0;
              hi = hi + Math.imul(ah8, bh4) | 0;
              lo = lo + Math.imul(al7, bl5) | 0;
              mid = mid + Math.imul(al7, bh5) | 0;
              mid = mid + Math.imul(ah7, bl5) | 0;
              hi = hi + Math.imul(ah7, bh5) | 0;
              lo = lo + Math.imul(al6, bl6) | 0;
              mid = mid + Math.imul(al6, bh6) | 0;
              mid = mid + Math.imul(ah6, bl6) | 0;
              hi = hi + Math.imul(ah6, bh6) | 0;
              lo = lo + Math.imul(al5, bl7) | 0;
              mid = mid + Math.imul(al5, bh7) | 0;
              mid = mid + Math.imul(ah5, bl7) | 0;
              hi = hi + Math.imul(ah5, bh7) | 0;
              lo = lo + Math.imul(al4, bl8) | 0;
              mid = mid + Math.imul(al4, bh8) | 0;
              mid = mid + Math.imul(ah4, bl8) | 0;
              hi = hi + Math.imul(ah4, bh8) | 0;
              lo = lo + Math.imul(al3, bl9) | 0;
              mid = mid + Math.imul(al3, bh9) | 0;
              mid = mid + Math.imul(ah3, bl9) | 0;
              hi = hi + Math.imul(ah3, bh9) | 0;
              var w12 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w12 >>> 26) | 0;
              w12 &= 0x3ffffff;
              /* k = 13 */

              lo = Math.imul(al9, bl4);
              mid = Math.imul(al9, bh4);
              mid = mid + Math.imul(ah9, bl4) | 0;
              hi = Math.imul(ah9, bh4);
              lo = lo + Math.imul(al8, bl5) | 0;
              mid = mid + Math.imul(al8, bh5) | 0;
              mid = mid + Math.imul(ah8, bl5) | 0;
              hi = hi + Math.imul(ah8, bh5) | 0;
              lo = lo + Math.imul(al7, bl6) | 0;
              mid = mid + Math.imul(al7, bh6) | 0;
              mid = mid + Math.imul(ah7, bl6) | 0;
              hi = hi + Math.imul(ah7, bh6) | 0;
              lo = lo + Math.imul(al6, bl7) | 0;
              mid = mid + Math.imul(al6, bh7) | 0;
              mid = mid + Math.imul(ah6, bl7) | 0;
              hi = hi + Math.imul(ah6, bh7) | 0;
              lo = lo + Math.imul(al5, bl8) | 0;
              mid = mid + Math.imul(al5, bh8) | 0;
              mid = mid + Math.imul(ah5, bl8) | 0;
              hi = hi + Math.imul(ah5, bh8) | 0;
              lo = lo + Math.imul(al4, bl9) | 0;
              mid = mid + Math.imul(al4, bh9) | 0;
              mid = mid + Math.imul(ah4, bl9) | 0;
              hi = hi + Math.imul(ah4, bh9) | 0;
              var w13 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w13 >>> 26) | 0;
              w13 &= 0x3ffffff;
              /* k = 14 */

              lo = Math.imul(al9, bl5);
              mid = Math.imul(al9, bh5);
              mid = mid + Math.imul(ah9, bl5) | 0;
              hi = Math.imul(ah9, bh5);
              lo = lo + Math.imul(al8, bl6) | 0;
              mid = mid + Math.imul(al8, bh6) | 0;
              mid = mid + Math.imul(ah8, bl6) | 0;
              hi = hi + Math.imul(ah8, bh6) | 0;
              lo = lo + Math.imul(al7, bl7) | 0;
              mid = mid + Math.imul(al7, bh7) | 0;
              mid = mid + Math.imul(ah7, bl7) | 0;
              hi = hi + Math.imul(ah7, bh7) | 0;
              lo = lo + Math.imul(al6, bl8) | 0;
              mid = mid + Math.imul(al6, bh8) | 0;
              mid = mid + Math.imul(ah6, bl8) | 0;
              hi = hi + Math.imul(ah6, bh8) | 0;
              lo = lo + Math.imul(al5, bl9) | 0;
              mid = mid + Math.imul(al5, bh9) | 0;
              mid = mid + Math.imul(ah5, bl9) | 0;
              hi = hi + Math.imul(ah5, bh9) | 0;
              var w14 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w14 >>> 26) | 0;
              w14 &= 0x3ffffff;
              /* k = 15 */

              lo = Math.imul(al9, bl6);
              mid = Math.imul(al9, bh6);
              mid = mid + Math.imul(ah9, bl6) | 0;
              hi = Math.imul(ah9, bh6);
              lo = lo + Math.imul(al8, bl7) | 0;
              mid = mid + Math.imul(al8, bh7) | 0;
              mid = mid + Math.imul(ah8, bl7) | 0;
              hi = hi + Math.imul(ah8, bh7) | 0;
              lo = lo + Math.imul(al7, bl8) | 0;
              mid = mid + Math.imul(al7, bh8) | 0;
              mid = mid + Math.imul(ah7, bl8) | 0;
              hi = hi + Math.imul(ah7, bh8) | 0;
              lo = lo + Math.imul(al6, bl9) | 0;
              mid = mid + Math.imul(al6, bh9) | 0;
              mid = mid + Math.imul(ah6, bl9) | 0;
              hi = hi + Math.imul(ah6, bh9) | 0;
              var w15 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w15 >>> 26) | 0;
              w15 &= 0x3ffffff;
              /* k = 16 */

              lo = Math.imul(al9, bl7);
              mid = Math.imul(al9, bh7);
              mid = mid + Math.imul(ah9, bl7) | 0;
              hi = Math.imul(ah9, bh7);
              lo = lo + Math.imul(al8, bl8) | 0;
              mid = mid + Math.imul(al8, bh8) | 0;
              mid = mid + Math.imul(ah8, bl8) | 0;
              hi = hi + Math.imul(ah8, bh8) | 0;
              lo = lo + Math.imul(al7, bl9) | 0;
              mid = mid + Math.imul(al7, bh9) | 0;
              mid = mid + Math.imul(ah7, bl9) | 0;
              hi = hi + Math.imul(ah7, bh9) | 0;
              var w16 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w16 >>> 26) | 0;
              w16 &= 0x3ffffff;
              /* k = 17 */

              lo = Math.imul(al9, bl8);
              mid = Math.imul(al9, bh8);
              mid = mid + Math.imul(ah9, bl8) | 0;
              hi = Math.imul(ah9, bh8);
              lo = lo + Math.imul(al8, bl9) | 0;
              mid = mid + Math.imul(al8, bh9) | 0;
              mid = mid + Math.imul(ah8, bl9) | 0;
              hi = hi + Math.imul(ah8, bh9) | 0;
              var w17 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w17 >>> 26) | 0;
              w17 &= 0x3ffffff;
              /* k = 18 */

              lo = Math.imul(al9, bl9);
              mid = Math.imul(al9, bh9);
              mid = mid + Math.imul(ah9, bl9) | 0;
              hi = Math.imul(ah9, bh9);
              var w18 = (c + lo | 0) + ((mid & 0x1fff) << 13) | 0;
              c = (hi + (mid >>> 13) | 0) + (w18 >>> 26) | 0;
              w18 &= 0x3ffffff;
              o[0] = w0;
              o[1] = w1;
              o[2] = w2;
              o[3] = w3;
              o[4] = w4;
              o[5] = w5;
              o[6] = w6;
              o[7] = w7;
              o[8] = w8;
              o[9] = w9;
              o[10] = w10;
              o[11] = w11;
              o[12] = w12;
              o[13] = w13;
              o[14] = w14;
              o[15] = w15;
              o[16] = w16;
              o[17] = w17;
              o[18] = w18;

              if (c !== 0) {
                o[19] = c;
                out.length++;
              }

              return out;
            }; // Polyfill comb


            if (!Math.imul) {
              comb10MulTo = smallMulTo;
            }

            function bigMulTo(self, num, out) {
              out.negative = num.negative ^ self.negative;
              out.length = self.length + num.length;
              var carry = 0;
              var hncarry = 0;

              for (var k = 0; k < out.length - 1; k++) {
                // Sum all words with the same `i + j = k` and accumulate `ncarry`,
                // note that ncarry could be >= 0x3ffffff
                var ncarry = hncarry;
                hncarry = 0;
                var rword = carry & 0x3ffffff;
                var maxJ = Math.min(k, num.length - 1);

                for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {
                  var i = k - j;
                  var a = self.words[i] | 0;
                  var b = num.words[j] | 0;
                  var r = a * b;
                  var lo = r & 0x3ffffff;
                  ncarry = ncarry + (r / 0x4000000 | 0) | 0;
                  lo = lo + rword | 0;
                  rword = lo & 0x3ffffff;
                  ncarry = ncarry + (lo >>> 26) | 0;
                  hncarry += ncarry >>> 26;
                  ncarry &= 0x3ffffff;
                }

                out.words[k] = rword;
                carry = ncarry;
                ncarry = hncarry;
              }

              if (carry !== 0) {
                out.words[k] = carry;
              } else {
                out.length--;
              }

              return out.strip();
            }

            function jumboMulTo(self, num, out) {
              var fftm = new FFTM();
              return fftm.mulp(self, num, out);
            }

            BN.prototype.mulTo = function mulTo(num, out) {
              var res;
              var len = this.length + num.length;

              if (this.length === 10 && num.length === 10) {
                res = comb10MulTo(this, num, out);
              } else if (len < 63) {
                res = smallMulTo(this, num, out);
              } else if (len < 1024) {
                res = bigMulTo(this, num, out);
              } else {
                res = jumboMulTo(this, num, out);
              }

              return res;
            }; // Cooley-Tukey algorithm for FFT
            // slightly revisited to rely on looping instead of recursion


            function FFTM(x, y) {
              this.x = x;
              this.y = y;
            }

            FFTM.prototype.makeRBT = function makeRBT(N) {
              var t = new Array(N);
              var l = BN.prototype._countBits(N) - 1;

              for (var i = 0; i < N; i++) {
                t[i] = this.revBin(i, l, N);
              }

              return t;
            }; // Returns binary-reversed representation of `x`


            FFTM.prototype.revBin = function revBin(x, l, N) {
              if (x === 0 || x === N - 1) return x;
              var rb = 0;

              for (var i = 0; i < l; i++) {
                rb |= (x & 1) << l - i - 1;
                x >>= 1;
              }

              return rb;
            }; // Performs "tweedling" phase, therefore 'emulating'
            // behaviour of the recursive algorithm


            FFTM.prototype.permute = function permute(rbt, rws, iws, rtws, itws, N) {
              for (var i = 0; i < N; i++) {
                rtws[i] = rws[rbt[i]];
                itws[i] = iws[rbt[i]];
              }
            };

            FFTM.prototype.transform = function transform(rws, iws, rtws, itws, N, rbt) {
              this.permute(rbt, rws, iws, rtws, itws, N);

              for (var s = 1; s < N; s <<= 1) {
                var l = s << 1;
                var rtwdf = Math.cos(2 * Math.PI / l);
                var itwdf = Math.sin(2 * Math.PI / l);

                for (var p = 0; p < N; p += l) {
                  var rtwdf_ = rtwdf;
                  var itwdf_ = itwdf;

                  for (var j = 0; j < s; j++) {
                    var re = rtws[p + j];
                    var ie = itws[p + j];
                    var ro = rtws[p + j + s];
                    var io = itws[p + j + s];
                    var rx = rtwdf_ * ro - itwdf_ * io;
                    io = rtwdf_ * io + itwdf_ * ro;
                    ro = rx;
                    rtws[p + j] = re + ro;
                    itws[p + j] = ie + io;
                    rtws[p + j + s] = re - ro;
                    itws[p + j + s] = ie - io;
                    /* jshint maxdepth : false */

                    if (j !== l) {
                      rx = rtwdf * rtwdf_ - itwdf * itwdf_;
                      itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;
                      rtwdf_ = rx;
                    }
                  }
                }
              }
            };

            FFTM.prototype.guessLen13b = function guessLen13b(n, m) {
              var N = Math.max(m, n) | 1;
              var odd = N & 1;
              var i = 0;

              for (N = N / 2 | 0; N; N = N >>> 1) {
                i++;
              }

              return 1 << i + 1 + odd;
            };

            FFTM.prototype.conjugate = function conjugate(rws, iws, N) {
              if (N <= 1) return;

              for (var i = 0; i < N / 2; i++) {
                var t = rws[i];
                rws[i] = rws[N - i - 1];
                rws[N - i - 1] = t;
                t = iws[i];
                iws[i] = -iws[N - i - 1];
                iws[N - i - 1] = -t;
              }
            };

            FFTM.prototype.normalize13b = function normalize13b(ws, N) {
              var carry = 0;

              for (var i = 0; i < N / 2; i++) {
                var w = Math.round(ws[2 * i + 1] / N) * 0x2000 + Math.round(ws[2 * i] / N) + carry;
                ws[i] = w & 0x3ffffff;

                if (w < 0x4000000) {
                  carry = 0;
                } else {
                  carry = w / 0x4000000 | 0;
                }
              }

              return ws;
            };

            FFTM.prototype.convert13b = function convert13b(ws, len, rws, N) {
              var carry = 0;

              for (var i = 0; i < len; i++) {
                carry = carry + (ws[i] | 0);
                rws[2 * i] = carry & 0x1fff;
                carry = carry >>> 13;
                rws[2 * i + 1] = carry & 0x1fff;
                carry = carry >>> 13;
              } // Pad with zeroes


              for (i = 2 * len; i < N; ++i) {
                rws[i] = 0;
              }

              assert(carry === 0);
              assert((carry & ~0x1fff) === 0);
            };

            FFTM.prototype.stub = function stub(N) {
              var ph = new Array(N);

              for (var i = 0; i < N; i++) {
                ph[i] = 0;
              }

              return ph;
            };

            FFTM.prototype.mulp = function mulp(x, y, out) {
              var N = 2 * this.guessLen13b(x.length, y.length);
              var rbt = this.makeRBT(N);

              var _ = this.stub(N);

              var rws = new Array(N);
              var rwst = new Array(N);
              var iwst = new Array(N);
              var nrws = new Array(N);
              var nrwst = new Array(N);
              var niwst = new Array(N);
              var rmws = out.words;
              rmws.length = N;
              this.convert13b(x.words, x.length, rws, N);
              this.convert13b(y.words, y.length, nrws, N);
              this.transform(rws, _, rwst, iwst, N, rbt);
              this.transform(nrws, _, nrwst, niwst, N, rbt);

              for (var i = 0; i < N; i++) {
                var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];
                iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];
                rwst[i] = rx;
              }

              this.conjugate(rwst, iwst, N);
              this.transform(rwst, iwst, rmws, _, N, rbt);
              this.conjugate(rmws, _, N);
              this.normalize13b(rmws, N);
              out.negative = x.negative ^ y.negative;
              out.length = x.length + y.length;
              return out.strip();
            }; // Multiply `this` by `num`


            BN.prototype.mul = function mul(num) {
              var out = new BN(null);
              out.words = new Array(this.length + num.length);
              return this.mulTo(num, out);
            }; // Multiply employing FFT


            BN.prototype.mulf = function mulf(num) {
              var out = new BN(null);
              out.words = new Array(this.length + num.length);
              return jumboMulTo(this, num, out);
            }; // In-place Multiplication


            BN.prototype.imul = function imul(num) {
              return this.clone().mulTo(num, this);
            };

            BN.prototype.imuln = function imuln(num) {
              assert(typeof num === 'number');
              assert(num < 0x4000000); // Carry

              var carry = 0;

              for (var i = 0; i < this.length; i++) {
                var w = (this.words[i] | 0) * num;
                var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);
                carry >>= 26;
                carry += w / 0x4000000 | 0; // NOTE: lo is 27bit maximum

                carry += lo >>> 26;
                this.words[i] = lo & 0x3ffffff;
              }

              if (carry !== 0) {
                this.words[i] = carry;
                this.length++;
              }

              return this;
            };

            BN.prototype.muln = function muln(num) {
              return this.clone().imuln(num);
            }; // `this` * `this`


            BN.prototype.sqr = function sqr() {
              return this.mul(this);
            }; // `this` * `this` in-place


            BN.prototype.isqr = function isqr() {
              return this.imul(this.clone());
            }; // Math.pow(`this`, `num`)


            BN.prototype.pow = function pow(num) {
              var w = toBitArray(num);
              if (w.length === 0) return new BN(1); // Skip leading zeroes

              var res = this;

              for (var i = 0; i < w.length; i++, res = res.sqr()) {
                if (w[i] !== 0) break;
              }

              if (++i < w.length) {
                for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {
                  if (w[i] === 0) continue;
                  res = res.mul(q);
                }
              }

              return res;
            }; // Shift-left in-place


            BN.prototype.iushln = function iushln(bits) {
              assert(typeof bits === 'number' && bits >= 0);
              var r = bits % 26;
              var s = (bits - r) / 26;
              var carryMask = 0x3ffffff >>> 26 - r << 26 - r;
              var i;

              if (r !== 0) {
                var carry = 0;

                for (i = 0; i < this.length; i++) {
                  var newCarry = this.words[i] & carryMask;
                  var c = (this.words[i] | 0) - newCarry << r;
                  this.words[i] = c | carry;
                  carry = newCarry >>> 26 - r;
                }

                if (carry) {
                  this.words[i] = carry;
                  this.length++;
                }
              }

              if (s !== 0) {
                for (i = this.length - 1; i >= 0; i--) {
                  this.words[i + s] = this.words[i];
                }

                for (i = 0; i < s; i++) {
                  this.words[i] = 0;
                }

                this.length += s;
              }

              return this.strip();
            };

            BN.prototype.ishln = function ishln(bits) {
              // TODO(indutny): implement me
              assert(this.negative === 0);
              return this.iushln(bits);
            }; // Shift-right in-place
            // NOTE: `hint` is a lowest bit before trailing zeroes
            // NOTE: if `extended` is present - it will be filled with destroyed bits


            BN.prototype.iushrn = function iushrn(bits, hint, extended) {
              assert(typeof bits === 'number' && bits >= 0);
              var h;

              if (hint) {
                h = (hint - hint % 26) / 26;
              } else {
                h = 0;
              }

              var r = bits % 26;
              var s = Math.min((bits - r) / 26, this.length);
              var mask = 0x3ffffff ^ 0x3ffffff >>> r << r;
              var maskedWords = extended;
              h -= s;
              h = Math.max(0, h); // Extended mode, copy masked part

              if (maskedWords) {
                for (var i = 0; i < s; i++) {
                  maskedWords.words[i] = this.words[i];
                }

                maskedWords.length = s;
              }

              if (s === 0) {// No-op, we should not move anything at all
              } else if (this.length > s) {
                this.length -= s;

                for (i = 0; i < this.length; i++) {
                  this.words[i] = this.words[i + s];
                }
              } else {
                this.words[0] = 0;
                this.length = 1;
              }

              var carry = 0;

              for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {
                var word = this.words[i] | 0;
                this.words[i] = carry << 26 - r | word >>> r;
                carry = word & mask;
              } // Push carried bits as a mask


              if (maskedWords && carry !== 0) {
                maskedWords.words[maskedWords.length++] = carry;
              }

              if (this.length === 0) {
                this.words[0] = 0;
                this.length = 1;
              }

              return this.strip();
            };

            BN.prototype.ishrn = function ishrn(bits, hint, extended) {
              // TODO(indutny): implement me
              assert(this.negative === 0);
              return this.iushrn(bits, hint, extended);
            }; // Shift-left


            BN.prototype.shln = function shln(bits) {
              return this.clone().ishln(bits);
            };

            BN.prototype.ushln = function ushln(bits) {
              return this.clone().iushln(bits);
            }; // Shift-right


            BN.prototype.shrn = function shrn(bits) {
              return this.clone().ishrn(bits);
            };

            BN.prototype.ushrn = function ushrn(bits) {
              return this.clone().iushrn(bits);
            }; // Test if n bit is set


            BN.prototype.testn = function testn(bit) {
              assert(typeof bit === 'number' && bit >= 0);
              var r = bit % 26;
              var s = (bit - r) / 26;
              var q = 1 << r; // Fast case: bit is much higher than all existing words

              if (this.length <= s) return false; // Check bit and return

              var w = this.words[s];
              return !!(w & q);
            }; // Return only lowers bits of number (in-place)


            BN.prototype.imaskn = function imaskn(bits) {
              assert(typeof bits === 'number' && bits >= 0);
              var r = bits % 26;
              var s = (bits - r) / 26;
              assert(this.negative === 0, 'imaskn works only with positive numbers');

              if (this.length <= s) {
                return this;
              }

              if (r !== 0) {
                s++;
              }

              this.length = Math.min(s, this.length);

              if (r !== 0) {
                var mask = 0x3ffffff ^ 0x3ffffff >>> r << r;
                this.words[this.length - 1] &= mask;
              }

              return this.strip();
            }; // Return only lowers bits of number


            BN.prototype.maskn = function maskn(bits) {
              return this.clone().imaskn(bits);
            }; // Add plain number `num` to `this`


            BN.prototype.iaddn = function iaddn(num) {
              assert(typeof num === 'number');
              assert(num < 0x4000000);
              if (num < 0) return this.isubn(-num); // Possible sign change

              if (this.negative !== 0) {
                if (this.length === 1 && (this.words[0] | 0) < num) {
                  this.words[0] = num - (this.words[0] | 0);
                  this.negative = 0;
                  return this;
                }

                this.negative = 0;
                this.isubn(num);
                this.negative = 1;
                return this;
              } // Add without checks


              return this._iaddn(num);
            };

            BN.prototype._iaddn = function _iaddn(num) {
              this.words[0] += num; // Carry

              for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {
                this.words[i] -= 0x4000000;

                if (i === this.length - 1) {
                  this.words[i + 1] = 1;
                } else {
                  this.words[i + 1]++;
                }
              }

              this.length = Math.max(this.length, i + 1);
              return this;
            }; // Subtract plain number `num` from `this`


            BN.prototype.isubn = function isubn(num) {
              assert(typeof num === 'number');
              assert(num < 0x4000000);
              if (num < 0) return this.iaddn(-num);

              if (this.negative !== 0) {
                this.negative = 0;
                this.iaddn(num);
                this.negative = 1;
                return this;
              }

              this.words[0] -= num;

              if (this.length === 1 && this.words[0] < 0) {
                this.words[0] = -this.words[0];
                this.negative = 1;
              } else {
                // Carry
                for (var i = 0; i < this.length && this.words[i] < 0; i++) {
                  this.words[i] += 0x4000000;
                  this.words[i + 1] -= 1;
                }
              }

              return this.strip();
            };

            BN.prototype.addn = function addn(num) {
              return this.clone().iaddn(num);
            };

            BN.prototype.subn = function subn(num) {
              return this.clone().isubn(num);
            };

            BN.prototype.iabs = function iabs() {
              this.negative = 0;
              return this;
            };

            BN.prototype.abs = function abs() {
              return this.clone().iabs();
            };

            BN.prototype._ishlnsubmul = function _ishlnsubmul(num, mul, shift) {
              var len = num.length + shift;
              var i;

              this._expand(len);

              var w;
              var carry = 0;

              for (i = 0; i < num.length; i++) {
                w = (this.words[i + shift] | 0) + carry;
                var right = (num.words[i] | 0) * mul;
                w -= right & 0x3ffffff;
                carry = (w >> 26) - (right / 0x4000000 | 0);
                this.words[i + shift] = w & 0x3ffffff;
              }

              for (; i < this.length - shift; i++) {
                w = (this.words[i + shift] | 0) + carry;
                carry = w >> 26;
                this.words[i + shift] = w & 0x3ffffff;
              }

              if (carry === 0) return this.strip(); // Subtraction overflow

              assert(carry === -1);
              carry = 0;

              for (i = 0; i < this.length; i++) {
                w = -(this.words[i] | 0) + carry;
                carry = w >> 26;
                this.words[i] = w & 0x3ffffff;
              }

              this.negative = 1;
              return this.strip();
            };

            BN.prototype._wordDiv = function _wordDiv(num, mode) {
              var shift = this.length - num.length;
              var a = this.clone();
              var b = num; // Normalize

              var bhi = b.words[b.length - 1] | 0;

              var bhiBits = this._countBits(bhi);

              shift = 26 - bhiBits;

              if (shift !== 0) {
                b = b.ushln(shift);
                a.iushln(shift);
                bhi = b.words[b.length - 1] | 0;
              } // Initialize quotient


              var m = a.length - b.length;
              var q;

              if (mode !== 'mod') {
                q = new BN(null);
                q.length = m + 1;
                q.words = new Array(q.length);

                for (var i = 0; i < q.length; i++) {
                  q.words[i] = 0;
                }
              }

              var diff = a.clone()._ishlnsubmul(b, 1, m);

              if (diff.negative === 0) {
                a = diff;

                if (q) {
                  q.words[m] = 1;
                }
              }

              for (var j = m - 1; j >= 0; j--) {
                var qj = (a.words[b.length + j] | 0) * 0x4000000 + (a.words[b.length + j - 1] | 0); // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max
                // (0x7ffffff)

                qj = Math.min(qj / bhi | 0, 0x3ffffff);

                a._ishlnsubmul(b, qj, j);

                while (a.negative !== 0) {
                  qj--;
                  a.negative = 0;

                  a._ishlnsubmul(b, 1, j);

                  if (!a.isZero()) {
                    a.negative ^= 1;
                  }
                }

                if (q) {
                  q.words[j] = qj;
                }
              }

              if (q) {
                q.strip();
              }

              a.strip(); // Denormalize

              if (mode !== 'div' && shift !== 0) {
                a.iushrn(shift);
              }

              return {
                div: q || null,
                mod: a
              };
            }; // NOTE: 1) `mode` can be set to `mod` to request mod only,
            //       to `div` to request div only, or be absent to
            //       request both div & mod
            //       2) `positive` is true if unsigned mod is requested


            BN.prototype.divmod = function divmod(num, mode, positive) {
              assert(!num.isZero());

              if (this.isZero()) {
                return {
                  div: new BN(0),
                  mod: new BN(0)
                };
              }

              var div, mod, res;

              if (this.negative !== 0 && num.negative === 0) {
                res = this.neg().divmod(num, mode);

                if (mode !== 'mod') {
                  div = res.div.neg();
                }

                if (mode !== 'div') {
                  mod = res.mod.neg();

                  if (positive && mod.negative !== 0) {
                    mod.iadd(num);
                  }
                }

                return {
                  div: div,
                  mod: mod
                };
              }

              if (this.negative === 0 && num.negative !== 0) {
                res = this.divmod(num.neg(), mode);

                if (mode !== 'mod') {
                  div = res.div.neg();
                }

                return {
                  div: div,
                  mod: res.mod
                };
              }

              if ((this.negative & num.negative) !== 0) {
                res = this.neg().divmod(num.neg(), mode);

                if (mode !== 'div') {
                  mod = res.mod.neg();

                  if (positive && mod.negative !== 0) {
                    mod.isub(num);
                  }
                }

                return {
                  div: res.div,
                  mod: mod
                };
              } // Both numbers are positive at this point
              // Strip both numbers to approximate shift value


              if (num.length > this.length || this.cmp(num) < 0) {
                return {
                  div: new BN(0),
                  mod: this
                };
              } // Very short reduction


              if (num.length === 1) {
                if (mode === 'div') {
                  return {
                    div: this.divn(num.words[0]),
                    mod: null
                  };
                }

                if (mode === 'mod') {
                  return {
                    div: null,
                    mod: new BN(this.modn(num.words[0]))
                  };
                }

                return {
                  div: this.divn(num.words[0]),
                  mod: new BN(this.modn(num.words[0]))
                };
              }

              return this._wordDiv(num, mode);
            }; // Find `this` / `num`


            BN.prototype.div = function div(num) {
              return this.divmod(num, 'div', false).div;
            }; // Find `this` % `num`


            BN.prototype.mod = function mod(num) {
              return this.divmod(num, 'mod', false).mod;
            };

            BN.prototype.umod = function umod(num) {
              return this.divmod(num, 'mod', true).mod;
            }; // Find Round(`this` / `num`)


            BN.prototype.divRound = function divRound(num) {
              var dm = this.divmod(num); // Fast case - exact division

              if (dm.mod.isZero()) return dm.div;
              var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;
              var half = num.ushrn(1);
              var r2 = num.andln(1);
              var cmp = mod.cmp(half); // Round down

              if (cmp < 0 || r2 === 1 && cmp === 0) return dm.div; // Round up

              return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);
            };

            BN.prototype.modn = function modn(num) {
              assert(num <= 0x3ffffff);
              var p = (1 << 26) % num;
              var acc = 0;

              for (var i = this.length - 1; i >= 0; i--) {
                acc = (p * acc + (this.words[i] | 0)) % num;
              }

              return acc;
            }; // In-place division by number


            BN.prototype.idivn = function idivn(num) {
              assert(num <= 0x3ffffff);
              var carry = 0;

              for (var i = this.length - 1; i >= 0; i--) {
                var w = (this.words[i] | 0) + carry * 0x4000000;
                this.words[i] = w / num | 0;
                carry = w % num;
              }

              return this.strip();
            };

            BN.prototype.divn = function divn(num) {
              return this.clone().idivn(num);
            };

            BN.prototype.egcd = function egcd(p) {
              assert(p.negative === 0);
              assert(!p.isZero());
              var x = this;
              var y = p.clone();

              if (x.negative !== 0) {
                x = x.umod(p);
              } else {
                x = x.clone();
              } // A * x + B * y = x


              var A = new BN(1);
              var B = new BN(0); // C * x + D * y = y

              var C = new BN(0);
              var D = new BN(1);
              var g = 0;

              while (x.isEven() && y.isEven()) {
                x.iushrn(1);
                y.iushrn(1);
                ++g;
              }

              var yp = y.clone();
              var xp = x.clone();

              while (!x.isZero()) {
                for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1) {
                  ;
                }

                if (i > 0) {
                  x.iushrn(i);

                  while (i-- > 0) {
                    if (A.isOdd() || B.isOdd()) {
                      A.iadd(yp);
                      B.isub(xp);
                    }

                    A.iushrn(1);
                    B.iushrn(1);
                  }
                }

                for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1) {
                  ;
                }

                if (j > 0) {
                  y.iushrn(j);

                  while (j-- > 0) {
                    if (C.isOdd() || D.isOdd()) {
                      C.iadd(yp);
                      D.isub(xp);
                    }

                    C.iushrn(1);
                    D.iushrn(1);
                  }
                }

                if (x.cmp(y) >= 0) {
                  x.isub(y);
                  A.isub(C);
                  B.isub(D);
                } else {
                  y.isub(x);
                  C.isub(A);
                  D.isub(B);
                }
              }

              return {
                a: C,
                b: D,
                gcd: y.iushln(g)
              };
            }; // This is reduced incarnation of the binary EEA
            // above, designated to invert members of the
            // _prime_ fields F(p) at a maximal speed


            BN.prototype._invmp = function _invmp(p) {
              assert(p.negative === 0);
              assert(!p.isZero());
              var a = this;
              var b = p.clone();

              if (a.negative !== 0) {
                a = a.umod(p);
              } else {
                a = a.clone();
              }

              var x1 = new BN(1);
              var x2 = new BN(0);
              var delta = b.clone();

              while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {
                for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1) {
                  ;
                }

                if (i > 0) {
                  a.iushrn(i);

                  while (i-- > 0) {
                    if (x1.isOdd()) {
                      x1.iadd(delta);
                    }

                    x1.iushrn(1);
                  }
                }

                for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1) {
                  ;
                }

                if (j > 0) {
                  b.iushrn(j);

                  while (j-- > 0) {
                    if (x2.isOdd()) {
                      x2.iadd(delta);
                    }

                    x2.iushrn(1);
                  }
                }

                if (a.cmp(b) >= 0) {
                  a.isub(b);
                  x1.isub(x2);
                } else {
                  b.isub(a);
                  x2.isub(x1);
                }
              }

              var res;

              if (a.cmpn(1) === 0) {
                res = x1;
              } else {
                res = x2;
              }

              if (res.cmpn(0) < 0) {
                res.iadd(p);
              }

              return res;
            };

            BN.prototype.gcd = function gcd(num) {
              if (this.isZero()) return num.abs();
              if (num.isZero()) return this.abs();
              var a = this.clone();
              var b = num.clone();
              a.negative = 0;
              b.negative = 0; // Remove common factor of two

              for (var shift = 0; a.isEven() && b.isEven(); shift++) {
                a.iushrn(1);
                b.iushrn(1);
              }

              do {
                while (a.isEven()) {
                  a.iushrn(1);
                }

                while (b.isEven()) {
                  b.iushrn(1);
                }

                var r = a.cmp(b);

                if (r < 0) {
                  // Swap `a` and `b` to make `a` always bigger than `b`
                  var t = a;
                  a = b;
                  b = t;
                } else if (r === 0 || b.cmpn(1) === 0) {
                  break;
                }

                a.isub(b);
              } while (true);

              return b.iushln(shift);
            }; // Invert number in the field F(num)


            BN.prototype.invm = function invm(num) {
              return this.egcd(num).a.umod(num);
            };

            BN.prototype.isEven = function isEven() {
              return (this.words[0] & 1) === 0;
            };

            BN.prototype.isOdd = function isOdd() {
              return (this.words[0] & 1) === 1;
            }; // And first word and num


            BN.prototype.andln = function andln(num) {
              return this.words[0] & num;
            }; // Increment at the bit position in-line


            BN.prototype.bincn = function bincn(bit) {
              assert(typeof bit === 'number');
              var r = bit % 26;
              var s = (bit - r) / 26;
              var q = 1 << r; // Fast case: bit is much higher than all existing words

              if (this.length <= s) {
                this._expand(s + 1);

                this.words[s] |= q;
                return this;
              } // Add bit and propagate, if needed


              var carry = q;

              for (var i = s; carry !== 0 && i < this.length; i++) {
                var w = this.words[i] | 0;
                w += carry;
                carry = w >>> 26;
                w &= 0x3ffffff;
                this.words[i] = w;
              }

              if (carry !== 0) {
                this.words[i] = carry;
                this.length++;
              }

              return this;
            };

            BN.prototype.isZero = function isZero() {
              return this.length === 1 && this.words[0] === 0;
            };

            BN.prototype.cmpn = function cmpn(num) {
              var negative = num < 0;
              if (this.negative !== 0 && !negative) return -1;
              if (this.negative === 0 && negative) return 1;
              this.strip();
              var res;

              if (this.length > 1) {
                res = 1;
              } else {
                if (negative) {
                  num = -num;
                }

                assert(num <= 0x3ffffff, 'Number is too big');
                var w = this.words[0] | 0;
                res = w === num ? 0 : w < num ? -1 : 1;
              }

              if (this.negative !== 0) return -res | 0;
              return res;
            }; // Compare two numbers and return:
            // 1 - if `this` > `num`
            // 0 - if `this` == `num`
            // -1 - if `this` < `num`


            BN.prototype.cmp = function cmp(num) {
              if (this.negative !== 0 && num.negative === 0) return -1;
              if (this.negative === 0 && num.negative !== 0) return 1;
              var res = this.ucmp(num);
              if (this.negative !== 0) return -res | 0;
              return res;
            }; // Unsigned comparison


            BN.prototype.ucmp = function ucmp(num) {
              // At this point both numbers have the same sign
              if (this.length > num.length) return 1;
              if (this.length < num.length) return -1;
              var res = 0;

              for (var i = this.length - 1; i >= 0; i--) {
                var a = this.words[i] | 0;
                var b = num.words[i] | 0;
                if (a === b) continue;

                if (a < b) {
                  res = -1;
                } else if (a > b) {
                  res = 1;
                }

                break;
              }

              return res;
            };

            BN.prototype.gtn = function gtn(num) {
              return this.cmpn(num) === 1;
            };

            BN.prototype.gt = function gt(num) {
              return this.cmp(num) === 1;
            };

            BN.prototype.gten = function gten(num) {
              return this.cmpn(num) >= 0;
            };

            BN.prototype.gte = function gte(num) {
              return this.cmp(num) >= 0;
            };

            BN.prototype.ltn = function ltn(num) {
              return this.cmpn(num) === -1;
            };

            BN.prototype.lt = function lt(num) {
              return this.cmp(num) === -1;
            };

            BN.prototype.lten = function lten(num) {
              return this.cmpn(num) <= 0;
            };

            BN.prototype.lte = function lte(num) {
              return this.cmp(num) <= 0;
            };

            BN.prototype.eqn = function eqn(num) {
              return this.cmpn(num) === 0;
            };

            BN.prototype.eq = function eq(num) {
              return this.cmp(num) === 0;
            }; //
            // A reduce context, could be using montgomery or something better, depending
            // on the `m` itself.
            //


            BN.red = function red(num) {
              return new Red(num);
            };

            BN.prototype.toRed = function toRed(ctx) {
              assert(!this.red, 'Already a number in reduction context');
              assert(this.negative === 0, 'red works only with positives');
              return ctx.convertTo(this)._forceRed(ctx);
            };

            BN.prototype.fromRed = function fromRed() {
              assert(this.red, 'fromRed works only with numbers in reduction context');
              return this.red.convertFrom(this);
            };

            BN.prototype._forceRed = function _forceRed(ctx) {
              this.red = ctx;
              return this;
            };

            BN.prototype.forceRed = function forceRed(ctx) {
              assert(!this.red, 'Already a number in reduction context');
              return this._forceRed(ctx);
            };

            BN.prototype.redAdd = function redAdd(num) {
              assert(this.red, 'redAdd works only with red numbers');
              return this.red.add(this, num);
            };

            BN.prototype.redIAdd = function redIAdd(num) {
              assert(this.red, 'redIAdd works only with red numbers');
              return this.red.iadd(this, num);
            };

            BN.prototype.redSub = function redSub(num) {
              assert(this.red, 'redSub works only with red numbers');
              return this.red.sub(this, num);
            };

            BN.prototype.redISub = function redISub(num) {
              assert(this.red, 'redISub works only with red numbers');
              return this.red.isub(this, num);
            };

            BN.prototype.redShl = function redShl(num) {
              assert(this.red, 'redShl works only with red numbers');
              return this.red.shl(this, num);
            };

            BN.prototype.redMul = function redMul(num) {
              assert(this.red, 'redMul works only with red numbers');

              this.red._verify2(this, num);

              return this.red.mul(this, num);
            };

            BN.prototype.redIMul = function redIMul(num) {
              assert(this.red, 'redMul works only with red numbers');

              this.red._verify2(this, num);

              return this.red.imul(this, num);
            };

            BN.prototype.redSqr = function redSqr() {
              assert(this.red, 'redSqr works only with red numbers');

              this.red._verify1(this);

              return this.red.sqr(this);
            };

            BN.prototype.redISqr = function redISqr() {
              assert(this.red, 'redISqr works only with red numbers');

              this.red._verify1(this);

              return this.red.isqr(this);
            }; // Square root over p


            BN.prototype.redSqrt = function redSqrt() {
              assert(this.red, 'redSqrt works only with red numbers');

              this.red._verify1(this);

              return this.red.sqrt(this);
            };

            BN.prototype.redInvm = function redInvm() {
              assert(this.red, 'redInvm works only with red numbers');

              this.red._verify1(this);

              return this.red.invm(this);
            }; // Return negative clone of `this` % `red modulo`


            BN.prototype.redNeg = function redNeg() {
              assert(this.red, 'redNeg works only with red numbers');

              this.red._verify1(this);

              return this.red.neg(this);
            };

            BN.prototype.redPow = function redPow(num) {
              assert(this.red && !num.red, 'redPow(normalNum)');

              this.red._verify1(this);

              return this.red.pow(this, num);
            }; // Prime numbers with efficient reduction


            var primes = {
              k256: null,
              p224: null,
              p192: null,
              p25519: null
            }; // Pseudo-Mersenne prime

            function MPrime(name, p) {
              // P = 2 ^ N - K
              this.name = name;
              this.p = new BN(p, 16);
              this.n = this.p.bitLength();
              this.k = new BN(1).iushln(this.n).isub(this.p);
              this.tmp = this._tmp();
            }

            MPrime.prototype._tmp = function _tmp() {
              var tmp = new BN(null);
              tmp.words = new Array(Math.ceil(this.n / 13));
              return tmp;
            };

            MPrime.prototype.ireduce = function ireduce(num) {
              // Assumes that `num` is less than `P^2`
              // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)
              var r = num;
              var rlen;

              do {
                this.split(r, this.tmp);
                r = this.imulK(r);
                r = r.iadd(this.tmp);
                rlen = r.bitLength();
              } while (rlen > this.n);

              var cmp = rlen < this.n ? -1 : r.ucmp(this.p);

              if (cmp === 0) {
                r.words[0] = 0;
                r.length = 1;
              } else if (cmp > 0) {
                r.isub(this.p);
              } else {
                r.strip();
              }

              return r;
            };

            MPrime.prototype.split = function split(input, out) {
              input.iushrn(this.n, 0, out);
            };

            MPrime.prototype.imulK = function imulK(num) {
              return num.imul(this.k);
            };

            function K256() {
              MPrime.call(this, 'k256', 'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');
            }

            inherits(K256, MPrime);

            K256.prototype.split = function split(input, output) {
              // 256 = 9 * 26 + 22
              var mask = 0x3fffff;
              var outLen = Math.min(input.length, 9);

              for (var i = 0; i < outLen; i++) {
                output.words[i] = input.words[i];
              }

              output.length = outLen;

              if (input.length <= 9) {
                input.words[0] = 0;
                input.length = 1;
                return;
              } // Shift by 9 limbs


              var prev = input.words[9];
              output.words[output.length++] = prev & mask;

              for (i = 10; i < input.length; i++) {
                var next = input.words[i] | 0;
                input.words[i - 10] = (next & mask) << 4 | prev >>> 22;
                prev = next;
              }

              prev >>>= 22;
              input.words[i - 10] = prev;

              if (prev === 0 && input.length > 10) {
                input.length -= 10;
              } else {
                input.length -= 9;
              }
            };

            K256.prototype.imulK = function imulK(num) {
              // K = 0x1000003d1 = [ 0x40, 0x3d1 ]
              num.words[num.length] = 0;
              num.words[num.length + 1] = 0;
              num.length += 2; // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390

              var lo = 0;

              for (var i = 0; i < num.length; i++) {
                var w = num.words[i] | 0;
                lo += w * 0x3d1;
                num.words[i] = lo & 0x3ffffff;
                lo = w * 0x40 + (lo / 0x4000000 | 0);
              } // Fast length reduction


              if (num.words[num.length - 1] === 0) {
                num.length--;

                if (num.words[num.length - 1] === 0) {
                  num.length--;
                }
              }

              return num;
            };

            function P224() {
              MPrime.call(this, 'p224', 'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');
            }

            inherits(P224, MPrime);

            function P192() {
              MPrime.call(this, 'p192', 'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');
            }

            inherits(P192, MPrime);

            function P25519() {
              // 2 ^ 255 - 19
              MPrime.call(this, '25519', '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');
            }

            inherits(P25519, MPrime);

            P25519.prototype.imulK = function imulK(num) {
              // K = 0x13
              var carry = 0;

              for (var i = 0; i < num.length; i++) {
                var hi = (num.words[i] | 0) * 0x13 + carry;
                var lo = hi & 0x3ffffff;
                hi >>>= 26;
                num.words[i] = lo;
                carry = hi;
              }

              if (carry !== 0) {
                num.words[num.length++] = carry;
              }

              return num;
            }; // Exported mostly for testing purposes, use plain name instead


            BN._prime = function prime(name) {
              // Cached version of prime
              if (primes[name]) return primes[name];
              var prime;

              if (name === 'k256') {
                prime = new K256();
              } else if (name === 'p224') {
                prime = new P224();
              } else if (name === 'p192') {
                prime = new P192();
              } else if (name === 'p25519') {
                prime = new P25519();
              } else {
                throw new Error('Unknown prime ' + name);
              }

              primes[name] = prime;
              return prime;
            }; //
            // Base reduction engine
            //


            function Red(m) {
              if (typeof m === 'string') {
                var prime = BN._prime(m);

                this.m = prime.p;
                this.prime = prime;
              } else {
                assert(m.gtn(1), 'modulus must be greater than 1');
                this.m = m;
                this.prime = null;
              }
            }

            Red.prototype._verify1 = function _verify1(a) {
              assert(a.negative === 0, 'red works only with positives');
              assert(a.red, 'red works only with red numbers');
            };

            Red.prototype._verify2 = function _verify2(a, b) {
              assert((a.negative | b.negative) === 0, 'red works only with positives');
              assert(a.red && a.red === b.red, 'red works only with red numbers');
            };

            Red.prototype.imod = function imod(a) {
              if (this.prime) return this.prime.ireduce(a)._forceRed(this);
              return a.umod(this.m)._forceRed(this);
            };

            Red.prototype.neg = function neg(a) {
              if (a.isZero()) {
                return a.clone();
              }

              return this.m.sub(a)._forceRed(this);
            };

            Red.prototype.add = function add(a, b) {
              this._verify2(a, b);

              var res = a.add(b);

              if (res.cmp(this.m) >= 0) {
                res.isub(this.m);
              }

              return res._forceRed(this);
            };

            Red.prototype.iadd = function iadd(a, b) {
              this._verify2(a, b);

              var res = a.iadd(b);

              if (res.cmp(this.m) >= 0) {
                res.isub(this.m);
              }

              return res;
            };

            Red.prototype.sub = function sub(a, b) {
              this._verify2(a, b);

              var res = a.sub(b);

              if (res.cmpn(0) < 0) {
                res.iadd(this.m);
              }

              return res._forceRed(this);
            };

            Red.prototype.isub = function isub(a, b) {
              this._verify2(a, b);

              var res = a.isub(b);

              if (res.cmpn(0) < 0) {
                res.iadd(this.m);
              }

              return res;
            };

            Red.prototype.shl = function shl(a, num) {
              this._verify1(a);

              return this.imod(a.ushln(num));
            };

            Red.prototype.imul = function imul(a, b) {
              this._verify2(a, b);

              return this.imod(a.imul(b));
            };

            Red.prototype.mul = function mul(a, b) {
              this._verify2(a, b);

              return this.imod(a.mul(b));
            };

            Red.prototype.isqr = function isqr(a) {
              return this.imul(a, a.clone());
            };

            Red.prototype.sqr = function sqr(a) {
              return this.mul(a, a);
            };

            Red.prototype.sqrt = function sqrt(a) {
              if (a.isZero()) return a.clone();
              var mod3 = this.m.andln(3);
              assert(mod3 % 2 === 1); // Fast case

              if (mod3 === 3) {
                var pow = this.m.add(new BN(1)).iushrn(2);
                return this.pow(a, pow);
              } // Tonelli-Shanks algorithm (Totally unoptimized and slow)
              //
              // Find Q and S, that Q * 2 ^ S = (P - 1)


              var q = this.m.subn(1);
              var s = 0;

              while (!q.isZero() && q.andln(1) === 0) {
                s++;
                q.iushrn(1);
              }

              assert(!q.isZero());
              var one = new BN(1).toRed(this);
              var nOne = one.redNeg(); // Find quadratic non-residue
              // NOTE: Max is such because of generalized Riemann hypothesis.

              var lpow = this.m.subn(1).iushrn(1);
              var z = this.m.bitLength();
              z = new BN(2 * z * z).toRed(this);

              while (this.pow(z, lpow).cmp(nOne) !== 0) {
                z.redIAdd(nOne);
              }

              var c = this.pow(z, q);
              var r = this.pow(a, q.addn(1).iushrn(1));
              var t = this.pow(a, q);
              var m = s;

              while (t.cmp(one) !== 0) {
                var tmp = t;

                for (var i = 0; tmp.cmp(one) !== 0; i++) {
                  tmp = tmp.redSqr();
                }

                assert(i < m);
                var b = this.pow(c, new BN(1).iushln(m - i - 1));
                r = r.redMul(b);
                c = b.redSqr();
                t = t.redMul(c);
                m = i;
              }

              return r;
            };

            Red.prototype.invm = function invm(a) {
              var inv = a._invmp(this.m);

              if (inv.negative !== 0) {
                inv.negative = 0;
                return this.imod(inv).redNeg();
              } else {
                return this.imod(inv);
              }
            };

            Red.prototype.pow = function pow(a, num) {
              if (num.isZero()) return new BN(1).toRed(this);
              if (num.cmpn(1) === 0) return a.clone();
              var windowSize = 4;
              var wnd = new Array(1 << windowSize);
              wnd[0] = new BN(1).toRed(this);
              wnd[1] = a;

              for (var i = 2; i < wnd.length; i++) {
                wnd[i] = this.mul(wnd[i - 1], a);
              }

              var res = wnd[0];
              var current = 0;
              var currentLen = 0;
              var start = num.bitLength() % 26;

              if (start === 0) {
                start = 26;
              }

              for (i = num.length - 1; i >= 0; i--) {
                var word = num.words[i];

                for (var j = start - 1; j >= 0; j--) {
                  var bit = word >> j & 1;

                  if (res !== wnd[0]) {
                    res = this.sqr(res);
                  }

                  if (bit === 0 && current === 0) {
                    currentLen = 0;
                    continue;
                  }

                  current <<= 1;
                  current |= bit;
                  currentLen++;
                  if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;
                  res = this.mul(res, wnd[current]);
                  currentLen = 0;
                  current = 0;
                }

                start = 26;
              }

              return res;
            };

            Red.prototype.convertTo = function convertTo(num) {
              var r = num.umod(this.m);
              return r === num ? r.clone() : r;
            };

            Red.prototype.convertFrom = function convertFrom(num) {
              var res = num.clone();
              res.red = null;
              return res;
            }; //
            // Montgomery method engine
            //


            BN.mont = function mont(num) {
              return new Mont(num);
            };

            function Mont(m) {
              Red.call(this, m);
              this.shift = this.m.bitLength();

              if (this.shift % 26 !== 0) {
                this.shift += 26 - this.shift % 26;
              }

              this.r = new BN(1).iushln(this.shift);
              this.r2 = this.imod(this.r.sqr());
              this.rinv = this.r._invmp(this.m);
              this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
              this.minv = this.minv.umod(this.r);
              this.minv = this.r.sub(this.minv);
            }

            inherits(Mont, Red);

            Mont.prototype.convertTo = function convertTo(num) {
              return this.imod(num.ushln(this.shift));
            };

            Mont.prototype.convertFrom = function convertFrom(num) {
              var r = this.imod(num.mul(this.rinv));
              r.red = null;
              return r;
            };

            Mont.prototype.imul = function imul(a, b) {
              if (a.isZero() || b.isZero()) {
                a.words[0] = 0;
                a.length = 1;
                return a;
              }

              var t = a.imul(b);
              var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
              var u = t.isub(c).iushrn(this.shift);
              var res = u;

              if (u.cmp(this.m) >= 0) {
                res = u.isub(this.m);
              } else if (u.cmpn(0) < 0) {
                res = u.iadd(this.m);
              }

              return res._forceRed(this);
            };

            Mont.prototype.mul = function mul(a, b) {
              if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);
              var t = a.mul(b);
              var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
              var u = t.isub(c).iushrn(this.shift);
              var res = u;

              if (u.cmp(this.m) >= 0) {
                res = u.isub(this.m);
              } else if (u.cmpn(0) < 0) {
                res = u.iadd(this.m);
              }

              return res._forceRed(this);
            };

            Mont.prototype.invm = function invm(a) {
              // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R
              var res = this.imod(a._invmp(this.m).mul(this.r2));
              return res._forceRed(this);
            };
          })( false || module, this);
          /* WEBPACK VAR INJECTION */

        }).call(this, __webpack_require__(
        /*! ./../../webpack/buildin/module.js */
        "./node_modules/webpack/buildin/module.js")(module));
        /***/
      },

      /***/
      "./node_modules/jssha/src/sha.js":
      /*!***************************************!*\
        !*** ./node_modules/jssha/src/sha.js ***!
        \***************************************/

      /*! no static exports found */

      /***/
      function node_modulesJsshaSrcShaJs(module, exports, __webpack_require__) {
        "use strict";

        var __WEBPACK_AMD_DEFINE_RESULT__;
        /*
        A JavaScript implementation of the SHA family of hashes, as
        defined in FIPS PUB 180-4 and FIPS PUB 202, as well as the corresponding
        HMAC implementation as defined in FIPS PUB 198a
        Copyright Brian Turek 2008-2017
        Distributed under the BSD License
        See http://caligatio.github.com/jsSHA/ for more information
        Several functions taken from Paul Johnston
        */


        (function (Y) {
          function C(c, a, b) {
            var e = 0,
                h = [],
                n = 0,
                g,
                l,
                d,
                f,
                m,
                q,
                u,
                r,
                I = !1,
                v = [],
                w = [],
                t,
                y = !1,
                z = !1,
                x = -1;
            b = b || {};
            g = b.encoding || "UTF8";
            t = b.numRounds || 1;
            if (t !== parseInt(t, 10) || 1 > t) throw Error("numRounds must a integer >= 1");
            if ("SHA-1" === c) m = 512, q = K, u = Z, f = 160, r = function r(a) {
              return a.slice();
            };else if (0 === c.lastIndexOf("SHA-", 0)) {
              if (q = function q(a, b) {
                return L(a, b, c);
              }, u = function u(a, b, h, e) {
                var k, f;
                if ("SHA-224" === c || "SHA-256" === c) k = (b + 65 >>> 9 << 4) + 15, f = 16;else if ("SHA-384" === c || "SHA-512" === c) k = (b + 129 >>> 10 << 5) + 31, f = 32;else throw Error("Unexpected error in SHA-2 implementation");

                for (; a.length <= k;) {
                  a.push(0);
                }

                a[b >>> 5] |= 128 << 24 - b % 32;
                b = b + h;
                a[k] = b & 4294967295;
                a[k - 1] = b / 4294967296 | 0;
                h = a.length;

                for (b = 0; b < h; b += f) {
                  e = L(a.slice(b, b + f), e, c);
                }

                if ("SHA-224" === c) a = [e[0], e[1], e[2], e[3], e[4], e[5], e[6]];else if ("SHA-256" === c) a = e;else if ("SHA-384" === c) a = [e[0].a, e[0].b, e[1].a, e[1].b, e[2].a, e[2].b, e[3].a, e[3].b, e[4].a, e[4].b, e[5].a, e[5].b];else if ("SHA-512" === c) a = [e[0].a, e[0].b, e[1].a, e[1].b, e[2].a, e[2].b, e[3].a, e[3].b, e[4].a, e[4].b, e[5].a, e[5].b, e[6].a, e[6].b, e[7].a, e[7].b];else throw Error("Unexpected error in SHA-2 implementation");
                return a;
              }, r = function r(a) {
                return a.slice();
              }, "SHA-224" === c) m = 512, f = 224;else if ("SHA-256" === c) m = 512, f = 256;else if ("SHA-384" === c) m = 1024, f = 384;else if ("SHA-512" === c) m = 1024, f = 512;else throw Error("Chosen SHA variant is not supported");
            } else if (0 === c.lastIndexOf("SHA3-", 0) || 0 === c.lastIndexOf("SHAKE", 0)) {
              var F = 6;
              q = D;

              r = function r(a) {
                var c = [],
                    e;

                for (e = 0; 5 > e; e += 1) {
                  c[e] = a[e].slice();
                }

                return c;
              };

              x = 1;
              if ("SHA3-224" === c) m = 1152, f = 224;else if ("SHA3-256" === c) m = 1088, f = 256;else if ("SHA3-384" === c) m = 832, f = 384;else if ("SHA3-512" === c) m = 576, f = 512;else if ("SHAKE128" === c) m = 1344, f = -1, F = 31, z = !0;else if ("SHAKE256" === c) m = 1088, f = -1, F = 31, z = !0;else throw Error("Chosen SHA variant is not supported");

              u = function u(a, c, e, b, h) {
                e = m;
                var k = F,
                    f,
                    g = [],
                    n = e >>> 5,
                    l = 0,
                    d = c >>> 5;

                for (f = 0; f < d && c >= e; f += n) {
                  b = D(a.slice(f, f + n), b), c -= e;
                }

                a = a.slice(f);

                for (c %= e; a.length < n;) {
                  a.push(0);
                }

                f = c >>> 3;
                a[f >> 2] ^= k << f % 4 * 8;
                a[n - 1] ^= 2147483648;

                for (b = D(a, b); 32 * g.length < h;) {
                  a = b[l % 5][l / 5 | 0];
                  g.push(a.b);
                  if (32 * g.length >= h) break;
                  g.push(a.a);
                  l += 1;
                  0 === 64 * l % e && D(null, b);
                }

                return g;
              };
            } else throw Error("Chosen SHA variant is not supported");
            d = M(a, g, x);
            l = A(c);

            this.setHMACKey = function (a, b, h) {
              var k;
              if (!0 === I) throw Error("HMAC key already set");
              if (!0 === y) throw Error("Cannot set HMAC key after calling update");
              if (!0 === z) throw Error("SHAKE is not supported for HMAC");
              g = (h || {}).encoding || "UTF8";
              b = M(b, g, x)(a);
              a = b.binLen;
              b = b.value;
              k = m >>> 3;
              h = k / 4 - 1;

              if (k < a / 8) {
                for (b = u(b, a, 0, A(c), f); b.length <= h;) {
                  b.push(0);
                }

                b[h] &= 4294967040;
              } else if (k > a / 8) {
                for (; b.length <= h;) {
                  b.push(0);
                }

                b[h] &= 4294967040;
              }

              for (a = 0; a <= h; a += 1) {
                v[a] = b[a] ^ 909522486, w[a] = b[a] ^ 1549556828;
              }

              l = q(v, l);
              e = m;
              I = !0;
            };

            this.update = function (a) {
              var c,
                  b,
                  k,
                  f = 0,
                  g = m >>> 5;
              c = d(a, h, n);
              a = c.binLen;
              b = c.value;
              c = a >>> 5;

              for (k = 0; k < c; k += g) {
                f + m <= a && (l = q(b.slice(k, k + g), l), f += m);
              }

              e += f;
              h = b.slice(f >>> 5);
              n = a % m;
              y = !0;
            };

            this.getHash = function (a, b) {
              var k, g, d, m;
              if (!0 === I) throw Error("Cannot call getHash after setting HMAC key");
              d = N(b);

              if (!0 === z) {
                if (-1 === d.shakeLen) throw Error("shakeLen must be specified in options");
                f = d.shakeLen;
              }

              switch (a) {
                case "HEX":
                  k = function k(a) {
                    return O(a, f, x, d);
                  };

                  break;

                case "B64":
                  k = function k(a) {
                    return P(a, f, x, d);
                  };

                  break;

                case "BYTES":
                  k = function k(a) {
                    return Q(a, f, x);
                  };

                  break;

                case "ARRAYBUFFER":
                  try {
                    g = new ArrayBuffer(0);
                  } catch (p) {
                    throw Error("ARRAYBUFFER not supported by this environment");
                  }

                  k = function k(a) {
                    return R(a, f, x);
                  };

                  break;

                default:
                  throw Error("format must be HEX, B64, BYTES, or ARRAYBUFFER");
              }

              m = u(h.slice(), n, e, r(l), f);

              for (g = 1; g < t; g += 1) {
                !0 === z && 0 !== f % 32 && (m[m.length - 1] &= 16777215 >>> 24 - f % 32), m = u(m, f, 0, A(c), f);
              }

              return k(m);
            };

            this.getHMAC = function (a, b) {
              var k, g, d, p;
              if (!1 === I) throw Error("Cannot call getHMAC without first setting HMAC key");
              d = N(b);

              switch (a) {
                case "HEX":
                  k = function k(a) {
                    return O(a, f, x, d);
                  };

                  break;

                case "B64":
                  k = function k(a) {
                    return P(a, f, x, d);
                  };

                  break;

                case "BYTES":
                  k = function k(a) {
                    return Q(a, f, x);
                  };

                  break;

                case "ARRAYBUFFER":
                  try {
                    k = new ArrayBuffer(0);
                  } catch (v) {
                    throw Error("ARRAYBUFFER not supported by this environment");
                  }

                  k = function k(a) {
                    return R(a, f, x);
                  };

                  break;

                default:
                  throw Error("outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER");
              }

              g = u(h.slice(), n, e, r(l), f);
              p = q(w, A(c));
              p = u(g, f, m, p, f);
              return k(p);
            };
          }

          function b(c, a) {
            this.a = c;
            this.b = a;
          }

          function O(c, a, b, e) {
            var h = "";
            a /= 8;
            var n, g, d;
            d = -1 === b ? 3 : 0;

            for (n = 0; n < a; n += 1) {
              g = c[n >>> 2] >>> 8 * (d + n % 4 * b), h += "0123456789abcdef".charAt(g >>> 4 & 15) + "0123456789abcdef".charAt(g & 15);
            }

            return e.outputUpper ? h.toUpperCase() : h;
          }

          function P(c, a, b, e) {
            var h = "",
                n = a / 8,
                g,
                d,
                p,
                f;
            f = -1 === b ? 3 : 0;

            for (g = 0; g < n; g += 3) {
              for (d = g + 1 < n ? c[g + 1 >>> 2] : 0, p = g + 2 < n ? c[g + 2 >>> 2] : 0, p = (c[g >>> 2] >>> 8 * (f + g % 4 * b) & 255) << 16 | (d >>> 8 * (f + (g + 1) % 4 * b) & 255) << 8 | p >>> 8 * (f + (g + 2) % 4 * b) & 255, d = 0; 4 > d; d += 1) {
                8 * g + 6 * d <= a ? h += "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(p >>> 6 * (3 - d) & 63) : h += e.b64Pad;
              }
            }

            return h;
          }

          function Q(c, a, b) {
            var e = "";
            a /= 8;
            var h, d, g;
            g = -1 === b ? 3 : 0;

            for (h = 0; h < a; h += 1) {
              d = c[h >>> 2] >>> 8 * (g + h % 4 * b) & 255, e += String.fromCharCode(d);
            }

            return e;
          }

          function R(c, a, b) {
            a /= 8;
            var e,
                h = new ArrayBuffer(a),
                d,
                g;
            g = new Uint8Array(h);
            d = -1 === b ? 3 : 0;

            for (e = 0; e < a; e += 1) {
              g[e] = c[e >>> 2] >>> 8 * (d + e % 4 * b) & 255;
            }

            return h;
          }

          function N(c) {
            var a = {
              outputUpper: !1,
              b64Pad: "=",
              shakeLen: -1
            };
            c = c || {};
            a.outputUpper = c.outputUpper || !1;
            !0 === c.hasOwnProperty("b64Pad") && (a.b64Pad = c.b64Pad);

            if (!0 === c.hasOwnProperty("shakeLen")) {
              if (0 !== c.shakeLen % 8) throw Error("shakeLen must be a multiple of 8");
              a.shakeLen = c.shakeLen;
            }

            if ("boolean" !== typeof a.outputUpper) throw Error("Invalid outputUpper formatting option");
            if ("string" !== typeof a.b64Pad) throw Error("Invalid b64Pad formatting option");
            return a;
          }

          function M(c, a, b) {
            switch (a) {
              case "UTF8":
              case "UTF16BE":
              case "UTF16LE":
                break;

              default:
                throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");
            }

            switch (c) {
              case "HEX":
                c = function c(a, _c, d) {
                  var g = a.length,
                      l,
                      p,
                      f,
                      m,
                      q,
                      u;
                  if (0 !== g % 2) throw Error("String of HEX type must be in byte increments");
                  _c = _c || [0];
                  d = d || 0;
                  q = d >>> 3;
                  u = -1 === b ? 3 : 0;

                  for (l = 0; l < g; l += 2) {
                    p = parseInt(a.substr(l, 2), 16);
                    if (isNaN(p)) throw Error("String of HEX type contains invalid characters");
                    m = (l >>> 1) + q;

                    for (f = m >>> 2; _c.length <= f;) {
                      _c.push(0);
                    }

                    _c[f] |= p << 8 * (u + m % 4 * b);
                  }

                  return {
                    value: _c,
                    binLen: 4 * g + d
                  };
                };

                break;

              case "TEXT":
                c = function c(_c2, h, d) {
                  var g,
                      l,
                      p = 0,
                      f,
                      m,
                      q,
                      u,
                      r,
                      t;
                  h = h || [0];
                  d = d || 0;
                  q = d >>> 3;
                  if ("UTF8" === a) for (t = -1 === b ? 3 : 0, f = 0; f < _c2.length; f += 1) {
                    for (g = _c2.charCodeAt(f), l = [], 128 > g ? l.push(g) : 2048 > g ? (l.push(192 | g >>> 6), l.push(128 | g & 63)) : 55296 > g || 57344 <= g ? l.push(224 | g >>> 12, 128 | g >>> 6 & 63, 128 | g & 63) : (f += 1, g = 65536 + ((g & 1023) << 10 | _c2.charCodeAt(f) & 1023), l.push(240 | g >>> 18, 128 | g >>> 12 & 63, 128 | g >>> 6 & 63, 128 | g & 63)), m = 0; m < l.length; m += 1) {
                      r = p + q;

                      for (u = r >>> 2; h.length <= u;) {
                        h.push(0);
                      }

                      h[u] |= l[m] << 8 * (t + r % 4 * b);
                      p += 1;
                    }
                  } else if ("UTF16BE" === a || "UTF16LE" === a) for (t = -1 === b ? 2 : 0, l = "UTF16LE" === a && 1 !== b || "UTF16LE" !== a && 1 === b, f = 0; f < _c2.length; f += 1) {
                    g = _c2.charCodeAt(f);
                    !0 === l && (m = g & 255, g = m << 8 | g >>> 8);
                    r = p + q;

                    for (u = r >>> 2; h.length <= u;) {
                      h.push(0);
                    }

                    h[u] |= g << 8 * (t + r % 4 * b);
                    p += 2;
                  }
                  return {
                    value: h,
                    binLen: 8 * p + d
                  };
                };

                break;

              case "B64":
                c = function c(a, _c3, d) {
                  var g = 0,
                      l,
                      p,
                      f,
                      m,
                      q,
                      u,
                      r,
                      t;
                  if (-1 === a.search(/^[a-zA-Z0-9=+\/]+$/)) throw Error("Invalid character in base-64 string");
                  p = a.indexOf("=");
                  a = a.replace(/\=/g, "");
                  if (-1 !== p && p < a.length) throw Error("Invalid '=' found in base-64 string");
                  _c3 = _c3 || [0];
                  d = d || 0;
                  u = d >>> 3;
                  t = -1 === b ? 3 : 0;

                  for (p = 0; p < a.length; p += 4) {
                    q = a.substr(p, 4);

                    for (f = m = 0; f < q.length; f += 1) {
                      l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(q[f]), m |= l << 18 - 6 * f;
                    }

                    for (f = 0; f < q.length - 1; f += 1) {
                      r = g + u;

                      for (l = r >>> 2; _c3.length <= l;) {
                        _c3.push(0);
                      }

                      _c3[l] |= (m >>> 16 - 8 * f & 255) << 8 * (t + r % 4 * b);
                      g += 1;
                    }
                  }

                  return {
                    value: _c3,
                    binLen: 8 * g + d
                  };
                };

                break;

              case "BYTES":
                c = function c(a, _c4, d) {
                  var g, l, p, f, m, q;
                  _c4 = _c4 || [0];
                  d = d || 0;
                  p = d >>> 3;
                  q = -1 === b ? 3 : 0;

                  for (l = 0; l < a.length; l += 1) {
                    g = a.charCodeAt(l), m = l + p, f = m >>> 2, _c4.length <= f && _c4.push(0), _c4[f] |= g << 8 * (q + m % 4 * b);
                  }

                  return {
                    value: _c4,
                    binLen: 8 * a.length + d
                  };
                };

                break;

              case "ARRAYBUFFER":
                try {
                  c = new ArrayBuffer(0);
                } catch (e) {
                  throw Error("ARRAYBUFFER not supported by this environment");
                }

                c = function c(a, _c5, d) {
                  var g, l, p, f, m, q;
                  _c5 = _c5 || [0];
                  d = d || 0;
                  l = d >>> 3;
                  m = -1 === b ? 3 : 0;
                  q = new Uint8Array(a);

                  for (g = 0; g < a.byteLength; g += 1) {
                    f = g + l, p = f >>> 2, _c5.length <= p && _c5.push(0), _c5[p] |= q[g] << 8 * (m + f % 4 * b);
                  }

                  return {
                    value: _c5,
                    binLen: 8 * a.byteLength + d
                  };
                };

                break;

              default:
                throw Error("format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER");
            }

            return c;
          }

          function y(c, a) {
            return c << a | c >>> 32 - a;
          }

          function S(c, a) {
            return 32 < a ? (a -= 32, new b(c.b << a | c.a >>> 32 - a, c.a << a | c.b >>> 32 - a)) : 0 !== a ? new b(c.a << a | c.b >>> 32 - a, c.b << a | c.a >>> 32 - a) : c;
          }

          function w(c, a) {
            return c >>> a | c << 32 - a;
          }

          function t(c, a) {
            var k = null,
                k = new b(c.a, c.b);
            return k = 32 >= a ? new b(k.a >>> a | k.b << 32 - a & 4294967295, k.b >>> a | k.a << 32 - a & 4294967295) : new b(k.b >>> a - 32 | k.a << 64 - a & 4294967295, k.a >>> a - 32 | k.b << 64 - a & 4294967295);
          }

          function T(c, a) {
            var k = null;
            return k = 32 >= a ? new b(c.a >>> a, c.b >>> a | c.a << 32 - a & 4294967295) : new b(0, c.a >>> a - 32);
          }

          function aa(c, a, b) {
            return c & a ^ ~c & b;
          }

          function ba(c, a, k) {
            return new b(c.a & a.a ^ ~c.a & k.a, c.b & a.b ^ ~c.b & k.b);
          }

          function U(c, a, b) {
            return c & a ^ c & b ^ a & b;
          }

          function ca(c, a, k) {
            return new b(c.a & a.a ^ c.a & k.a ^ a.a & k.a, c.b & a.b ^ c.b & k.b ^ a.b & k.b);
          }

          function da(c) {
            return w(c, 2) ^ w(c, 13) ^ w(c, 22);
          }

          function ea(c) {
            var a = t(c, 28),
                k = t(c, 34);
            c = t(c, 39);
            return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);
          }

          function fa(c) {
            return w(c, 6) ^ w(c, 11) ^ w(c, 25);
          }

          function ga(c) {
            var a = t(c, 14),
                k = t(c, 18);
            c = t(c, 41);
            return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);
          }

          function ha(c) {
            return w(c, 7) ^ w(c, 18) ^ c >>> 3;
          }

          function ia(c) {
            var a = t(c, 1),
                k = t(c, 8);
            c = T(c, 7);
            return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);
          }

          function ja(c) {
            return w(c, 17) ^ w(c, 19) ^ c >>> 10;
          }

          function ka(c) {
            var a = t(c, 19),
                k = t(c, 61);
            c = T(c, 6);
            return new b(a.a ^ k.a ^ c.a, a.b ^ k.b ^ c.b);
          }

          function G(c, a) {
            var b = (c & 65535) + (a & 65535);
            return ((c >>> 16) + (a >>> 16) + (b >>> 16) & 65535) << 16 | b & 65535;
          }

          function la(c, a, b, e) {
            var h = (c & 65535) + (a & 65535) + (b & 65535) + (e & 65535);
            return ((c >>> 16) + (a >>> 16) + (b >>> 16) + (e >>> 16) + (h >>> 16) & 65535) << 16 | h & 65535;
          }

          function H(c, a, b, e, h) {
            var d = (c & 65535) + (a & 65535) + (b & 65535) + (e & 65535) + (h & 65535);
            return ((c >>> 16) + (a >>> 16) + (b >>> 16) + (e >>> 16) + (h >>> 16) + (d >>> 16) & 65535) << 16 | d & 65535;
          }

          function ma(c, a) {
            var d, e, h;
            d = (c.b & 65535) + (a.b & 65535);
            e = (c.b >>> 16) + (a.b >>> 16) + (d >>> 16);
            h = (e & 65535) << 16 | d & 65535;
            d = (c.a & 65535) + (a.a & 65535) + (e >>> 16);
            e = (c.a >>> 16) + (a.a >>> 16) + (d >>> 16);
            return new b((e & 65535) << 16 | d & 65535, h);
          }

          function na(c, a, d, e) {
            var h, n, g;
            h = (c.b & 65535) + (a.b & 65535) + (d.b & 65535) + (e.b & 65535);
            n = (c.b >>> 16) + (a.b >>> 16) + (d.b >>> 16) + (e.b >>> 16) + (h >>> 16);
            g = (n & 65535) << 16 | h & 65535;
            h = (c.a & 65535) + (a.a & 65535) + (d.a & 65535) + (e.a & 65535) + (n >>> 16);
            n = (c.a >>> 16) + (a.a >>> 16) + (d.a >>> 16) + (e.a >>> 16) + (h >>> 16);
            return new b((n & 65535) << 16 | h & 65535, g);
          }

          function oa(c, a, d, e, h) {
            var n, g, l;
            n = (c.b & 65535) + (a.b & 65535) + (d.b & 65535) + (e.b & 65535) + (h.b & 65535);
            g = (c.b >>> 16) + (a.b >>> 16) + (d.b >>> 16) + (e.b >>> 16) + (h.b >>> 16) + (n >>> 16);
            l = (g & 65535) << 16 | n & 65535;
            n = (c.a & 65535) + (a.a & 65535) + (d.a & 65535) + (e.a & 65535) + (h.a & 65535) + (g >>> 16);
            g = (c.a >>> 16) + (a.a >>> 16) + (d.a >>> 16) + (e.a >>> 16) + (h.a >>> 16) + (n >>> 16);
            return new b((g & 65535) << 16 | n & 65535, l);
          }

          function B(c, a) {
            return new b(c.a ^ a.a, c.b ^ a.b);
          }

          function A(c) {
            var a = [],
                d;
            if ("SHA-1" === c) a = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];else if (0 === c.lastIndexOf("SHA-", 0)) switch (a = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428], d = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225], c) {
              case "SHA-224":
                break;

              case "SHA-256":
                a = d;
                break;

              case "SHA-384":
                a = [new b(3418070365, a[0]), new b(1654270250, a[1]), new b(2438529370, a[2]), new b(355462360, a[3]), new b(1731405415, a[4]), new b(41048885895, a[5]), new b(3675008525, a[6]), new b(1203062813, a[7])];
                break;

              case "SHA-512":
                a = [new b(d[0], 4089235720), new b(d[1], 2227873595), new b(d[2], 4271175723), new b(d[3], 1595750129), new b(d[4], 2917565137), new b(d[5], 725511199), new b(d[6], 4215389547), new b(d[7], 327033209)];
                break;

              default:
                throw Error("Unknown SHA variant");
            } else if (0 === c.lastIndexOf("SHA3-", 0) || 0 === c.lastIndexOf("SHAKE", 0)) for (c = 0; 5 > c; c += 1) {
              a[c] = [new b(0, 0), new b(0, 0), new b(0, 0), new b(0, 0), new b(0, 0)];
            } else throw Error("No SHA variants supported");
            return a;
          }

          function K(c, a) {
            var b = [],
                e,
                d,
                n,
                g,
                l,
                p,
                f;
            e = a[0];
            d = a[1];
            n = a[2];
            g = a[3];
            l = a[4];

            for (f = 0; 80 > f; f += 1) {
              b[f] = 16 > f ? c[f] : y(b[f - 3] ^ b[f - 8] ^ b[f - 14] ^ b[f - 16], 1), p = 20 > f ? H(y(e, 5), d & n ^ ~d & g, l, 1518500249, b[f]) : 40 > f ? H(y(e, 5), d ^ n ^ g, l, 1859775393, b[f]) : 60 > f ? H(y(e, 5), U(d, n, g), l, 2400959708, b[f]) : H(y(e, 5), d ^ n ^ g, l, 3395469782, b[f]), l = g, g = n, n = y(d, 30), d = e, e = p;
            }

            a[0] = G(e, a[0]);
            a[1] = G(d, a[1]);
            a[2] = G(n, a[2]);
            a[3] = G(g, a[3]);
            a[4] = G(l, a[4]);
            return a;
          }

          function Z(c, a, b, e) {
            var d;

            for (d = (a + 65 >>> 9 << 4) + 15; c.length <= d;) {
              c.push(0);
            }

            c[a >>> 5] |= 128 << 24 - a % 32;
            a += b;
            c[d] = a & 4294967295;
            c[d - 1] = a / 4294967296 | 0;
            a = c.length;

            for (d = 0; d < a; d += 16) {
              e = K(c.slice(d, d + 16), e);
            }

            return e;
          }

          function L(c, a, k) {
            var e,
                h,
                n,
                g,
                l,
                p,
                f,
                m,
                q,
                u,
                r,
                t,
                v,
                w,
                y,
                A,
                z,
                x,
                F,
                B,
                C,
                D,
                E = [],
                J;
            if ("SHA-224" === k || "SHA-256" === k) u = 64, t = 1, D = Number, v = G, w = la, y = H, A = ha, z = ja, x = da, F = fa, C = U, B = aa, J = d;else if ("SHA-384" === k || "SHA-512" === k) u = 80, t = 2, D = b, v = ma, w = na, y = oa, A = ia, z = ka, x = ea, F = ga, C = ca, B = ba, J = V;else throw Error("Unexpected error in SHA-2 implementation");
            k = a[0];
            e = a[1];
            h = a[2];
            n = a[3];
            g = a[4];
            l = a[5];
            p = a[6];
            f = a[7];

            for (r = 0; r < u; r += 1) {
              16 > r ? (q = r * t, m = c.length <= q ? 0 : c[q], q = c.length <= q + 1 ? 0 : c[q + 1], E[r] = new D(m, q)) : E[r] = w(z(E[r - 2]), E[r - 7], A(E[r - 15]), E[r - 16]), m = y(f, F(g), B(g, l, p), J[r], E[r]), q = v(x(k), C(k, e, h)), f = p, p = l, l = g, g = v(n, m), n = h, h = e, e = k, k = v(m, q);
            }

            a[0] = v(k, a[0]);
            a[1] = v(e, a[1]);
            a[2] = v(h, a[2]);
            a[3] = v(n, a[3]);
            a[4] = v(g, a[4]);
            a[5] = v(l, a[5]);
            a[6] = v(p, a[6]);
            a[7] = v(f, a[7]);
            return a;
          }

          function D(c, a) {
            var d,
                e,
                h,
                n,
                g = [],
                l = [];
            if (null !== c) for (e = 0; e < c.length; e += 2) {
              a[(e >>> 1) % 5][(e >>> 1) / 5 | 0] = B(a[(e >>> 1) % 5][(e >>> 1) / 5 | 0], new b(c[e + 1], c[e]));
            }

            for (d = 0; 24 > d; d += 1) {
              n = A("SHA3-");

              for (e = 0; 5 > e; e += 1) {
                h = a[e][0];
                var p = a[e][1],
                    f = a[e][2],
                    m = a[e][3],
                    q = a[e][4];
                g[e] = new b(h.a ^ p.a ^ f.a ^ m.a ^ q.a, h.b ^ p.b ^ f.b ^ m.b ^ q.b);
              }

              for (e = 0; 5 > e; e += 1) {
                l[e] = B(g[(e + 4) % 5], S(g[(e + 1) % 5], 1));
              }

              for (e = 0; 5 > e; e += 1) {
                for (h = 0; 5 > h; h += 1) {
                  a[e][h] = B(a[e][h], l[e]);
                }
              }

              for (e = 0; 5 > e; e += 1) {
                for (h = 0; 5 > h; h += 1) {
                  n[h][(2 * e + 3 * h) % 5] = S(a[e][h], W[e][h]);
                }
              }

              for (e = 0; 5 > e; e += 1) {
                for (h = 0; 5 > h; h += 1) {
                  a[e][h] = B(n[e][h], new b(~n[(e + 1) % 5][h].a & n[(e + 2) % 5][h].a, ~n[(e + 1) % 5][h].b & n[(e + 2) % 5][h].b));
                }
              }

              a[0][0] = B(a[0][0], X[d]);
            }

            return a;
          }

          var d, V, W, X;
          d = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
          V = [new b(d[0], 3609767458), new b(d[1], 602891725), new b(d[2], 3964484399), new b(d[3], 2173295548), new b(d[4], 4081628472), new b(d[5], 3053834265), new b(d[6], 2937671579), new b(d[7], 3664609560), new b(d[8], 2734883394), new b(d[9], 1164996542), new b(d[10], 1323610764), new b(d[11], 3590304994), new b(d[12], 4068182383), new b(d[13], 991336113), new b(d[14], 633803317), new b(d[15], 3479774868), new b(d[16], 2666613458), new b(d[17], 944711139), new b(d[18], 2341262773), new b(d[19], 2007800933), new b(d[20], 1495990901), new b(d[21], 1856431235), new b(d[22], 3175218132), new b(d[23], 2198950837), new b(d[24], 3999719339), new b(d[25], 766784016), new b(d[26], 2566594879), new b(d[27], 3203337956), new b(d[28], 1034457026), new b(d[29], 2466948901), new b(d[30], 3758326383), new b(d[31], 168717936), new b(d[32], 1188179964), new b(d[33], 1546045734), new b(d[34], 1522805485), new b(d[35], 2643833823), new b(d[36], 2343527390), new b(d[37], 1014477480), new b(d[38], 1206759142), new b(d[39], 344077627), new b(d[40], 1290863460), new b(d[41], 3158454273), new b(d[42], 3505952657), new b(d[43], 106217008), new b(d[44], 3606008344), new b(d[45], 1432725776), new b(d[46], 1467031594), new b(d[47], 851169720), new b(d[48], 3100823752), new b(d[49], 1363258195), new b(d[50], 3750685593), new b(d[51], 3785050280), new b(d[52], 3318307427), new b(d[53], 3812723403), new b(d[54], 2003034995), new b(d[55], 3602036899), new b(d[56], 1575990012), new b(d[57], 1125592928), new b(d[58], 2716904306), new b(d[59], 442776044), new b(d[60], 593698344), new b(d[61], 3733110249), new b(d[62], 2999351573), new b(d[63], 3815920427), new b(3391569614, 3928383900), new b(3515267271, 566280711), new b(3940187606, 3454069534), new b(4118630271, 4000239992), new b(116418474, 1914138554), new b(174292421, 2731055270), new b(289380356, 3203993006), new b(460393269, 320620315), new b(685471733, 587496836), new b(852142971, 1086792851), new b(1017036298, 365543100), new b(1126000580, 2618297676), new b(1288033470, 3409855158), new b(1501505948, 4234509866), new b(1607167915, 987167468), new b(1816402316, 1246189591)];
          X = [new b(0, 1), new b(0, 32898), new b(2147483648, 32906), new b(2147483648, 2147516416), new b(0, 32907), new b(0, 2147483649), new b(2147483648, 2147516545), new b(2147483648, 32777), new b(0, 138), new b(0, 136), new b(0, 2147516425), new b(0, 2147483658), new b(0, 2147516555), new b(2147483648, 139), new b(2147483648, 32905), new b(2147483648, 32771), new b(2147483648, 32770), new b(2147483648, 128), new b(0, 32778), new b(2147483648, 2147483658), new b(2147483648, 2147516545), new b(2147483648, 32896), new b(0, 2147483649), new b(2147483648, 2147516424)];
          W = [[0, 36, 3, 41, 18], [1, 44, 10, 45, 2], [62, 6, 43, 15, 61], [28, 55, 25, 21, 56], [27, 20, 39, 8, 14]];
          true ? !(__WEBPACK_AMD_DEFINE_RESULT__ = function () {
            return C;
          }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : undefined;
        })(this);
        /***/

      },

      /***/
      "./node_modules/webpack/buildin/module.js":
      /*!***********************************!*\
        !*** (webpack)/buildin/module.js ***!
        \***********************************/

      /*! no static exports found */

      /***/
      function node_modulesWebpackBuildinModuleJs(module, exports) {
        module.exports = function (module) {
          if (!module.webpackPolyfill) {
            module.deprecate = function () {};

            module.paths = []; // module.parent = undefined by default

            if (!module.children) module.children = [];
            Object.defineProperty(module, "loaded", {
              enumerable: true,
              get: function get() {
                return module.l;
              }
            });
            Object.defineProperty(module, "id", {
              enumerable: true,
              get: function get() {
                return module.i;
              }
            });
            module.webpackPolyfill = 1;
          }

          return module;
        };
        /***/

      },

      /***/
      "./src/Cashout.js":
      /*!************************!*\
        !*** ./src/Cashout.js ***!
        \************************/

      /*! exports provided: CashoutOnlyRequest, CashoutOnlyResponse */

      /***/
      function srcCashoutJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "CashoutOnlyRequest", function () {
          return CashoutOnlyRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "CashoutOnlyResponse", function () {
          return CashoutOnlyResponse;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var CashoutOnlyRequest =
        /*#__PURE__*/
        function () {
          function CashoutOnlyRequest(amountCents, posRefId) {
            _classCallCheck(this, CashoutOnlyRequest);

            this.PosRefId = posRefId;
            this.CashoutAmount = amountCents;
            this.SurchargeAmount = null;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
          }

          _createClass(CashoutOnlyRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "cash_amount": this.CashoutAmount,
                "surcharge_amount": this.SurchargeAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__["RequestIdHelper"].Id("cshout"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].CashoutOnlyRequest, data, true);
            }
          }]);

          return CashoutOnlyRequest;
        }();

        var CashoutOnlyResponse =
        /*#__PURE__*/
        function () {
          function CashoutOnlyResponse(m) {
            _classCallCheck(this, CashoutOnlyResponse);

            this._m = m;
            this.RequestId = m.Id;
            this.PosRefId = m.Data.pos_ref_id;
            this.SchemeName = m.Data.scheme_name;
            this.Success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
          }

          _createClass(CashoutOnlyResponse, [{
            key: "GetRRN",
            value: function GetRRN() {
              return this._m.Data["rrn"];
            }
          }, {
            key: "GetCashoutAmount",
            value: function GetCashoutAmount() {
              return this._m.Data["cash_amount"];
            }
          }, {
            key: "GetBankNonCashAmount",
            value: function GetBankNonCashAmount() {
              return this._m.Data["bank_noncash_amount"];
            }
          }, {
            key: "GetBankCashAmount",
            value: function GetBankCashAmount() {
              return this._m.Data["bank_cash_amount"];
            }
          }, {
            key: "GetCustomerReceipt",
            value: function GetCustomerReceipt() {
              return this._m.Data["customer_receipt"];
            }
          }, {
            key: "GetMerchantReceipt",
            value: function GetMerchantReceipt() {
              return this._m.Data["merchant_receipt"];
            }
          }, {
            key: "GetResponseText",
            value: function GetResponseText() {
              return this._m.Data["host_response_text"];
            }
          }, {
            key: "GetResponseCode",
            value: function GetResponseCode() {
              return this._m.Data["host_response_code"];
            }
          }, {
            key: "GetTerminalReferenceId",
            value: function GetTerminalReferenceId() {
              return this._m.Data["terminal_ref_id"];
            }
          }, {
            key: "GetAccountType",
            value: function GetAccountType() {
              return this._m.Data["account_type"];
            }
          }, {
            key: "GetAuthCode",
            value: function GetAuthCode() {
              return this._m.Data["auth_code"];
            }
          }, {
            key: "GetBankDate",
            value: function GetBankDate() {
              return this._m.Data["bank_date"];
            }
          }, {
            key: "GetBankTime",
            value: function GetBankTime() {
              return this._m.Data["bank_time"];
            }
          }, {
            key: "GetMaskedPan",
            value: function GetMaskedPan() {
              return this._m.Data["masked_pan"];
            }
          }, {
            key: "GetTerminalId",
            value: function GetTerminalId() {
              return this._m.Data["terminal_id"];
            }
          }, {
            key: "WasMerchantReceiptPrinted",
            value: function WasMerchantReceiptPrinted() {
              return this._m.Data["merchant_receipt_printed"];
            }
          }, {
            key: "WasCustomerReceiptPrinted",
            value: function WasCustomerReceiptPrinted() {
              return this._m.Data["customer_receipt_printed"];
            }
          }, {
            key: "GetSurchargeAmount",
            value: function GetSurchargeAmount() {
              return this._m.Data["surcharge_amount"];
            }
          }, {
            key: "GetResponseValue",
            value: function GetResponseValue(attribute) {
              return this._m.Data[attribute];
            }
          }]);

          return CashoutOnlyResponse;
        }();
        /***/

      },

      /***/
      "./src/Connection.js":
      /*!***************************!*\
        !*** ./src/Connection.js ***!
        \***************************/

      /*! exports provided: ConnectionState, SPI_PROTOCOL, ConnectionStateEventArgs, MessageEventArgs, Connection */

      /***/
      function srcConnectionJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "ConnectionState", function () {
          return ConnectionState;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SPI_PROTOCOL", function () {
          return SPI_PROTOCOL;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "ConnectionStateEventArgs", function () {
          return ConnectionStateEventArgs;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MessageEventArgs", function () {
          return MessageEventArgs;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Connection", function () {
          return Connection;
        });

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        var ConnectionState = {
          Disconnected: 'Disconnected',
          Connecting: 'Connecting',
          Connected: 'Connected'
        };
        var SPI_PROTOCOL = 'spi.2.5.0';

        var ConnectionStateEventArgs = function ConnectionStateEventArgs(connectionState) {
          _classCallCheck(this, ConnectionStateEventArgs);

          this.ConnectionState = connectionState;
        };

        var MessageEventArgs = function MessageEventArgs(message) {
          _classCallCheck(this, MessageEventArgs);

          this.Message = message;
        };

        var Connection =
        /*#__PURE__*/
        function () {
          function Connection() {
            _classCallCheck(this, Connection);

            this.Address = null;
            this.Connected = false;
            this.State = ConnectionState.Disconnected;
            this.SpiProtocol = SPI_PROTOCOL;
            this._ws = null;

            if (typeof WebSocket === 'undefined') {
              throw new Error('Environment does not support WebSockets');
            }
          }

          _createClass(Connection, [{
            key: "Connect",
            value: function Connect(UseSecureWebSockets) {
              var _this = this;

              if (this.State === ConnectionState.Connected || this.State === ConnectionState.Connecting) {
                // already connected or connecting. disconnect first.
                return;
              }

              this.State = ConnectionState.Connecting; //Create a new socket instance specifying the url, SPI protocol and Websocket to use.
              //The will create a TCP/IP socket connection to the provided URL and perform HTTP websocket negotiation

              this._ws = new WebSocket(this.Address, this.SpiProtocol);

              this._ws.onopen = function () {
                return _this.pollWebSocketConnection();
              };

              this._ws.onmessage = function (payload) {
                return _this.onMessageReceived(payload);
              };

              this._ws.onclose = function () {
                return _this.onClosed();
              };

              this._ws.onerror = function (err) {
                return _this.onError(err);
              };

              document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {
                detail: new ConnectionStateEventArgs(ConnectionState.Connecting)
              }));
            }
          }, {
            key: "Disconnect",
            value: function Disconnect() {
              if (this.State == ConnectionState.Disconnected) return;

              if (this._ws && this._ws.readyState != this._ws.CLOSED) {
                this._ws.close();
              }

              if (this._ws) {
                this._ws.onopen = null;
                this._ws.onmessage = null;
                this._ws.onclose = null;
                this._ws.onerror = null;
              }

              this.onClosed();
            }
          }, {
            key: "Send",
            value: function Send(message) {
              this._ws.send(message);
            }
          }, {
            key: "onOpened",
            value: function onOpened() {
              this.State = ConnectionState.Connected;
              this.Connected = true;
              document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {
                detail: new ConnectionStateEventArgs(ConnectionState.Connected)
              }));
            }
          }, {
            key: "onClosed",
            value: function onClosed() {
              this.Connected = false;
              this.State = ConnectionState.Disconnected;
              this._ws = null;
              document.dispatchEvent(new CustomEvent('ConnectionStatusChanged', {
                detail: new ConnectionStateEventArgs(ConnectionState.Disconnected)
              }));
            }
          }, {
            key: "pollWebSocketConnection",
            value: function pollWebSocketConnection() {
              var _this2 = this;

              var count = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;

              if (this._ws.readyState === this._ws.OPEN) {
                this.onOpened();
                return true;
              } else if (count < 25) {
                count++;
                setTimeout(function () {
                  return _this2.pollWebSocketConnection(count);
                }, 200);
              } else {
                this.Disconnect();
                return false;
              }
            }
          }, {
            key: "onMessageReceived",
            value: function onMessageReceived(message) {
              document.dispatchEvent(new CustomEvent('MessageReceived', {
                detail: new MessageEventArgs(message.data)
              }));
            }
          }, {
            key: "onError",
            value: function onError(err) {
              document.dispatchEvent(new CustomEvent('ErrorReceived', {
                detail: new MessageEventArgs(err)
              }));
            }
          }]);

          return Connection;
        }();
        /***/

      },

      /***/
      "./src/Crypto.js":
      /*!***********************!*\
        !*** ./src/Crypto.js ***!
        \***********************/

      /*! exports provided: Crypto */

      /***/
      function srcCryptoJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Crypto", function () {
          return Crypto;
        });
        /* harmony import */


        var jssha__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! jssha */
        "./node_modules/jssha/src/sha.js");
        /* harmony import */


        var jssha__WEBPACK_IMPORTED_MODULE_0___default =
        /*#__PURE__*/
        __webpack_require__.n(jssha__WEBPACK_IMPORTED_MODULE_0__);
        /* harmony import */


        var aes_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! aes-js */
        "./node_modules/aes-js/index.js");
        /* harmony import */


        var aes_js__WEBPACK_IMPORTED_MODULE_1___default =
        /*#__PURE__*/
        __webpack_require__.n(aes_js__WEBPACK_IMPORTED_MODULE_1__);

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var Crypto =
        /*#__PURE__*/
        function () {
          function Crypto() {
            _classCallCheck(this, Crypto);
          } // <summary>
          // Encrypt a block using CBC and PKCS7.
          // </summary>
          // <param name="key">The key value</param>
          // <param name="data">The message to encrypt</param>
          // <returns>Returns the resulting encrypted string data as HEX.</returns>


          _createClass(Crypto, null, [{
            key: "AesEncrypt",
            value: function AesEncrypt(key, data) {
              var bytes = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.hex.toBytes(key);
              var iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];
              var textBytes = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.padding.pkcs7.pad(aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.utf8.toBytes(data));
              var aesCbc = new aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.ModeOfOperation.cbc(bytes, iv);
              var encryptedBytes = aesCbc.encrypt(textBytes);
              var encryptedString = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.hex.fromBytes(encryptedBytes);
              return encryptedString;
            } // <summary>
            // Decrypt a block using a CBC and PKCS7.
            // </summary>
            // <param name="key">The key value</param>
            // <param name="data">the data to decrypt</param>
            // <returns>Returns the resulting data decrypted in plaintext.</returns>

          }, {
            key: "AesDecrypt",
            value: function AesDecrypt(key, data) {
              var bytes = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.hex.toBytes(key);
              var iv = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00];
              var encryptedBytes = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.hex.toBytes(data);
              var aesCbc = new aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.ModeOfOperation.cbc(bytes, iv);
              var decryptedBytes = aesCbc.decrypt(encryptedBytes);
              var decrypted = aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.utils.utf8.fromBytes(aes_js__WEBPACK_IMPORTED_MODULE_1___default.a.padding.pkcs7.strip(decryptedBytes));
              return decrypted;
            } // <summary>
            // Calculates the HMACSHA256 signature of a message.
            // </summary>
            // <param name="key">The Hmac Key as HEX</param>
            // <param name="messageToSign">The message to sign</param>
            // <returns>The HMACSHA256 signature as a hex string</returns>

          }, {
            key: "HmacSignature",
            value: function HmacSignature(key, messageToSign) {
              var shaObj = new jssha__WEBPACK_IMPORTED_MODULE_0___default.a("SHA-256", "TEXT");
              shaObj.setHMACKey(key, 'HEX');
              shaObj.update(messageToSign);
              return shaObj.getHMAC("HEX");
            }
            /**
             * This utility function calculates the SHA-256 value in hexadecimal format
             * @param {String} value the value to be hashed
             */

          }, {
            key: "GenerateHash",
            value: function GenerateHash(value) {
              var shaObj = new jssha__WEBPACK_IMPORTED_MODULE_0___default.a('SHA-256', 'HEX');
              shaObj.update(value);
              var shaHash = shaObj.getHash('HEX');
              return shaHash;
            }
          }]);

          return Crypto;
        }();
        /***/

      },

      /***/
      "./src/DiffieHellman.js":
      /*!******************************!*\
        !*** ./src/DiffieHellman.js ***!
        \******************************/

      /*! exports provided: DiffieHellman */

      /***/
      function srcDiffieHellmanJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "DiffieHellman", function () {
          return DiffieHellman;
        });
        /* harmony import */


        var bn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! bn.js */
        "./node_modules/bn.js/lib/bn.js");
        /* harmony import */


        var bn_js__WEBPACK_IMPORTED_MODULE_0___default =
        /*#__PURE__*/
        __webpack_require__.n(bn_js__WEBPACK_IMPORTED_MODULE_0__);

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        } // This creates the private and public keys for diffie-hellman (https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange#Cryptographic_explanation)
        // REQUIREMENTS: bn.js
        // ASSUMPTIONS: Inputs to the functions are hexadecimal strings
        // <summary>
        // This class implements the Diffie-Hellman algorithm using BigIntegers.
        // It can do the 3 main things:
        // 1. Generate a random Private Key for you.
        // 2. Generate your Public Key based on your Private Key.
        // 3. Generate the Secret given their Public Key and your Private Key
        // p and g are the shared constants for the algorithm, aka primeP and primeG.
        // </summary>


        var DiffieHellman =
        /*#__PURE__*/
        function () {
          function DiffieHellman() {
            _classCallCheck(this, DiffieHellman);
          } // <summary>
          // Generates a random Private Key that you can use.
          // </summary>
          // <param name="p"></param>
          // <returns>Random Private Key</returns>


          _createClass(DiffieHellman, [{
            key: "RandomPrivateKey",
            value: function RandomPrivateKey(maxValue) {
              var maxValueBN = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(maxValue);
              var shiftDistance = Math.floor(Math.random() * 1000 + 1);
              var randBitInt = maxValueBN.shrn(shiftDistance); // Right shift divides by a power of 2

              var min = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(2);

              if (randBitInt.cmp(min) == -1) {
                return min;
              }

              return randBitInt;
            } // <summary>
            // Calculates the Public Key from a Private Key.
            // </summary>
            // <param name="p"></param>
            // <param name="g"></param>
            // <param name="privateKey"></param>
            // <returns>Public Key (Hex)</returns>

          }, {
            key: "PublicKey",
            value: function PublicKey(p, g, privateKey) {
              var aHex = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(privateKey, 16);
              var gHex = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(g, 16);
              var montPrime = bn_js__WEBPACK_IMPORTED_MODULE_0___default.a.mont(new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(p, 16));
              var gRed = gHex.toRed(montPrime);
              var secret = gRed.redPow(aHex).fromRed().toString(16);
              return secret;
            } // <summary>
            // Calculates the shared secret given their Public Key (A) and your Private Key (b)
            // </summary>
            // <param name="p"></param>
            // <param name="theirPublicKey"></param>
            // <param name="yourPrivateKey"></param>
            // <returns></returns>

          }, {
            key: "Secret",
            value: function Secret(p, theirPublicKey, yourPrivateKey) {
              var bHex = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(theirPublicKey, 16);
              var AHex = new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(yourPrivateKey, 16);
              var montPrime = bn_js__WEBPACK_IMPORTED_MODULE_0___default.a.mont(new bn_js__WEBPACK_IMPORTED_MODULE_0___default.a(p, 16));
              var BRed = bHex.toRed(montPrime);
              return BRed.redPow(AHex).fromRed().toString(16).toUpperCase();
            }
          }]);

          return DiffieHellman;
        }();
        /***/

      },

      /***/
      "./src/KeyRollingHelper.js":
      /*!*********************************!*\
        !*** ./src/KeyRollingHelper.js ***!
        \*********************************/

      /*! exports provided: KeyRollingHelper, KeyRollingResult */

      /***/
      function srcKeyRollingHelperJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "KeyRollingHelper", function () {
          return KeyRollingHelper;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "KeyRollingResult", function () {
          return KeyRollingResult;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _Crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./Crypto */
        "./src/Crypto.js");
        /* harmony import */


        var _Secrets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./Secrets */
        "./src/Secrets.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var KeyRollingHelper =
        /*#__PURE__*/
        function () {
          function KeyRollingHelper() {
            _classCallCheck(this, KeyRollingHelper);
          }

          _createClass(KeyRollingHelper, null, [{
            key: "PerformKeyRolling",
            value: function PerformKeyRolling(krRequest, currentSecrets) {
              var m = new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](krRequest.Id, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].KeyRollResponse, {
                "status": "confirmed"
              }, true);
              var newSecrets = new _Secrets__WEBPACK_IMPORTED_MODULE_2__["Secrets"](_Crypto__WEBPACK_IMPORTED_MODULE_1__["Crypto"].GenerateHash(currentSecrets.EncKey).toUpperCase(), _Crypto__WEBPACK_IMPORTED_MODULE_1__["Crypto"].GenerateHash(currentSecrets.HmacKey).toUpperCase());
              return new KeyRollingResult(m, newSecrets);
            }
          }]);

          return KeyRollingHelper;
        }();

        var KeyRollingResult = function KeyRollingResult(keyRollingConfirmation, newSecrets) {
          _classCallCheck(this, KeyRollingResult);

          this.KeyRollingConfirmation = keyRollingConfirmation;
          this.NewSecrets = newSecrets;
        };
        /***/

      },

      /***/
      "./src/Logger.js":
      /*!***********************!*\
        !*** ./src/Logger.js ***!
        \***********************/

      /*! exports provided: default, Logger */

      /***/
      function srcLoggerJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "default", function () {
          return Logger;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Logger", function () {
          return Logger;
        });

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var Logger =
        /*#__PURE__*/
        function () {
          function Logger(element) {
            var lineSeperator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '\n';

            _classCallCheck(this, Logger);

            this.buffer = [];
            this.element = element;
            this.lineSeperator = lineSeperator;
          }

          _createClass(Logger, [{
            key: "Info",
            value: function Info() {
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }

              this.buffer.push(args.join(' '));

              this._render();
            }
          }, {
            key: "Debug",
            value: function Debug() {
              for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                args[_key2] = arguments[_key2];
              }

              this.buffer.push(args.join(' '));

              this._render();
            }
          }, {
            key: "Warn",
            value: function Warn() {
              for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
                args[_key3] = arguments[_key3];
              }

              this.buffer.push(args.join(' '));

              this._render();
            }
          }, {
            key: "Error",
            value: function Error() {
              for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
                args[_key4] = arguments[_key4];
              }

              this.buffer.push(args.join(' '));

              this._render();
            }
          }, {
            key: "Console",
            value: function Console() {
              for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
                args[_key5] = arguments[_key5];
              }

              console.log(args.join(' '));
            }
          }, {
            key: "_render",
            value: function _render() {
              this.element.innerText = this.buffer.join(this.lineSeperator);
              this.element.scrollTop = this.element.scrollHeight;
            }
          }, {
            key: "Clear",
            value: function Clear() {
              this.buffer = [];

              this._render();
            }
          }]);

          return Logger;
        }();
        /***/

      },

      /***/
      "./src/Messages.js":
      /*!*************************!*\
        !*** ./src/Messages.js ***!
        \*************************/

      /*! exports provided: Events, SuccessState, MessageStamp, MessageEnvelope, Message */

      /***/
      function srcMessagesJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Events", function () {
          return Events;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SuccessState", function () {
          return SuccessState;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MessageStamp", function () {
          return MessageStamp;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MessageEnvelope", function () {
          return MessageEnvelope;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Message", function () {
          return Message;
        });
        /* harmony import */


        var _Crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Crypto */
        "./src/Crypto.js");

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        } // <summary>
        // Events statically declares the various event names in messages.
        // </summary>


        var Events = {
          PairRequest: "pair_request",
          KeyRequest: "key_request",
          KeyResponse: "key_response",
          KeyCheck: "key_check",
          PairResponse: "pair_response",
          DropKeysAdvice: "drop_keys",
          LoginRequest: "login_request",
          LoginResponse: "login_response",
          Ping: "ping",
          Pong: "pong",
          PurchaseRequest: "purchase",
          PurchaseResponse: "purchase_response",
          CancelTransactionRequest: "cancel_transaction",
          CancelTransactionResponse: "cancel_response",
          GetLastTransactionRequest: "get_last_transaction",
          GetLastTransactionResponse: "last_transaction",
          RefundRequest: "refund",
          RefundResponse: "refund_response",
          SignatureRequired: "signature_required",
          SignatureDeclined: "signature_decline",
          SignatureAccepted: "signature_accept",
          AuthCodeRequired: "authorisation_code_required",
          AuthCodeAdvice: "authorisation_code_advice",
          CashoutOnlyRequest: "cash",
          CashoutOnlyResponse: "cash_response",
          MotoPurchaseRequest: "moto_purchase",
          MotoPurchaseResponse: "moto_purchase_response",
          SettleRequest: "settle",
          SettleResponse: "settle_response",
          SettlementEnquiryRequest: "settlement_enquiry",
          SettlementEnquiryResponse: "settlement_enquiry_response",
          SetPosInfoRequest: "set_pos_info",
          SetPosInfoResponse: "set_pos_info_response",
          KeyRollRequest: "request_use_next_keys",
          KeyRollResponse: "response_use_next_keys",
          Error: "error",
          InvalidHmacSignature: "_INVALID_SIGNATURE_",
          // Pay At Table Related Messages
          PayAtTableGetTableConfig: "get_table_config",
          // incoming. When eftpos wants to ask us for P@T configuration.
          PayAtTableSetTableConfig: "set_table_config",
          // outgoing. When we want to instruct eftpos with the P@T configuration.
          PayAtTableGetBillDetails: "get_bill_details",
          // incoming. When eftpos wants to aretrieve the bill for a table.
          PayAtTableBillDetails: "bill_details",
          // outgoing. We reply with this when eftpos requests to us get_bill_details.
          PayAtTableBillPayment: "bill_payment",
          // incoming. When the eftpos advices 
          PrintingRequest: "print",
          PrintingResponse: "print_response",
          TerminalStatusRequest: "get_terminal_status",
          TerminalStatusResponse: "terminal_status",
          BatteryLevelChanged: "battery_level_changed",
          PayAtTableGetOpenTables: "get_open_tables",
          PayAtTableOpenTables: "open_tables",
          PayAtTableBillPaymentFlowEnded: "bill_payment_flow_ended"
        };
        var SuccessState = {
          Unknown: 'Unknown',
          Success: 'Success',
          Failed: 'Failed'
        }; // <summary>
        // MessageStamp represents what is required to turn an outgoing Message into Json
        // including encryption and date setting.
        // </summary>

        var MessageStamp = function MessageStamp(posId, secrets, serverTimeDelta) {
          _classCallCheck(this, MessageStamp);

          this.PosId = posId;
          this.Secrets = secrets;
          this.ServerTimeDelta = serverTimeDelta;
        }; // <summary>
        // MessageEnvelope represents the outer structure of any message that is exchanged
        // between the Pos and the PinPad and vice-versa.
        // See http://www.simplepaymentapi.com/#/api/message-encryption
        // </summary>


        var MessageEnvelope =
        /*#__PURE__*/
        function () {
          function MessageEnvelope(message, enc, hmac, posId) {
            _classCallCheck(this, MessageEnvelope); // <summary>
            // The Message field is set only when in Un-encrypted form.
            // In fact it is the only field in an envelope in the Un-Encrypted form.
            // </summary>


            this.Message = message; // <summary>
            // The enc field is set only when in Encrypted form.
            // It contains the encrypted Json of another MessageEnvelope 
            // </summary>

            this.Enc = enc; // <summary>
            // The hmac field is set only when in Encrypted form.
            // It is the signature of the "enc" field.
            // </summary>

            this.Hmac = hmac; // <summary>
            // The pos_id field is only filled for outgoing Encrypted messages.
            // </summary>

            this.PosId = posId;
          }

          _createClass(MessageEnvelope, [{
            key: "toJSON",
            value: function toJSON() {
              return {
                message: this.Message,
                enc: this.Enc,
                hmac: this.Hmac,
                pos_id: this.PosId
              };
            }
          }]);

          return MessageEnvelope;
        }(); // <summary>
        // Message represents the contents of a Message.
        // See http://www.simplepaymentapi.com/#/api/message-encryption
        // </summary>


        var Message =
        /*#__PURE__*/
        function () {
          function Message(id, eventName, data, needsEncryption) {
            _classCallCheck(this, Message);

            this.Id = id;
            this.EventName = eventName;
            this.Data = data;
            this.DateTimeStamp = '';
            this.PosId = ''; // Pos_id is set here only for outgoing Un-encrypted messages. 

            this.IncommingHmac = ''; // Sometimes the logic around the incoming message might need access to the sugnature, for example in the key_check.

            this._needsEncryption = needsEncryption; // Denotes whether an outgoing message needs to be encrypted in ToJson()

            this.DecryptedJson = ''; // Set on an incoming message just so you can have a look at what it looked like in its json form.
          }

          _createClass(Message, [{
            key: "GetSuccessState",
            value: function GetSuccessState() {
              if (!this.Data || typeof this.Data.success === "undefined") {
                return SuccessState.Unknown;
              }

              return this.Data.success ? SuccessState.Success : SuccessState.Failed;
            }
          }, {
            key: "GetError",
            value: function GetError() {
              return this.Data.error_reason ? this.Data.error_reason : "";
            }
          }, {
            key: "GetErrorDetail",
            value: function GetErrorDetail() {
              return this.Data.error_detail;
            }
          }, {
            key: "GetServerTimeDelta",
            value: function GetServerTimeDelta() {
              var now = Date.now(); // Stamp format: 2018-04-19T01:42:38.279

              var dts = this.DateTimeStamp.split(/[\-\+\. :T]/);
              var msgTime = new Date( // year, month, date
              dts[0], dts[1] - 1, dts[2], // hour, minute, second, millis
              dts[3], dts[4], dts[5], dts[6]).getTime(); // Local time zone

              return msgTime - now;
            } // Helper method to parse bank date format 20042018 (ddMMyyyy)

          }, {
            key: "ToJson",
            value: function ToJson(stamp) {
              var now = Date.now();
              var tzoffset = new Date().getTimezoneOffset() * 60 * 1000;
              var adjustedTime = new Date(now - tzoffset + stamp.ServerTimeDelta); // Format date: "yyyy-MM-ddTHH:mm:ss.fff"

              this.DateTimeStamp = adjustedTime.toISOString().slice(0, -1);
              this.PosId = stamp.PosId;
              var envelope = {
                message: {
                  id: this.Id,
                  event: this.EventName,
                  data: this.Data,
                  datetime: this.DateTimeStamp
                }
              };

              if (!this._needsEncryption) {
                // Unencrypted Messages need PosID inside the message
                envelope.message.pos_id = this.PosId;
              }

              this.DecryptedJson = JSON.stringify(envelope);

              if (!this._needsEncryption) {
                return this.DecryptedJson;
              }

              var encMsg = _Crypto__WEBPACK_IMPORTED_MODULE_0__["Crypto"].AesEncrypt(stamp.Secrets.EncKey, this.DecryptedJson);

              var hmacSig = _Crypto__WEBPACK_IMPORTED_MODULE_0__["Crypto"].HmacSignature(stamp.Secrets.HmacKey, encMsg);

              var encrMessageEnvelope = {
                enc: encMsg,
                hmac: hmacSig.toUpperCase(),
                pos_id: stamp.PosId
              };
              return JSON.stringify(encrMessageEnvelope);
            }
          }], [{
            key: "ParseBankDate",
            value: function ParseBankDate(bankDate) {
              if (bankDate.length !== 8) return null;
              return new Date("".concat(bankDate.substr(4, 4), "-").concat(bankDate.substr(2, 2), "-").concat(bankDate.substr(0, 2)));
            } // Parses a bank date & time str from "05Oct17" / "05:00" ("ddMMMyy/HH:mm") into date obj

          }, {
            key: "ParseBankDateTimeStr",
            value: function ParseBankDateTimeStr(date, time) {
              return new Date("".concat(date.substr(0, 2), " ").concat(date.substr(2, 3), " ").concat(date.substr(5, 2), " ").concat(time));
            }
          }, {
            key: "FromJson",
            value: function FromJson(msgJson, secrets) {
              var env = JSON.parse(msgJson);

              if (env.message != null) {
                var message = new Message(env.message.id, env.message.event, env.message.data, false);
                message.DecryptedJson = msgJson;
                return message;
              }

              if (secrets == null) {
                // This may happen if we somehow received an encrypted message from eftpos but we're not configered with secrets.
                // For example, if we cancel the pairing process a little late in the game and we get an encrypted key_check message after we've dropped the keys.
                return new Message("UNKNOWN", "NOSECRETS", null, false);
              } // Its encrypted, verify sig


              var sig = _Crypto__WEBPACK_IMPORTED_MODULE_0__["Crypto"].HmacSignature(secrets.HmacKey, env.enc);

              if (sig.toUpperCase() != env.hmac) {
                return new Message("_", Events.InvalidHmacSignature, null, false);
              }

              var decryptedJson = _Crypto__WEBPACK_IMPORTED_MODULE_0__["Crypto"].AesDecrypt(secrets.EncKey, env.enc);

              try {
                var decryptedMsg = JSON.parse(decryptedJson);

                var _message = new Message(decryptedMsg.message.id, decryptedMsg.message.event, decryptedMsg.message.data, true);

                _message.DateTimeStamp = decryptedMsg.message.datetime;
                _message.PosId = decryptedMsg.message.pos_id;
                _message.IncomingHmac = env.hmac;
                _message.DecryptedJson = decryptedJson;
                return _message;
              } catch (e) {
                return new Message("UNKNOWN", "UNPARSEABLE", {
                  "msg": decryptedJson
                }, false);
              }
            }
          }]);

          return Message;
        }();
        /***/

      },

      /***/
      "./src/Pairing.js":
      /*!************************!*\
        !*** ./src/Pairing.js ***!
        \************************/

      /*! exports provided: PairRequest, KeyRequest, KeyResponse, KeyCheck, PairResponse, SecretsAndKeyResponse, DropKeysRequest */

      /***/
      function srcPairingJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PairRequest", function () {
          return PairRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "KeyRequest", function () {
          return KeyRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "KeyResponse", function () {
          return KeyResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "KeyCheck", function () {
          return KeyCheck;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PairResponse", function () {
          return PairResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SecretsAndKeyResponse", function () {
          return SecretsAndKeyResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "DropKeysRequest", function () {
          return DropKeysRequest;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        } // <summary>
        // Pairing Interaction 1: Outgoing
        // </summary>


        var PairRequest =
        /*#__PURE__*/
        function () {
          function PairRequest() {
            _classCallCheck(this, PairRequest);
          }

          _createClass(PairRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                padding: true
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("pr"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PairRequest, data, false);
            }
          }]);

          return PairRequest;
        }(); // Pairing Interaction 2: Incoming


        var KeyRequest = function KeyRequest(m) {
          _classCallCheck(this, KeyRequest);

          this.RequestId = m.Id;
          this.Aenc = m.Data.enc.A;
          this.Ahmac = m.Data.hmac.A;
        }; // Pairing Interaction 3: Outgoing


        var KeyResponse =
        /*#__PURE__*/
        function () {
          function KeyResponse(requestId, Benc, Bhmac) {
            _classCallCheck(this, KeyResponse);

            this.RequestId = requestId;
            this.Benc = Benc;
            this.Bhmac = Bhmac;
          }

          _createClass(KeyResponse, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                enc: {
                  B: this.Benc
                },
                hmac: {
                  B: this.Bhmac
                }
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](this.RequestId, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].KeyResponse, data, false);
            }
          }]);

          return KeyResponse;
        }(); // Pairing Interaction 4: Incoming


        var KeyCheck = function KeyCheck(m) {
          _classCallCheck(this, KeyCheck);

          this.ConfirmationCode = m.IncomingHmac.substring(0, 6);
        }; // Pairing Interaction 5: Incoming


        var PairResponse = function PairResponse(m) {
          _classCallCheck(this, PairResponse);

          this.Success = m.Data.success;
        }; // Holder class for Secrets and KeyResponse, so that we can use them together in method signatures.


        var SecretsAndKeyResponse = function SecretsAndKeyResponse(secrets, keyResponse) {
          _classCallCheck(this, SecretsAndKeyResponse);

          this.Secrets = secrets;
          this.KeyResponse = keyResponse;
        };

        var DropKeysRequest =
        /*#__PURE__*/
        function () {
          function DropKeysRequest() {
            _classCallCheck(this, DropKeysRequest);
          }

          _createClass(DropKeysRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("drpkys"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].DropKeysAdvice, null, true);
            }
          }]);

          return DropKeysRequest;
        }();
        /***/

      },

      /***/
      "./src/PairingHelper.js":
      /*!******************************!*\
        !*** ./src/PairingHelper.js ***!
        \******************************/

      /*! exports provided: GENERATOR, GROUP14_2048_BIT_MODP, PairingHelper, PublicKeyAndSecret */

      /***/
      function srcPairingHelperJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "GENERATOR", function () {
          return GENERATOR;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "GROUP14_2048_BIT_MODP", function () {
          return GROUP14_2048_BIT_MODP;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PairingHelper", function () {
          return PairingHelper;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PublicKeyAndSecret", function () {
          return PublicKeyAndSecret;
        });
        /* harmony import */


        var _Pairing__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Pairing */
        "./src/Pairing.js");
        /* harmony import */


        var _Secrets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./Secrets */
        "./src/Secrets.js");
        /* harmony import */


        var _Crypto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./Crypto */
        "./src/Crypto.js");
        /* harmony import */


        var _DiffieHellman__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
        /*! ./DiffieHellman */
        "./src/DiffieHellman.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        } // This is the generator used for diffie-hellman in 2048-bit MODP Group 14 as per (https://tools.ietf.org/html/rfc3526#section-3)


        var GENERATOR = 2; // This is the prime used for diffie-hellman using 2048-bit MODP Group 14 as per (https://tools.ietf.org/html/rfc3526#section-3)

        var GROUP14_2048_BIT_MODP = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AACAA68FFFFFFFFFFFFFFFF'; // <summary>
        // This static class helps you with the pairing process as documented here:
        // http://www.simplepaymentapi.com/#/api/pairing-process
        // </summary>

        var PairingHelper =
        /*#__PURE__*/
        function () {
          function PairingHelper() {
            _classCallCheck(this, PairingHelper);
          }

          _createClass(PairingHelper, [{
            key: "GenerateSecretsAndKeyResponse",
            // <summary>
            // Calculates/Generates Secrets and KeyResponse given an incoming KeyRequest.
            // </summary>
            // <param name="keyRequest"></param>
            // <returns>Secrets and KeyResponse to send back.</returns>
            value: function GenerateSecretsAndKeyResponse(keyRequest) {
              var encPubAndSec = this._calculateMyPublicKeyAndSecret(keyRequest.Aenc);

              var Benc = encPubAndSec.MyPublicKey;
              var Senc = encPubAndSec.SharedSecretKey;

              var hmacPubAndSec = this._calculateMyPublicKeyAndSecret(keyRequest.Ahmac);

              var Bhmac = hmacPubAndSec.MyPublicKey;
              var Shmac = hmacPubAndSec.SharedSecretKey;
              var secrets = new _Secrets__WEBPACK_IMPORTED_MODULE_1__["Secrets"](Senc, Shmac);
              var keyResponse = new _Pairing__WEBPACK_IMPORTED_MODULE_0__["KeyResponse"](keyRequest.RequestId, Benc, Bhmac);
              return new _Pairing__WEBPACK_IMPORTED_MODULE_0__["SecretsAndKeyResponse"](secrets, keyResponse);
            } // <summary>
            // Turns an incoming "A" value from the PinPad into the outgoing "B" value 
            // and the secret value using DiffieHelmman helper.
            // </summary>
            // <param name="theirPublicKey">The incoming A value</param>
            // <returns>Your B value and the Secret</returns>

          }, {
            key: "_calculateMyPublicKeyAndSecret",
            value: function _calculateMyPublicKeyAndSecret(theirPublicKey) {
              var diffieHellman = new _DiffieHellman__WEBPACK_IMPORTED_MODULE_3__["DiffieHellman"]();
              var myPrivateBI = diffieHellman.RandomPrivateKey(GROUP14_2048_BIT_MODP);
              var myPublicBI = diffieHellman.PublicKey(GROUP14_2048_BIT_MODP, GENERATOR, myPrivateBI);
              var secretBI = diffieHellman.Secret(GROUP14_2048_BIT_MODP, theirPublicKey, myPrivateBI);
              var secret = this.DHSecretToSPISecret(secretBI);
              return new PublicKeyAndSecret(myPublicBI, secret);
            } // <summary>
            // Converts the DH secret BigInteger into the hex-string to be used as the secret.
            // There are some "gotchyas" here which is why this piece of work is abstracted so it can be tested separately.
            // See: http://www.simplepaymentapi.com/#/api/pairing-process
            // </summary>
            // <param name="secretBI">Secret as BigInteger</param>
            // <returns>Secret as Hex-String</returns>

          }, {
            key: "DHSecretToSPISecret",
            value: function DHSecretToSPISecret(secret) {
              // If the calculated hexadecimal secret doesn't have an even number of characters, we add an extra 0 to the start. This allows SHA-256 to operate on the hexadecimal secret as if it were a hexadecimal representation of a string.
              if (secret.length % 2 === 1) {
                secret = '0' + secret;
              }

              secret = secret.padStart(512, '0'); // We sha256 that byte array and return the hex string result

              return _Crypto__WEBPACK_IMPORTED_MODULE_2__["Crypto"].GenerateHash(secret);
            }
          }], [{
            key: "NewPairRequest",
            // <summary>
            // Generates a pairing Request.
            // </summary>
            // <returns>New PairRequest</returns>
            value: function NewPairRequest() {
              return new _Pairing__WEBPACK_IMPORTED_MODULE_0__["PairRequest"]();
            }
          }]);

          return PairingHelper;
        }(); // <summary>
        // Internal Holder class for Public and Secret, so that we can use them together in method signatures. 
        // </summary>


        var PublicKeyAndSecret = function PublicKeyAndSecret(myPublicKey, sharedSecretKey) {
          _classCallCheck(this, PublicKeyAndSecret);

          this.MyPublicKey = myPublicKey;
          this.SharedSecretKey = sharedSecretKey;
        };
        /***/

      },

      /***/
      "./src/PayAtTable.js":
      /*!***************************!*\
        !*** ./src/PayAtTable.js ***!
        \***************************/

      /*! exports provided: BillStatusResponse, BillRetrievalResult, PaymentType, BillPayment, PaymentHistoryEntry, PayAtTableConfig, GetOpenTablesResponse, OpenTablesEntry, BillPaymentFlowEndedResponse */

      /***/
      function srcPayAtTableJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "BillStatusResponse", function () {
          return BillStatusResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "BillRetrievalResult", function () {
          return BillRetrievalResult;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PaymentType", function () {
          return PaymentType;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "BillPayment", function () {
          return BillPayment;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PaymentHistoryEntry", function () {
          return PaymentHistoryEntry;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PayAtTableConfig", function () {
          return PayAtTableConfig;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "GetOpenTablesResponse", function () {
          return GetOpenTablesResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "OpenTablesEntry", function () {
          return OpenTablesEntry;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "BillPaymentFlowEndedResponse", function () {
          return BillPaymentFlowEndedResponse;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _Purchase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./Purchase */
        "./src/Purchase.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        } // <summary>
        // This class represents the BillDetails that the POS will be asked for throughout a PayAtTable flow.
        // </summary>


        var BillStatusResponse =
        /*#__PURE__*/
        function () {
          function BillStatusResponse() {
            _classCallCheck(this, BillStatusResponse); // <summary>
            // Set this Error accordingly if you are not able to return the BillDetails that were asked from you.
            // </summary>


            this.Result = null; // <summary>
            // This is a unique identifier that you assign to each bill.
            // It migt be for example, the timestamp of when the cover was opened.
            // </summary>

            this.BillId = null; // <summary>
            // This is the table id that this bill was for.
            // The waiter will enter it on the Eftpos at the start of the PayAtTable flow and the Eftpos will 
            // retrieve the bill using the table id. 
            // </summary>

            this.TableId = null;
            this.OperatorId = null; // <summary>
            // The Total Amount on this bill, in cents.
            // </summary>

            this.TotalAmount = 0; // <summary>
            // The currently outsanding amount on this bill, in cents.
            // </summary>

            this.OutstandingAmount = 0; // <summary>
            // Your POS is required to persist some state on behalf of the Eftpos so the Eftpos can recover state.
            // It is just a piece of string that you save against your billId.
            // WHenever you're asked for BillDetails, make sure you return this piece of data if you have it.
            // </summary>

            this.BillData = "";
          }

          _createClass(BillStatusResponse, [{
            key: "getBillPaymentHistory",
            value: function getBillPaymentHistory() {
              if (!this.BillData) {
                return [];
              }

              var billPaymentHistory = [];
              var savedBillData = JSON.parse(this.BillData);
              return savedBillData.map(function (bill) {
                return new PaymentHistoryEntry(bill.payment_type, bill.payment_summary);
              });
            }
          }, {
            key: "ToMessage",
            value: function ToMessage(messageId) {
              var data = {
                "success": this.Result == BillRetrievalResult.SUCCESS
              };
              if (this.BillId) data.bill_id = this.BillId;
              if (this.TableId) data.table_id = this.TableId;

              if (this.Result == BillRetrievalResult.SUCCESS) {
                data.bill_total_amount = this.TotalAmount;
                data.bill_outstanding_amount = this.OutstandingAmount;
                data.bill_payment_history = this.getBillPaymentHistory();
              } else {
                data.error_reason = this.Result.toString();
                data.error_detail = this.Result.toString();
              }

              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](messageId, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableBillDetails, data, true);
            }
          }], [{
            key: "ToBillData",
            value: function ToBillData(ph) {
              if (ph.length < 1) {
                return "";
              }

              return JSON.stringify(ph);
            }
          }]);

          return BillStatusResponse;
        }();

        var BillRetrievalResult = {
          SUCCESS: 'SUCCESS',
          INVALID_TABLE_ID: 'INVALID_TABLE_ID',
          INVALID_BILL_ID: 'INVALID_BILL_ID',
          INVALID_OPERATOR_ID: 'INVALID_OPERATOR_ID'
        };
        var PaymentType = {
          CARD: 'CARD',
          CASH: 'CASH'
        };

        var BillPayment = function BillPayment(m) {
          _classCallCheck(this, BillPayment);

          this._incomingAdvice = m;
          this.BillId = this._incomingAdvice.Data["bill_id"];
          this.TableId = this._incomingAdvice.Data["table_id"];
          this.OperatorId = this._incomingAdvice.Data["operator_id"];
          this.PaymentFlowStarted = null;
          var pt = this._incomingAdvice.Data["payment_type"];
          this.PaymentType = pt; // this is when we ply the sub object "payment_details" into a purchase response for convenience.

          var purchaseMsg = new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](m.Id, "payment_details", m.Data["payment_details"], false);
          this.PurchaseResponse = new _Purchase__WEBPACK_IMPORTED_MODULE_1__["PurchaseResponse"](purchaseMsg);
          this.PurchaseAmount = this.PurchaseResponse.GetPurchaseAmount();
          this.TipAmount = this.PurchaseResponse.GetTipAmount();
        };

        var PaymentHistoryEntry =
        /*#__PURE__*/
        function () {
          function PaymentHistoryEntry(paymentType, paymentSummary) {
            _classCallCheck(this, PaymentHistoryEntry);

            this.PaymentType = paymentType;
            this.PaymentSummary = paymentSummary;
          }

          _createClass(PaymentHistoryEntry, [{
            key: "toJSON",
            value: function toJSON() {
              return {
                payment_type: this.PaymentType,
                payment_summary: this.PaymentSummary
              };
            }
          }, {
            key: "GetTerminalRefId",
            value: function GetTerminalRefId() {
              return this.PaymentSummary["terminal_ref_id"];
            }
          }]);

          return PaymentHistoryEntry;
        }();

        var PayAtTableConfig =
        /*#__PURE__*/
        function () {
          function PayAtTableConfig() {
            _classCallCheck(this, PayAtTableConfig);

            this.PayAtTabledEnabled = false;
            this.OperatorIdEnabled = false;
            this.SplitByAmountEnabled = false;
            this.EqualSplitEnabled = false;
            this.TableRetrievalEnabled = false;
            this.TippingEnabled = false;
            this.SummaryReportEnabled = false;
            this.LabelPayButton = '';
            this.LabelOperatorId = '';
            this.LabelTableId = ''; // 
            // <summary>
            // Fill in with operator ids that the eftpos terminal will validate against. 
            // Leave Empty to allow any operator_id through. 
            // </summary>

            this.AllowedOperatorIds = [];
          }

          _createClass(PayAtTableConfig, [{
            key: "ToMessage",
            value: function ToMessage(messageId) {
              var data = {
                "pay_at_table_enabled": this.PayAtTabledEnabled,
                "operator_id_enabled": this.OperatorIdEnabled,
                "split_by_amount_enabled": this.SplitByAmountEnabled,
                "equal_split_enabled": this.EqualSplitEnabled,
                "tipping_enabled": this.TippingEnabled,
                "summary_report_enabled": this.SummaryReportEnabled,
                "pay_button_label": this.LabelPayButton,
                "operator_id_label": this.LabelOperatorId,
                "table_id_label": this.LabelTableId,
                "operator_id_list": this.AllowedOperatorIds,
                "table_retrieval_enabled": this.TableRetrievalEnabled
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](messageId, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableSetTableConfig, data, true);
            }
          }], [{
            key: "FeatureDisableMessage",
            value: function FeatureDisableMessage(messageId) {
              var data = {
                "pay_at_table_enabled": false
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](messageId, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableSetTableConfig, data, true);
            }
          }]);

          return PayAtTableConfig;
        }(); // <summary>
        // These attributes work for COM interop.
        // </summary>


        var GetOpenTablesResponse =
        /*#__PURE__*/
        function () {
          function GetOpenTablesResponse() {
            _classCallCheck(this, GetOpenTablesResponse); /// <summary>
            /// Your POS is required to persist some state on behalf of the Eftpos so the Eftpos can recover state.
            /// It is just a piece of string that you save against your operatorId.
            /// Whenever you're asked for OpenTables, make sure you return this piece of data if you have it.
            /// </summary>


            this.TableData = null;
          }

          _createClass(GetOpenTablesResponse, [{
            key: "GetOpenTables",
            value: function GetOpenTables() {
              if (!this.TableData) {
                return [];
              }

              return JSON.parse(this.TableData);
            }
          }, {
            key: "ToMessage",
            value: function ToMessage(messageId) {
              var data = {
                tables: this.GetOpenTables()
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](messageId, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableOpenTables, data, true);
            }
          }]);

          return GetOpenTablesResponse;
        }(); // <summary>
        // These attributes work for COM interop.
        // </summary>


        var OpenTablesEntry = function OpenTablesEntry() {
          _classCallCheck(this, OpenTablesEntry);

          this.TableId = null;
          this.Label = null;
          this.BillOutstandingAmount = null;
        }; /// <summary>
        /// These attributes work for COM interop.
        /// </summary>


        var BillPaymentFlowEndedResponse = function BillPaymentFlowEndedResponse(m) {
          _classCallCheck(this, BillPaymentFlowEndedResponse);

          this.BillId = m.Data.bill_id;
          this.BillOutstandingAmount = m.Data.bill_outstanding_amount;
          this.BillTotalAmount = m.Data.bill_total_amount;
          this.OperatorId = m.Data.operator_id;
          this.TableId = m.Data.table_id;
          this.CardTotalCount = m.Data.card_total_count;
          this.CardTotalAmount = m.Data.card_total_amount;
          this.CashTotalCount = m.Data.cash_total_count;
          this.CashTotalAmount = m.Data.cash_total_amount;
        };
        /***/

      },

      /***/
      "./src/PingHelper.js":
      /*!***************************!*\
        !*** ./src/PingHelper.js ***!
        \***************************/

      /*! exports provided: PongHelper, PingHelper */

      /***/
      function srcPingHelperJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PongHelper", function () {
          return PongHelper;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PingHelper", function () {
          return PingHelper;
        });
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var PongHelper =
        /*#__PURE__*/
        function () {
          function PongHelper() {
            _classCallCheck(this, PongHelper);
          }

          _createClass(PongHelper, null, [{
            key: "GeneratePongRessponse",
            value: function GeneratePongRessponse(ping) {
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](ping.Id, _Messages__WEBPACK_IMPORTED_MODULE_1__["Events"].Pong, null, true);
            }
          }]);

          return PongHelper;
        }();

        var PingHelper =
        /*#__PURE__*/
        function () {
          function PingHelper() {
            _classCallCheck(this, PingHelper);
          }

          _createClass(PingHelper, null, [{
            key: "GeneratePingRequest",
            value: function GeneratePingRequest() {
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("ping"), _Messages__WEBPACK_IMPORTED_MODULE_1__["Events"].Ping, null, true);
            }
          }]);

          return PingHelper;
        }();
        /***/

      },

      /***/
      "./src/PosInfo.js":
      /*!************************!*\
        !*** ./src/PosInfo.js ***!
        \************************/

      /*! exports provided: SetPosInfoRequest, SetPosInfoResponse, DeviceInfo */

      /***/
      function srcPosInfoJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SetPosInfoRequest", function () {
          return SetPosInfoRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SetPosInfoResponse", function () {
          return SetPosInfoResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "DeviceInfo", function () {
          return DeviceInfo;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var SetPosInfoRequest =
        /*#__PURE__*/
        function () {
          function SetPosInfoRequest(version, vendorId, libraryLanguage, libraryVersion, otherInfo) {
            _classCallCheck(this, SetPosInfoRequest);

            this._version = version;
            this._vendorId = vendorId;
            this._libraryLanguage = libraryLanguage;
            this._libraryVersion = libraryVersion;
            this._otherInfo = otherInfo;
          }

          _createClass(SetPosInfoRequest, [{
            key: "toMessage",
            value: function toMessage() {
              var data = {
                pos_version: this._version,
                pos_vendor_id: this._vendorId,
                library_language: this._libraryLanguage,
                library_version: this._libraryVersion,
                other_info: this._otherInfo
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("prav"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SetPosInfoRequest, data, true);
            }
          }]);

          return SetPosInfoRequest;
        }();

        var SetPosInfoResponse =
        /*#__PURE__*/
        function () {
          function SetPosInfoResponse(m) {
            _classCallCheck(this, SetPosInfoResponse);

            this._success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
            this._m = m;
          }

          _createClass(SetPosInfoResponse, [{
            key: "isSuccess",
            value: function isSuccess() {
              return this._success;
            }
          }, {
            key: "getErrorReason",
            value: function getErrorReason() {
              return this._m.Data.error_reason;
            }
          }, {
            key: "getErrorDetail",
            value: function getErrorDetail() {
              return this._m.Data.error_detail;
            }
          }, {
            key: "getResponseValueWithAttribute",
            value: function getResponseValueWithAttribute(attribute) {
              return this._m.Data[attribute];
            }
          }]);

          return SetPosInfoResponse;
        }();

        var DeviceInfo =
        /*#__PURE__*/
        function () {
          function DeviceInfo() {
            _classCallCheck(this, DeviceInfo);
          }

          _createClass(DeviceInfo, null, [{
            key: "GetAppDeviceInfo",
            value: function GetAppDeviceInfo() {
              var deviceInfo = {};
              deviceInfo['device_system'] = navigator.userAgent; // deviceInfo.Add("device_system", Environment.OSVersion.Platform.ToString() + " " + Environment.OSVersion.Version.ToString());

              return deviceInfo;
            }
          }]);

          return DeviceInfo;
        }();
        /***/

      },

      /***/
      "./src/Preauth.js":
      /*!************************!*\
        !*** ./src/Preauth.js ***!
        \************************/

      /*! exports provided: PreauthEvents, AccountVerifyRequest, AccountVerifyResponse, PreauthOpenRequest, PreauthTopupRequest, PreauthPartialCancellationRequest, PreauthExtendRequest, PreauthCancelRequest, PreauthCompletionRequest, PreauthResponse */

      /***/
      function srcPreauthJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthEvents", function () {
          return PreauthEvents;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "AccountVerifyRequest", function () {
          return AccountVerifyRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "AccountVerifyResponse", function () {
          return AccountVerifyResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthOpenRequest", function () {
          return PreauthOpenRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthTopupRequest", function () {
          return PreauthTopupRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthPartialCancellationRequest", function () {
          return PreauthPartialCancellationRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthExtendRequest", function () {
          return PreauthExtendRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthCancelRequest", function () {
          return PreauthCancelRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthCompletionRequest", function () {
          return PreauthCompletionRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PreauthResponse", function () {
          return PreauthResponse;
        });
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _Purchase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./Purchase */
        "./src/Purchase.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var PreauthEvents = {
          AccountVerifyRequest: "account_verify",
          AccountVerifyResponse: "account_verify_response",
          PreauthOpenRequest: "preauth",
          PreauthOpenResponse: "preauth_response",
          PreauthTopupRequest: "preauth_topup",
          PreauthTopupResponse: "preauth_topup_response",
          PreauthExtendRequest: "preauth_extend",
          PreauthExtendResponse: "preauth_extend_response",
          PreauthPartialCancellationRequest: "preauth_partial_cancellation",
          PreauthPartialCancellationResponse: "preauth_partial_cancellation_response",
          PreauthCancellationRequest: "preauth_cancellation",
          PreauthCancellationResponse: "preauth_cancellation_response",
          PreauthCompleteRequest: "completion",
          PreauthCompleteResponse: "completion_response"
        };

        var AccountVerifyRequest =
        /*#__PURE__*/
        function () {
          function AccountVerifyRequest(posRefId) {
            _classCallCheck(this, AccountVerifyRequest);

            this.PosRefId = posRefId;
          }

          _createClass(AccountVerifyRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prav"), PreauthEvents.AccountVerifyRequest, data, true);
            }
          }]);

          return AccountVerifyRequest;
        }();

        var AccountVerifyResponse = function AccountVerifyResponse(m) {
          _classCallCheck(this, AccountVerifyResponse);

          this.Details = new _Purchase__WEBPACK_IMPORTED_MODULE_2__["PurchaseResponse"](m);
          this.PosRefId = this.Details.PosRefId;
          this._m = m;
        };

        var PreauthOpenRequest =
        /*#__PURE__*/
        function () {
          function PreauthOpenRequest(amountCents, posRefId) {
            _classCallCheck(this, PreauthOpenRequest);

            this.PosRefId = posRefId;
            this.PreauthAmount = amountCents;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthOpenRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_amount": this.PreauthAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prac"), PreauthEvents.PreauthOpenRequest, data, true);
            }
          }]);

          return PreauthOpenRequest;
        }();

        var PreauthTopupRequest =
        /*#__PURE__*/
        function () {
          function PreauthTopupRequest(preauthId, topupAmountCents, posRefId) {
            _classCallCheck(this, PreauthTopupRequest);

            this.PreauthId = preauthId;
            this.TopupAmount = topupAmountCents;
            this.PosRefId = posRefId;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthTopupRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_id": this.PreauthId,
                "topup_amount": this.TopupAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prtu"), PreauthEvents.PreauthTopupRequest, data, true);
            }
          }]);

          return PreauthTopupRequest;
        }();

        var PreauthPartialCancellationRequest =
        /*#__PURE__*/
        function () {
          function PreauthPartialCancellationRequest(preauthId, partialCancellationAmountCents, posRefId) {
            _classCallCheck(this, PreauthPartialCancellationRequest);

            this.PreauthId = preauthId;
            this.PartialCancellationAmount = partialCancellationAmountCents;
            this.PosRefId = posRefId;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthPartialCancellationRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_id": this.PreauthId,
                "preauth_cancel_amount": this.PartialCancellationAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prpc"), PreauthEvents.PreauthPartialCancellationRequest, data, true);
            }
          }]);

          return PreauthPartialCancellationRequest;
        }();

        var PreauthExtendRequest =
        /*#__PURE__*/
        function () {
          function PreauthExtendRequest(preauthId, posRefId) {
            _classCallCheck(this, PreauthExtendRequest);

            this.PreauthId = preauthId;
            this.PosRefId = posRefId;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthExtendRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_id": this.PreauthId
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prext"), PreauthEvents.PreauthExtendRequest, data, true);
            }
          }]);

          return PreauthExtendRequest;
        }();

        var PreauthCancelRequest =
        /*#__PURE__*/
        function () {
          function PreauthCancelRequest(preauthId, posRefId) {
            _classCallCheck(this, PreauthCancelRequest);

            this.PreauthId = preauthId;
            this.PosRefId = posRefId;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthCancelRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_id": this.PreauthId
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prac"), PreauthEvents.PreauthCancellationRequest, data, true);
            }
          }]);

          return PreauthCancelRequest;
        }();

        var PreauthCompletionRequest =
        /*#__PURE__*/
        function () {
          function PreauthCompletionRequest(preauthId, completionAmountCents, posRefId, surchargeAmount) {
            _classCallCheck(this, PreauthCompletionRequest);

            this.PreauthId = preauthId;
            this.CompletionAmount = completionAmountCents;
            this.PosRefId = posRefId;
            this.SurchargeAmount = surchargeAmount;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_3__["TransactionOptions"]();
          }

          _createClass(PreauthCompletionRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                "pos_ref_id": this.PosRefId,
                "preauth_id": this.PreauthId,
                "completion_amount": this.CompletionAmount,
                "surcharge_amount": this.SurchargeAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_1__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("prac"), PreauthEvents.PreauthCompleteRequest, data, true);
            }
          }]);

          return PreauthCompletionRequest;
        }();

        var PreauthResponse =
        /*#__PURE__*/
        function () {
          function PreauthResponse(m) {
            _classCallCheck(this, PreauthResponse);

            this.PreauthId = m.Data["preauth_id"];
            this.Details = new _Purchase__WEBPACK_IMPORTED_MODULE_2__["PurchaseResponse"](m);
            this.PosRefId = this.Details.PosRefId;
            this._m = m;
          }

          _createClass(PreauthResponse, [{
            key: "GetBalanceAmount",
            value: function GetBalanceAmount() {
              var txType = this._m.Data["transaction_type"];

              switch (txType) {
                case "PRE-AUTH":
                  return this._m.Data["preauth_amount"];

                case "TOPUP":
                  return this._m.Data["balance_amount"];

                case "CANCEL":
                  // PARTIAL CANCELLATION
                  return this._m.Data["balance_amount"];

                case "PRE-AUTH EXT":
                  return this._m.Data["balance_amount"];

                case "PCOMP":
                  return 0;
                // Balance is 0 after completion

                case "PRE-AUTH CANCEL":
                  return 0;
                // Balance is 0 after cancellation

                default:
                  return 0;
              }
            }
          }, {
            key: "GetPreviousBalanceAmount",
            value: function GetPreviousBalanceAmount() {
              var txType = this._m.Data["transaction_type"];

              switch (txType) {
                case "PRE-AUTH":
                  return 0;

                case "TOPUP":
                  return this._m.Data["existing_preauth_amount"];

                case "CANCEL":
                  // PARTIAL CANCELLATION
                  return this._m.Data["existing_preauth_amount"];

                case "PRE-AUTH EXT":
                  return this._m.Data["existing_preauth_amount"];

                case "PCOMP":
                  // THIS IS TECHNICALLY NOT CORRECT WHEN COMPLETION HAPPENS FOR A PARTIAL AMOUNT.
                  // BUT UNFORTUNATELY, THIS RESPONSE DOES NOT CONTAIN "existing_preauth_amount".
                  // SO "completion_amount" IS THE CLOSEST WE HAVE.
                  return this._m.Data["completion_amount"];

                case "PRE-AUTH CANCEL":
                  return this._m.Data["preauth_amount"];

                default:
                  return 0;
              }
            }
          }, {
            key: "GetCompletionAmount",
            value: function GetCompletionAmount() {
              var txType = this._m.Data["transaction_type"];

              switch (txType) {
                case "PCOMP":
                  return this._m.Data["completion_amount"];

                default:
                  return 0;
              }
            }
          }, {
            key: "GetSurchargeAmount",
            value: function GetSurchargeAmount() {
              var txType = this._m.Data["transaction_type"];

              switch (txType) {
                case "PCOMP":
                  return this._m.Data["surcharge_amount"];

                default:
                  return 0;
              }
            }
          }, {
            key: "WasMerchantReceiptPrinted",
            value: function WasMerchantReceiptPrinted() {
              return this._m.Data["merchant_receipt_printed"];
            }
          }, {
            key: "WasCustomerReceiptPrinted",
            value: function WasCustomerReceiptPrinted() {
              return this._m.Data["customer_receipt_printed"];
            }
          }]);

          return PreauthResponse;
        }();
        /***/

      },

      /***/
      "./src/Printing.js":
      /*!*************************!*\
        !*** ./src/Printing.js ***!
        \*************************/

      /*! exports provided: PrintingRequest, PrintingResponse, Printer */

      /***/
      function srcPrintingJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PrintingRequest", function () {
          return PrintingRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PrintingResponse", function () {
          return PrintingResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Printer", function () {
          return Printer;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var PrintingRequest =
        /*#__PURE__*/
        function () {
          function PrintingRequest(key, payload) {
            _classCallCheck(this, PrintingRequest);

            this._key = key;
            this._payload = payload;
          }

          _createClass(PrintingRequest, [{
            key: "toMessage",
            value: function toMessage() {
              var data = {
                "key": this._key,
                "payload": this._payload
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("print"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PrintingRequest, data, true);
            }
          }]);

          return PrintingRequest;
        }();

        var PrintingResponse =
        /*#__PURE__*/
        function () {
          function PrintingResponse(m) {
            _classCallCheck(this, PrintingResponse);

            this._success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
            this._m = m;
          }

          _createClass(PrintingResponse, [{
            key: "isSuccess",
            value: function isSuccess() {
              return this._success;
            }
          }, {
            key: "getErrorReason",
            value: function getErrorReason() {
              return this._m.Data.error_reason;
            }
          }, {
            key: "getErrorDetail",
            value: function getErrorDetail() {
              return this._m.Data.error_detail;
            }
          }, {
            key: "getResponseValueWithAttribute",
            value: function getResponseValueWithAttribute(attribute) {
              return this._m.Data[attribute];
            }
          }]);

          return PrintingResponse;
        }();
        /**
         * This class is a mock printer for the terminal to print Receipts
         */


        var Printer =
        /*#__PURE__*/
        function () {
          function Printer(element) {
            _classCallCheck(this, Printer);

            this.buffer = [];
            this.element = element;
          }

          _createClass(Printer, [{
            key: "print",
            value: function print() {
              for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }

              this.buffer.push(args.join(' '));

              this._render();
            }
          }, {
            key: "_render",
            value: function _render() {
              this.element.innerText = this.buffer.join("\n\n \\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/\\/ \n\n");
              this.element.scrollTop = this.element.scrollHeight;
            }
          }, {
            key: "Clear",
            value: function Clear() {
              this.buffer = [];

              this._render();
            }
          }]);

          return Printer;
        }();
        /***/

      },

      /***/
      "./src/Purchase.js":
      /*!*************************!*\
        !*** ./src/Purchase.js ***!
        \*************************/

      /*! exports provided: PurchaseRequest, PurchaseResponse, CancelTransactionRequest, CancelTransactionResponse, GetLastTransactionRequest, GetLastTransactionResponse, RefundRequest, RefundResponse, SignatureRequired, SignatureDecline, SignatureAccept, MotoPurchaseRequest, MotoPurchaseResponse, PhoneForAuthRequired, AuthCodeAdvice */

      /***/
      function srcPurchaseJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PurchaseRequest", function () {
          return PurchaseRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PurchaseResponse", function () {
          return PurchaseResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "CancelTransactionRequest", function () {
          return CancelTransactionRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "CancelTransactionResponse", function () {
          return CancelTransactionResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "GetLastTransactionRequest", function () {
          return GetLastTransactionRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "GetLastTransactionResponse", function () {
          return GetLastTransactionResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "RefundRequest", function () {
          return RefundRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "RefundResponse", function () {
          return RefundResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SignatureRequired", function () {
          return SignatureRequired;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SignatureDecline", function () {
          return SignatureDecline;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SignatureAccept", function () {
          return SignatureAccept;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MotoPurchaseRequest", function () {
          return MotoPurchaseRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MotoPurchaseResponse", function () {
          return MotoPurchaseResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PhoneForAuthRequired", function () {
          return PhoneForAuthRequired;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "AuthCodeAdvice", function () {
          return AuthCodeAdvice;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var PurchaseRequest =
        /*#__PURE__*/
        function () {
          function PurchaseRequest(amountCents, posRefId) {
            _classCallCheck(this, PurchaseRequest);

            this.PosRefId = posRefId;
            this.PurchaseAmount = amountCents;
            this.TipAmount = 0;
            this.CashoutAmount = 0;
            this.PromptForCashout = false;
            this.SurchargeAmount = 0;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["TransactionOptions"](); // Library Backwards Compatibility

            this.Id = posRefId;
            this.AmountCents = amountCents;
          }

          _createClass(PurchaseRequest, [{
            key: "AmountSummary",
            value: function AmountSummary() {
              return "Purchase: ".concat((this.PurchaseAmount / 100.0).toFixed(2), "; \n            Tip: ").concat((this.TipAmount / 100.0).toFixed(2), "; \n            Cashout: ").concat((this.CashoutAmount / 100.0).toFixed(2), ";");
            }
          }, {
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                pos_ref_id: this.PosRefId,
                purchase_amount: this.PurchaseAmount,
                tip_amount: this.TipAmount,
                cash_amount: this.CashoutAmount,
                prompt_for_cashout: this.PromptForCashout,
                surcharge_amount: this.SurchargeAmount
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("prchs"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PurchaseRequest, data, true);
            }
          }]);

          return PurchaseRequest;
        }();

        var PurchaseResponse =
        /*#__PURE__*/
        function () {
          function PurchaseResponse(m) {
            _classCallCheck(this, PurchaseResponse);

            this._m = m;
            this.RequestId = m.Id;
            this.PosRefId = m.Data.pos_ref_id;
            this.SchemeName = m.Data.scheme_name;
            this.SchemeAppName = m.Data.scheme_name;
            this.Success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
          }

          _createClass(PurchaseResponse, [{
            key: "GetRRN",
            value: function GetRRN() {
              return this._m.Data.rrn;
            }
          }, {
            key: "GetPurchaseAmount",
            value: function GetPurchaseAmount() {
              return this._m.Data.purchase_amount;
            }
          }, {
            key: "GetTipAmount",
            value: function GetTipAmount() {
              return this._m.Data.tip_amount;
            }
          }, {
            key: "GetSurchargeAmount",
            value: function GetSurchargeAmount() {
              return this._m.Data.surcharge_amount;
            }
          }, {
            key: "GetCashoutAmount",
            value: function GetCashoutAmount() {
              return this._m.Data.cash_amount;
            }
          }, {
            key: "GetBankNonCashAmount",
            value: function GetBankNonCashAmount() {
              return this._m.Data.bank_noncash_amount;
            }
          }, {
            key: "GetBankCashAmount",
            value: function GetBankCashAmount() {
              return this._m.Data.bank_cash_amount;
            }
          }, {
            key: "GetCustomerReceipt",
            value: function GetCustomerReceipt() {
              return this._m.Data.customer_receipt || "";
            }
          }, {
            key: "GetMerchantReceipt",
            value: function GetMerchantReceipt() {
              return this._m.Data.merchant_receipt || "";
            }
          }, {
            key: "GetResponseText",
            value: function GetResponseText() {
              return this._m.Data.host_response_text || "";
            }
          }, {
            key: "GetResponseCode",
            value: function GetResponseCode() {
              return this._m.Data.host_response_code;
            }
          }, {
            key: "GetTerminalReferenceId",
            value: function GetTerminalReferenceId() {
              return this._m.Data.terminal_ref_id;
            }
          }, {
            key: "GetCardEntry",
            value: function GetCardEntry() {
              return this._m.Data.card_entry;
            }
          }, {
            key: "GetAccountType",
            value: function GetAccountType() {
              return this._m.Data.account_type;
            }
          }, {
            key: "GetAuthCode",
            value: function GetAuthCode() {
              return this._m.Data.auth_code;
            }
          }, {
            key: "GetBankDate",
            value: function GetBankDate() {
              return this._m.Data.bank_date;
            }
          }, {
            key: "GetBankTime",
            value: function GetBankTime() {
              return this._m.Data.bank_time;
            }
          }, {
            key: "GetMaskedPan",
            value: function GetMaskedPan() {
              return this._m.Data.masked_pan;
            }
          }, {
            key: "GetTerminalId",
            value: function GetTerminalId() {
              return this._m.Data.terminal_id;
            }
          }, {
            key: "WasMerchantReceiptPrinted",
            value: function WasMerchantReceiptPrinted() {
              return this._m.Data.merchant_receipt_printed;
            }
          }, {
            key: "WasCustomerReceiptPrinted",
            value: function WasCustomerReceiptPrinted() {
              return this._m.Data.customer_receipt_printed;
            }
          }, {
            key: "GetSettlementDate",
            value: function GetSettlementDate() {
              //"bank_settlement_date":"20042018"
              var dateStr = this._m.Data.bank_settlement_date;
              if (!dateStr) return null;
              return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].ParseBankDate(dateStr);
            }
          }, {
            key: "GetResponseValue",
            value: function GetResponseValue(attribute) {
              return this._m.Data[attribute];
            }
          }, {
            key: "ToPaymentSummary",
            value: function ToPaymentSummary() {
              return {
                account_type: this.GetAccountType(),
                auth_code: this.GetAuthCode(),
                bank_date: this.GetBankDate(),
                bank_time: this.GetBankTime(),
                host_response_code: this.GetResponseCode(),
                host_response_text: this.GetResponseText(),
                masked_pan: this.GetMaskedPan(),
                purchase_amount: this.GetPurchaseAmount(),
                rrn: this.GetRRN(),
                scheme_name: this.SchemeName,
                terminal_id: this.GetTerminalId(),
                terminal_ref_id: this.GetTerminalReferenceId(),
                tip_amount: this.GetTipAmount(),
                surcharge_amount: this.GetSurchargeAmount()
              };
            }
          }]);

          return PurchaseResponse;
        }();

        var CancelTransactionRequest =
        /*#__PURE__*/
        function () {
          function CancelTransactionRequest() {
            _classCallCheck(this, CancelTransactionRequest);
          }

          _createClass(CancelTransactionRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("ctx"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].CancelTransactionRequest, null, true);
            }
          }]);

          return CancelTransactionRequest;
        }();

        var CancelTransactionResponse =
        /*#__PURE__*/
        function () {
          function CancelTransactionResponse(m) {
            _classCallCheck(this, CancelTransactionResponse);

            this._m = m;
            this.PosRefId = this._m.Data.pos_ref_id;
            this.Success = this._m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
          }

          _createClass(CancelTransactionResponse, [{
            key: "GetErrorReason",
            value: function GetErrorReason() {
              return this._m.Data.error_reason;
            }
          }, {
            key: "GetErrorDetail",
            value: function GetErrorDetail() {
              return this._m.Data.error_detail;
            }
          }, {
            key: "GetResponseValueWithAttribute",
            value: function GetResponseValueWithAttribute(attribute) {
              return this._m.Data[attribute];
            }
          }]);

          return CancelTransactionResponse;
        }();

        var GetLastTransactionRequest =
        /*#__PURE__*/
        function () {
          function GetLastTransactionRequest() {
            _classCallCheck(this, GetLastTransactionRequest);
          }

          _createClass(GetLastTransactionRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("glt"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].GetLastTransactionRequest, null, true);
            }
          }]);

          return GetLastTransactionRequest;
        }();

        var GetLastTransactionResponse =
        /*#__PURE__*/
        function () {
          function GetLastTransactionResponse(m) {
            _classCallCheck(this, GetLastTransactionResponse);

            this._m = m;
          }

          _createClass(GetLastTransactionResponse, [{
            key: "WasRetrievedSuccessfully",
            value: function WasRetrievedSuccessfully() {
              // We can't rely on checking "success" flag or "error" fields here,
              // as retrieval may be successful, but the retrieved transaction was a fail.
              // So we check if we got back an ResponseCode.
              // (as opposed to say an operation_in_progress_error)
              return !!this.GetResponseCode();
            }
          }, {
            key: "WasTimeOutOfSyncError",
            value: function WasTimeOutOfSyncError() {
              return this._m.GetError().startsWith("TIME_OUT_OF_SYNC");
            }
          }, {
            key: "WasOperationInProgressError",
            value: function WasOperationInProgressError() {
              return this._m.GetError().startsWith("OPERATION_IN_PROGRESS");
            }
          }, {
            key: "IsWaitingForSignatureResponse",
            value: function IsWaitingForSignatureResponse() {
              return this._m.GetError().startsWith("OPERATION_IN_PROGRESS_AWAITING_SIGNATURE");
            }
          }, {
            key: "IsWaitingForAuthCode",
            value: function IsWaitingForAuthCode() {
              return this._m.GetError().startsWith("OPERATION_IN_PROGRESS_AWAITING_PHONE_AUTH_CODE");
            }
          }, {
            key: "IsStillInProgress",
            value: function IsStillInProgress(posRefId) {
              return this.WasOperationInProgressError() && (this.GetPosRefId() == posRefId || this.GetPosRefId() == null);
            }
          }, {
            key: "GetSuccessState",
            value: function GetSuccessState() {
              return this._m.GetSuccessState();
            }
          }, {
            key: "WasSuccessfulTx",
            value: function WasSuccessfulTx() {
              return this._m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
            }
          }, {
            key: "GetTxType",
            value: function GetTxType() {
              return this._m.Data.transaction_type;
            }
          }, {
            key: "GetPosRefId",
            value: function GetPosRefId() {
              return this._m.Data.pos_ref_id;
            }
          }, {
            key: "GetBankNonCashAmount",
            value: function GetBankNonCashAmount() {
              return this._m.Data.bank_noncash_amount;
            }
          }, {
            key: "GetSchemeApp",
            value: function GetSchemeApp() {
              return this._m.Data.scheme_name;
            }
          }, {
            key: "GetSchemeName",
            value: function GetSchemeName() {
              return this._m.Data.scheme_name;
            }
          }, {
            key: "GetAmount",
            value: function GetAmount() {
              return this._m.Data.amount_purchase;
            }
          }, {
            key: "GetTransactionAmount",
            value: function GetTransactionAmount() {
              return this._m.Data.amount_transaction_type;
            }
          }, {
            key: "GetBankDateTimeString",
            value: function GetBankDateTimeString() {
              var ds = this._m.Data.bank_date + this._m.Data.bank_time;
              return ds;
            }
          }, {
            key: "GetRRN",
            value: function GetRRN() {
              return this._m.Data.rrn;
            }
          }, {
            key: "GetResponseText",
            value: function GetResponseText() {
              return this._m.Data.host_response_text | "";
            }
          }, {
            key: "GetResponseCode",
            value: function GetResponseCode() {
              return this._m.Data.host_response_code;
            } // <summary>
            // There is a bug, VSV-920, whereby the customer_receipt is missing from a glt response.
            // The current recommendation is to use the merchant receipt in place of it if required.
            // This method modifies the underlying incoming message data by copying
            // the merchant receipt into the customer receipt only if there 
            // is a merchant_receipt and there is not a customer_receipt.   
            // </summary>

          }, {
            key: "CopyMerchantReceiptToCustomerReceipt",
            value: function CopyMerchantReceiptToCustomerReceipt() {
              var cr = this._m.Data.customer_receipt;
              var mr = this._m.Data.merchant_receipt;

              if (mr != "" && !cr) {
                this._m.Data.customer_receipt = mr;
              }
            }
          }]);

          return GetLastTransactionResponse;
        }();

        var RefundRequest =
        /*#__PURE__*/
        function () {
          function RefundRequest(amountCents, posRefId, suppressMerchantPassword) {
            _classCallCheck(this, RefundRequest);

            this.AmountCents = amountCents;
            this.Id = _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("refund");
            this.PosRefId = posRefId;
            this.SuppressMerchantPassword = suppressMerchantPassword;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["TransactionOptions"]();
          }

          _createClass(RefundRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                refund_amount: this.AmountCents,
                pos_ref_id: this.PosRefId,
                suppress_merchant_password: this.SuppressMerchantPassword
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("refund"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].RefundRequest, data, true);
            }
          }]);

          return RefundRequest;
        }();

        var RefundResponse =
        /*#__PURE__*/
        function () {
          function RefundResponse(m) {
            _classCallCheck(this, RefundResponse);

            this._m = m;
            this.RequestId = m.Id;
            this.PosRefId = m.Data.pos_ref_id;
            this.SchemeName = m.Data.scheme_name;
            this.SchemeAppName = m.Data.scheme_name;
            this.Success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
          }

          _createClass(RefundResponse, [{
            key: "GetRefundAmount",
            value: function GetRefundAmount() {
              return this._m.Data.refund_amount;
            }
          }, {
            key: "GetRRN",
            value: function GetRRN() {
              return this._m.Data.rrn;
            }
          }, {
            key: "GetCustomerReceipt",
            value: function GetCustomerReceipt() {
              return this._m.Data.customer_receipt || "";
            }
          }, {
            key: "GetMerchantReceipt",
            value: function GetMerchantReceipt() {
              return this._m.Data.merchant_receipt;
            }
          }, {
            key: "GetResponseText",
            value: function GetResponseText() {
              return this._m.Data.host_response_text || "";
            }
          }, {
            key: "GetResponseCode",
            value: function GetResponseCode() {
              return this._m.Data.host_response_code || "";
            }
          }, {
            key: "GetTerminalReferenceId",
            value: function GetTerminalReferenceId() {
              return this._m.Data.terminal_ref_id || "";
            }
          }, {
            key: "GetCardEntry",
            value: function GetCardEntry() {
              return this._m.Data.card_entry || "";
            }
          }, {
            key: "GetAccountType",
            value: function GetAccountType() {
              return this._m.Data.account_type || "";
            }
          }, {
            key: "GetAuthCode",
            value: function GetAuthCode() {
              return this._m.Data.auth_code || "";
            }
          }, {
            key: "GetBankDate",
            value: function GetBankDate() {
              return this._m.Data.bank_date || "";
            }
          }, {
            key: "GetBankTime",
            value: function GetBankTime() {
              return this._m.Data.bank_time || "";
            }
          }, {
            key: "GetMaskedPan",
            value: function GetMaskedPan() {
              return this._m.Data.masked_pan || "";
            }
          }, {
            key: "GetTerminalId",
            value: function GetTerminalId() {
              return this._m.Data.terminal_id || "";
            }
          }, {
            key: "WasMerchantReceiptPrinted",
            value: function WasMerchantReceiptPrinted() {
              return this._m.Data.merchant_receipt_printed;
            }
          }, {
            key: "WasCustomerReceiptPrinted",
            value: function WasCustomerReceiptPrinted() {
              return this._m.Data.customer_receipt_printed;
            }
          }, {
            key: "GetSettlementDate",
            value: function GetSettlementDate() {
              //"bank_settlement_date":"20042018"
              var dateStr = this._m.Data.bank_settlement_date;
              if (!dateStr) return null;
              return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].ParseBankDate(dateStr);
            }
          }, {
            key: "GetResponseValue",
            value: function GetResponseValue(attribute) {
              return this._m.Data[attribute];
            }
          }]);

          return RefundResponse;
        }();

        var SignatureRequired =
        /*#__PURE__*/
        function () {
          function SignatureRequired(m) {
            _classCallCheck(this, SignatureRequired);

            this.RequestId = m.Id;
            this.PosRefId = m.Data.pos_ref_id;
            this._receiptToSign = m.Data.merchant_receipt;
          }

          _createClass(SignatureRequired, [{
            key: "SignatureRequired",
            value: function SignatureRequired(posRefId, requestId, receiptToSign) {
              this.RequestId = requestId;
              this.PosRefId = posRefId;
              this._receiptToSign = receiptToSign;
            }
          }, {
            key: "GetMerchantReceipt",
            value: function GetMerchantReceipt() {
              return this._receiptToSign;
            }
          }]);

          return SignatureRequired;
        }();

        var SignatureDecline =
        /*#__PURE__*/
        function () {
          function SignatureDecline(posRefId) {
            _classCallCheck(this, SignatureDecline);

            this.PosRefId = posRefId;
          }

          _createClass(SignatureDecline, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                pos_ref_id: this.PosRefId
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("sigdec"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SignatureDeclined, data, true);
            }
          }]);

          return SignatureDecline;
        }();

        var SignatureAccept =
        /*#__PURE__*/
        function () {
          function SignatureAccept(posRefId) {
            _classCallCheck(this, SignatureAccept);

            this.PosRefId = posRefId;
          }

          _createClass(SignatureAccept, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                pos_ref_id: this.PosRefId
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("sigacc"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SignatureAccepted, data, true);
            }
          }]);

          return SignatureAccept;
        }();

        var MotoPurchaseRequest =
        /*#__PURE__*/
        function () {
          function MotoPurchaseRequest(amountCents, posRefId, surchargeAmount) {
            _classCallCheck(this, MotoPurchaseRequest);

            this.PosRefId = posRefId;
            this.PurchaseAmount = amountCents;
            this.SurchargeAmount = surchargeAmount;
            this.SuppressMerchantPassword = false;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_2__["TransactionOptions"]();
          }

          _createClass(MotoPurchaseRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                pos_ref_id: this.PosRefId,
                purchase_amount: this.PurchaseAmount,
                surcharge_amount: this.SurchargeAmount,
                suppress_merchant_password: this.SuppressMerchantPassword
              };
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = true;
              this.Config.EnabledSignatureFlowOnEftpos = true;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("moto"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].MotoPurchaseRequest, data, true);
            }
          }]);

          return MotoPurchaseRequest;
        }();

        var MotoPurchaseResponse = function MotoPurchaseResponse(m) {
          _classCallCheck(this, MotoPurchaseResponse);

          this.PurchaseResponse = new PurchaseResponse(m);
          this.PosRefId = PurchaseResponse.PosRefId;
        };

        var PhoneForAuthRequired =
        /*#__PURE__*/
        function () {
          function PhoneForAuthRequired() {
            _classCallCheck(this, PhoneForAuthRequired);

            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            if (args.length === 4) {
              this.PosRefId = args[0];
              this.RequestId = args[1];
              this._phoneNumber = args[2];
              this._merchantId = args[3];
            } else if (args.length === 1) {
              this.RequestId = args[0].Id;
              this.PosRefId = args[0].Data.pos_ref_id;
              this._phoneNumber = args[0].Data.auth_centre_phone_number;
              this._merchantId = args[0].Data.merchant_id;
            } else {
              throw new Error('Invalid call sig for Phone auth required class');
            }
          }

          _createClass(PhoneForAuthRequired, [{
            key: "GetPhoneNumber",
            value: function GetPhoneNumber() {
              return this._phoneNumber;
            }
          }, {
            key: "GetMerchantId",
            value: function GetMerchantId() {
              return this._merchantId;
            }
          }]);

          return PhoneForAuthRequired;
        }();

        var AuthCodeAdvice =
        /*#__PURE__*/
        function () {
          function AuthCodeAdvice(posRefId, authCode) {
            _classCallCheck(this, AuthCodeAdvice);

            this.PosRefId = posRefId;
            this.AuthCode = authCode;
          }

          _createClass(AuthCodeAdvice, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {
                pos_ref_id: this.PosRefId,
                auth_code: this.AuthCode
              };
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("authad"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].AuthCodeAdvice, data, true);
            }
          }]);

          return AuthCodeAdvice;
        }();
        /***/

      },

      /***/
      "./src/PurchaseHelper.js":
      /*!*******************************!*\
        !*** ./src/PurchaseHelper.js ***!
        \*******************************/

      /*! exports provided: PurchaseHelper */

      /***/
      function srcPurchaseHelperJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PurchaseHelper", function () {
          return PurchaseHelper;
        });
        /* harmony import */


        var _Purchase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Purchase */
        "./src/Purchase.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var PurchaseHelper =
        /*#__PURE__*/
        function () {
          function PurchaseHelper() {
            _classCallCheck(this, PurchaseHelper);
          }

          _createClass(PurchaseHelper, null, [{
            key: "CreatePurchaseRequest",
            value: function CreatePurchaseRequest(amountCents, purchaseId) {
              return new _Purchase__WEBPACK_IMPORTED_MODULE_0__["PurchaseRequest"](amountCents, purchaseId);
            }
          }, {
            key: "CreatePurchaseRequestV2",
            value: function CreatePurchaseRequestV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout, surchargeAmount) {
              var pr = Object.assign(new _Purchase__WEBPACK_IMPORTED_MODULE_0__["PurchaseRequest"](purchaseAmount, posRefId), {
                CashoutAmount: cashoutAmount,
                TipAmount: tipAmount,
                PromptForCashout: promptForCashout,
                SurchargeAmount: surchargeAmount
              });
              return pr;
            }
          }, {
            key: "CreateRefundRequest",
            value: function CreateRefundRequest(amountCents, purchaseId, suppressMerchantPassword) {
              return new _Purchase__WEBPACK_IMPORTED_MODULE_0__["RefundRequest"](amountCents, purchaseId, suppressMerchantPassword);
            }
          }]);

          return PurchaseHelper;
        }();
        /***/

      },

      /***/
      "./src/RequestIdHelper.js":
      /*!********************************!*\
        !*** ./src/RequestIdHelper.js ***!
        \********************************/

      /*! exports provided: RequestIdHelper */

      /***/
      function srcRequestIdHelperJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "RequestIdHelper", function () {
          return RequestIdHelper;
        });

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var __RequestIdHelperCounter = 1;

        var RequestIdHelper =
        /*#__PURE__*/
        function () {
          function RequestIdHelper() {
            _classCallCheck(this, RequestIdHelper);
          }

          _createClass(RequestIdHelper, null, [{
            key: "Id",
            value: function Id(prefix) {
              return prefix + __RequestIdHelperCounter++;
            }
          }]);

          return RequestIdHelper;
        }();
        /***/

      },

      /***/
      "./src/Secrets.js":
      /*!************************!*\
        !*** ./src/Secrets.js ***!
        \************************/

      /*! exports provided: Secrets */

      /***/
      function srcSecretsJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Secrets", function () {
          return Secrets;
        });

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var Secrets =
        /*#__PURE__*/
        function () {
          function Secrets(encKey, hmacKey) {
            _classCallCheck(this, Secrets);

            this.EncKey = encKey;
            this.HmacKey = hmacKey;
          }

          _createClass(Secrets, null, [{
            key: "save",
            value: function save(EncKey, HmacKey) {
              localStorage.setItem('EncKey', EncKey);
              localStorage.setItem('HmacKey', HmacKey);
            }
          }, {
            key: "restore",
            value: function restore() {
              return new Secrets(localStorage.getItem('EncKey'), localStorage.getItem('HmacKey'));
            }
          }, {
            key: "isSaved",
            value: function isSaved() {
              return localStorage.getItem('EncKey') && localStorage.getItem('HmacKey');
            }
          }, {
            key: "Reset",
            value: function Reset() {
              localStorage.removeItem('EncKey');
              localStorage.removeItem('HmacKey');
            }
          }]);

          return Secrets;
        }();
        /***/

      },

      /***/
      "./src/Service/DeviceService.js":
      /*!**************************************!*\
        !*** ./src/Service/DeviceService.js ***!
        \**************************************/

      /*! exports provided: DeviceAddressStatus, DeviceAddressService */

      /***/
      function srcServiceDeviceServiceJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "DeviceAddressStatus", function () {
          return DeviceAddressStatus;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "DeviceAddressService", function () {
          return DeviceAddressService;
        });

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var DeviceAddressStatus =
        /*#__PURE__*/
        function () {
          _createClass(DeviceAddressStatus, [{
            key: "Address",
            get: function get() {
              if (this.UseSecureWebSockets) {
                return this.fqdn;
              } else {
                return this.ip;
              }
            },
            set: function set(address) {
              if (this.UseSecureWebSockets) {
                this.fqdn = addreses;
              } else {
                this.ip = address;
              }
            }
          }]);

          function DeviceAddressStatus(useSecureWebSockets) {
            _classCallCheck(this, DeviceAddressStatus);

            this.UseSecureWebSockets = useSecureWebSockets;
            this.ip = null;
            this.fqdn = null;
            this.last_updated = null;
          }

          return DeviceAddressStatus;
        }();

        var DeviceAddressService =
        /*#__PURE__*/
        function () {
          function DeviceAddressService() {
            _classCallCheck(this, DeviceAddressService);
          }

          _createClass(DeviceAddressService, [{
            key: "RetrieveService",
            // RetrieveService(serialNumber, apiKey = 'spi-sample-pos1', acquirerCode, useSecureWebSockets, isTestMode)
            value: function RetrieveService(serialNumber) {
              var apiKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'spi-sample-pos1';
              var acquirerCode = arguments.length > 2 ? arguments[2] : undefined;
              var isSecureConnection = arguments.length > 3 ? arguments[3] : undefined;
              var isTestMode = arguments.length > 4 ? arguments[4] : undefined;
              var log = arguments.length > 5 ? arguments[5] : undefined;
              var path = isSecureConnection ? 'fqdn' : 'ip';
              var deviceAddressUri = isTestMode ? "https://device-address-api-sb.".concat(acquirerCode, ".msp.assemblypayments.com/v1/").concat(serialNumber, "/").concat(path) : "https://device-address-api.".concat(acquirerCode, ".msp.assemblypayments.com/v1/").concat(serialNumber, "/").concat(path);
              log.info('device address uri', deviceAddressUri);
              return fetch(deviceAddressUri, {
                method: 'GET',
                headers: {
                  "ASM-MSP-DEVICE-ADDRESS-API-KEY": apiKey
                }
              }).then(function (response) {
                return response.json();
              })["catch"](function (response) {
                log.error("Status code ".concat(response.StatusCode, " received from ").concat(deviceAddressUri, " - Exception ").concat(response.error));
              });
            }
          }]);

          return DeviceAddressService;
        }();
        /***/

      },

      /***/
      "./src/Settlement.js":
      /*!***************************!*\
        !*** ./src/Settlement.js ***!
        \***************************/

      /*! exports provided: SettleRequest, Settlement, SchemeSettlementEntry, SettlementEnquiryRequest */

      /***/
      function srcSettlementJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SettleRequest", function () {
          return SettleRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Settlement", function () {
          return Settlement;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SchemeSettlementEntry", function () {
          return SchemeSettlementEntry;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SettlementEnquiryRequest", function () {
          return SettlementEnquiryRequest;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var SettleRequest =
        /*#__PURE__*/
        function () {
          function SettleRequest(id) {
            _classCallCheck(this, SettleRequest);

            this.Id = id;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
          }

          _createClass(SettleRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {};
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = false;
              this.Config.EnabledSignatureFlowOnEftpos = false;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](this.Id, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SettleRequest, data, true);
            }
          }]);

          return SettleRequest;
        }();

        var Settlement =
        /*#__PURE__*/
        function () {
          function Settlement(m) {
            _classCallCheck(this, Settlement);

            this.RequestId = m.Id;
            this._m = m;
            this.Success = m.GetSuccessState() == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Success;
          }

          _createClass(Settlement, [{
            key: "GetSettleByAcquirerCount",
            value: function GetSettleByAcquirerCount() {
              return this._m.Data.accumulated_settle_by_acquirer_count;
            }
          }, {
            key: "GetSettleByAcquirerValue",
            value: function GetSettleByAcquirerValue() {
              return this._m.Data.accumulated_settle_by_acquirer_value;
            }
          }, {
            key: "GetTotalCount",
            value: function GetTotalCount() {
              return this._m.Data.accumulated_total_count;
            }
          }, {
            key: "GetTotalValue",
            value: function GetTotalValue() {
              return this._m.Data.accumulated_total_value;
            }
          }, {
            key: "GetPeriodStartTime",
            value: function GetPeriodStartTime() {
              var timeStr = this._m.Data.settlement_period_start_time; // "05:00"

              var dateStr = this._m.Data.settlement_period_start_date; // "05Oct17"

              return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].ParseBankDateTimeStr(dateStr, timeStr);
            }
          }, {
            key: "GetPeriodEndTime",
            value: function GetPeriodEndTime() {
              var timeStr = this._m.Data.settlement_period_end_time; // "05:00"

              var dateStr = this._m.Data.settlement_period_end_date; // "05Oct17"

              return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].ParseBankDateTimeStr(dateStr, timeStr);
            }
          }, {
            key: "GetTriggeredTime",
            value: function GetTriggeredTime() {
              var timeStr = this._m.Data.settlement_triggered_time; // "05:00:45"

              var dateStr = this._m.Data.settlement_triggered_date; // "05Oct17"

              return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].ParseBankDateTimeStr(dateStr, timeStr);
            }
          }, {
            key: "GetResponseText",
            value: function GetResponseText() {
              return this._m.Data.host_response_text;
            }
          }, {
            key: "GetReceipt",
            value: function GetReceipt() {
              return this._m.Data.merchant_receipt;
            }
          }, {
            key: "GetTransactionRange",
            value: function GetTransactionRange() {
              return this._m.Data.transaction_range;
            }
          }, {
            key: "GetTerminalId",
            value: function GetTerminalId() {
              return this._m.Data.terminal_id;
            }
          }, {
            key: "WasMerchantReceiptPrinted",
            value: function WasMerchantReceiptPrinted() {
              return this._m.Data.merchant_receipt_printed;
            }
          }, {
            key: "GetSchemeSettlementEntries",
            value: function GetSchemeSettlementEntries() {
              var schemes = this._m.Data.schemes;
              if (!schemes) return [];
              return schemes.map(function (scheme) {
                return new SchemeSettlementEntry(scheme);
              });
            }
          }]);

          return Settlement;
        }();

        var SchemeSettlementEntry =
        /*#__PURE__*/
        function () {
          // SchemeSettlementEntry(string schemeName, bool settleByAcquirer, int totalCount, int totalValue)
          // SchemeSettlementEntry(Object schemeObj)
          function SchemeSettlementEntry() {
            _classCallCheck(this, SchemeSettlementEntry);

            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
              args[_key] = arguments[_key];
            }

            if (args.length === 1) {
              this.SchemeName = args[0].scheme_name;
              this.SettleByAcquirer = args[0].settle_by_acquirer.toLowerCase() == "yes";
              this.TotalValue = parseInt(args[0].total_value, 10);
              this.TotalCount = parseInt(args[0].total_count, 10);
            } else if (args.length === 4) {
              this.SchemeName = args[0];
              this.SettleByAcquirer = args[1];
              this.TotalCount = args[2];
              this.TotalValue = args[3];
            }
          }

          _createClass(SchemeSettlementEntry, [{
            key: "ToString",
            value: function ToString() {
              return "SchemeName: ".concat(this.SchemeName, ", SettleByAcquirer: ").concat(this.SettleByAcquirer, ", TotalCount: ").concat(this.TotalCount, ", TotalValue: ").concat(this.TotalValue);
            }
          }]);

          return SchemeSettlementEntry;
        }();

        var SettlementEnquiryRequest =
        /*#__PURE__*/
        function () {
          function SettlementEnquiryRequest(id) {
            _classCallCheck(this, SettlementEnquiryRequest);

            this.Id = id;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiConfig"]();
            this.Options = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
          }

          _createClass(SettlementEnquiryRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {};
              this.Config.EnabledPrintMerchantCopy = true;
              this.Config.EnabledPromptForCustomerCopyOnEftpos = false;
              this.Config.EnabledSignatureFlowOnEftpos = false;
              this.Config.AddReceiptConfig(data);
              this.Options.AddOptions(data);
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](this.Id, _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SettlementEnquiryRequest, data, true);
            }
          }]);

          return SettlementEnquiryRequest;
        }();
        /***/

      },

      /***/
      "./src/Spi.js":
      /*!********************!*\
        !*** ./src/Spi.js ***!
        \********************/

      /*! exports provided: SPI_VERSION, default, Spi */

      /***/
      function srcSpiJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SPI_VERSION", function () {
          return SPI_VERSION;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "default", function () {
          return Spi;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "Spi", function () {
          return Spi;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony import */


        var _PairingHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(
        /*! ./PairingHelper */
        "./src/PairingHelper.js");
        /* harmony import */


        var _Connection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(
        /*! ./Connection */
        "./src/Connection.js");
        /* harmony import */


        var _SpiPayAtTable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(
        /*! ./SpiPayAtTable */
        "./src/SpiPayAtTable.js");
        /* harmony import */


        var _PayAtTable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(
        /*! ./PayAtTable */
        "./src/PayAtTable.js");
        /* harmony import */


        var _SpiPreauth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(
        /*! ./SpiPreauth */
        "./src/SpiPreauth.js");
        /* harmony import */


        var _Cashout__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(
        /*! ./Cashout */
        "./src/Cashout.js");
        /* harmony import */


        var _Settlement__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(
        /*! ./Settlement */
        "./src/Settlement.js");
        /* harmony import */


        var _Pairing__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(
        /*! ./Pairing */
        "./src/Pairing.js");
        /* harmony import */


        var _PosInfo__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(
        /*! ./PosInfo */
        "./src/PosInfo.js");
        /* harmony import */


        var _PurchaseHelper__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(
        /*! ./PurchaseHelper */
        "./src/PurchaseHelper.js");
        /* harmony import */


        var _KeyRollingHelper__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(
        /*! ./KeyRollingHelper */
        "./src/KeyRollingHelper.js");
        /* harmony import */


        var _PingHelper__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(
        /*! ./PingHelper */
        "./src/PingHelper.js");
        /* harmony import */


        var _Purchase__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(
        /*! ./Purchase */
        "./src/Purchase.js");
        /* harmony import */


        var _Service_DeviceService__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(
        /*! ./Service/DeviceService */
        "./src/Service/DeviceService.js");
        /* harmony import */


        var _Printing__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(
        /*! ./Printing */
        "./src/Printing.js");
        /* harmony import */


        var _TerminalStatus__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(
        /*! ./TerminalStatus */
        "./src/TerminalStatus.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var SPI_VERSION = '2.4.0';

        var Spi =
        /*#__PURE__*/
        function () {
          _createClass(Spi, [{
            key: "CurrentStatus",
            get: function get() {
              return this._currentStatus;
            },
            set: function set(value) {
              if (this._currentStatus === value) {
                return;
              }

              this._currentStatus = value;
              document.dispatchEvent(new CustomEvent('StatusChanged', {
                detail: value
              }));
            }
          }]);

          function Spi(posId, serialNumber, eftposAddress, secrets) {
            _classCallCheck(this, Spi);

            this._posId = posId;
            this._serialNumber = serialNumber;
            this._secrets = secrets;
            this._forceSecureWebSockets = false;
            this._eftposAddress = "ws://" + eftposAddress;
            this._log = console;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiConfig"]();
            this._conn = new _Connection__WEBPACK_IMPORTED_MODULE_4__["Connection"]();
            this.CurrentDeviceStatus = null;
            this._deviceApiKey = null;
            this._acquirerCode = null;
            this._inTestMode = false;
            this._autoAddressResolutionEnabled = false; // Our stamp for signing outgoing messages

            this._spiMessageStamp = new _Messages__WEBPACK_IMPORTED_MODULE_0__["MessageStamp"](this._posId, this._secrets, 0);
            this._posVendorId = null;
            this._posVersion = null;
            this._hasSetInfo = null; // We will maintain some state

            this._mostRecentPingSent = null;
            this._mostRecentPongReceived = null;
            this._missedPongsCount = 0;
            this._retriesSinceLastDeviceAddressResolution = 0;
            this._mostRecentLoginResponse = null;
            this._pongTimeout = 5000;
            this._pingFrequency = 18000;
            this._readyToTransact = null;
            this._periodicPingThread = null;
            this._txMonitorCheckFrequency = 1000;
            this._checkOnTxFrequency = 20000;
            this._maxWaitForCancelTx = 10000;
            this._sleepBeforeReconnectMs = 3000;
            this._missedPongsToDisconnect = 2;
            this._retriesBeforeResolvingDeviceAddress = 5;
            this.CurrentFlow = null;
            this.CurrentPairingFlowState = null;
            this.CurrentTxFlowState = null;
          }

          _createClass(Spi, [{
            key: "EnablePayAtTable",
            value: function EnablePayAtTable() {
              this._spiPat = new _SpiPayAtTable__WEBPACK_IMPORTED_MODULE_5__["SpiPayAtTable"](this);
              return this._spiPat;
            }
          }, {
            key: "DisablePayAtTable",
            value: function DisablePayAtTable() {
              this._spiPat = new _SpiPayAtTable__WEBPACK_IMPORTED_MODULE_5__["SpiPayAtTable"](this);
              this._spiPat.Config.PayAtTabledEnabled = false;
              return this._spiPat;
            }
          }, {
            key: "EnablePreauth",
            value: function EnablePreauth() {
              this._spiPreauth = new _SpiPreauth__WEBPACK_IMPORTED_MODULE_7__["SpiPreauth"](this);
              return this._spiPreauth;
            }
          }, {
            key: "Start",
            value: function Start() {
              if (!this._posVendorId || !this._posVersion) {
                // POS information is now required to be set
                this._log.warn("Missing POS vendor ID and version. posVendorId and posVersion are required before starting");

                throw new Error("Missing POS vendor ID and version. posVendorId and posVersion are required before starting");
              }

              this._resetConn();

              this._startTransactionMonitoringThread();

              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle;

              if (this._secrets != null) {
                this._log.info("Starting in Paired State");

                this._currentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnecting;

                this._conn.Connect(); // This is non-blocking

              } else {
                this._log.info("Starting in Unpaired State");

                this._currentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired;
              }
            } /// <summary>
            /// Set the acquirer code of your bank, please contact Assembly's Integration Engineers for acquirer code.
            /// </summary>

          }, {
            key: "SetAcquirerCode",
            value: function SetAcquirerCode(acquirerCode) {
              this._acquirerCode = acquirerCode;
              return true;
            } /// <summary>
            /// Set the api key used for auto address discovery feature
            /// </summary>
            /// <returns></returns>

          }, {
            key: "SetDeviceApiKey",
            value: function SetDeviceApiKey(deviceApiKey) {
              this._deviceApiKey = deviceApiKey;
              return true;
            } /// <summary>
            /// Allows you to set the serial number of the Eftpos
            /// </summary>

          }, {
            key: "SetSerialNumber",
            value: function SetSerialNumber(serialNumber) {
              if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return false;
              var was = this._serialNumber;
              this._serialNumber = serialNumber;

              if (this.HasSerialNumberChanged(was)) {
                this._autoResolveEftposAddress();
              }

              return true;
            } /// <summary>
            /// Allows you to set the auto address discovery feature. 
            /// </summary>
            /// <returns></returns>

          }, {
            key: "SetAutoAddressResolution",
            value: function SetAutoAddressResolution(autoAddressResolutionEnable) {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnected) return false;
              var was = this._autoAddressResolutionEnabled;
              this._autoAddressResolutionEnabled = autoAddressResolutionEnable;

              if (autoAddressResolutionEnable && !was) {
                // we're turning it on
                this._autoResolveEftposAddress();
              }

              return true;
            } /// <summary>
            /// Call this method to set the client library test mode.
            /// Set it to true only while you are developing the integration. 
            /// It defaults to false. For a real merchant, always leave it set to false. 
            /// </summary>
            /// <param name="testMode"></param>
            /// <returns></returns>

          }, {
            key: "SetTestMode",
            value: function SetTestMode(testMode) {
              if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return false;
              if (testMode == this._inTestMode) return true; // we're changing mode

              this._inTestMode = testMode;

              this._autoResolveEftposAddress();

              return true;
            } /// <summary>
            /// Set the client library to use secure web sockets TLS (wss protocol)
            /// </summary>
            /// <param name="isSecure"></param>
            /// <returns></returns>

          }, {
            key: "SetSecureWebSockets",
            value: function SetSecureWebSockets(useSecureWebSockets) {
              this._forceSecureWebSockets = useSecureWebSockets;
            } // <summary>
            // Allows you to set the PosId which identifies this instance of your POS.
            // Can only be called in thge Unpaired state. 
            // </summary>

          }, {
            key: "SetPosId",
            value: function SetPosId(posId) {
              if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return false;
              this._posId = posId;
              this._spiMessageStamp.PosId = posId;
              return true;
            } // <summary>
            // Allows you to set the PinPad address. Sometimes the PinPad might change IP address 
            // (we recommend reserving static IPs if possible).
            // Either way you need to allow your User to enter the IP address of the PinPad.
            // </summary>

          }, {
            key: "SetEftposAddress",
            value: function SetEftposAddress(address) {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnected || this._autoAddressResolutionEnabled) {
                return false;
              }

              this._eftposAddress = "ws://" + address;
              this._conn.Address = this._eftposAddress;
              return true;
            }
          }, {
            key: "SetPosInfo",

            /**
             * Sets values used to identify the POS software to the EFTPOS terminal.
             * Must be set before starting!
             *
             * @param posVendorId Vendor identifier of the POS itself.
             * @param posVersion  Version string of the POS itself.
             */
            value: function SetPosInfo(posVendorId, posVersion) {
              this._posVendorId = posVendorId;
              this._posVersion = posVersion;
            } // <summary>
            // Call this one when a flow is finished and you want to go back to idle state.
            // Typically when your user clicks the "OK" bubtton to acknowldge that pairing is
            // finished, or that transaction is finished.
            // When true, you can dismiss the flow screen and show back the idle screen.
            // </summary>
            // <returns>true means we have moved back to the Idle state. false means current flow was not finished yet.</returns>

          }, {
            key: "AckFlowEndedAndBackToIdle",
            value: function AckFlowEndedAndBackToIdle() {
              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return true; // already idle

              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Pairing && this.CurrentPairingFlowState.Finished) {
                this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle;
                return true;
              }

              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction && this.CurrentTxFlowState.Finished) {
                this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle;
                return true;
              }

              return false;
            } // endregion
            // <summary>
            // This will connect to the Eftpos and start the pairing process.
            // Only call this if you are in the Unpaired state.
            // Subscribe to the PairingFlowStateChanged event to get updates on the pairing process.
            // </summary>
            // <returns>Whether pairing has initiated or not</returns>

          }, {
            key: "Pair",
            value: function Pair() {
              if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                this._log.warn("Tried to Pair but we're already so.");

                return false;
              }

              if (!this._posId || !this._eftposAddress) {
                this._log.warn("Tried to Pair but missing posId or updatedEftposAddress");

                return false;
              }

              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Pairing;
              this.CurrentPairingFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["PairingFlowState"]({
                Successful: false,
                Finished: false,
                Message: "Connecting...",
                AwaitingCheckFromEftpos: false,
                AwaitingCheckFromPos: false,
                ConfirmationCode: ""
              });
              document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                detail: this.CurrentPairingFlowState
              }));

              this._conn.Connect(); // Non-Blocking


              return true;
            } // <summary>
            // Call this when your user clicks yes to confirm the pairing code on your 
            // screen matches the one on the Eftpos.
            // </summary>

          }, {
            key: "PairingConfirmCode",
            value: function PairingConfirmCode() {
              if (!this.CurrentPairingFlowState.AwaitingCheckFromPos) {
                // We weren't expecting this
                return;
              }

              this.CurrentPairingFlowState.AwaitingCheckFromPos = false;

              if (this.CurrentPairingFlowState.AwaitingCheckFromEftpos) {
                // But we are still waiting for confirmation from Eftpos side.
                this._log.info("Pair Code Confirmed from POS side, but am still waiting for confirmation from Eftpos.");

                this.CurrentPairingFlowState.Message = "Click YES on EFTPOS if code is: " + this.CurrentPairingFlowState.ConfirmationCode;
                document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                  detail: this.CurrentPairingFlowState
                }));
              } else {
                // Already confirmed from Eftpos - So all good now. We're Paired also from the POS perspective.
                this._log.info("Pair Code Confirmed from POS side, and was already confirmed from Eftpos side. Pairing finalised.");

                this._onPairingSuccess();

                this._onReadyToTransact();
              }
            } // <summary>
            // Call this if your user clicks CANCEL or NO during the pairing process.
            // </summary>

          }, {
            key: "PairingCancel",
            value: function PairingCancel() {
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Pairing || this.CurrentPairingFlowState.Finished) {
                return;
              }

              if (this.CurrentPairingFlowState.AwaitingCheckFromPos && !this.CurrentPairingFlowState.AwaitingCheckFromEftpos) {
                // This means that the Eftpos already thinks it's paired.
                // Let's tell it to drop keys
                this._send(new _Pairing__WEBPACK_IMPORTED_MODULE_10__["DropKeysRequest"]().ToMessage());
              }

              this._onPairingFailed();
            } // <summary>
            // Call this when your uses clicks the Unpair button.
            // This will disconnect from the Eftpos and forget the secrets.
            // The CurrentState is then changed to Unpaired.
            // Call this only if you are not yet in the Unpaired state.
            // </summary>

          }, {
            key: "Unpair",
            value: function Unpair() {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                return false;
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) {
                return false;
              } // Best effort letting the eftpos know that we're dropping the keys, so it can drop them as well.


              this._send(new _Pairing__WEBPACK_IMPORTED_MODULE_10__["DropKeysRequest"]().ToMessage());

              this._doUnpair();

              return true;
            } // endregion
            // region Transaction Methods
            // <summary>
            // Initiates a purchase transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.
            // </summary>
            // <param name="posRefId">Alphanumeric Identifier for your purchase.</param>
            // <param name="amountCents">Amount in Cents to charge</param>
            // <returns>InitiateTxResult</returns>

          }, {
            key: "InitiatePurchaseTx",
            value: function InitiatePurchaseTx(posRefId, amountCents) {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              }

              var purchaseRequest = _PurchaseHelper__WEBPACK_IMPORTED_MODULE_12__["PurchaseHelper"].CreatePurchaseRequest(amountCents, posRefId);

              purchaseRequest.Config = this.Config;
              var purchaseMsg = purchaseRequest.ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Purchase, amountCents, purchaseMsg, "Waiting for EFTPOS connection to make payment request for ".concat(amountCents / 100.0));

              if (this._send(purchaseMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to accept payment for ".concat(amountCents / 100.0));
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Purchase Initiated");
            } // <summary>
            // Initiates a purchase transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.
            // <para>Tip and cashout are not allowed simultaneously.</para>
            // </summary>
            // <param name="posRefId">An Unique Identifier for your Order/Purchase</param>
            // <param name="purchaseAmount">The Purchase Amount in Cents.</param>
            // <param name="tipAmount">The Tip Amount in Cents</param>
            // <param name="cashoutAmount">The Cashout Amount in Cents</param>
            // <param name="promptForCashout">Whether to prompt your customer for cashout on the Eftpos</param>
            // <param name="options">The Setting to set Header and Footer for the Receipt</param>
            // <param name="surchargeAmount">The Surcharge Amount in Cents</param>
            // <returns>InitiateTxResult</returns>

          }, {
            key: "InitiatePurchaseTxV2",
            value: function InitiatePurchaseTxV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout) {
              var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var surchargeAmount = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (tipAmount > 0 && (cashoutAmount > 0 || promptForCashout)) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Cannot Accept Tips and Cashout at the same time.");
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;

              var purchase = _PurchaseHelper__WEBPACK_IMPORTED_MODULE_12__["PurchaseHelper"].CreatePurchaseRequestV2(posRefId, purchaseAmount, tipAmount, cashoutAmount, promptForCashout, surchargeAmount);

              purchase.Config = this.Config;
              purchase.Options = options;
              var purchaseMsg = purchase.ToMessage();
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Purchase, purchaseAmount, purchaseMsg, "Waiting for EFTPOS connection to make payment request. ".concat(purchase.AmountSummary()));

              if (this._send(purchaseMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to accept payment for ".concat(purchase.AmountSummary()));
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Purchase Initiated");
            } // <summary>
            // Initiates a refund transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.
            // </summary>
            // <param name="posRefId">Alphanumeric Identifier for your refund.</param>
            // <param name="amountCents">Amount in Cents to charge</param>
            // <param name="suppressMerchantPassword">Merchant Password control in VAA</param>
            // <param name="options">The Setting to set Header and Footer for the Receipt</param>
            // <returns>InitiateTxResult</returns>

          }, {
            key: "InitiateRefundTx",
            value: function InitiateRefundTx(posRefId, amountCents) {
              var suppressMerchantPassword = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
              var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();

              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              }

              var refundRequest = _PurchaseHelper__WEBPACK_IMPORTED_MODULE_12__["PurchaseHelper"].CreateRefundRequest(amountCents, posRefId, suppressMerchantPassword);

              refundRequest.Config = this.Config;
              refundRequest.Options = options;
              var refundMsg = refundRequest.ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Refund, amountCents, refundMsg, "Waiting for EFTPOS connection to make refund request for ".concat((amountCents / 100.0).toFixed(2)));

              if (this._send(refundMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to refund ".concat((amountCents / 100.0).toFixed(2)));
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Refund Initiated");
            } // <summary>
            // Let the EFTPOS know whether merchant accepted or declined the signature
            // </summary>
            // <param name="accepted">whether merchant accepted the signature from customer or not</param>

          }, {
            key: "AcceptSignature",
            value: function AcceptSignature(accepted) {
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.AwaitingSignatureCheck) {
                this._log.info("Asked to accept signature but I was not waiting for one.");

                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["MidTxResult"](false, "Asked to accept signature but I was not waiting for one.");
              }

              this.CurrentTxFlowState.SignatureResponded(accepted ? "Accepting Signature..." : "Declining Signature...");
              var sigReqMsg = this.CurrentTxFlowState.SignatureRequiredMessage;

              this._send(accepted ? new _Purchase__WEBPACK_IMPORTED_MODULE_15__["SignatureAccept"](this.CurrentTxFlowState.PosRefId).ToMessage() : new _Purchase__WEBPACK_IMPORTED_MODULE_15__["SignatureDecline"](this.CurrentTxFlowState.PosRefId).ToMessage());

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["MidTxResult"](true, "");
            } // <summary>
            // Submit the Code obtained by your user when phoning for auth. 
            // It will return immediately to tell you whether the code has a valid format or not. 
            // If valid==true is returned, no need to do anything else. Expect updates via standard callback.
            // If valid==false is returned, you can show your user the accompanying message, and invite them to enter another code. 
            // </summary>
            // <param name="authCode">The code obtained by your user from the merchant call centre. It should be a 6-character alpha-numeric value.</param>
            // <returns>Whether code has a valid format or not.</returns>

          }, {
            key: "SubmitAuthCode",
            value: function SubmitAuthCode(authCode) {
              if (authCode.length != 6) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SubmitAuthCodeResult"](false, "Not a 6-digit code.");
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.AwaitingPhoneForAuth) {
                this._log.info("Asked to send auth code but I was not waiting for one.");

                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SubmitAuthCodeResult"](false, "Was not waiting for one.");
              }

              this.CurrentTxFlowState.AuthCodeSent("Submitting Auth Code ".concat(authCode));

              this._send(new _Purchase__WEBPACK_IMPORTED_MODULE_15__["AuthCodeAdvice"](this.CurrentTxFlowState.PosRefId, authCode).ToMessage());

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SubmitAuthCodeResult"](true, "Valid Code.");
            } // <summary>
            // Attempts to cancel a Transaction. 
            // Be subscribed to TxFlowStateChanged event to see how it goes.
            // Wait for the transaction to be finished and then see whether cancellation was successful or not.
            // </summary>
            // <returns>MidTxResult - false only if you called it in the wrong state</returns>

          }, {
            key: "CancelTransaction",
            value: function CancelTransaction() {
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished) {
                this._log.info("Asked to cancel transaction but I was not in the middle of one.");

                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["MidTxResult"](false, "Asked to cancel transaction but I was not in the middle of one.");
              } // TH-1C, TH-3C - Merchant pressed cancel


              if (this.CurrentTxFlowState.RequestSent) {
                var cancelReq = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["CancelTransactionRequest"]();
                this.CurrentTxFlowState.Cancelling("Attempting to Cancel Transaction...");

                this._send(cancelReq.ToMessage());
              } else {
                // We Had Not Even Sent Request Yet. Consider as known failed.
                this.CurrentTxFlowState.Failed(null, "Transaction Cancelled. Request Had not even been sent yet.");
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["MidTxResult"](true, "");
            } // <summary>
            // Initiates a cashout only transaction. Be subscribed to TxFlowStateChanged event to get updates on the process.
            // </summary>
            // <param name="posRefId">Alphanumeric Identifier for your transaction.</param>
            // <param name="amountCents">Amount in Cents to cash out</param>
            // <param name="surchargeAmount">The Surcharge Amount in Cents</param>
            // <returns>InitiateTxResult</returns>

          }, {
            key: "InitiateCashoutOnlyTx",
            value: function InitiateCashoutOnlyTx(posRefId, amountCents) {
              var surchargeAmount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
              var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              var cashoutMsg = Object.assign(new _Cashout__WEBPACK_IMPORTED_MODULE_8__["CashoutOnlyRequest"](amountCents, posRefId), {
                SurchargeAmount: surchargeAmount,
                Options: options,
                Config: this.Config
              }).ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].CashoutOnly, amountCents, cashoutMsg, "Waiting for EFTPOS connection to send cashout request for ".concat((amountCents / 100).toFixed(2)));

              if (this._send(cashoutMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to do cashout for ".concat((amountCents / 100).toFixed(2)));
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Cashout Initiated");
            } // <summary>
            // Initiates a Mail Order / Telephone Order Purchase Transaction
            // </summary>
            // <param name="posRefId">Alphanumeric Identifier for your transaction.</param>
            // <param name="amountCents">Amount in Cents</param>
            // <param name="surchargeAmount">The Surcharge Amount in Cents</param>
            // <param name="suppressMerchantPassword">>Merchant Password control in VAA</param>
            // <param name="options">The Setting to set Header and Footer for the Receipt</param>
            // <returns>InitiateTxResult</returns>

          }, {
            key: "InitiateMotoPurchaseTx",
            value: function InitiateMotoPurchaseTx(posRefId, amountCents) {
              var surchargeAmount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
              var suppressMerchantPassword = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
              var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              var motoPurchaseMsg = Object.assign(new _Purchase__WEBPACK_IMPORTED_MODULE_15__["MotoPurchaseRequest"](amountCents, posRefId), {
                SurchargeAmount: surchargeAmount,
                SuppressMerchantPassword: suppressMerchantPassword,
                Config: this.Config,
                Options: options
              }).ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].MOTO, amountCents, motoPurchaseMsg, "Waiting for EFTPOS connection to send MOTO request for ".concat((amountCents / 100).toFixed(2)));

              if (this._send(motoPurchaseMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS do MOTO for ".concat((amountCents / 100).toFixed(2)));
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "MOTO Initiated");
            } // <summary>
            // Initiates a settlement transaction.
            // Be subscribed to TxFlowStateChanged event to get updates on the process.
            // <param name="options">The Setting to set Header and Footer for the Receipt</param>
            // </summary>

          }, {
            key: "InitiateSettleTx",
            value: function InitiateSettleTx(posRefId) {
              var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();

              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              }

              var settleMsg = Object.assign(new _Settlement__WEBPACK_IMPORTED_MODULE_9__["SettleRequest"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__["RequestIdHelper"].Id("settle")), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Settle, 0, settleMsg, "Waiting for EFTPOS connection to make a settle request");

              if (this._send(settleMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to settle.");
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Settle Initiated");
            } // <summary>
            // <param name="options">The Setting to set Header and Footer for the Receipt</param>
            // </summary>

          }, {
            key: "InitiateSettlementEnquiry",
            value: function InitiateSettlementEnquiry(posRefId) {
              var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              var stlEnqMsg = Object.assign(new _Settlement__WEBPACK_IMPORTED_MODULE_9__["SettlementEnquiryRequest"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__["RequestIdHelper"].Id("stlenq")), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].SettlementEnquiry, 0, stlEnqMsg, "Waiting for EFTPOS connection to make a settlement enquiry");

              if (this._send(stlEnqMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to make a settlement enquiry.");
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Settle Initiated");
            } // <summary>
            // Initiates a Get Last Transaction. Use this when you want to retrieve the most recent transaction
            // that was processed by the Eftpos.
            // Be subscribed to TxFlowStateChanged event to get updates on the process.
            // </summary>

          }, {
            key: "InitiateGetLastTx",
            value: function InitiateGetLastTx() {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              }

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) {
                return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              }

              var gltRequestMsg = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["GetLastTransactionRequest"]().ToMessage();
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              var posRefId = gltRequestMsg.Id; // GetLastTx is not trying to get anything specific back. So we just use the message id.

              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].GetLastTransaction, 0, gltRequestMsg, "Waiting for EFTPOS connection to make a Get-Last-Transaction request.");
              this.CurrentTxFlowState.CallingGlt(gltRequestMsg.Id);

              if (this._send(gltRequestMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS for last transaction.");
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "GLT Initiated");
            } // <summary>
            // This is useful to recover from your POS crashing in the middle of a transaction.
            // When you restart your POS, if you had saved enough state, you can call this method to recover the client library state.
            // You need to have the posRefId that you passed in with the original transaction, and the transaction type.
            // This method will return immediately whether recovery has started or not.
            // If recovery has started, you need to bring up the transaction modal to your user a be listening to TxFlowStateChanged.
            // </summary>
            // <param name="posRefId">The is that you had assigned to the transaction that you are trying to recover.</param>
            // <param name="txType">The transaction type.</param>
            // <returns></returns>

          }, {
            key: "InitiateRecovery",
            value: function InitiateRecovery(posRefId, txType) {
              if (this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              this.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              var gltRequestMsg = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["GetLastTransactionRequest"]().ToMessage();
              this.CurrentTxFlowState = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, txType, 0, gltRequestMsg, "Waiting for EFTPOS connection to attempt recovery.");

              if (this._send(gltRequestMsg)) {
                this.CurrentTxFlowState.Sent("Asked EFTPOS to recover state.");
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Recovery Initiated");
            } // <summary>
            // GltMatch attempts to conclude whether a gltResponse matches an expected transaction and returns
            // the outcome. 
            // If Success/Failed is returned, it means that the gtlResponse did match, and that transaction was succesful/failed.
            // If Unknown is returned, it means that the gltResponse does not match the expected transaction. 
            // </summary>
            // <param name="gltResponse">The GetLastTransactionResponse message to check</param>
            // <param name="posRefId">The Reference Id that you passed in with the original request.</param>
            // <param name="expectedAmount">The total amount in the original request</param>
            // <param name="requestTime">The request time</param>
            // <returns></returns>

          }, {
            key: "GltMatch",
            value: function GltMatch(gltResponse, posRefId, expectedAmount, requestTime) {
              // Obsolete method call check
              // Old interface: GltMatch(GetLastTransactionResponse gltResponse, TransactionType expectedType, int expectedAmount, DateTime requestTime, string posRefId)
              if (arguments.length <= 4 ? 0 : arguments.length - 4) {
                if ((arguments.length <= 4 ? 0 : arguments.length - 4) === 1) {
                  this._log.info("Obsolete method call detected: Use GltMatch(gltResponse, posRefId)");

                  return this.GltMatch(gltResponse, arguments.length <= 4 ? undefined : arguments[4]);
                } else {
                  throw new Error("Obsolete method call with unknown args: Use GltMatch(GetLastTransactionResponse gltResponse, string posRefId)");
                }
              }

              this._log.info("GLT CHECK: PosRefId: ".concat(posRefId, "->").concat(gltResponse.GetPosRefId()));

              var gltBankDateTimeStr = gltResponse.GetBankDateTimeString(); // ddMMyyyyHHmmss

              var gltBankDateTime = new Date("".concat(gltBankDateTimeStr.substr(4, 4), "-").concat(gltBankDateTimeStr.substr(2, 2), "-").concat(gltBankDateTimeStr.substr(0, 2), " ").concat(gltBankDateTimeStr.substr(8, 2), ":").concat(gltBankDateTimeStr.substr(10, 2), ":").concat(gltBankDateTimeStr.substr(12, 2)));
              var compare = requestTime.getTime() - gltBankDateTime.getTime();

              if (!posRefId == gltResponse.GetPosRefId()) {
                return _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Unknown;
              }

              if (gltResponse.GetTxType().toUpperCase() == "PURCHASE" && gltResponse.GetBankNonCashAmount() != expectedAmount && compare > 0) {
                return _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].SuccessState.Unknown;
              }

              return gltResponse.GetSuccessState();
            }
          }, {
            key: "PrintReceipt",
            value: function PrintReceipt(key, payload) {
              this._send(new _Printing__WEBPACK_IMPORTED_MODULE_17__["PrintingRequest"](key, payload).toMessage());
            }
          }, {
            key: "GetTerminalStatus",
            value: function GetTerminalStatus() {
              this._send(new _TerminalStatus__WEBPACK_IMPORTED_MODULE_18__["TerminalStatusRequest"]().ToMessage());
            } // endregion
            // region Internals for Pairing Flow
            // <summary>
            // Handling the 2nd interaction of the pairing process, i.e. an incoming KeyRequest.
            // </summary>
            // <param name="m">incoming message</param>

          }, {
            key: "_handleKeyRequest",
            value: function _handleKeyRequest(m) {
              this.CurrentPairingFlowState.Message = "Negotiating Pairing...";
              document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                detail: this.CurrentPairingFlowState
              })); // Use the helper. It takes the incoming request, and generates the secrets and the response.

              var ph = new _PairingHelper__WEBPACK_IMPORTED_MODULE_3__["PairingHelper"]();
              var result = ph.GenerateSecretsAndKeyResponse(new _Pairing__WEBPACK_IMPORTED_MODULE_10__["KeyRequest"](m));
              this._secrets = result.Secrets; // we now have secrets, although pairing is not fully finished yet.

              this._spiMessageStamp.Secrets = this._secrets; // updating our stamp with the secrets so can encrypt messages later.

              this._send(result.KeyResponse.ToMessage()); // send the key_response, i.e. interaction 3 of pairing.

            } // <summary>
            // Handling the 4th interaction of the pairing process i.e. an incoming KeyCheck.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleKeyCheck",
            value: function _handleKeyCheck(m) {
              var keyCheck = new _Pairing__WEBPACK_IMPORTED_MODULE_10__["KeyCheck"](m);
              this.CurrentPairingFlowState.ConfirmationCode = keyCheck.ConfirmationCode;
              this.CurrentPairingFlowState.AwaitingCheckFromEftpos = true;
              this.CurrentPairingFlowState.AwaitingCheckFromPos = true;
              this.CurrentPairingFlowState.Message = "Confirm that the following Code is showing on the Terminal";
              document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                detail: this.CurrentPairingFlowState
              }));
            } // <summary>
            // Handling the 5th and final interaction of the pairing process, i.e. an incoming PairResponse
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handlePairResponse",
            value: function _handlePairResponse(m) {
              var pairResp = new _Pairing__WEBPACK_IMPORTED_MODULE_10__["PairResponse"](m);
              this.CurrentPairingFlowState.AwaitingCheckFromEftpos = false;

              if (pairResp.Success) {
                if (this.CurrentPairingFlowState.AwaitingCheckFromPos) {
                  // Still Waiting for User to say yes on POS
                  this._log.info("Got Pair Confirm from Eftpos, but still waiting for use to confirm from POS.");

                  this.CurrentPairingFlowState.Message = "Confirm that the following Code is what the EFTPOS showed";
                  document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                    detail: this.CurrentPairingFlowState
                  }));
                } else {
                  this._log.info("Got Pair Confirm from Eftpos, and already had confirm from POS. Now just waiting for first pong.");

                  this._onPairingSuccess();
                } // I need to ping/login even if the pos user has not said yes yet, 
                // because otherwise within 5 seconds connectiong will be dropped by eftpos.


                this._startPeriodicPing();
              } else {
                this._onPairingFailed();
              }
            }
          }, {
            key: "_handleDropKeysAdvice",
            value: function _handleDropKeysAdvice(m) {
              this._log.info("Eftpos was Unpaired. I shall unpair from my end as well.");

              this._doUnpair();
            }
          }, {
            key: "_onPairingSuccess",
            value: function _onPairingSuccess() {
              this.CurrentPairingFlowState.Successful = true;
              this.CurrentPairingFlowState.Finished = true;
              this.CurrentPairingFlowState.Message = "Pairing Successful!";
              this.CurrentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnected;
              document.dispatchEvent(new CustomEvent('SecretsChanged', {
                detail: this._secrets
              }));
              document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                detail: this.CurrentPairingFlowState
              }));
            }
          }, {
            key: "_onPairingFailed",
            value: function _onPairingFailed() {
              this._secrets = null;
              this._spiMessageStamp.Secrets = null;

              this._conn.Disconnect();

              this.CurrentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired;
              this.CurrentPairingFlowState.Message = "Pairing Failed";
              this.CurrentPairingFlowState.Finished = true;
              this.CurrentPairingFlowState.Successful = false;
              this.CurrentPairingFlowState.AwaitingCheckFromPos = false;
              document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                detail: this.CurrentPairingFlowState
              }));
            }
          }, {
            key: "_doUnpair",
            value: function _doUnpair() {
              this.CurrentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired;

              this._conn.Disconnect();

              this._secrets = null;
              this._spiMessageStamp.Secrets = null;
              document.dispatchEvent(new CustomEvent('SecretsChanged', {
                detail: this._secrets
              }));
            } // <summary>
            // Sometimes the server asks us to roll our secrets.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleKeyRollingRequest",
            value: function _handleKeyRollingRequest(m) {
              // we calculate the new ones...
              var krRes = _KeyRollingHelper__WEBPACK_IMPORTED_MODULE_13__["KeyRollingHelper"].PerformKeyRolling(m, this._secrets);

              this._secrets = krRes.NewSecrets; // and update our secrets with them

              this._spiMessageStamp.Secrets = this._secrets; // and our stamp

              this._send(krRes.KeyRollingConfirmation); // and we tell the server that all is well.


              document.dispatchEvent(new CustomEvent('SecretsChanged', {
                detail: this._secrets
              }));
            } // <summary>
            // The PinPad server will send us this message when a customer signature is reqired.
            // We need to ask the customer to sign the incoming receipt.
            // And then tell the pinpad whether the signature is ok or not.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleSignatureRequired",
            value: function _handleSignatureRequired(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Signature Required but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              }

              this.CurrentTxFlowState.SignatureRequired(new _Purchase__WEBPACK_IMPORTED_MODULE_15__["SignatureRequired"](m), "Ask Customer to Sign the Receipt");
              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // The PinPad server will send us this message when an auth code is required.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleAuthCodeRequired",
            value: function _handleAuthCodeRequired(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                _log.info("Received Auth Code Required but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              }

              var phoneForAuthRequired = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["PhoneForAuthRequired"](m);
              var msg = "Auth Code Required. Call ".concat(phoneForAuthRequired.GetPhoneNumber(), " and quote merchant id ").concat(phoneForAuthRequired.GetMerchantId());
              this.CurrentTxFlowState.PhoneForAuthRequired(phoneForAuthRequired, msg);
              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // The PinPad server will reply to our PurchaseRequest with a PurchaseResponse.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handlePurchaseResponse",
            value: function _handlePurchaseResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Purchase response but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId, "\""));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Purchase Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // The PinPad server will reply to our CashoutOnlyRequest with a CashoutOnlyResponse.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleCashoutOnlyResponse",
            value: function _handleCashoutOnlyResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Cashout Response but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Cashout Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // The PinPad server will reply to our MotoPurchaseRequest with a MotoPurchaseResponse.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleMotoPurchaseResponse",
            value: function _handleMotoPurchaseResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Moto Response but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Moto Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // The PinPad server will reply to our RefundRequest with a RefundResponse.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleRefundResponse",
            value: function _handleRefundResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished | !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Refund response but I was not waiting for this one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Refund Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // TODO: Handle the Settlement Response received from the PinPad
            // </summary>
            // <param name="m"></param>

          }, {
            key: "HandleSettleResponse",
            value: function HandleSettleResponse(m) {
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished) {
                this._log.info("Received Settle response but I was not waiting for one. ".concat(m.DecryptedJson));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Settle Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // Handle the Settlement Enquiry Response received from the PinPad
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleSettlementEnquiryResponse",
            value: function _handleSettlementEnquiryResponse(m) {
              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished) {
                this._log.info("Received Settlement Enquiry response but I was not waiting for one. ".concat(m.DecryptedJson));

                return;
              } // TH-1A, TH-2A


              this.CurrentTxFlowState.Completed(m.GetSuccessState(), m, "Settlement Enquiry Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this.CurrentTxFlowState
              }));
            } // <summary>
            // Sometimes we receive event type "error" from the server, such as when calling cancel_transaction and there is no transaction in progress.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleErrorEvent",
            value: function _handleErrorEvent(m) {
              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction && !this.CurrentTxFlowState.Finished && this.CurrentTxFlowState.AttemptingToCancel && m.GetError() == "NO_TRANSACTION") {
                // TH-2E
                this._log.info("Was trying to cancel a transaction but there is nothing to cancel. Calling GLT to see what's up");

                this._callGetLastTransaction();
              } else {
                this._log.info("Received Error Event But Don't know what to do with it. ".concat(m.DecryptedJson));
              }
            } // <summary>
            // When the PinPad returns to us what the Last Transaction was.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleGetLastTransactionResponse",
            value: function _handleGetLastTransactionResponse(m) {
              var txState = this.CurrentTxFlowState;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || txState.Finished) {
                this._log.info("Received glt response but we were not in the middle of a tx. ignoring.");

                return;
              }

              if (!txState.AwaitingGltResponse) {
                this._log.info("received a glt response but we had not asked for one within this transaction. Perhaps leftover from previous one. ignoring.");

                return;
              }

              if (txState.LastGltRequestId != m.Id) {
                this._log.info("received a glt response but the message id does not match the glt request that we sent. strange. ignoring.");

                return;
              } // TH-4 We were in the middle of a transaction.
              // Let's attempt recovery. This is step 4 of Transaction Processing Handling


              this._log.info("Got Last Transaction..");

              txState.GotGltResponse();
              var gtlResponse = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["GetLastTransactionResponse"](m);
              txState.GLTResponsePosRefId = gtlResponse.GetPosRefId();

              if (!gtlResponse.WasRetrievedSuccessfully()) {
                if (gtlResponse.IsStillInProgress(txState.PosRefId)) {
                  // TH-4E - Operation In Progress
                  if (gtlResponse.IsWaitingForSignatureResponse() && !txState.AwaitingSignatureCheck) {
                    this._log.info("Eftpos is waiting for us to send it signature accept/decline, but we were not aware of this. " + "The user can only really decline at this stage as there is no receipt to print for signing.");

                    this.CurrentTxFlowState.SignatureRequired(new _Purchase__WEBPACK_IMPORTED_MODULE_15__["SignatureRequired"](txState.PosRefId, m.Id, "MISSING RECEIPT\n DECLINE AND TRY AGAIN."), "Recovered in Signature Required but we don't have receipt. You may Decline then Retry.");
                  } else if (gtlResponse.IsWaitingForAuthCode() && !txState.AwaitingPhoneForAuth) {
                    this._log.info("Eftpos is waiting for us to send it auth code, but we were not aware of this. " + "We can only cancel the transaction at this stage as we don't have enough information to recover from this.");

                    this.CurrentTxFlowState.PhoneForAuthRequired(new _Purchase__WEBPACK_IMPORTED_MODULE_15__["PhoneForAuthRequired"](txState.PosRefId, m.Id, "UNKNOWN", "UNKNOWN"), "Recovered mid Phone-For-Auth but don't have details. You may Cancel then Retry.");
                  } else {
                    this._log.info("Operation still in progress... stay waiting."); // No need to publish txFlowStateChanged. Can return;


                    return;
                  }
                } else if (gtlResponse.WasTimeOutOfSyncError()) {
                  // Let's not give up based on a TOOS error.
                  // Let's log it, and ignore it. 
                  this._log.info("Time-Out-Of-Sync error in Get Last Transaction response. Let's ignore it and we'll try again."); // No need to publish txFlowStateChanged. Can return;


                  return;
                } else {
                  // TH-4X - Unexpected Response when recovering
                  this._log.info("Unexpected Response in Get Last Transaction during - Received posRefId:".concat(gtlResponse.GetPosRefId(), " Error:").concat(m.GetError(), ". Ignoring."));

                  return;
                }
              } else {
                if (txState.Type == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].GetLastTransaction) {
                  // THIS WAS A PLAIN GET LAST TRANSACTION REQUEST, NOT FOR RECOVERY PURPOSES.
                  this._log.info("Retrieved Last Transaction as asked directly by the user.");

                  gtlResponse.CopyMerchantReceiptToCustomerReceipt();
                  txState.Completed(m.GetSuccessState(), m, "Last Transaction Retrieved");
                } else {
                  // TH-4A - Let's try to match the received last transaction against the current transaction
                  var successState = this.GltMatch(gtlResponse, txState.PosRefId, txState.AmountCents, txState.RequestTime);

                  if (successState == _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Unknown) {
                    // TH-4N: Didn't Match our transaction. Consider Unknown State.
                    this._log.info("Did not match transaction.");

                    txState.UnknownCompleted("Failed to recover Transaction Status. Check EFTPOS. ");
                  } else {
                    // TH-4Y: We Matched, transaction finished, let's update ourselves
                    gtlResponse.CopyMerchantReceiptToCustomerReceipt();
                    txState.Completed(successState, m, "Transaction Ended.");
                  }
                }
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: txState
              }));
            } //When the transaction cancel response is returned.

          }, {
            key: "_handleCancelTransactionResponse",
            value: function _handleCancelTransactionResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;

              if (this.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || this.CurrentTxFlowState.Finished || !this.CurrentTxFlowState.PosRefId == incomingPosRefId) {
                this._log.info("Received Cancel Required but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              }

              var txState = this.CurrentTxFlowState;
              var cancelResponse = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["CancelTransactionResponse"](m);
              if (cancelResponse.Success) return;

              this._log.warn("Failed to cancel transaction: reason=" + cancelResponse.GetErrorReason() + ", detail=" + cancelResponse.GetErrorDetail());

              txState.CancelFailed("Failed to cancel transaction: " + cancelResponse.GetErrorDetail() + ". Check EFTPOS.");
              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: txState
              }));
            }
          }, {
            key: "_handleSetPosInfoResponse",
            value: function _handleSetPosInfoResponse(m) {
              var response = new _PosInfo__WEBPACK_IMPORTED_MODULE_11__["SetPosInfoResponse"](m);

              if (response.isSuccess()) {
                this._hasSetInfo = true;

                this._log.info("Setting POS info successful");
              } else {
                this._log.warn("Setting POS info failed: reason=" + response.getErrorReason() + ", detail=" + response.getErrorDetail());
              }
            }
          }, {
            key: "_startTransactionMonitoringThread",
            value: function _startTransactionMonitoringThread() {
              var _this = this;

              var needsPublishing = false;
              var txState = this.CurrentTxFlowState;

              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction && !txState.Finished) {
                var state = txState;

                if (state.AttemptingToCancel && Date.now() > state.CancelAttemptTime + this._maxWaitForCancelTx) {
                  // TH-2T - too long since cancel attempt - Consider unknown
                  this._log.info("Been too long waiting for transaction to cancel.");

                  txState.UnknownCompleted("Waited long enough for Cancel Transaction result. Check EFTPOS. ");
                  needsPublishing = true;
                } else if (state.RequestSent && Date.now() > state.LastStateRequestTime + this._checkOnTxFrequency) {
                  // TH-1T, TH-4T - It's been a while since we received an update, let's call a GLT
                  this._log.info("Checking on our transaction. Last we asked was at ".concat(state.LastStateRequestTime, "..."));

                  this._callGetLastTransaction();
                }
              }

              if (needsPublishing) {
                document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                  detail: this.CurrentTxFlowState
                }));
              }

              setTimeout(function () {
                return _this._startTransactionMonitoringThread();
              }, this._txMonitorCheckFrequency);
            }
          }, {
            key: "PrintingResponse",
            value: function PrintingResponse(m) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "TerminalStatusResponse",
            value: function TerminalStatusResponse(m) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "BatteryLevelChanged",
            value: function BatteryLevelChanged(m) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "_handlePrintingResponse",
            value: function _handlePrintingResponse(m) {
              this.PrintingResponse(m);
            }
          }, {
            key: "_handleTerminalStatusResponse",
            value: function _handleTerminalStatusResponse(m) {
              this.TerminalStatusResponse(m);
            }
          }, {
            key: "_handleBatteryLevelChanged",
            value: function _handleBatteryLevelChanged(m) {
              this.BatteryLevelChanged(m);
            } // endregion
            // region Internals for Connection Management

          }, {
            key: "_resetConn",
            value: function _resetConn() {
              var _this2 = this; // Setup the Connection


              this._conn = new _Connection__WEBPACK_IMPORTED_MODULE_4__["Connection"]();

              if (this._isUsingHttps() || this._forceSecureWebSockets) {
                this._log.info("Secure connection detected.");

                this._eftposAddress = this._eftposAddress.replace("ws://", "wss://");
              }

              this._conn.Address = this._eftposAddress; // Register our Event Handlers

              document.addEventListener('ConnectionStatusChanged', function (e) {
                return _this2._onSpiConnectionStatusChanged(e.detail);
              });
              document.addEventListener('MessageReceived', function (e) {
                return _this2._onSpiMessageReceived(e.detail);
              });
              document.addEventListener('ErrorReceived', function (e) {
                return _this2._onWsErrorReceived(e.detail);
              });
            } // <summary>
            // This method will be called when the connection status changes.
            // You are encouraged to display a PinPad Connection Indicator on the POS screen.
            // </summary>
            // <param name="state"></param>

          }, {
            key: "_onSpiConnectionStatusChanged",
            value: function _onSpiConnectionStatusChanged(state) {
              var _this3 = this;

              switch (state.ConnectionState) {
                case _Connection__WEBPACK_IMPORTED_MODULE_4__["ConnectionState"].Connecting:
                  this._log.info("I'm Connecting to the Eftpos at ".concat(this._eftposAddress, "..."));

                  break;

                case _Connection__WEBPACK_IMPORTED_MODULE_4__["ConnectionState"].Connected:
                  this._retriesSinceLastDeviceAddressResolution = 0;

                  if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Pairing && this.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                    this.CurrentPairingFlowState.Message = "Requesting to Pair...";
                    document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                      detail: this.CurrentPairingFlowState
                    }));

                    var pr = _PairingHelper__WEBPACK_IMPORTED_MODULE_3__["PairingHelper"].NewPairRequest();

                    this._send(pr.ToMessage());
                  } else {
                    this._log.info("I'm Connected to ".concat(this._eftposAddress, "..."));

                    this._spiMessageStamp.Secrets = this._secrets;

                    this._startPeriodicPing();
                  }

                  break;

                case _Connection__WEBPACK_IMPORTED_MODULE_4__["ConnectionState"].Disconnected:
                  // Let's reset some lifecycle related to connection state, ready for next connection
                  this._log.info("I'm disconnected from ".concat(this._eftposAddress, "..."));

                  this._mostRecentPingSent = null;
                  this._mostRecentPongReceived = null;
                  this._missedPongsCount = 0;

                  this._stopPeriodicPing();

                  if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                    this.CurrentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnecting;

                    if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction && !this.CurrentTxFlowState.Finished) {
                      // we're in the middle of a transaction, just so you know!
                      // TH-1D
                      this._log.info("Lost connection in the middle of a transaction...");
                    }

                    if (this._conn == null) return; // This means the instance has been disposed. Aborting.

                    if (this._autoAddressResolutionEnabled) {
                      if (this._retriesSinceLastDeviceAddressResolution >= this._retriesBeforeResolvingDeviceAddress) {
                        this._autoResolveEftposAddress();

                        this._retriesSinceLastDeviceAddressResolution = 0;
                      } else {
                        this._retriesSinceLastDeviceAddressResolution += 1;
                      }
                    }

                    this._log.info("Will try to reconnect in ".concat(this._sleepBeforeReconnectMs, "ms..."));

                    setTimeout(function () {
                      if (_this3.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                        // This is non-blocking
                        if (_this3._conn) {
                          _this3._conn.Connect();
                        }
                      }
                    }, this._sleepBeforeReconnectMs);
                  } else if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Pairing) {
                    this._log.info("Lost Connection during pairing.");

                    this.CurrentPairingFlowState.Message = "Could not Connect to Pair. Check Network and Try Again...";

                    this._onPairingFailed();

                    document.dispatchEvent(new CustomEvent('PairingFlowStateChanged', {
                      detail: this.CurrentPairingFlowState
                    }));
                  }

                  break;

                default:
                  throw new Error('Unknown state: ' + state);
              }
            } // <summary>
            // This is an important piece of the puzzle. It's a background thread that periodically
            // sends Pings to the server. If it doesn't receive Pongs, it considers the connection as broken
            // so it disconnects. 
            // </summary>

          }, {
            key: "_startPeriodicPing",
            value: function _startPeriodicPing() {
              var _this4 = this;

              this._stopPeriodicPing();

              this._periodicPingThread = setInterval(function () {
                return _this4._periodicPing();
              }, this._pingFrequency);

              this._periodicPing();
            }
          }, {
            key: "_periodicPing",
            value: function _periodicPing() {
              var _this5 = this; // while i'm still connected AND paired...


              if (this._conn.Connected && this._secrets != null) {
                this._doPing();

                setTimeout(function () {
                  if (_this5._mostRecentPingSent != null && (_this5._mostRecentPongReceived == null || _this5._mostRecentPongReceived.Id != _this5._mostRecentPingSent.Id)) {
                    _this5._missedPongsCount += 1;

                    _this5._log.info("Eftpos didn't reply to my Ping. Missed Count: ".concat(_this5._missedPongsCount, "/").concat(_this5._missedPongsToDisconnect, "."));

                    if (_this5._missedPongsCount < _this5._missedPongsToDisconnect) {
                      _this5._log.info("Trying another ping...");

                      _this5._startPeriodicPing();

                      return;
                    } // This means that we have not received a pong for our most recent ping.
                    // We consider this connection as broken.
                    // Let's Disconnect.


                    _this5._log.info("Disconnecting...");

                    _this5._conn.Disconnect();

                    _this5._stopPeriodicPing();
                  }

                  _this5._missedPongsCount = 0;
                }, this._pongTimeout);
              } else {
                this._stopPeriodicPing();

                this._log.info("Cancelling periodic ping as were disconnected or not paired");
              }
            } // <summary>
            // We call this ourselves as soon as we're ready to transact with the PinPad after a connection is established.
            // This function is effectively called after we received the first Login Response from the PinPad.
            // </summary>

          }, {
            key: "_onReadyToTransact",
            value: function _onReadyToTransact() {
              this._log.info("On Ready To Transact!"); // So, we have just made a connection, pinged and logged in successfully.


              this.CurrentStatus = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].PairedConnected;

              if (this.CurrentFlow == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction && !this.CurrentTxFlowState.Finished) {
                if (this.CurrentTxFlowState.RequestSent) {
                  // TH-3A - We've just reconnected and were in the middle of Tx.
                  // Let's get the last transaction to check what we might have missed out on.
                  this._callGetLastTransaction();
                } else {
                  // TH-3AR - We had not even sent the request yet. Let's do that now
                  this._send(this.CurrentTxFlowState.Request);

                  this.CurrentTxFlowState.Sent("Sending Request Now...");
                  document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                    detail: this.CurrentTxFlowState
                  }));
                }
              } else {
                if (!this._hasSetInfo) {
                  this._callSetPosInfo();
                } // let's also tell the eftpos our latest table configuration.


                if (this._spiPat) {
                  this._spiPat.PushPayAtTableConfig();
                }
              }
            }
          }, {
            key: "_callSetPosInfo",
            value: function _callSetPosInfo() {
              var setPosInfoRequest = new _PosInfo__WEBPACK_IMPORTED_MODULE_11__["SetPosInfoRequest"](this._posVersion, this._posVendorId, "js", SPI_VERSION, _PosInfo__WEBPACK_IMPORTED_MODULE_11__["DeviceInfo"].GetAppDeviceInfo());

              this._send(setPosInfoRequest.toMessage());
            } // <summary>
            // When we disconnect, we should also stop the periodic ping.
            // </summary>

          }, {
            key: "_stopPeriodicPing",
            value: function _stopPeriodicPing() {
              if (this._periodicPingThread) {
                // If we were already set up, clean up before restarting.
                clearInterval(this._periodicPingThread);
                this._periodicPingThread = null;
              }
            } // Send a Ping to the Server

          }, {
            key: "_doPing",
            value: function _doPing() {
              var ping = _PingHelper__WEBPACK_IMPORTED_MODULE_14__["PingHelper"].GeneratePingRequest();

              this._mostRecentPingSent = ping;

              this._send(ping);

              this._mostRecentPingSentTime = Date.now();
            } // <summary>
            // Received a Pong from the server
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleIncomingPong",
            value: function _handleIncomingPong(m) {
              // We need to maintain this time delta otherwise the server will not accept our messages.
              this._spiMessageStamp.ServerTimeDelta = m.GetServerTimeDelta();

              if (this._mostRecentPongReceived == null) {
                // First pong received after a connection, and after the pairing process is fully finalised.
                if (this.CurrentStatus != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) {
                  this._log.info("First pong of connection and in paired state.");

                  this._onReadyToTransact();
                } else {
                  this._log.info("First pong of connection but pairing process not finalised yet.");
                }
              }

              this._mostRecentPongReceived = m;

              this._log.debug("PongLatency:".concat(Date.now() - this._mostRecentPingSentTime));
            } // <summary>
            // The server will also send us pings. We need to reply with a pong so it doesn't disconnect us.
            // </summary>
            // <param name="m"></param>

          }, {
            key: "_handleIncomingPing",
            value: function _handleIncomingPing(m) {
              var pong = _PingHelper__WEBPACK_IMPORTED_MODULE_14__["PongHelper"].GeneratePongRessponse(m);

              this._send(pong);
            } // <summary>
            // Ask the PinPad to tell us what the Most Recent Transaction was
            // </summary>

          }, {
            key: "_callGetLastTransaction",
            value: function _callGetLastTransaction() {
              var gltRequestMsg = new _Purchase__WEBPACK_IMPORTED_MODULE_15__["GetLastTransactionRequest"]().ToMessage();
              this.CurrentTxFlowState.CallingGlt(gltRequestMsg.Id);

              this._send(gltRequestMsg);
            } // <summary>
            // This method will be called whenever we receive a message from the Connection
            // </summary>
            // <param name="messageJson"></param>

          }, {
            key: "_onSpiMessageReceived",
            value: function _onSpiMessageReceived(messageJson) {
              // First we parse the incoming message
              var m = _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"].FromJson(messageJson.Message, this._secrets);

              this._log.info("Received:" + m.DecryptedJson);

              if (_SpiPreauth__WEBPACK_IMPORTED_MODULE_7__["SpiPreauth"].IsPreauthEvent(m.EventName)) {
                this._spiPreauth._handlePreauthMessage(m);

                return;
              } // And then we switch on the event type.


              switch (m.EventName) {
                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].KeyRequest:
                  this._handleKeyRequest(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].KeyCheck:
                  this._handleKeyCheck(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PairResponse:
                  this._handlePairResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].DropKeysAdvice:
                  this._handleDropKeysAdvice(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PurchaseResponse:
                  this._handlePurchaseResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].RefundResponse:
                  this._handleRefundResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].CashoutOnlyResponse:
                  this._handleCashoutOnlyResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].MotoPurchaseResponse:
                  this._handleMotoPurchaseResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SignatureRequired:
                  this._handleSignatureRequired(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].AuthCodeRequired:
                  this._handleAuthCodeRequired(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].GetLastTransactionResponse:
                  this._handleGetLastTransactionResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SettleResponse:
                  this.HandleSettleResponse(m);
                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SettlementEnquiryResponse:
                  this._handleSettlementEnquiryResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].Ping:
                  this._handleIncomingPing(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].Pong:
                  this._handleIncomingPong(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].KeyRollRequest:
                  this._handleKeyRollingRequest(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].CancelTransactionResponse:
                  this._handleCancelTransactionResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].SetPosInfoResponse:
                  this._handleSetPosInfoResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableGetTableConfig:
                  if (this._spiPat == null) {
                    this._send(_PayAtTable__WEBPACK_IMPORTED_MODULE_6__["PayAtTableConfig"].FeatureDisableMessage(_RequestIdHelper__WEBPACK_IMPORTED_MODULE_2__["RequestIdHelper"].Id("patconf")));

                    break;
                  }

                  this._spiPat._handleGetTableConfig(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableGetBillDetails:
                  this._spiPat._handleGetBillDetailsRequest(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableBillPayment:
                  this._spiPat._handleBillPaymentAdvice(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableGetOpenTables:
                  this._spiPat._handleGetOpenTablesRequest(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PayAtTableBillPaymentFlowEnded:
                  this._spiPat._handleBillPaymentFlowEnded(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].PrintingResponse:
                  this._handlePrintingResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].TerminalStatusResponse:
                  this._handleTerminalStatusResponse(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].BatteryLevelChanged:
                  this._handleBatteryLevelChanged(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].Error:
                  this._handleErrorEvent(m);

                  break;

                case _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].InvalidHmacSignature:
                  this._log.info("I could not verify message from Eftpos. You might have to Un-pair Eftpos and then reconnect.");

                  break;

                default:
                  this._log.info("I don't Understand Event: ".concat(m.EventName, ", ").concat(m.Data, ". Perhaps I have not implemented it yet."));

                  break;
              }
            }
          }, {
            key: "_onWsErrorReceived",
            value: function _onWsErrorReceived(error) {
              this._log.warn("Received WS Error", error.Message);
            }
          }, {
            key: "_send",
            value: function _send(message) {
              var json = message.ToJson(this._spiMessageStamp);

              if (this._conn.Connected) {
                this._log.info("Sending: " + message.DecryptedJson);

                this._conn.Send(json);

                return true;
              } else {
                this._log.info("Asked to send, but not connected: " + message.DecryptedJson);

                return false;
              }
            }
          }, {
            key: "HasSerialNumberChanged",
            value: function HasSerialNumberChanged(updatedSerialNumber) {
              return this._serialNumber != updatedSerialNumber;
            }
          }, {
            key: "HasEftposAddressChanged",
            value: function HasEftposAddressChanged(updatedEftposAddress) {
              return this._eftposAddress != updatedEftposAddress;
            }
          }, {
            key: "_autoResolveEftposAddress",
            value: function _autoResolveEftposAddress() {
              var _this6 = this;

              if (!this._autoAddressResolutionEnabled) return;

              if (!this._serialNumber || !this._deviceApiKey) {
                this._log.warn("Missing serialNumber and/or deviceApiKey. Need to set them before for Auto Address to work.");

                return;
              }

              var service = new _Service_DeviceService__WEBPACK_IMPORTED_MODULE_16__["DeviceAddressService"]();
              var isSecureConnection = false; // determine whether to use wss or not

              if (this._isUsingHttps() || this._forceSecureWebSockets) {
                this._log.info("Secure connection detected.");

                isSecureConnection = true;
              }

              this._log.info("Resolving address for device ".concat(this._serialNumber, "."));

              return service.RetrieveService(this._serialNumber, this._deviceApiKey, this._acquirerCode, isSecureConnection, this._inTestMode, this._log).then(function (response) {
                var deviceAddressStatus = Object.assign(new _Service_DeviceService__WEBPACK_IMPORTED_MODULE_16__["DeviceAddressStatus"](isSecureConnection), response);

                if (!deviceAddressStatus || !deviceAddressStatus.Address) {
                  _this6._log.info("Could not resolve device address.", response);

                  document.dispatchEvent(new CustomEvent('AutoAddressResolutionFailed', {
                    detail: response
                  }));
                  return;
                }

                _this6._log.info("Address for device resolved to ".concat(deviceAddressStatus.Address));

                if (!_this6.HasEftposAddressChanged(deviceAddressStatus.Address)) return; // update device and connection address

                var protocol = isSecureConnection ? "wss" : "ws";
                _this6._eftposAddress = protocol + "://" + deviceAddressStatus.Address;
                _this6._conn.Address = _this6._eftposAddress;
                _this6.CurrentDeviceStatus = deviceAddressStatus;
                document.dispatchEvent(new CustomEvent('DeviceAddressChanged', {
                  detail: _this6.CurrentDeviceStatus
                }));
                return _this6.CurrentDeviceStatus;
              });
            }
          }, {
            key: "_isUsingHttps",
            value: function _isUsingHttps() {
              return 'https:' == document.location.protocol ? true : false;
            }
          }], [{
            key: "GetVersion",
            value: function GetVersion() {
              return SPI_VERSION;
            }
          }]);

          return Spi;
        }();
        /***/

      },

      /***/
      "./src/SpiModels.js":
      /*!**************************!*\
        !*** ./src/SpiModels.js ***!
        \**************************/

      /*! exports provided: SpiStatus, SpiFlow, PairingFlowState, TransactionType, InitiateTxResult, MidTxResult, TransactionFlowState, SubmitAuthCodeResult, SpiConfig, TransactionOptions */

      /***/
      function srcSpiModelsJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SpiStatus", function () {
          return SpiStatus;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SpiFlow", function () {
          return SpiFlow;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "PairingFlowState", function () {
          return PairingFlowState;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TransactionType", function () {
          return TransactionType;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "InitiateTxResult", function () {
          return InitiateTxResult;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "MidTxResult", function () {
          return MidTxResult;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TransactionFlowState", function () {
          return TransactionFlowState;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SubmitAuthCodeResult", function () {
          return SubmitAuthCodeResult;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SpiConfig", function () {
          return SpiConfig;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TransactionOptions", function () {
          return TransactionOptions;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        } // <summary>
        // Represents the 3 Pairing statuses that the Spi instanxce can be in.
        // </summary>


        var SpiStatus = {
          // <summary>
          // Paired and Connected
          // </summary>
          PairedConnected: 'PairedConnected',
          // <summary>
          // Paired but trying to establish a connection 
          // </summary>
          PairedConnecting: 'PairedConnecting',
          // <summary>
          // Unpaired
          // </summary>
          Unpaired: 'Unpaired'
        }; // <summary>
        // The Spi instance can be in one of these flows at any point in time.
        // </summary>

        var SpiFlow = {
          // <summary>
          // Currently going through the Pairing Process Flow.
          // Happens during the Unpaired SpiStatus.
          // </summary>
          Pairing: 'Pairing',
          // <summary>
          // Currently going through the transaction Process Flow.
          // Cannot happen in the Unpaired SpiStatus.
          // </summary>
          Transaction: 'Transaction',
          // <summary>
          // Not in any of the other states.
          // </summary>
          Idle: 'Idle'
        }; // <summary>
        // Represents the Pairing Flow State during the pairing process 
        // </summary>

        var PairingFlowState = function PairingFlowState(state) {
          _classCallCheck(this, PairingFlowState); // <summary>
          // Some text that can be displayed in the Pairing Process Screen
          // that indicates what the pairing process is up to.
          // </summary>


          this.Message = null; // <summary>
          // When true, it means that the EFTPOS is shoing the confirmation code,
          // and your user needs to press YES or NO on the EFTPOS.
          // </summary>

          this.AwaitingCheckFromEftpos = null; // <summary>
          // When true, you need to display the YES/NO buttons on you pairing screen
          // for your user to confirm the code.
          // </summary>

          this.AwaitingCheckFromPos = null; // <summary>
          // This is the confirmation code for the pairing process.
          // </summary>

          this.ConfirmationCode = null; // <summary>
          // Indicates whether the Pairing Flow has finished its job.
          // </summary>

          this.Finished = null; // <summary>
          // Indicates whether pairing was successful or not.
          // </summary>

          this.Successful = null;

          if (state) {
            Object.assign(this, state);
          }
        };

        var TransactionType = {
          Purchase: 'Purchase',
          Refund: 'Refund',
          CashoutOnly: 'CashoutOnly',
          MOTO: 'MOTO',
          Settle: 'Settle',
          SettlementEnquiry: 'SettlementEnquiry',
          GetLastTransaction: 'GetLastTransaction',
          Preauth: 'Preauth',
          AccountVerify: 'AccountVerify'
        }; // <summary>
        // Used as a return in the InitiateTx methods to signify whether 
        // the transaction was initiated or not, and a reason to go with it.
        // </summary>

        var InitiateTxResult = function InitiateTxResult(initiated, message) {
          _classCallCheck(this, InitiateTxResult); // <summary>
          // Whether the tx was initiated.
          // When true, you can expect updated to your registered callback.
          // When false, you can retry calling the InitiateX method.
          // </summary>


          this.Initiated = initiated; // <summary>
          // Text that gives reason for the Initiated flag, especially in case of false. 
          // </summary>

          this.Message = message;
        }; // <summary>
        // Used as a return in calls mid transaction to let you know
        // whether the call was valid or not.
        // These attributes work for COM interop.
        // </summary>


        var MidTxResult = // <summary>
        // This default stucture works for COM interop.
        // </summary>
        function MidTxResult(valid, message) {
          _classCallCheck(this, MidTxResult);

          this.Valid = valid;
          this.Message = message;
        }; // <summary>
        // Represents the State during a TransactionFlow
        // </summary>


        var TransactionFlowState =
        /*#__PURE__*/
        function () {
          function TransactionFlowState(posRefId, type, amountCents, message, msg) {
            _classCallCheck(this, TransactionFlowState); // <summary>
            //  The id given to this transaction
            // </summary>


            this.PosRefId = posRefId;
            this.Id = posRefId; // obsolete, but let's maintain it for now, to mean same as PosRefId.
            // <summary>
            // Purchase/Refund/Settle/...
            // </summary>

            this.Type = type; // <summary>
            // A text message to display on your Transaction Flow Screen
            // </summary>

            this.DisplayMessage = msg; // <summary>
            // Amount in cents for this transaction
            // </summary>

            this.AmountCents = amountCents; // <summary>
            // Whther the request has been sent to the EFTPOS yet or not.
            // In the PairedConnecting state, the transaction is initiated
            // but the request is only sent once the connection is recovered.
            // </summary>

            this.RequestSent = false; // <summary>
            // The time when the request was sent to the EFTPOS.
            // </summary>

            this.RequestTime = null; // <summary>
            // The time when we last asked for an update, including the original request at first
            // </summary>

            this.LastStateRequestTime = null; // <summary>
            // The id of the last glt request message that was sent. used to match with the response.
            // </summary>

            this.LastGltRequestId = null; // <summary>
            // Whether we're currently attempting to Cancel the transaction.
            // </summary>

            this.AttemptingToCancel = null; // <summary>
            // When this flag is on, you need to display the dignature accept/decline buttons in your 
            // transaction flow screen.
            // </summary>

            this.AwaitingSignatureCheck = false; // <summary>
            // When this flag is on, you need to show your user the phone number to call to get the authorisation code.
            // Then you need to provide your user means to enter that given code and submit it via SubmitAuthCode().
            // </summary>

            this.AwaitingPhoneForAuth = null; // <summary>
            // Whether this transaction flow is over or not.
            // </summary>

            this.Finished = false; // <summary>
            // The success state of this transaction. Starts off as Unknown.
            // When finished, can be Success, Failed OR Unknown.
            // </summary>

            this.Success = _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Unknown; // <summary>
            // The response at the end of the transaction. 
            // Might not be present in all edge cases.
            // You can then turn this Message into the appropriate structure,
            // such as PurchaseResponse, RefundResponse, etc
            // </summary>

            this.Response = null; // <summary>
            // The message the we received from EFTPOS that told us that signature is required.
            // </summary>

            this.SignatureRequiredMessage = null; // <summary>
            // The message the we received from EFTPOS that told us that Phone For Auth is required.
            // </summary>

            this.PhoneForAuthRequiredMessage = null; // <summary>
            // The time when the cancel attempt was made.
            // </summary>

            this.CancelAttemptTime = null; // <summary>
            // The request message that we are sending/sent to the server.
            // </summary>

            this.Request = message; // <summary>
            // Whether we're currently waiting for a Get Last Transaction Response to get an update. 
            // </summary>

            this.AwaitingGltResponse = null;
            this.GLTResponsePosRefId = null;
          }

          _createClass(TransactionFlowState, [{
            key: "Sent",
            value: function Sent(msg) {
              this.RequestSent = true;
              this.RequestTime = Date.now();
              this.LastStateRequestTime = Date.now();
              this.DisplayMessage = msg;
            }
          }, {
            key: "Cancelling",
            value: function Cancelling(msg) {
              this.AttemptingToCancel = true;
              this.CancelAttemptTime = Date.now();
              this.DisplayMessage = msg;
            }
          }, {
            key: "CancelFailed",
            value: function CancelFailed(msg) {
              this.AttemptingToCancel = false;
              this.DisplayMessage = msg;
            }
          }, {
            key: "CallingGlt",
            value: function CallingGlt(gltRequestId) {
              this.AwaitingGltResponse = true;
              this.LastStateRequestTime = Date.now();
              this.LastGltRequestId = gltRequestId;
            }
          }, {
            key: "GotGltResponse",
            value: function GotGltResponse() {
              this.AwaitingGltResponse = false;
            }
          }, {
            key: "Failed",
            value: function Failed(response, msg) {
              this.Success = _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Failed;
              this.Finished = true;
              this.Response = response;
              this.DisplayMessage = msg;
            }
          }, {
            key: "SignatureRequired",
            value: function SignatureRequired(spiMessage, msg) {
              this.SignatureRequiredMessage = spiMessage;
              this.AwaitingSignatureCheck = true;
              this.DisplayMessage = msg;
            }
          }, {
            key: "SignatureResponded",
            value: function SignatureResponded(msg) {
              this.AwaitingSignatureCheck = false;
              this.DisplayMessage = msg;
            }
          }, {
            key: "PhoneForAuthRequired",
            value: function PhoneForAuthRequired(spiMessage, msg) {
              this.PhoneForAuthRequiredMessage = spiMessage;
              this.AwaitingPhoneForAuth = true;
              this.DisplayMessage = msg;
            }
          }, {
            key: "AuthCodeSent",
            value: function AuthCodeSent(msg) {
              this.AwaitingPhoneForAuth = false;
              this.DisplayMessage = msg;
            }
          }, {
            key: "Completed",
            value: function Completed(state, response, msg) {
              this.Success = state;
              this.Response = response;
              this.Finished = true;
              this.AttemptingToCancel = false;
              this.AwaitingGltResponse = false;
              this.AwaitingSignatureCheck = false;
              this.AwaitingPhoneForAuth = false;
              this.DisplayMessage = msg;
            }
          }, {
            key: "UnknownCompleted",
            value: function UnknownCompleted(msg) {
              this.Success = _Messages__WEBPACK_IMPORTED_MODULE_0__["SuccessState"].Unknown;
              this.Response = null;
              this.Finished = true;
              this.AttemptingToCancel = false;
              this.AwaitingGltResponse = false;
              this.AwaitingSignatureCheck = false;
              this.AwaitingPhoneForAuth = false;
              this.DisplayMessage = msg;
            }
          }]);

          return TransactionFlowState;
        }(); // <summary>
        // Used as a return in the SubmitAuthCode method to signify whether Code is valid
        // </summary>


        var SubmitAuthCodeResult = function SubmitAuthCodeResult(validFormat, message) {
          _classCallCheck(this, SubmitAuthCodeResult);

          this.ValidFormat = validFormat; // <summary>
          // Text that gives reason for Invalidity
          // </summary>

          this.Message = message;
        };

        var SpiConfig =
        /*#__PURE__*/
        function () {
          function SpiConfig() {
            _classCallCheck(this, SpiConfig);

            this.PrintMerchantCopy = false;
            this.PromptForCustomerCopyOnEftpos = false;
            this.SignatureFlowOnEftpos = false;
            this.EnabledPrintMerchantCopy = false;
            this.EnabledPromptForCustomerCopyOnEftpos = false;
            this.EnabledSignatureFlowOnEftpos = false;
          }

          _createClass(SpiConfig, [{
            key: "AddReceiptConfig",
            value: function AddReceiptConfig(messageData) {
              if (this.PromptForCustomerCopyOnEftpos && this.EnabledPromptForCustomerCopyOnEftpos) {
                messageData.prompt_for_customer_copy = this.PromptForCustomerCopyOnEftpos;
              }

              if (this.SignatureFlowOnEftpos && this.EnabledSignatureFlowOnEftpos) {
                messageData.print_for_signature_required_transactions = this.SignatureFlowOnEftpos;
              }

              if (this.PrintMerchantCopy && this.EnabledPrintMerchantCopy) {
                messageData.print_merchant_copy = this.PrintMerchantCopy;
              }

              return messageData;
            }
          }, {
            key: "ToString",
            value: function ToString() {
              return "PromptForCustomerCopyOnEftpos:".concat(this.PromptForCustomerCopyOnEftpos, " SignatureFlowOnEftpos:").concat(this.SignatureFlowOnEftpos, " PrintMerchantCopy: ").concat(this.PrintMerchantCopy);
            }
          }]);

          return SpiConfig;
        }();

        var TransactionOptions =
        /*#__PURE__*/
        function () {
          function TransactionOptions() {
            _classCallCheck(this, TransactionOptions);

            this._customerReceiptHeader = "";
            this._customerReceiptFooter = "";
            this._merchantReceiptHeader = "";
            this._merchantReceiptFooter = "";
          }

          _createClass(TransactionOptions, [{
            key: "SetCustomerReceiptHeader",
            value: function SetCustomerReceiptHeader(customerReceiptHeader) {
              this._customerReceiptHeader = customerReceiptHeader;
            }
          }, {
            key: "SetCustomerReceiptFooter",
            value: function SetCustomerReceiptFooter(customerReceiptFooter) {
              this._customerReceiptFooter = customerReceiptFooter;
            }
          }, {
            key: "SetMerchantReceiptHeader",
            value: function SetMerchantReceiptHeader(merchantReceiptHeader) {
              this._merchantReceiptHeader = merchantReceiptHeader;
            }
          }, {
            key: "SetMerchantReceiptFooter",
            value: function SetMerchantReceiptFooter(merchantReceiptFooter) {
              this._merchantReceiptFooter = merchantReceiptFooter;
            }
          }, {
            key: "AddOptions",
            value: function AddOptions(messageData) {
              messageData.customer_receipt_header = this._customerReceiptHeader;
              messageData.customer_receipt_footer = this._customerReceiptFooter;
              messageData.merchant_receipt_header = this._merchantReceiptHeader;
              messageData.merchant_receipt_footer = this._merchantReceiptFooter;
              return messageData;
            }
          }]);

          return TransactionOptions;
        }();
        /***/

      },

      /***/
      "./src/SpiPayAtTable.js":
      /*!******************************!*\
        !*** ./src/SpiPayAtTable.js ***!
        \******************************/

      /*! exports provided: SpiPayAtTable */

      /***/
      function srcSpiPayAtTableJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SpiPayAtTable", function () {
          return SpiPayAtTable;
        });
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");
        /* harmony import */


        var _PayAtTable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./PayAtTable */
        "./src/PayAtTable.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var SpiPayAtTable =
        /*#__PURE__*/
        function () {
          function SpiPayAtTable(spi) {
            _classCallCheck(this, SpiPayAtTable);

            this._spi = spi;
            this._log = console;
            this.Config = Object.assign(new _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["PayAtTableConfig"](), {
              PayAtTabledEnabled: true,
              OperatorIdEnabled: true,
              AllowedOperatorIds: [],
              EqualSplitEnabled: true,
              SplitByAmountEnabled: true,
              SummaryReportEnabled: true,
              TippingEnabled: true,
              LabelOperatorId: "Operator ID",
              LabelPayButton: "Pay at Table",
              LabelTableId: "Table Number",
              TableRetrievalEnabled: true
            });
          } // <summary>
          // This delegate will be called when the Eftpos needs to know the current state of a bill for a table. 
          // <para />
          // Parameters:<para />
          // billId - The unique identifier of the bill. If empty, it means that the PayAtTable flow on the Eftpos is just starting, and the lookup is by tableId.<para />
          // tableId - The identifier of the table that the bill is for. <para />
          // operatorId - The id of the operator entered on the eftpos. <para />
          // <para />
          // Return:<para />
          // You need to return the current state of the bill.
          // </summary>


          _createClass(SpiPayAtTable, [{
            key: "GetBillStatus",
            value: function GetBillStatus(billId, tableId, operatorId, paymentFlowStarted) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            } // Abstract method, must implement in POS system

          }, {
            key: "BillPaymentReceived",
            value: function BillPaymentReceived(billPayment, updatedBillData) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "GetOpenTables",
            value: function GetOpenTables(operatorId) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "BillPaymentFlowEnded",
            value: function BillPaymentFlowEnded(message) {
              throw new Error('Method not implemented. Please overwrite this method in your POS');
            }
          }, {
            key: "PushPayAtTableConfig",
            value: function PushPayAtTableConfig() {
              this._spi._send(this.Config.ToMessage(_RequestIdHelper__WEBPACK_IMPORTED_MODULE_0__["RequestIdHelper"].Id("patconf")));
            }
          }, {
            key: "_handleGetBillDetailsRequest",
            value: function _handleGetBillDetailsRequest(m) {
              var _this = this;

              var operatorId = m.Data["operator_id"];
              var tableId = m.Data["table_id"];
              var paymentFlowStarted = m.Data["payment_flow_started"]; // Ask POS for Bill Details for this tableId, inluding encoded PaymentData

              return Promise.resolve(this.GetBillStatus("", tableId, operatorId, paymentFlowStarted)).then(function (billStatus) {
                billStatus.TableId = tableId;

                if (billStatus.TotalAmount <= 0) {
                  _this._log.info("Table has 0 total amount. not sending it to eftpos.");

                  billStatus.Result = _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["BillRetrievalResult"].INVALID_TABLE_ID;
                }

                _this._spi._send(billStatus.ToMessage(m.Id));
              });
            }
          }, {
            key: "_handleBillPaymentAdvice",
            value: function _handleBillPaymentAdvice(m) {
              var _this2 = this;

              var billPayment = new _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["BillPayment"](m); // Ask POS for Bill Details, inluding encoded PaymentData

              return Promise.resolve(this.GetBillStatus(billPayment.BillId, billPayment.TableId, billPayment.OperatorId, billPayment.PaymentFlowStarted)).then(function (existingBillStatus) {
                if (existingBillStatus.Result != _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["BillRetrievalResult"].SUCCESS) {
                  _this2._log.warn("Could not retrieve Bill Status for Payment Advice. Sending Error to Eftpos.");

                  _this2._spi._send(existingBillStatus.ToMessage(m.Id));
                }

                var existingPaymentHistory = existingBillStatus.getBillPaymentHistory();
                var foundExistingEntry = existingPaymentHistory.find(function (phe) {
                  return phe.GetTerminalRefId() == billPayment.PurchaseResponse.GetTerminalReferenceId();
                });

                if (foundExistingEntry) {
                  // We have already processed this payment.
                  // perhaps Eftpos did get our acknowledgement.
                  // Let's update Eftpos.
                  _this2._log.warn("Had already received this bill_paymemnt advice from eftpos. Ignoring.");

                  _this2._spi._send(existingBillStatus.ToMessage(m.Id));

                  return;
                } // Let's add the new entry to the history


                var updatedHistoryEntries = existingPaymentHistory;
                updatedHistoryEntries.push(new _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["PaymentHistoryEntry"](billPayment.PaymentType.toLowerCase(), billPayment.PurchaseResponse.ToPaymentSummary()));

                var updatedBillData = _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["BillStatusResponse"].ToBillData(updatedHistoryEntries); // Advise POS of new payment against this bill, and the updated BillData to Save.


                Promise.resolve(_this2.BillPaymentReceived(billPayment, updatedBillData)).then(function (updatedBillStatus) {
                  // Just in case client forgot to set these:
                  updatedBillStatus.BillId = billPayment.BillId;
                  updatedBillStatus.TableId = billPayment.TableId;

                  if (updatedBillStatus.Result != _PayAtTable__WEBPACK_IMPORTED_MODULE_1__["BillRetrievalResult"].SUCCESS) {
                    _this2._log.warn("POS Errored when being Advised of Payment. Letting EFTPOS know, and sending existing bill data.");

                    updatedBillStatus.BillData = existingBillStatus.BillData;
                  } else {
                    updatedBillStatus.BillData = updatedBillData;
                  }

                  _this2._spi._send(updatedBillStatus.ToMessage(m.Id));
                });
              });
            }
          }, {
            key: "_handleGetTableConfig",
            value: function _handleGetTableConfig(m) {
              this._spi._send(this.Config.ToMessage(m.Id));
            }
          }, {
            key: "_handleGetOpenTablesRequest",
            value: function _handleGetOpenTablesRequest(m) {
              var operatorId = m.Data["operator_id"]; // Ask POS for Bill Details for this tableId, inluding encoded PaymentData

              var openTablesResponse = this.GetOpenTables(operatorId);

              if (openTablesResponse.TableData.length <= 0) {
                this._log.info("There is no open table.");
              }

              this._spi._send(openTablesResponse.ToMessage(m.Id));
            }
          }, {
            key: "_handleBillPaymentFlowEnded",
            value: function _handleBillPaymentFlowEnded(m) {
              this.BillPaymentFlowEnded(m);
            }
          }]);

          return SpiPayAtTable;
        }();
        /***/

      },

      /***/
      "./src/SpiPreauth.js":
      /*!***************************!*\
        !*** ./src/SpiPreauth.js ***!
        \***************************/

      /*! exports provided: SpiPreauth */

      /***/
      function srcSpiPreauthJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "SpiPreauth", function () {
          return SpiPreauth;
        });
        /* harmony import */


        var _Preauth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Preauth */
        "./src/Preauth.js");
        /* harmony import */


        var _SpiModels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./SpiModels */
        "./src/SpiModels.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var SpiPreauth =
        /*#__PURE__*/
        function () {
          function SpiPreauth(spi) {
            _classCallCheck(this, SpiPreauth);

            this._spi = spi;
            this._log = console;
            this.Config = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiConfig"]();
          }

          _createClass(SpiPreauth, [{
            key: "InitiateAccountVerifyTx",
            value: function InitiateAccountVerifyTx(posRefId) {
              var verifyMsg = new _Preauth__WEBPACK_IMPORTED_MODULE_0__["AccountVerifyRequest"](posRefId).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].AccountVerify, 0, verifyMsg, "Waiting for EFTPOS connection to make account verify request");
              var sentMsg = "Asked EFTPOS to verify account";
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiateOpenTx",
            value: function InitiateOpenTx(posRefId, amountCents) {
              var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthOpenRequest"](amountCents, posRefId), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, amountCents, msg, "Waiting for EFTPOS connection to make preauth request for ".concat((amountCents / 100.0).toFixed(2)));
              var sentMsg = "Asked EFTPOS to create preauth for ".concat((amountCents / 100.0).toFixed(2));
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiateTopupTx",
            value: function InitiateTopupTx(posRefId, preauthId, amountCents) {
              var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthTopupRequest"](preauthId, amountCents, posRefId), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, amountCents, msg, "Waiting for EFTPOS connection to make preauth topup request for ".concat((amountCents / 100.0).toFixed(2)));
              var sentMsg = "Asked EFTPOS to make preauth topup for ".concat((amountCents / 100.0).toFixed(2));
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiatePartialCancellationTx",
            value: function InitiatePartialCancellationTx(posRefId, preauthId, amountCents) {
              var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthPartialCancellationRequest"](preauthId, amountCents, posRefId), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, amountCents, msg, "Waiting for EFTPOS connection to make preauth partial cancellation request for ".concat((amountCents / 100.0).toFixed(2)));
              var sentMsg = "Asked EFTPOS to make preauth partial cancellation for ".concat((amountCents / 100.0).toFixed(2));
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiateExtendTx",
            value: function InitiateExtendTx(posRefId, preauthId) {
              var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthExtendRequest"](preauthId, posRefId), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, 0, msg, "Waiting for EFTPOS connection to make preauth Extend request");
              var sentMsg = "Asked EFTPOS to make preauth Extend request";
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiateCompletionTx",
            value: function InitiateCompletionTx(posRefId, preauthId, amountCents) {
              var surchargeAmount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
              var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthCompletionRequest"](preauthId, amountCents, posRefId), {
                Config: this.Config,
                SurchargeAmount: surchargeAmount,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, amountCents, msg, "Waiting for EFTPOS connection to make preauth completion request for ".concat((amountCents / 100.0).toFixed(2)));
              var sentMsg = "Asked EFTPOS to make preauth completion for ".concat((amountCents / 100.0).toFixed(2));
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "InitiateCancelTx",
            value: function InitiateCancelTx(posRefId, preauthId) {
              var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionOptions"]();
              var msg = Object.assign(new _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthCancelRequest"](preauthId, posRefId), {
                Config: this.Config,
                Options: options
              }).ToMessage();
              var tfs = new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionFlowState"](posRefId, _SpiModels__WEBPACK_IMPORTED_MODULE_1__["TransactionType"].Preauth, 0, msg, "Waiting for EFTPOS connection to make preauth cancellation request");
              var sentMsg = "Asked EFTPOS to make preauth cancellation request";
              return this._initiatePreauthTx(tfs, sentMsg);
            }
          }, {
            key: "_initiatePreauthTx",
            value: function _initiatePreauthTx(tfs, sentMsg) {
              if (this._spi.CurrentStatus == _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiStatus"].Unpaired) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Paired");
              if (this._spi.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Idle) return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](false, "Not Idle");
              this._spi.CurrentFlow = _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction;
              this._spi.CurrentTxFlowState = tfs;

              if (this._spi._send(tfs.Request)) {
                this._spi.CurrentTxFlowState.Sent(sentMsg);
              }

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this._spi.CurrentTxFlowState
              }));
              return new _SpiModels__WEBPACK_IMPORTED_MODULE_1__["InitiateTxResult"](true, "Preauth Initiated");
            }
          }, {
            key: "_handlePreauthMessage",
            value: function _handlePreauthMessage(m) {
              switch (m.EventName) {
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].AccountVerifyResponse:
                  this._handleAccountVerifyResponse(m);

                  break;

                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthOpenResponse:
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthTopupResponse:
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthPartialCancellationResponse:
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthExtendResponse:
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthCompleteResponse:
                case _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthCancellationResponse:
                  this._handlePreauthResponse(m);

                  break;

                default:
                  this._log.info("I don't Understand Preauth Event: ".concat(m.EventName, ", ").concat(m.Data, ". Perhaps I have not implemented it yet."));

                  break;
              }
            }
          }, {
            key: "_handleAccountVerifyResponse",
            value: function _handleAccountVerifyResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;
              var currentTxFlowState = this._spi.CurrentTxFlowState;

              if (this._spi.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || currentTxFlowState.Finished || !currentTxFlowState.PosRefId === incomingPosRefId) {
                this._log.info("Received Account Verify response but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              } // TH-1A, TH-2A


              currentTxFlowState.Completed(m.GetSuccessState(), m, "Account Verify Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this._spi.CurrentTxFlowState
              }));
            }
          }, {
            key: "_handlePreauthResponse",
            value: function _handlePreauthResponse(m) {
              var incomingPosRefId = m.Data.pos_ref_id;
              var currentTxFlowState = this._spi.CurrentTxFlowState;

              if (this._spi.CurrentFlow != _SpiModels__WEBPACK_IMPORTED_MODULE_1__["SpiFlow"].Transaction || currentTxFlowState.Finished || !currentTxFlowState.PosRefId === incomingPosRefId) {
                this._log.info("Received Preauth response but I was not waiting for one. Incoming Pos Ref ID: ".concat(incomingPosRefId));

                return;
              } // TH-1A, TH-2A


              currentTxFlowState.Completed(m.GetSuccessState(), m, "Preauth Transaction Ended."); // TH-6A, TH-6E

              document.dispatchEvent(new CustomEvent('TxFlowStateChanged', {
                detail: this._spi.CurrentTxFlowState
              }));
            }
          }], [{
            key: "IsPreauthEvent",
            value: function IsPreauthEvent(eventName) {
              return eventName.lastIndexOf("preauth", 0) === 0 || eventName == _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthCompleteResponse || eventName == _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].PreauthCompleteRequest || eventName == _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].AccountVerifyRequest || eventName == _Preauth__WEBPACK_IMPORTED_MODULE_0__["PreauthEvents"].AccountVerifyResponse;
            }
          }]);

          return SpiPreauth;
        }();
        /***/

      },

      /***/
      "./src/TerminalStatus.js":
      /*!*******************************!*\
        !*** ./src/TerminalStatus.js ***!
        \*******************************/

      /*! exports provided: TerminalStatusRequest, TerminalStatusResponse, TerminalBattery */

      /***/
      function srcTerminalStatusJs(module, __webpack_exports__, __webpack_require__) {
        "use strict";

        __webpack_require__.r(__webpack_exports__);
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TerminalStatusRequest", function () {
          return TerminalStatusRequest;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TerminalStatusResponse", function () {
          return TerminalStatusResponse;
        });
        /* harmony export (binding) */


        __webpack_require__.d(__webpack_exports__, "TerminalBattery", function () {
          return TerminalBattery;
        });
        /* harmony import */


        var _Messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(
        /*! ./Messages */
        "./src/Messages.js");
        /* harmony import */


        var _RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(
        /*! ./RequestIdHelper */
        "./src/RequestIdHelper.js");

        function _classCallCheck(instance, Constructor) {
          if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
          }
        }

        function _defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        function _createClass(Constructor, protoProps, staticProps) {
          if (protoProps) _defineProperties(Constructor.prototype, protoProps);
          if (staticProps) _defineProperties(Constructor, staticProps);
          return Constructor;
        }

        var TerminalStatusRequest =
        /*#__PURE__*/
        function () {
          function TerminalStatusRequest() {
            _classCallCheck(this, TerminalStatusRequest);
          }

          _createClass(TerminalStatusRequest, [{
            key: "ToMessage",
            value: function ToMessage() {
              var data = {};
              return new _Messages__WEBPACK_IMPORTED_MODULE_0__["Message"](_RequestIdHelper__WEBPACK_IMPORTED_MODULE_1__["RequestIdHelper"].Id("trmnl"), _Messages__WEBPACK_IMPORTED_MODULE_0__["Events"].TerminalStatusRequest, data, true);
            }
          }]);

          return TerminalStatusRequest;
        }();

        var TerminalStatusResponse =
        /*#__PURE__*/
        function () {
          function TerminalStatusResponse(m) {
            _classCallCheck(this, TerminalStatusResponse);

            this._m = m;
          }

          _createClass(TerminalStatusResponse, [{
            key: "GetStatus",
            value: function GetStatus() {
              return this._m.Data.status;
            }
          }, {
            key: "GetBatteryLevel",
            value: function GetBatteryLevel() {
              return parseInt(this._m.Data.battery_level, 10);
            }
          }, {
            key: "IsCharging",
            value: function IsCharging() {
              return !!this._m.Data.charging;
            }
          }]);

          return TerminalStatusResponse;
        }();

        var TerminalBattery = function TerminalBattery(m) {
          _classCallCheck(this, TerminalBattery);

          this.BatteryLevel = parseInt(m.Data.battery_level, 10);
        };
        /***/

      },

      /***/
      0:
      /*!************************!*\
        !*** buffer (ignored) ***!
        \************************/

      /*! no static exports found */

      /***/
      function _(module, exports) {
        /* (ignored) */

        /***/
      }
      /******/

    })
  );
});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9UYWJsZVBvcy9UYWJsZVBvcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vbm9kZV9tb2R1bGVzL2Flcy1qcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9ub2RlX21vZHVsZXMvYm4uanMvbGliL2JuLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL25vZGVfbW9kdWxlcy9qc3NoYS9zcmMvc2hhLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvQ2FzaG91dC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvQ29ubmVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvQ3J5cHRvLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9EaWZmaWVIZWxsbWFuLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9LZXlSb2xsaW5nSGVscGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9Mb2dnZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL01lc3NhZ2VzLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QYWlyaW5nLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QYWlyaW5nSGVscGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QYXlBdFRhYmxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QaW5nSGVscGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9Qb3NJbmZvLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QcmVhdXRoLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9QcmludGluZy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvUHVyY2hhc2UuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1B1cmNoYXNlSGVscGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9SZXF1ZXN0SWRIZWxwZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1NlY3JldHMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1NlcnZpY2UvRGV2aWNlU2VydmljZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvU2V0dGxlbWVudC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9zcmMvU3BpLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL3NyYy9TcGlNb2RlbHMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1NwaVBheUF0VGFibGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1NwaVByZWF1dGguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vc3JjL1Rlcm1pbmFsU3RhdHVzLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi9idWZmZXIgKGlnbm9yZWQpIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiXSwibmFtZXMiOlsiVGFibGVQb3MiLCJsb2ciLCJyZWNlaXB0IiwiZmxvd19tc2ciLCJfc3BpIiwiX3Bvc0lkIiwiX2VmdHBvc0FkZHJlc3MiLCJfc3BpU2VjcmV0cyIsIl92ZXJzaW9uIiwiX3NlcmlhbE51bWJlciIsIl9yY3B0X2Zyb21fZWZ0cG9zIiwiX3NpZ19mbG93X2Zyb21fZWZ0cG9zIiwiX3ByaW50X21lcmNoYW50X2NvcHkiLCJiaWxsc1N0b3JlIiwidGFibGVUb0JpbGxNYXBwaW5nIiwiYXNzZW1ibHlCaWxsRGF0YVN0b3JlIiwiX3BhdCIsIl9sb2ciLCJfcmVjZWlwdCIsIl9mbG93X21zZyIsImluZm8iLCJMb2FkUGVyc2lzdGVkU3RhdGUiLCJTcGkiLCJDb25maWciLCJQcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvcyIsIlNpZ25hdHVyZUZsb3dPbkVmdHBvcyIsIlByaW50TWVyY2hhbnRDb3B5IiwiU2V0UG9zSW5mbyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJPblNwaVN0YXR1c0NoYW5nZWQiLCJkZXRhaWwiLCJPblBhaXJpbmdGbG93U3RhdGVDaGFuZ2VkIiwiT25TZWNyZXRzQ2hhbmdlZCIsIk9uVHhGbG93U3RhdGVDaGFuZ2VkIiwiRW5hYmxlUGF5QXRUYWJsZSIsIkVuYWJsZVBheUF0VGFibGVDb25maWdzIiwiR2V0QmlsbFN0YXR1cyIsIlBheUF0VGFibGVHZXRCaWxsRGV0YWlscyIsImJpbmQiLCJCaWxsUGF5bWVudFJlY2VpdmVkIiwiUGF5QXRUYWJsZUJpbGxQYXltZW50UmVjZWl2ZWQiLCJCaWxsUGF5bWVudEZsb3dFbmRlZCIsIlBheUF0VGFibGVCaWxsUGF5bWVudEZsb3dFbmRlZCIsIkdldE9wZW5UYWJsZXMiLCJQYXlBdFRhYmxlR2V0T3BlblRhYmxlcyIsIlN0YXJ0IiwiQ2xlYXIiLCJJbmZvIiwiUHJpbnRTdGF0dXNBbmRBY3Rpb25zIiwiQWNjZXB0VXNlcklucHV0IiwiUGF5QXRUYWJsZUVuYWJsZWQiLCJPcGVyYXRvcklkRW5hYmxlZCIsIkFsbG93ZWRPcGVyYXRvcklkcyIsIkVxdWFsU3BsaXRFbmFibGVkIiwiU3BsaXRCeUFtb3VudEVuYWJsZWQiLCJTdW1tYXJ5UmVwb3J0RW5hYmxlZCIsIlRpcHBpbmdFbmFibGVkIiwiTGFiZWxPcGVyYXRvcklkIiwiTGFiZWxQYXlCdXR0b24iLCJMYWJlbFRhYmxlSWQiLCJUYWJsZVJldHJpZXZhbEVuYWJsZWQiLCJ0eFN0YXRlIiwicGFpcmluZ0Zsb3dTdGF0ZSIsInNlY3JldHMiLCJFbmNLZXkiLCJIbWFjS2V5IiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJzcGlTdGF0dXMiLCJjbGVhciIsImJpbGxJZCIsInRhYmxlSWQiLCJvcGVyYXRvcklkIiwicGF5bWVudEZsb3dTdGFydGVkIiwiT2JqZWN0IiwiYXNzaWduIiwiQmlsbFN0YXR1c1Jlc3BvbnNlIiwiUmVzdWx0IiwiQmlsbFJldHJpZXZhbFJlc3VsdCIsIklOVkFMSURfVEFCTEVfSUQiLCJJTlZBTElEX0JJTExfSUQiLCJteUJpbGwiLCJMb2NrZWQiLCJyZXNwb25zZSIsIlNVQ0NFU1MiLCJCaWxsSWQiLCJUYWJsZUlkIiwiT3BlcmF0b3JJZCIsIlRvdGFsQW1vdW50IiwiT3V0c3RhbmRpbmdBbW91bnQiLCJiaWxsRGF0YSIsIkJpbGxEYXRhIiwiYmlsbFBheW1lbnQiLCJ1cGRhdGVkQmlsbERhdGEiLCJQYXltZW50VHlwZSIsImJpbGwiLCJQdXJjaGFzZUFtb3VudCIsInRpcHBlZEFtb3VudCIsIlRpcEFtb3VudCIsIlN1cmNoYXJnZUFtb3VudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwiYmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZSIsIkJpbGxQYXltZW50Rmxvd0VuZGVkUmVzcG9uc2UiLCJCaWxsT3V0c3RhbmRpbmdBbW91bnQiLCJ0b0ZpeGVkIiwiQmlsbFRvdGFsQW1vdW50IiwiQ2FyZFRvdGFsQ291bnQiLCJDYXJkVG90YWxBbW91bnQiLCJDYXNoVG90YWxDb3VudCIsIkNhc2hUb3RhbEFtb3VudCIsIm9wZW5UYWJsZUxpc3QiLCJpc09wZW5UYWJsZXMiLCJrZXlzIiwibGVuZ3RoIiwiaXRlbSIsIlZhbHVlIiwib3BlblRhYmxlc0l0ZW0iLCJPcGVuVGFibGVzRW50cnkiLCJLZXkiLCJMYWJlbCIsInB1c2giLCJvcGVuVGFibGVMaXN0SnNvbiIsIkdldE9wZW5UYWJsZXNSZXNwb25zZSIsIlRhYmxlRGF0YSIsIlByaW50Rmxvd0luZm8iLCJQcmludEFjdGlvbnMiLCJQcmludFBhaXJpbmdTdGF0dXMiLCJDdXJyZW50RmxvdyIsIlNwaUZsb3ciLCJQYWlyaW5nIiwicGFpcmluZ1N0YXRlIiwiQ3VycmVudFBhaXJpbmdGbG93U3RhdGUiLCJNZXNzYWdlIiwiRmluaXNoZWQiLCJTdWNjZXNzZnVsIiwiQ29uZmlybWF0aW9uQ29kZSIsIkF3YWl0aW5nQ2hlY2tGcm9tRWZ0cG9zIiwiQXdhaXRpbmdDaGVja0Zyb21Qb3MiLCJUcmFuc2FjdGlvbiIsIkN1cnJlbnRUeEZsb3dTdGF0ZSIsIkRpc3BsYXlNZXNzYWdlIiwiUG9zUmVmSWQiLCJUeXBlIiwiQW1vdW50Q2VudHMiLCJBd2FpdGluZ1NpZ25hdHVyZUNoZWNrIiwiQXR0ZW1wdGluZ1RvQ2FuY2VsIiwiU3VjY2VzcyIsIlN1Y2Nlc3NTdGF0ZSIsIlRyYW5zYWN0aW9uVHlwZSIsIlB1cmNoYXNlIiwicHVyY2hhc2VSZXNwb25zZSIsIlB1cmNoYXNlUmVzcG9uc2UiLCJSZXNwb25zZSIsIkdldFJlc3BvbnNlVGV4dCIsIkdldFJSTiIsIlNjaGVtZU5hbWUiLCJXYXNDdXN0b21lclJlY2VpcHRQcmludGVkIiwiR2V0Q3VzdG9tZXJSZWNlaXB0IiwidHJpbSIsIkdldFB1cmNoYXNlQW1vdW50IiwiR2V0VGlwQW1vdW50IiwiR2V0Q2FzaG91dEFtb3VudCIsIkdldEJhbmtOb25DYXNoQW1vdW50IiwiR2V0QmFua0Nhc2hBbW91bnQiLCJSZWZ1bmQiLCJyZWZ1bmRSZXNwb25zZSIsIlJlZnVuZFJlc3BvbnNlIiwiR2V0UmVmdW5kQW1vdW50IiwiU2V0dGxlIiwic2V0dGxlUmVzcG9uc2UiLCJTZXR0bGVtZW50IiwiR2V0UmVjZWlwdCIsIkZhaWxlZCIsIkdldEVycm9yIiwiVW5rbm93biIsImlucHV0c0VuYWJsZWQiLCJzdGF0dXNFbCIsImdldEVsZW1lbnRCeUlkIiwicHJpbWFyeVN0YXR1c0VsIiwiZmxvd1N0YXR1c0VsIiwiZmxvd1N0YXR1c0hlYWRpbmciLCJkYXRhc2V0IiwiQ3VycmVudFN0YXR1cyIsImlubmVyVGV4dCIsIlNwaVN0YXR1cyIsIlVucGFpcmVkIiwiSWRsZSIsIlBhaXJlZENvbm5lY3RpbmciLCJQYWlyZWRDb25uZWN0ZWQiLCJpbnB1dHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImRpc2FibGVkIiwiZm9yRWFjaCIsImlucHV0IiwiR2V0VmVyc2lvbiIsInZhbHVlIiwiU2V0UG9zSWQiLCJTZXRFZnRwb3NBZGRyZXNzIiwiY2hlY2tlZCIsIlBhaXIiLCJQYWlyaW5nQ29uZmlybUNvZGUiLCJQYWlyaW5nQ2FuY2VsIiwiVW5wYWlyIiwidGFibGUiLCJsYWJlbCIsIk9wZW5UYWJsZSIsImlzTG9jayIsIkxvY2tUYWJsZSIsIkNsb3NlVGFibGUiLCJhbW91bnQiLCJwYXJzZUludCIsIkFkZFRvVGFibGUiLCJQcmludFRhYmxlIiwiUHJpbnRCaWxsIiwiUHJpbnRUYWJsZXMiLCJwb3NSZWZJZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInB1cmNoYXNlQW1vdW50IiwidGlwQW1vdW50IiwiY2FzaG91dEFtb3VudCIsInByb21wdEZvckNhc2hvdXQiLCJyZXMiLCJJbml0aWF0ZVB1cmNoYXNlVHhWMiIsIkluaXRpYXRlZCIsIkluaXRpYXRlUmVmdW5kVHgiLCJBY2NlcHRTaWduYXR1cmUiLCJDYW5jZWxUcmFuc2FjdGlvbiIsIkluaXRpYXRlU2V0dGxlVHgiLCJSZXF1ZXN0SWRIZWxwZXIiLCJJZCIsIkFja0Zsb3dFbmRlZEFuZEJhY2tUb0lkbGUiLCJpbm5lckhUTUwiLCJuZXdCaWxsIiwiQmlsbCIsIk5ld0JpbGxJZCIsIlNhdmVCaWxsU3RhdGUiLCJhbW91bnRDZW50cyIsImxvY2tlZCIsInRvU3RyaW5nIiwibm93IiwiZ2V0TWlsbGlzZWNvbmRzIiwiZ2V0SXRlbSIsIlNlY3JldHMiLCJwYXJzZSIsInNhdmVkQmlsbERhdGEiLCJwcm90b3R5cGUiLCJjb25zb2xlIiwiTG9nZ2VyIiwicG9zIiwiZXJyIiwiZXJyb3IiLCJ3aW5kb3ciLCJQcmludGVyIiwiQ2FzaG91dE9ubHlSZXF1ZXN0IiwiU3BpQ29uZmlnIiwiVHJhbnNhY3Rpb25PcHRpb25zIiwiZGF0YSIsIkV2ZW50cyIsIkNhc2hvdXRPbmx5UmVzcG9uc2UiLCJtIiwiQ29ubmVjdGlvblN0YXRlIiwiRGlzY29ubmVjdGVkIiwiQ29ubmVjdGluZyIsIkNvbm5lY3RlZCIsIlNQSV9QUk9UT0NPTCIsIkNvbm5lY3Rpb25TdGF0ZUV2ZW50QXJncyIsIk1lc3NhZ2VFdmVudEFyZ3MiLCJDb25uZWN0aW9uIiwiY291bnQiLCJzZXRUaW1lb3V0IiwiQ3J5cHRvIiwiYnl0ZXMiLCJhZXNqcyIsIml2IiwidGV4dEJ5dGVzIiwiYWVzQ2JjIiwiZW5jcnlwdGVkQnl0ZXMiLCJlbmNyeXB0ZWRTdHJpbmciLCJkZWNyeXB0ZWRCeXRlcyIsImRlY3J5cHRlZCIsInNoYU9iaiIsImpzU0hBIiwic2hhSGFzaCIsIkRpZmZpZUhlbGxtYW4iLCJtYXhWYWx1ZUJOIiwiQk4iLCJzaGlmdERpc3RhbmNlIiwiTWF0aCIsInJhbmRCaXRJbnQiLCJtaW4iLCJhSGV4IiwiZ0hleCIsIm1vbnRQcmltZSIsImdSZWQiLCJzZWNyZXQiLCJiSGV4IiwiQUhleCIsIkJSZWQiLCJLZXlSb2xsaW5nSGVscGVyIiwia3JSZXF1ZXN0IiwibmV3U2VjcmV0cyIsImN1cnJlbnRTZWNyZXRzIiwiS2V5Um9sbGluZ1Jlc3VsdCIsImxpbmVTZXBlcmF0b3IiLCJhcmdzIiwiUGFpclJlcXVlc3QiLCJLZXlSZXF1ZXN0IiwiS2V5UmVzcG9uc2UiLCJLZXlDaGVjayIsIlBhaXJSZXNwb25zZSIsIkRyb3BLZXlzQWR2aWNlIiwiTG9naW5SZXF1ZXN0IiwiTG9naW5SZXNwb25zZSIsIlBpbmciLCJQb25nIiwiUHVyY2hhc2VSZXF1ZXN0IiwiQ2FuY2VsVHJhbnNhY3Rpb25SZXF1ZXN0IiwiQ2FuY2VsVHJhbnNhY3Rpb25SZXNwb25zZSIsIkdldExhc3RUcmFuc2FjdGlvblJlcXVlc3QiLCJHZXRMYXN0VHJhbnNhY3Rpb25SZXNwb25zZSIsIlJlZnVuZFJlcXVlc3QiLCJTaWduYXR1cmVSZXF1aXJlZCIsIlNpZ25hdHVyZURlY2xpbmVkIiwiU2lnbmF0dXJlQWNjZXB0ZWQiLCJBdXRoQ29kZVJlcXVpcmVkIiwiQXV0aENvZGVBZHZpY2UiLCJNb3RvUHVyY2hhc2VSZXF1ZXN0IiwiTW90b1B1cmNoYXNlUmVzcG9uc2UiLCJTZXR0bGVSZXF1ZXN0IiwiU2V0dGxlUmVzcG9uc2UiLCJTZXR0bGVtZW50RW5xdWlyeVJlcXVlc3QiLCJTZXR0bGVtZW50RW5xdWlyeVJlc3BvbnNlIiwiU2V0UG9zSW5mb1JlcXVlc3QiLCJTZXRQb3NJbmZvUmVzcG9uc2UiLCJLZXlSb2xsUmVxdWVzdCIsIktleVJvbGxSZXNwb25zZSIsIkVycm9yIiwiSW52YWxpZEhtYWNTaWduYXR1cmUiLCJQYXlBdFRhYmxlR2V0VGFibGVDb25maWciLCJQYXlBdFRhYmxlU2V0VGFibGVDb25maWciLCJQYXlBdFRhYmxlQmlsbERldGFpbHMiLCJQYXlBdFRhYmxlQmlsbFBheW1lbnQiLCJQcmludGluZ1JlcXVlc3QiLCJQcmludGluZ1Jlc3BvbnNlIiwiVGVybWluYWxTdGF0dXNSZXF1ZXN0IiwiVGVybWluYWxTdGF0dXNSZXNwb25zZSIsIkJhdHRlcnlMZXZlbENoYW5nZWQiLCJQYXlBdFRhYmxlT3BlblRhYmxlcyIsIk1lc3NhZ2VTdGFtcCIsIk1lc3NhZ2VFbnZlbG9wZSIsImVuYyIsImhtYWMiLCJwb3NfaWQiLCJQb3NJZCIsImR0cyIsIm1zZ1RpbWUiLCJ0em9mZnNldCIsImFkanVzdGVkVGltZSIsInN0YW1wIiwiZW52ZWxvcGUiLCJpZCIsImV2ZW50IiwiZGF0ZXRpbWUiLCJEYXRlVGltZVN0YW1wIiwiZW5jTXNnIiwiaG1hY1NpZyIsImVuY3JNZXNzYWdlRW52ZWxvcGUiLCJiYW5rRGF0ZSIsImRhdGUiLCJlbnYiLCJzaWciLCJkZWNyeXB0ZWRKc29uIiwiZGVjcnlwdGVkTXNnIiwicGFkZGluZyIsIkIiLCJCZW5jIiwiQmhtYWMiLCJTZWNyZXRzQW5kS2V5UmVzcG9uc2UiLCJEcm9wS2V5c1JlcXVlc3QiLCJHRU5FUkFUT1IiLCJHUk9VUDE0XzIwNDhfQklUX01PRFAiLCJQYWlyaW5nSGVscGVyIiwiZW5jUHViQW5kU2VjIiwia2V5UmVxdWVzdCIsIlNlbmMiLCJobWFjUHViQW5kU2VjIiwiU2htYWMiLCJrZXlSZXNwb25zZSIsImRpZmZpZUhlbGxtYW4iLCJteVByaXZhdGVCSSIsIm15UHVibGljQkkiLCJzZWNyZXRCSSIsIlB1YmxpY0tleUFuZFNlY3JldCIsImJpbGxQYXltZW50SGlzdG9yeSIsInBoIiwiSU5WQUxJRF9PUEVSQVRPUl9JRCIsIkNBUkQiLCJDQVNIIiwiQmlsbFBheW1lbnQiLCJwdCIsInB1cmNoYXNlTXNnIiwiUGF5bWVudEhpc3RvcnlFbnRyeSIsInBheW1lbnRfdHlwZSIsInBheW1lbnRfc3VtbWFyeSIsIlBheW1lbnRTdW1tYXJ5IiwiUGF5QXRUYWJsZUNvbmZpZyIsInRhYmxlcyIsIlBvbmdIZWxwZXIiLCJwaW5nIiwiUGluZ0hlbHBlciIsInBvc192ZXJzaW9uIiwicG9zX3ZlbmRvcl9pZCIsImxpYnJhcnlfbGFuZ3VhZ2UiLCJsaWJyYXJ5X3ZlcnNpb24iLCJvdGhlcl9pbmZvIiwiX290aGVySW5mbyIsIkRldmljZUluZm8iLCJkZXZpY2VJbmZvIiwibmF2aWdhdG9yIiwiUHJlYXV0aEV2ZW50cyIsIkFjY291bnRWZXJpZnlSZXF1ZXN0IiwiQWNjb3VudFZlcmlmeVJlc3BvbnNlIiwiUHJlYXV0aE9wZW5SZXF1ZXN0IiwiUHJlYXV0aE9wZW5SZXNwb25zZSIsIlByZWF1dGhUb3B1cFJlcXVlc3QiLCJQcmVhdXRoVG9wdXBSZXNwb25zZSIsIlByZWF1dGhFeHRlbmRSZXF1ZXN0IiwiUHJlYXV0aEV4dGVuZFJlc3BvbnNlIiwiUHJlYXV0aFBhcnRpYWxDYW5jZWxsYXRpb25SZXF1ZXN0IiwiUHJlYXV0aFBhcnRpYWxDYW5jZWxsYXRpb25SZXNwb25zZSIsIlByZWF1dGhDYW5jZWxsYXRpb25SZXF1ZXN0IiwiUHJlYXV0aENhbmNlbGxhdGlvblJlc3BvbnNlIiwiUHJlYXV0aENvbXBsZXRlUmVxdWVzdCIsIlByZWF1dGhDb21wbGV0ZVJlc3BvbnNlIiwiUHJlYXV0aEFtb3VudCIsIlRvcHVwQW1vdW50IiwiUGFydGlhbENhbmNlbGxhdGlvbkFtb3VudCIsIlByZWF1dGhJZCIsIlByZWF1dGhDYW5jZWxSZXF1ZXN0IiwiUHJlYXV0aENvbXBsZXRpb25SZXF1ZXN0IiwiUHJlYXV0aFJlc3BvbnNlIiwidHhUeXBlIiwiX3BheWxvYWQiLCJwb3NfcmVmX2lkIiwicHVyY2hhc2VfYW1vdW50IiwidGlwX2Ftb3VudCIsImNhc2hfYW1vdW50IiwicHJvbXB0X2Zvcl9jYXNob3V0Iiwic3VyY2hhcmdlX2Ftb3VudCIsImRhdGVTdHIiLCJhY2NvdW50X3R5cGUiLCJhdXRoX2NvZGUiLCJiYW5rX2RhdGUiLCJiYW5rX3RpbWUiLCJob3N0X3Jlc3BvbnNlX2NvZGUiLCJob3N0X3Jlc3BvbnNlX3RleHQiLCJtYXNrZWRfcGFuIiwicnJuIiwic2NoZW1lX25hbWUiLCJ0ZXJtaW5hbF9pZCIsInRlcm1pbmFsX3JlZl9pZCIsImRzIiwiY3IiLCJtciIsInJlZnVuZF9hbW91bnQiLCJzdXBwcmVzc19tZXJjaGFudF9wYXNzd29yZCIsIlN1cHByZXNzTWVyY2hhbnRQYXNzd29yZCIsIlNpZ25hdHVyZURlY2xpbmUiLCJTaWduYXR1cmVBY2NlcHQiLCJQaG9uZUZvckF1dGhSZXF1aXJlZCIsIkF1dGhDb2RlIiwiUHVyY2hhc2VIZWxwZXIiLCJwciIsIkNhc2hvdXRBbW91bnQiLCJQcm9tcHRGb3JDYXNob3V0Iiwic3VyY2hhcmdlQW1vdW50IiwiX19SZXF1ZXN0SWRIZWxwZXJDb3VudGVyIiwicHJlZml4IiwiRGV2aWNlQWRkcmVzc1N0YXR1cyIsIkRldmljZUFkZHJlc3NTZXJ2aWNlIiwiYXBpS2V5IiwiYWNxdWlyZXJDb2RlIiwiaXNTZWN1cmVDb25uZWN0aW9uIiwiaXNUZXN0TW9kZSIsInBhdGgiLCJkZXZpY2VBZGRyZXNzVXJpIiwibWV0aG9kIiwiaGVhZGVycyIsInRpbWVTdHIiLCJzY2hlbWVzIiwiU2NoZW1lU2V0dGxlbWVudEVudHJ5IiwiU1BJX1ZFUlNJT04iLCJTcGlQYXlBdFRhYmxlIiwiU3BpUHJlYXV0aCIsImRldmljZUFwaUtleSIsInNlcmlhbE51bWJlciIsIndhcyIsImF1dG9BZGRyZXNzUmVzb2x1dGlvbkVuYWJsZSIsInRlc3RNb2RlIiwidXNlU2VjdXJlV2ViU29ja2V0cyIsInBvc0lkIiwiYWRkcmVzcyIsInBvc1ZlbmRvcklkIiwicG9zVmVyc2lvbiIsIlBhaXJpbmdGbG93U3RhdGUiLCJJbml0aWF0ZVR4UmVzdWx0IiwicHVyY2hhc2VSZXF1ZXN0IiwiVHJhbnNhY3Rpb25GbG93U3RhdGUiLCJvcHRpb25zIiwicHVyY2hhc2UiLCJzdXBwcmVzc01lcmNoYW50UGFzc3dvcmQiLCJyZWZ1bmRSZXF1ZXN0IiwicmVmdW5kTXNnIiwiYWNjZXB0ZWQiLCJNaWRUeFJlc3VsdCIsInNpZ1JlcU1zZyIsImF1dGhDb2RlIiwiU3VibWl0QXV0aENvZGVSZXN1bHQiLCJjYW5jZWxSZXEiLCJjYXNob3V0TXNnIiwiT3B0aW9ucyIsIm1vdG9QdXJjaGFzZU1zZyIsInNldHRsZU1zZyIsInN0bEVucU1zZyIsImdsdFJlcXVlc3RNc2ciLCJnbHRSZXNwb25zZSIsImV4cGVjdGVkQW1vdW50IiwicmVxdWVzdFRpbWUiLCJnbHRCYW5rRGF0ZVRpbWVTdHIiLCJnbHRCYW5rRGF0ZVRpbWUiLCJjb21wYXJlIiwia2V5IiwicGF5bG9hZCIsInJlc3VsdCIsImtleUNoZWNrIiwicGFpclJlc3AiLCJfc2VjcmV0cyIsImtyUmVzIiwiaW5jb21pbmdQb3NSZWZJZCIsInBob25lRm9yQXV0aFJlcXVpcmVkIiwibXNnIiwiZ3RsUmVzcG9uc2UiLCJzdWNjZXNzU3RhdGUiLCJjYW5jZWxSZXNwb25zZSIsIm5lZWRzUHVibGlzaGluZyIsInN0YXRlIiwic2V0SW50ZXJ2YWwiLCJzZXRQb3NJbmZvUmVxdWVzdCIsImNsZWFySW50ZXJ2YWwiLCJwb25nIiwibWVzc2FnZUpzb24iLCJqc29uIiwidXBkYXRlZFNlcmlhbE51bWJlciIsInVwZGF0ZWRFZnRwb3NBZGRyZXNzIiwic2VydmljZSIsImRldmljZUFkZHJlc3NTdGF0dXMiLCJwcm90b2NvbCIsIkN1cnJlbnREZXZpY2VTdGF0dXMiLCJDYXNob3V0T25seSIsIk1PVE8iLCJTZXR0bGVtZW50RW5xdWlyeSIsIkdldExhc3RUcmFuc2FjdGlvbiIsIlByZWF1dGgiLCJBY2NvdW50VmVyaWZ5IiwibWVzc2FnZURhdGEiLCJQYXlBdFRhYmxlZEVuYWJsZWQiLCJiaWxsU3RhdHVzIiwiZXhpc3RpbmdCaWxsU3RhdHVzIiwiZXhpc3RpbmdQYXltZW50SGlzdG9yeSIsImZvdW5kRXhpc3RpbmdFbnRyeSIsInBoZSIsInVwZGF0ZWRIaXN0b3J5RW50cmllcyIsIlByb21pc2UiLCJ1cGRhdGVkQmlsbFN0YXR1cyIsIm9wZW5UYWJsZXNSZXNwb25zZSIsInZlcmlmeU1zZyIsInRmcyIsInNlbnRNc2ciLCJjdXJyZW50VHhGbG93U3RhdGUiLCJldmVudE5hbWUiLCJUZXJtaW5hbEJhdHRlcnkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFNO0FBQ047QUFDQTtBQUNBLGNBQU07QUFDTjtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGVBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUE2QjtBQUM3QixxQ0FBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQXFCLGdCQUFnQjtBQUNyQztBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDZCQUFxQixnQkFBZ0I7QUFDckM7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsYUFBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxhQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBa0IsOEJBQThCO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxlQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUFvQiwyQkFBMkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FB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QUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBSSxTQWhDSjtBQWlDQTtBQUFBOzs7QUFFQTtBQUFBOztBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFJLFNBRkosTUFFSTtBQUNKO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBOzs7QUFFQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBOztBQUNBO0FBQUE7O0FBQ0E7QUFBQTs7QUFDQTtBQUFBO0FBQ0E7QUFEQSxXQUNBLElBREEsQ0FDQTtBQUNBO0FBQUE7QUFDQTtBQUFNLFdBSE47QUFJQTtBQUpBLFdBSUEsSUFKQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBTyxXQVBQO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFYQTtBQVlBO0FBQUksU0FoQkosTUFnQkk7QUFDSjtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7OztBQUVBOztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEseUJBREE7O0FBRUE7QUFBQTtBQUNBOztBQUhBO0FBSUE7QUFBSyxXQUxMO0FBTUE7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBLHFDQURBOztBQUVBO0FBQUEsNEJBRkE7O0FBR0E7QUFBQTtBQUNBOztBQUpBO0FBS0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBLGtDQURBOztBQUVBO0FBQUEsNEJBRkE7O0FBR0E7QUFBQTtBQUNBOztBQUpBO0FBS0E7QUFBQTtBQUNBOzs7QUFBQSw0QkFBb0IseUJBQXBCLEVBQStDLEdBQS9DLEVBQStDO0FBQy9DO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQSxrQ0FEQTs7QUFFQTtBQUFBLGlEQUZBOztBQUdBO0FBQUEsb0NBSEE7O0FBSUE7QUFBQTtBQUNBOztBQUxBO0FBTUE7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBLCtDQURBOztBQUVBO0FBQUE7QUFDQTs7QUFIQTtBQUlBO0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7OztBQUFBO0FBQ0E7QUFBQSw0QkFEQTs7QUFFQTtBQUFBLG9DQUZBOztBQUdBO0FBQUEsNENBSEE7O0FBSUE7QUFBQTtBQUNBOztBQUxBO0FBTUE7QUFBQTs7O0FBRUE7OztBQUFBO0FBQ0E7QUFBQSwwQkFBbUIsWUFBbkIsRUFBaUMsR0FBakMsRUFBaUM7QUFDakM7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBO0FBQUE7O0FBQ0E7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFHQTtBQUFBLFNBSkE7OztBQU1BOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFNLGFBRk4sTUFFTTtBQUNOO0FBQUE7QUFDQTtBQUFBLGdDQURBOztBQUVBO0FBQUE7QUFDQTs7QUFIQTtBQUlBO0FBQUE7QUFDQTs7QUFBQTs7QUFDQTs7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQSxpQ0FEQTtBQUVBO0FBQUE7QUFDQTtBQUpBO0FBS0E7O0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEsaUNBREE7QUFFQTtBQUFBLHdCQUZBO0FBR0E7QUFBQSxpQ0FIQTtBQUlBO0FBQUE7QUFDQTtBQU5BO0FBT0E7O0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBRkE7QUFHQTs7QUFBQTs7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBOztBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTtBQUFBOztBQUNBO0FBdENBO0FBdUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQSwyQ0FEQTtBQUVBO0FBQUE7QUFDQTtBQUhBO0FBSUE7QUFMQSxrQkFLQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBLGtEQURBO0FBRUE7QUFBQTtBQUNBO0FBSEE7QUFJQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOzs7QUFBQTtBQUNBOztBQUFBLG9CQUFjLDBCQUFkLEVBQTBDLEdBQTFDLEVBQTBDO0FBQzFDO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFIQTtBQUlBO0FBQUE7QUFDQTtBQUFBLDhCQURBOztBQUVBO0FBQUE7QUFDQTs7QUFIQTtBQUlBO0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBSSxTQUpKOzs7QUFNQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTs7QUFBQSxzQkFBZSwwQkFBZixFQUEyQyxHQUEzQyxFQUEyQztBQUMzQztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBLHNCQUFlLDBCQUFmLEVBQTJDLEdBQTNDLEVBQTJDO0FBQzNDO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7OztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQSxZQUVBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBLDRCQUFpQixxQ0FBakIsRUFBd0QsR0FBeEQsRUFBd0Q7QUFDeEQ7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOzs7QUFBQTs7O0FBRUE7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7QUFBQTs7QUFDQTs7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQSxZQUVBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUEsNEJBQWlCLHFDQUFqQixFQUF3RCxHQUF4RCxFQUF3RDtBQUN4RDtBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBQTtBQUNBOzs7QUFBQSw0QkFBaUIsb0JBQWpCLEVBQXVDLEdBQXZDLEVBQXVDO0FBQ3ZDO0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFRLG1CQUZSLENBRVE7QUFDUjtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEsOENBREE7O0FBRUE7QUFBQSwwQ0FGQTs7QUFHQTtBQUFBLG1FQUhBOztBQUlBO0FBQUE7QUFDQTs7QUFMQTtBQU1BO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7OztBQUFBLG9CQUFjLHNDQUFkLEVBQXNELEdBQXRELEVBQXNEO0FBQ3REO0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUssV0FGTCxDQUVLO0FBQ0w7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBTyxlQUZQLENBRU87QUFDUDtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUEsNkRBREE7O0FBRUE7QUFBQSxzQ0FGQTs7QUFHQTtBQUFBLCtCQUhBOztBQUlBO0FBQUE7QUFDQTs7QUFMQTtBQU1BO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7QUFBTSxhQWpCTixNQWlCTTtBQUNOO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQSw2Q0FEQTs7QUFFQTtBQUFBLG9DQUZBOztBQUdBO0FBQUE7QUFDQTs7QUFKQTtBQUtBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTs7O0FBRUE7QUFBQTs7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7O0FBQUE7QUFDQTtBQUFBOzs7QUFFQTs7O0FBQUE7QUFDQTs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFJLFNBRko7QUFHQTtBQUFBOzs7QUFFQTtBQUFBOztBQUNBOzs7QUFBQTs7O0FBRUE7QUFBQTs7QUFDQTs7QUFBQTs7O0FBRUE7QUFBQTs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBOztBQUNBOzs7QUFBQTtBQUNBO0FBQUEscUJBREE7O0FBRUE7QUFBQSxrQkFGQTs7QUFHQTtBQUFBLHFCQUhBOztBQUlBO0FBQUEsd0NBSkE7O0FBS0E7QUFBQSw2R0FMQTs7QUFNQTtBQUFBO0FBQ0E7O0FBUEE7OztBQVNBO0FBQUE7O0FBQ0E7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7O0FBQUE7OztBQUVBO0FBQUE7O0FBQ0E7O0FBQUE7QUFDQTtBQUFBOzs7OztBQUdBO0FBQUE7O0FBQ0E7OztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBOzs7QUFFQTtBQUFBOztBQUNBOztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBMEMsNEJBQTFDO0FBQTBDO0FBQTFDO0FBQ0E7QUFBQTtBQUNBOztBQUFBLE9BSkE7OztBQU1BO0FBQUE7O0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBd0Q7QUFBeEQ7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQWlEO0FBQWpEO0FBQ0E7QUFBQSxPQUxBOzs7QUFPQTtBQUFBOztBQUNBO0FBQUE7O0FBQ0E7QUFBQTs7QUFDQTtBQUFBOztBQUNBO0FBQUE7O0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOztBQUFBO0FBQ0E7O0FBQUE7QUFDQTs7QUFBQTtBQUNBOztBQUFBO0FBQ0E7OztBQUFBO0FBQXlDLDBCQUF6QztBQUF5QztBQUF6QztBQUNBOztBQUFBO0FBQUE7QUFBZ0g7QUFBcUIsV0FBckksQ0FBcUksSUFBckksQ0FBcUksSUFBckksRUFBcUksR0FBckk7QUFBQTtBQUNBOztBQUFBO0FBQ0E7QUFBQSxPQVRBOzs7QUFXQTtBQUFBOztBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQTJCO0FBQTRCLFNBRHZEO0FBRUE7QUFBQTtBQUFpQztBQUFlLFNBRmhEO0FBR0E7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBLE9BTkE7OztBQVFBO0FBQUE7O0FBQ0E7OztBQUFBO0FBQXNEO0FBQStELE9BQXJIOzs7QUFFQTtBQUFBOztBQUNBOzs7QUFBQTs7O0FBRUE7QUFBQTs7QUFDQTs7QUFBQTtBQUFzQztBQUF1QixPQUE3RDs7Ozs7QUFHQTtBQUFBOztBQUNBOzs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3J4QkE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7O0FBQUE7QUFBQTtBQUFBLFcsQ0FJQTs7O0FBYUFFLGNBQU0sQ0FBTkEsTUFBYTVPLHNDQUFiNE8sS0FBYTVPLENBQWI0TztBQUNBQSxjQUFNLENBQU5BLFNBQWdCSix5Q0FBaEJJLFFBQWdCSixDQUFoQkk7QUFDQUEsY0FBTSxDQUFOQSxVQUFpQkMsMkNBQWpCRCxTQUFpQkMsQ0FBakJEOzs7Ozs7Ozs7Ozs7OztBQ25CQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBeUM7QUFBYzs7QUFFdkQsNEJBQXVCLG1CQUF2QixFQUE0QyxHQUE1QyxFQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNpQixpQkFGakIsTUFFaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFkQSxDQWdCQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQXZCQSxDQXlCQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ2EsZUFGYixNQUVhO0FBQ2I7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFDQTs7QUFDQTtBQUNBLDZDQURBLENBR0E7O0FBQ0E7QUFDQTtBQUNBLHlCQUZBLENBSUE7QUFDaUIsaUJBTGpCLE1BS2lCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNpQixpQkFIakIsTUFHaUI7QUFDakI7QUFDQTtBQUNpQixpQkFIQSxNQUdBO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4QkFEQTtBQUVBO0FBRkE7QUFJSyxXQTlDTDs7QUFnREE7QUFDQTtBQUNBOztBQUNBLDhCQUEyQixlQUEzQixFQUE0QyxNQUE1QyxFQUE0QztBQUM1QztBQUNBOztBQUVBO0FBQ0EsYUFSQSxDQVVBOzs7QUFDQTs7QUFFQTtBQUNBOztBQUNBLDhCQUErQixnQkFBL0IsRUFBaUQsR0FBakQsRUFBaUQ7QUFDakQ7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4QkFEQTtBQUVBO0FBRkE7QUFJSyxXQTFCTCxHQXJIQSxDQWtKQTs7O0FBQ0E7QUFBMEIsa0JBQTFCO0FBQTBCLGtCQUExQjtBQUEwQixrQkFBMUIsQ0FFQTs7QUFGQTtBQUdBLDBNQXRKQSxDQXdKQTs7QUFDQTtBQUNBLG9oREExSkEsQ0E0SkE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb2hHQWhLQSxDQWtLQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvaEdBdEtBLENBd0tBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBQ0EsNEJBQXVCLGdCQUF2QixFQUF5QyxNQUF6QyxFQUF5QztBQUN6QywwQkFDQSxpQkFDQSxrQkFEQSxHQUVBLGlCQUZBLEdBR0EsWUFKQTtBQU1BOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQURBOztBQUlBO0FBQ0EsV0FWQTs7QUFhQTtBQUVBOztBQUNBO0FBQ0E7QUFDQSxhQUxBLENBT0E7OztBQUNBLDBCQVJBLENBVUE7O0FBQ0E7O0FBRUEsNEJBQXVCLFdBQXZCLEVBQW9DLEdBQXBDLEVBQW9DO0FBQ3BDOztBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5Q0FuQkEsQ0FxQkE7O0FBQ0EsOENBdEJBLENBd0JBOztBQUNBOztBQUNBLDRCQUF1QixNQUF2QixFQUErQixHQUEvQixFQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQSxhQTlCQSxDQWdDQTs7O0FBQ0E7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFDQSxrREFDQSx1QkFEQSxHQUVBLGlCQUZBLEdBR0Esa0JBSEEsR0FJQSx1QkFKQTtBQUtBLCtCQVBBLENBU0E7O0FBQ0E7QUFDQSxnQ0FBK0IsTUFBL0IsRUFBdUMsR0FBdkMsRUFBdUM7QUFDdkM7QUFDQSxpQkFIQSxDQUtBOztBQUNhLGVBTmIsTUFNYTtBQUNiLGdDQUErQixVQUEvQixFQUE2QyxHQUE3QyxFQUE2QztBQUM3QztBQUNBOztBQUNBO0FBRUEsNkNBQ0Esc0JBREEsR0FFQSx3QkFGQSxHQUdBLHdCQUhBOztBQUtBLHlDQUEwQyxNQUExQyxFQUFrRCxHQUFsRCxFQUFrRDtBQUNsRDtBQUNBO0FBQ0EsZUE5QkEsQ0FnQ0E7OztBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBNUVBLENBOEVBOzs7QUFDQSw0QkFBdUIsVUFBdkIsRUFBbUMsR0FBbkMsRUFBbUM7QUFDbkMsOEJBQTJCLEtBQTNCLEVBQWtDLEdBQWxDLEVBQWtDO0FBQ2xDO0FBQ0EsdURBQ0EsbUJBREEsR0FFQSxrQkFGQSxHQUdBLGFBSEE7QUFJQTtBQUNBO0FBQ0EsV0F4RkE7O0FBMEZBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBTkEsQ0FRQTs7QUFDQTs7QUFDQSw0QkFBdUIsS0FBdkIsRUFBOEIsR0FBOUIsRUFBOEI7QUFDOUI7QUFDQSxhQVpBLENBY0E7OztBQUNBLDRCQUF1QixVQUF2QixFQUFtQyxHQUFuQyxFQUFtQztBQUNuQyw4QkFBMkIsS0FBM0IsRUFBa0MsR0FBbEMsRUFBa0M7QUFDbEMsK0NBQ0EsK0JBREEsR0FFQSw4QkFGQSxHQUdBLHlCQUhBLEdBSUEsY0FKQTtBQUtBOztBQUNBO0FBQ0EsYUF4QkEsQ0EwQkE7OztBQUNBO0FBQUE7O0FBQ0EsNEJBQXVCLEtBQXZCLEVBQThCLEdBQTlCLEVBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBckNBOztBQXVDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQU5BLENBUUE7O0FBQ0E7O0FBQ0EsNEJBQXVCLEtBQXZCLEVBQThCLEdBQTlCLEVBQThCO0FBQzlCO0FBQ0EsYUFaQSxDQWNBOzs7QUFDQSw0QkFBdUIsVUFBdkIsRUFBbUMsR0FBbkMsRUFBbUM7QUFDbkMsOEJBQTJCLEtBQTNCLEVBQWtDLEdBQWxDLEVBQWtDO0FBQ2xDLCtDQUNBLCtCQURBLEdBRUEsOEJBRkEsR0FHQSx5QkFIQSxHQUlBLGNBSkE7QUFLQTs7QUFDQTtBQUNBLGFBeEJBLENBMEJBOzs7QUFDQTtBQUFBOztBQUNBLDRCQUF1QixLQUF2QixFQUE4QixHQUE5QixFQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQXJDQTtBQXdDQTs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFDQSxXQVRBOztBQVdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNEJBQXVCLG9CQUF2QixFQUE2QyxPQUE3QyxFQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBakJBOztBQW1CQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRCQUF1QixxQkFBdkIsRUFBOEMsT0FBOUMsRUFBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQWpCQTtBQW9CQTs7Ozs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFFUyxhQUhULE1BR1M7QUFDVDtBQUNBOztBQUVBO0FBRUE7QUFDQSxXQWxCQTs7QUFvQkE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSw0QkFBdUIsb0JBQXZCLEVBQTZDLE9BQTdDLEVBQTZDO0FBQzdDOztBQUVBLDhCQUEyQixNQUEzQixFQUFtQyxHQUFuQyxFQUFtQztBQUNuQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBdEJBOztBQXdCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDRCQUF1QixxQkFBdkIsRUFBOEMsT0FBOUMsRUFBOEM7QUFDOUM7QUFDQTs7QUFFQSw4QkFBMkIsTUFBM0IsRUFBbUMsR0FBbkMsRUFBbUM7QUFDbkM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsV0F0QkE7QUF5QkE7Ozs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBRVMsYUFIVCxNQUdTO0FBQ1Q7QUFDQTs7QUFFQTtBQUEyQjtBQUFpQjs7QUFFNUM7QUFFQTtBQUVBO0FBQ0EsV0F0QkE7O0FBd0JBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7O0FBQ0EsNEJBQXVCLG9CQUF2QixFQUE2QyxxQkFBN0MsRUFBNkM7QUFDN0M7O0FBQ0EsOEJBQTJCLG9CQUEzQixFQUFpRCxHQUFqRCxFQUFpRDtBQUNqRDtBQUNBLGVBSjZDLENBTTdDOzs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQXBCQTs7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTs7QUFDQSw0QkFBdUIsb0JBQXZCLEVBQTZDLHFCQUE3QyxFQUE2QztBQUM3Qzs7QUFFQSw4QkFBMkIsb0JBQTNCLEVBQWlELEdBQWpELEVBQWlEO0FBQ2pEO0FBQ0EsZUFMNkMsQ0FPN0M7OztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBckJBO0FBdUJBOzs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVTLGFBSFQsTUFHUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0EsV0FuQkE7O0FBcUJBO0FBQ0E7O0FBRUEsNEJBQXVCLG9CQUF2QixFQUE2QyxHQUE3QyxFQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FaQSxDQTlrQkEsQ0E0bEJBOzs7QUFDQTtBQUdBOzs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsYUFIQSxDQUtBOzs7QUFDQTtBQUFrRDtBQUFrQjs7QUFFcEU7QUFDQTtBQUNBO0FBRVMsYUFKVCxNQUlTO0FBQ1Q7QUFDQTtBQUNBLFdBZkE7O0FBaUJBO0FBQ0E7QUFDQTtBQUNBLGFBSEEsQ0FLQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlDQUE0QixVQUE1QixFQUF3QyxPQUF4QyxFQUF3QztBQUN4QztBQUNBO0FBQ0E7QUFDQSxXQWRBOztBQWdCQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFdBUkE7O0FBVUE7QUFDQSw2QkFBd0IsTUFBeEIsRUFBZ0MsR0FBaEMsRUFBZ0M7QUFDaEM7QUFDQTtBQUNhLGVBRmIsTUFFYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FUQTtBQVlBOzs7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0EsV0FsQkE7O0FBb0JBO0FBQ0E7O0FBRUEsNEJBQXVCLG9CQUF2QixFQUE2QyxHQUE3QyxFQUE2QztBQUM3QztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FiQSxDQWpyQkEsQ0Fnc0JBOzs7QUFDQSxzRkFqc0JBLENBb3NCQTtBQUNBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxzQ0FBaUMsaUJBQWpDLEVBQW9ELEdBQXBELEVBQW9EO0FBQ3BEO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQStCO0FBQTBDOztBQUV6RTs7QUFDQTtBQUEwQjtBQUFxRDs7QUFFL0U7O0FBQ0EsNEJBQXVCLFVBQXZCLEVBQW1DLEdBQW5DLEVBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBcHVCQSxDQXN1QkE7QUFDQTtBQUdBOzs7QUFDQTtBQUNBLG9CQURBO0FBRUEsNEJBRkE7QUFJQTtBQUNBLHFDQURBO0FBRUEscUNBRkE7QUFHQSxxQ0FIQTtBQUlBLHFDQUpBO0FBS0E7QUFMQSxhQUpBO0FBWUE7QUFDQSw2QkFEQTtBQUVBO0FBRkEsYUFaQTtBQWlCQTtBQUNBO0FBQ0EsNkJBREE7QUFFQTtBQUZBO0FBREEsYUFqQkE7QUF3QkE7QUFDQSxzQ0FEQTtBQUVBLHNDQUZBO0FBR0E7QUFIQTtBQXhCQSxZQTN1QkEsQ0Eyd0JBOztBQUNBLGNBQVEsSUFBUixFQUFzQztBQUN0QyxtQ0FEc0MsQ0FHdEM7QUFDQTtBQUNBO0FBQ0ssV0FOTCxNQU1XLEVBWU47QUFHSixTQWp5QkQsRUFpeUJDLElBanlCRDs7Ozs7Ozs7Ozs7Ozs7O0FDREE7QUFBQTtBQUFBO0FBQ0EseUJBREEsQ0FHQTs7QUFDQTtBQUNBO0FBQ0EsYUFOQSxDQVFBO0FBQ0E7OztBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFoQkEsQ0FrQkE7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFQQSxDQVNBOztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDRyxhQUZILE1BRUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBLHVCQUFhLG1CQUFPO0FBQUM7QUFBQSxlQUFELENBQVAsQ0FBZ0IsTUFBN0I7QUFDRyxhQUZILENBRUcsV0FDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrRUFDQSx3Q0FEQSxJQUNBLHdCQURBO0FBRUEsYUFQQTs7QUFTQTtBQUNBO0FBQ0E7QUFDQSxhQUhBOztBQUtBO0FBQ0E7QUFDQTtBQUNBLGFBSEE7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDSyxlQUZMLE1BRUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBOztBQUVBO0FBQ0EsYUFuQ0E7O0FBcUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0ssZUFITCxNQUdLO0FBQ0wsOEJBQ0Esa0JBREEsRUFFQSw4QkFGQTtBQUlBO0FBQ0ssZUFOQSxNQU1BO0FBQ0wsa0RBREssQ0FDbUM7O0FBQ3hDLDhCQUNBLGtCQURBLEVBRUEsOEJBRkEsRUFHQSxDQUhBO0FBS0E7QUFDQTs7QUFFQSwwQ0F4QkEsQ0EwQkE7O0FBQ0E7QUFDQSxhQTVCQTs7QUE4QkE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFDQSw4QkFBbUIsZUFBbkIsRUFBb0MsR0FBcEMsRUFBb0M7QUFDcEM7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0EsbURBQXdDLE1BQXhDLEVBQWdELE1BQWhELEVBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDSyxlQVhMLE1BV0s7QUFDTCxtQ0FBd0IsaUJBQXhCLEVBQTJDLE1BQTNDLEVBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBLGFBekNBOztBQTJDQTtBQUNBO0FBQ0E7O0FBQ0Esa0NBQXVCLE9BQXZCLEVBQWdDLEdBQWhDLEVBQWdDO0FBQ2hDO0FBRUEsd0JBSGdDLENBS2hDOztBQUNBO0FBQ0Esb0NBREEsQ0FHQTtBQUNPLGlCQUpQLE1BSU87QUFDUCxvQ0FETyxDQUdQO0FBQ08saUJBSkEsTUFJQTtBQUNQO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLDhCQUFtQixlQUFuQixFQUFvQyxHQUFwQyxFQUFvQztBQUNwQztBQUNBOztBQUVBLHVCQVJBLENBU0E7O0FBQ0E7O0FBQ0EsaURBQXNDLFVBQXRDLEVBQWtELE1BQWxELEVBQWtEO0FBQ2xEO0FBQ0Esc0RBRmtELENBR2xEOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsYUE1QkE7O0FBOEJBO0FBQ0E7QUFDQTs7QUFDQSxrQ0FBdUIsT0FBdkIsRUFBZ0MsR0FBaEMsRUFBZ0M7QUFDaEM7QUFFQSx5QkFIZ0MsQ0FLaEM7O0FBQ0E7QUFDQSxvQ0FEQSxDQUdBO0FBQ08saUJBSlAsTUFJTztBQUNQLG9DQURPLENBR1A7QUFDTyxpQkFKQSxNQUlBO0FBQ1A7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsOEJBSEEsQ0FLQTs7QUFDQSxpREFBc0Msb0JBQXRDLEVBQTRELGVBQTVELEVBQTREO0FBQzVEO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUNBLGtDQUF1QixPQUF2QixFQUFnQyxZQUFoQyxFQUFnQztBQUNoQztBQUVBOztBQUNBO0FBQ0E7QUFDTyxpQkFGUCxNQUVPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBaUIsT0FBakIsRUFBMEIsR0FBMUIsRUFBMEI7QUFDMUI7QUFDQTs7QUFFQTs7QUFDQTtBQUNBO0FBQ08saUJBRlAsTUFFTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGFBM0NBOztBQTZDQTtBQUNBOztBQUNBLDhCQUFtQixlQUFuQixFQUFvQyxHQUFwQyxFQUFvQztBQUNwQztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBUkE7O0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUpBOztBQU1BO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsYUFMQSxDQXBVQSxDQTJVQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSxhQUxBOztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSxhQU5BOztBQVFBO0FBQ0E7QUFDQSxhQUZBO0FBSUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE4QkEseUJBQ0EsRUFEQSxFQUVBLEdBRkEsRUFHQSxJQUhBLEVBSUEsS0FKQSxFQUtBLE1BTEEsRUFNQSxPQU5BLEVBT0EsUUFQQSxFQVFBLFNBUkEsRUFTQSxVQVRBLEVBVUEsV0FWQSxFQVdBLFlBWEEsRUFZQSxhQVpBLEVBYUEsY0FiQSxFQWNBLGVBZEEsRUFlQSxnQkFmQSxFQWdCQSxpQkFoQkEsRUFpQkEsa0JBakJBLEVBa0JBLG1CQWxCQSxFQW1CQSxvQkFuQkEsRUFvQkEscUJBcEJBLEVBcUJBLHNCQXJCQSxFQXNCQSx1QkF0QkEsRUF1QkEsd0JBdkJBLEVBd0JBLHlCQXhCQSxFQXlCQSwwQkF6QkEsRUEwQkEsMkJBMUJBO0FBNkJBLDhCQUNBLENBREEsRUFDQSxDQURBLEVBRUEsRUFGQSxFQUVBLEVBRkEsRUFFQSxFQUZBLEVBRUEsRUFGQSxFQUVBLEVBRkEsRUFFQSxDQUZBLEVBRUEsQ0FGQSxFQUdBLENBSEEsRUFHQSxDQUhBLEVBR0EsQ0FIQSxFQUdBLENBSEEsRUFHQSxDQUhBLEVBR0EsQ0FIQSxFQUdBLENBSEEsRUFJQSxDQUpBLEVBSUEsQ0FKQSxFQUlBLENBSkEsRUFJQSxDQUpBLEVBSUEsQ0FKQSxFQUlBLENBSkEsRUFJQSxDQUpBLEVBS0EsQ0FMQSxFQUtBLENBTEEsRUFLQSxDQUxBLEVBS0EsQ0FMQSxFQUtBLENBTEEsRUFLQSxDQUxBLEVBS0EsQ0FMQSxFQU1BLENBTkEsRUFNQSxDQU5BLEVBTUEsQ0FOQSxFQU1BLENBTkEsRUFNQSxDQU5BLEVBTUEsQ0FOQSxFQU1BLENBTkE7QUFTQSw4QkFDQSxDQURBLEVBQ0EsQ0FEQSxFQUVBLFFBRkEsRUFFQSxRQUZBLEVBRUEsUUFGQSxFQUVBLFFBRkEsRUFFQSxRQUZBLEVBRUEsUUFGQSxFQUVBLFFBRkEsRUFHQSxRQUhBLEVBR0EsUUFIQSxFQUdBLFFBSEEsRUFHQSxRQUhBLEVBR0EsUUFIQSxFQUdBLE9BSEEsRUFHQSxRQUhBLEVBSUEsUUFKQSxFQUlBLFFBSkEsRUFJQSxRQUpBLEVBSUEsUUFKQSxFQUlBLFFBSkEsRUFJQSxPQUpBLEVBSUEsT0FKQSxFQUtBLE9BTEEsRUFLQSxPQUxBLEVBS0EsT0FMQSxFQUtBLFFBTEEsRUFLQSxRQUxBLEVBS0EsUUFMQSxFQUtBLFFBTEEsRUFNQSxRQU5BLEVBTUEsUUFOQSxFQU1BLFFBTkEsRUFNQSxRQU5BLEVBTUEsUUFOQSxFQU1BLFFBTkEsRUFNQSxRQU5BOztBQVNBO0FBQ0E7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLGdDQUFxQixlQUFyQixFQUFzQyxHQUF0QyxFQUFzQztBQUN0QztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNTLG1CQUZULE1BRVM7QUFDVDtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaURBRkEsQ0FHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNTLG1CQUZULE1BRVM7QUFDVDtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBbkVBOztBQXFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDSyxlQUZMLE1BRUs7QUFDTDtBQUNBO0FBQ0ssZUFIQSxNQUdBO0FBQ0w7QUFDQTs7QUFDQTtBQUNBLGFBWEE7O0FBYUE7QUFDQTtBQUNBLGFBRkE7O0FBSUE7QUFDQTtBQUNBO0FBQ0EsYUFIQTs7QUFLQTtBQUNBO0FBQ0EsYUFGQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0EsNEJBQWlCLDBCQUFqQixFQUE2QyxHQUE3QyxFQUE2QztBQUM3QztBQUNBOztBQUVBLDRCQUFpQixXQUFqQixFQUE4QixHQUE5QixFQUE4QjtBQUM5QjtBQUNBO0FBRUE7QUFDQTtBQUNLLGVBWkwsTUFZSztBQUNMLDRCQUFpQixXQUFqQixFQUE4QixHQUE5QixFQUE4QjtBQUM5QjtBQUNBO0FBRUE7QUFDQTs7QUFFQSx1QkFBWSxhQUFaLEVBQTJCLEdBQTNCLEVBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBdENBOztBQXdDQTtBQUNBO0FBQ0E7QUFDQSxlQUZBO0FBR0csYUFKSCxNQUlHO0FBQ0g7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsZUFwQkE7QUFxQkE7O0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSxhQTFCQSxDQS9rQkEsQ0EybUJBOzs7QUFDQTtBQUNBOztBQUNBOztBQUNBO0FBQ0EsYUFKQTs7QUFNQTtBQUNBOztBQUVBLGdDQUFxQixjQUFyQixFQUFxQyxLQUFyQyxFQUFxQztBQUNyQztBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBLGFBN25CQSxDQStuQkE7OztBQUNBO0FBQ0E7QUFFQTs7QUFDQSw4QkFBbUIsZUFBbkIsRUFBb0MsR0FBcEMsRUFBb0M7QUFDcEM7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsYUFWQTs7QUFZQTtBQUNBO0FBQ0EsYUFGQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBLGFBTEE7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSxhQUxBOztBQU9BO0FBQ0E7QUFDQSxhQUZBLENBOXBCQSxDQWtxQkE7OztBQUNBO0FBQ0E7QUFDQSxhQUZBOztBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFOQSxDQXZxQkEsQ0ErcUJBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw4QkFBbUIsY0FBbkIsRUFBbUMsR0FBbkMsRUFBbUM7QUFDbkM7QUFDQTs7QUFFQTtBQUNBLGFBVkE7O0FBWUE7QUFDQTtBQUNBO0FBQ0EsYUFIQSxDQTVyQkEsQ0Fpc0JBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUhBOztBQUtBO0FBQ0E7QUFDQTtBQUNBLGFBSEEsQ0F2c0JBLENBNHNCQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDSyxlQUZMLE1BRUs7QUFDTDtBQUNBOztBQUVBLDhCQUFtQixZQUFuQixFQUFpQyxHQUFqQyxFQUFpQztBQUNqQztBQUNBOztBQUVBO0FBRUE7QUFDQSxhQWhCQTs7QUFrQkE7QUFDQTtBQUNBO0FBQ0EsYUFIQSxDQS90QkEsQ0FvdUJBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUhBOztBQUtBO0FBQ0E7QUFDQTtBQUNBLGFBSEEsQ0ExdUJBLENBK3VCQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0ssZUFITCxNQUdLO0FBQ0w7QUFDQTtBQUNBOztBQUVBLDhCQUFtQixZQUFuQixFQUFpQyxHQUFqQyxFQUFpQztBQUNqQztBQUNBOztBQUVBO0FBQ0EsdUJBQVksWUFBWixFQUEwQixHQUExQixFQUEwQjtBQUMxQjtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBLGFBekJBOztBQTJCQTtBQUNBO0FBQ0E7QUFDQSxhQUhBLENBM3dCQSxDQWd4QkE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBSEE7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsYUFIQSxDQXR4QkEsQ0EyeEJBOzs7QUFDQTtBQUNBO0FBRUE7QUFDQSx3Q0FKQSxDQU1BOztBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQVhBLENBYUE7OztBQUNBLDhCQUFtQixlQUFuQixFQUFvQyxHQUFwQyxFQUFvQztBQUNwQztBQUNBLGVBaEJBLENBa0JBOzs7QUFDQTtBQUNBO0FBQ0EsZUFyQkEsQ0F1QkE7OztBQUNBO0FBQ0EsYUF6QkE7O0FBMkJBO0FBQ0E7QUFDQSxhQUZBLENBdnpCQSxDQTJ6QkE7OztBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDSyxlQUZMLE1BRUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsYUFmQSxDQTV6QkEsQ0E2MEJBOzs7QUFDQTtBQUNBLG9CQURBLENBR0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FKQSxDQU1BO0FBQ0ssZUFQTCxNQU9LO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQWhCQSxDQWtCQTs7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0ssZUFITCxNQUdLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUNBLDhCQUFtQixZQUFuQixFQUFpQyxHQUFqQyxFQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFDQSxxQkFBVSwyQkFBVixFQUF1QyxHQUF2QyxFQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFDQTtBQUNBO0FBQ0EsOEJBRkEsQ0FHQTtBQUNLLGVBSkwsTUFJSztBQUNMLHVCQUFZLFlBQVosRUFBMEIsR0FBMUIsRUFBMEI7QUFDMUI7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFwREEsQ0E5MEJBLENBbzRCQTs7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0ssZUFMTCxNQUtLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUVBO0FBQ0EsYUFqQkEsQ0FyNEJBLENBdzVCQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBSkEsQ0FNQTtBQUNLLGVBUEwsTUFPSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFkQSxDQWdCQTs7O0FBQ0Esc0NBakJBLENBbUJBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQXpCQSxDQTJCQTs7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0ssZUFITCxNQUdLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUNBLDhCQUFtQixZQUFuQixFQUFpQyxHQUFqQyxFQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTs7QUFDQSxxQkFBVSwyQkFBVixFQUF1QyxHQUF2QyxFQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQSxlQS9DQSxDQWlEQTs7O0FBQ0E7QUFDQSx1QkFBWSxZQUFaLEVBQTBCLEdBQTFCLEVBQTBCO0FBQzFCO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQS9EQSxDQXo1QkEsQ0EwOUJBOzs7QUFDQTtBQUNBO0FBQ0EsYUFGQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUpBLENBTUE7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBLDhCQUFtQixPQUFuQixFQUE0QixHQUE1QixFQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLCtEQUFvRCxTQUFwRCxFQUErRCxHQUEvRCxFQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNLLGVBRkwsTUFFSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxhQXRnQ0EsQ0F3Z0NBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EsYUEzakJBLENBM2dDQSxDQXdrREE7OztBQUNB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WCxFQUM3WCxVQUQ2WCxFQUM3WCxVQUQ2WCxFQUM3WCxVQUQ2WCxFQUM3WCxVQUQ2WCxFQUM3WCxVQUQ2WCxFQUU3WCxVQUY2WCxFQUU3WCxVQUY2WCxFQUU3WCxVQUY2WCxFQUU3WCxVQUY2WCxFQUU3WCxVQUY2WCxFQUU3WCxVQUY2WDtBQUUxVCwrZUFDbkUsd0JBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsd0JBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsdUJBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsd0JBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsdUJBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsd0JBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx3QkFEbUUsRUFDbkUsd0JBRG1FLEVBQ25FLHdCQURtRSxFQUNuRSx1QkFEbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHdCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsdUJBRm1FLEVBRW5FLHdCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHVCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHdCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHdCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHdCQUZtRSxFQUVuRSx3QkFGbUUsRUFFbkUsd0JBRm1FLEVBRW5FLHVCQUZtRSxFQUVuRSx1QkFGbUUsRUFFbkUsYUFDQSxVQURBLENBRm1FLEVBR25FLHdCQUhtRSxFQUduRSx3QkFIbUUsRUFHbkUsNkJBSG1FLEVBR25FLDRCQUhtRSxFQUduRSw2QkFIbUUsRUFHbkUsNkJBSG1FLEVBR25FLDRCQUhtRSxFQUduRSw0QkFIbUUsRUFHbkUsNEJBSG1FLEVBR25FLDJCQUhtRSxFQUduRSwyQkFIbUUsRUFHbkUsNEJBSG1FLEVBR25FLDRCQUhtRSxFQUduRSw2QkFIbUUsRUFHbkUsNkJB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Ozs7Ozs7QUNWQSxZQUFNM0UscUJBQWI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQSx3Q0FHSTtBQUNJLGtCQUFJeEYsSUFBSSxHQUFSO0FBRUEscUJBQU8sSUFBSTlILHVDQUFKLFNBQUlBLENBQUosQ0FBWWtHLG9FQUFaLE9BQVlBLENBQVosRUFBeUM2QixpREFBekMsNkJBQVAsSUFBTyxDQUFQO0FBQ0g7QUFQTDs7QUFBQTtBQUFBLFdBQU87O0FBVUEsWUFBTXdGLHNCQUFiO0FBQUE7QUFBQTtBQUVJLDZDQUNBO0FBQUE7O0FBQ0k7QUFDSDs7QUFMTDtBQUFBO0FBQUEsd0NBT0k7QUFDSSxxQkFBTyxhQUFQO0FBQ0g7QUFUTDtBQUFBO0FBQUEsOENBV0k7QUFDSSxxQkFBT3hJLFFBQVEsQ0FBQyxhQUFELGVBQWYsRUFBZSxDQUFmO0FBQ0g7QUFiTDtBQUFBO0FBQUEseUNBZUk7QUFDSSxxQkFBTyxDQUFDLENBQUMsYUFBVDtBQUNIO0FBakJMOztBQUFBO0FBQUEsV0FBTzs7QUFvQkEsWUFBTW1YLGVBQWIsR0FFSSw0QkFDQTtBQUFBOztBQUNJLDhCQUFvQm5YLFFBQVEsQ0FBQ2tELENBQUMsQ0FBREEsS0FBRCxlQUE1QixFQUE0QixDQUE1QjtBQUpSLFNBQU87Ozs7Ozs7Ozs7Ozs7OztBQ2pDUDs7Ozs7OztBaENVQTtDQVZBLEU7Ozs7Ozs7Ozs7OztBaUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiVGFibGVQb3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiMWM3OTE0MGJjMTRiN2Y0MWZhZTdcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IFwiVGFibGVQb3NcIjtcbiBcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbG9uZS1ibG9ja3NcbiBcdFx0XHR7XG4gXHRcdFx0XHQvKmdsb2JhbHMgY2h1bmtJZCAqL1xuIFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIgJiZcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiZcbiBcdFx0XHRcdGhvdFdhaXRpbmdGaWxlcyA9PT0gMFxuIFx0XHRcdCkge1xuIFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gcHJvbWlzZTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aWYgKCFob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSB8fCAhaG90UmVxdWVzdGVkRmlsZXNNYXBbY2h1bmtJZF0pXG4gXHRcdFx0cmV0dXJuO1xuIFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IGZhbHNlO1xuIFx0XHRmb3IgKHZhciBtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0aG90VXBkYXRlW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYgKC0taG90V2FpdGluZ0ZpbGVzID09PSAwICYmIGhvdENodW5rc0xvYWRpbmcgPT09IDApIHtcbiBcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0fSBlbHNlIHtcbiBcdFx0XHRob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSA9IHRydWU7XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzKys7XG4gXHRcdFx0aG90RG93bmxvYWRVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RVcGRhdGVEb3dubG9hZGVkKCkge1xuIFx0XHRob3RTZXRTdGF0dXMoXCJyZWFkeVwiKTtcbiBcdFx0dmFyIGRlZmVycmVkID0gaG90RGVmZXJyZWQ7XG4gXHRcdGhvdERlZmVycmVkID0gbnVsbDtcbiBcdFx0aWYgKCFkZWZlcnJlZCkgcmV0dXJuO1xuIFx0XHRpZiAoaG90QXBwbHlPblVwZGF0ZSkge1xuIFx0XHRcdC8vIFdyYXAgZGVmZXJyZWQgb2JqZWN0IGluIFByb21pc2UgdG8gbWFyayBpdCBhcyBhIHdlbGwtaGFuZGxlZCBQcm9taXNlIHRvXG4gXHRcdFx0Ly8gYXZvaWQgdHJpZ2dlcmluZyB1bmNhdWdodCBleGNlcHRpb24gd2FybmluZyBpbiBDaHJvbWUuXG4gXHRcdFx0Ly8gU2VlIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ2NTY2NlxuIFx0XHRcdFByb21pc2UucmVzb2x2ZSgpXG4gXHRcdFx0XHQudGhlbihmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIGhvdEFwcGx5KGhvdEFwcGx5T25VcGRhdGUpO1xuIFx0XHRcdFx0fSlcbiBcdFx0XHRcdC50aGVuKFxuIFx0XHRcdFx0XHRmdW5jdGlvbihyZXN1bHQpIHtcbiBcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gXHRcdFx0XHRcdH0sXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKGVycikge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdChlcnIpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHQpO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0XHRmb3IgKHZhciBpZCBpbiBob3RVcGRhdGUpIHtcbiBcdFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2godG9Nb2R1bGVJZChpZCkpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKG91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdH1cbiBcdH1cblxuIFx0ZnVuY3Rpb24gaG90QXBwbHkob3B0aW9ucykge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcInJlYWR5XCIpXG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiYXBwbHkoKSBpcyBvbmx5IGFsbG93ZWQgaW4gcmVhZHkgc3RhdHVzXCIpO1xuIFx0XHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuIFx0XHR2YXIgY2I7XG4gXHRcdHZhciBpO1xuIFx0XHR2YXIgajtcbiBcdFx0dmFyIG1vZHVsZTtcbiBcdFx0dmFyIG1vZHVsZUlkO1xuXG4gXHRcdGZ1bmN0aW9uIGdldEFmZmVjdGVkU3R1ZmYodXBkYXRlTW9kdWxlSWQpIHtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW3VwZGF0ZU1vZHVsZUlkXTtcbiBcdFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcblxuIFx0XHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpLm1hcChmdW5jdGlvbihpZCkge1xuIFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0Y2hhaW46IFtpZF0sXG4gXHRcdFx0XHRcdGlkOiBpZFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdFx0dmFyIHF1ZXVlSXRlbSA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdFx0dmFyIG1vZHVsZUlkID0gcXVldWVJdGVtLmlkO1xuIFx0XHRcdFx0dmFyIGNoYWluID0gcXVldWVJdGVtLmNoYWluO1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAoIW1vZHVsZSB8fCBtb2R1bGUuaG90Ll9zZWxmQWNjZXB0ZWQpIGNvbnRpbnVlO1xuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX3NlbGZEZWNsaW5lZCkge1xuIFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1kZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdGNoYWluOiBjaGFpbixcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWRcbiBcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChtb2R1bGUuaG90Ll9tYWluKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJ1bmFjY2VwdGVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtb2R1bGUucGFyZW50cy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50SWQgPSBtb2R1bGUucGFyZW50c1tpXTtcbiBcdFx0XHRcdFx0dmFyIHBhcmVudCA9IGluc3RhbGxlZE1vZHVsZXNbcGFyZW50SWRdO1xuIFx0XHRcdFx0XHRpZiAoIXBhcmVudCkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJkZWNsaW5lZFwiLFxuIFx0XHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdHBhcmVudElkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHRcdH07XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKG91dGRhdGVkTW9kdWxlcy5pbmRleE9mKHBhcmVudElkKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRpZiAocGFyZW50LmhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0pXG4gXHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF0sIFttb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGRlbGV0ZSBvdXRkYXRlZERlcGVuZGVuY2llc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdG91dGRhdGVkTW9kdWxlcy5wdXNoKHBhcmVudElkKTtcbiBcdFx0XHRcdFx0cXVldWUucHVzaCh7XG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLmNvbmNhdChbcGFyZW50SWRdKSxcbiBcdFx0XHRcdFx0XHRpZDogcGFyZW50SWRcbiBcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuXG4gXHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdHR5cGU6IFwiYWNjZXB0ZWRcIixcbiBcdFx0XHRcdG1vZHVsZUlkOiB1cGRhdGVNb2R1bGVJZCxcbiBcdFx0XHRcdG91dGRhdGVkTW9kdWxlczogb3V0ZGF0ZWRNb2R1bGVzLFxuIFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXM6IG91dGRhdGVkRGVwZW5kZW5jaWVzXG4gXHRcdFx0fTtcbiBcdFx0fVxuXG4gXHRcdGZ1bmN0aW9uIGFkZEFsbFRvU2V0KGEsIGIpIHtcbiBcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdHZhciBpdGVtID0gYltpXTtcbiBcdFx0XHRcdGlmIChhLmluZGV4T2YoaXRlbSkgPT09IC0xKSBhLnB1c2goaXRlbSk7XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gYXQgYmVnaW4gYWxsIHVwZGF0ZXMgbW9kdWxlcyBhcmUgb3V0ZGF0ZWRcbiBcdFx0Ly8gdGhlIFwib3V0ZGF0ZWRcIiBzdGF0dXMgY2FuIHByb3BhZ2F0ZSB0byBwYXJlbnRzIGlmIHRoZXkgZG9uJ3QgYWNjZXB0IHRoZSBjaGlsZHJlblxuIFx0XHR2YXIgb3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSB7fTtcbiBcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHR2YXIgYXBwbGllZFVwZGF0ZSA9IHt9O1xuXG4gXHRcdHZhciB3YXJuVW5leHBlY3RlZFJlcXVpcmUgPSBmdW5jdGlvbiB3YXJuVW5leHBlY3RlZFJlcXVpcmUoKSB7XG4gXHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgKyByZXN1bHQubW9kdWxlSWQgKyBcIikgdG8gZGlzcG9zZWQgbW9kdWxlXCJcbiBcdFx0XHQpO1xuIFx0XHR9O1xuXG4gXHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaG90VXBkYXRlLCBpZCkpIHtcbiBcdFx0XHRcdG1vZHVsZUlkID0gdG9Nb2R1bGVJZChpZCk7XG4gXHRcdFx0XHQvKiogQHR5cGUge1RPRE99ICovXG4gXHRcdFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRcdFx0aWYgKGhvdFVwZGF0ZVtpZF0pIHtcbiBcdFx0XHRcdFx0cmVzdWx0ID0gZ2V0QWZmZWN0ZWRTdHVmZihtb2R1bGVJZCk7XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJkaXNwb3NlZFwiLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBpZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0LyoqIEB0eXBlIHtFcnJvcnxmYWxzZX0gKi9cbiBcdFx0XHRcdHZhciBhYm9ydEVycm9yID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9BcHBseSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGRvRGlzcG9zZSA9IGZhbHNlO1xuIFx0XHRcdFx0dmFyIGNoYWluSW5mbyA9IFwiXCI7XG4gXHRcdFx0XHRpZiAocmVzdWx0LmNoYWluKSB7XG4gXHRcdFx0XHRcdGNoYWluSW5mbyA9IFwiXFxuVXBkYXRlIHByb3BhZ2F0aW9uOiBcIiArIHJlc3VsdC5jaGFpbi5qb2luKFwiIC0+IFwiKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHN3aXRjaCAocmVzdWx0LnR5cGUpIHtcbiBcdFx0XHRcdFx0Y2FzZSBcInNlbGYtZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBzZWxmIGRlY2xpbmU6IFwiICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQubW9kdWxlSWQgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRlY2xpbmVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EZWNsaW5lZCkgb3B0aW9ucy5vbkRlY2xpbmVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZURlY2xpbmVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2Ugb2YgZGVjbGluZWQgZGVwZW5kZW5jeTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0XCIgaW4gXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5wYXJlbnRJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwidW5hY2NlcHRlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uVW5hY2NlcHRlZCkgb3B0aW9ucy5vblVuYWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlVW5hY2NlcHRlZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIFwiICsgbW9kdWxlSWQgKyBcIiBpcyBub3QgYWNjZXB0ZWRcIiArIGNoYWluSW5mb1xuIFx0XHRcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25BY2NlcHRlZCkgb3B0aW9ucy5vbkFjY2VwdGVkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9BcHBseSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJkaXNwb3NlZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGlzcG9zZWQpIG9wdGlvbnMub25EaXNwb3NlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGRvRGlzcG9zZSA9IHRydWU7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGRlZmF1bHQ6XG4gXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVW5leGNlcHRpb24gdHlwZSBcIiArIHJlc3VsdC50eXBlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChhYm9ydEVycm9yKSB7XG4gXHRcdFx0XHRcdGhvdFNldFN0YXR1cyhcImFib3J0XCIpO1xuIFx0XHRcdFx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoYWJvcnRFcnJvcik7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9BcHBseSkge1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IGhvdFVwZGF0ZVttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgcmVzdWx0Lm91dGRhdGVkTW9kdWxlcyk7XG4gXHRcdFx0XHRcdGZvciAobW9kdWxlSWQgaW4gcmVzdWx0Lm91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0XHRcdFx0aWYgKFxuIFx0XHRcdFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMsXG4gXHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkXG4gXHRcdFx0XHRcdFx0XHQpXG4gXHRcdFx0XHRcdFx0KSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSlcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdID0gW107XG4gXHRcdFx0XHRcdFx0XHRhZGRBbGxUb1NldChcbiBcdFx0XHRcdFx0XHRcdFx0b3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdLFxuIFx0XHRcdFx0XHRcdFx0XHRyZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGRvRGlzcG9zZSkge1xuIFx0XHRcdFx0XHRhZGRBbGxUb1NldChvdXRkYXRlZE1vZHVsZXMsIFtyZXN1bHQubW9kdWxlSWRdKTtcbiBcdFx0XHRcdFx0YXBwbGllZFVwZGF0ZVttb2R1bGVJZF0gPSB3YXJuVW5leHBlY3RlZFJlcXVpcmU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gU3RvcmUgc2VsZiBhY2NlcHRlZCBvdXRkYXRlZCBtb2R1bGVzIHRvIHJlcXVpcmUgdGhlbSBsYXRlciBieSB0aGUgbW9kdWxlIHN5c3RlbVxuIFx0XHR2YXIgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzID0gW107XG4gXHRcdGZvciAoaSA9IDA7IGkgPCBvdXRkYXRlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRtb2R1bGVJZCA9IG91dGRhdGVkTW9kdWxlc1tpXTtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSAmJlxuIFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHQpXG4gXHRcdFx0XHRvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMucHVzaCh7XG4gXHRcdFx0XHRcdG1vZHVsZTogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdGVycm9ySGFuZGxlcjogaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uaG90Ll9zZWxmQWNjZXB0ZWRcbiBcdFx0XHRcdH0pO1xuIFx0XHR9XG5cbiBcdFx0Ly8gTm93IGluIFwiZGlzcG9zZVwiIHBoYXNlXG4gXHRcdGhvdFNldFN0YXR1cyhcImRpc3Bvc2VcIik7XG4gXHRcdE9iamVjdC5rZXlzKGhvdEF2YWlsYWJsZUZpbGVzTWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rSWQpIHtcbiBcdFx0XHRpZiAoaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0gPT09IGZhbHNlKSB7XG4gXHRcdFx0XHRob3REaXNwb3NlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0fVxuIFx0XHR9KTtcblxuIFx0XHR2YXIgaWR4O1xuIFx0XHR2YXIgcXVldWUgPSBvdXRkYXRlZE1vZHVsZXMuc2xpY2UoKTtcbiBcdFx0d2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiBcdFx0XHRtb2R1bGVJZCA9IHF1ZXVlLnBvcCgpO1xuIFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdGlmICghbW9kdWxlKSBjb250aW51ZTtcblxuIFx0XHRcdHZhciBkYXRhID0ge307XG5cbiBcdFx0XHQvLyBDYWxsIGRpc3Bvc2UgaGFuZGxlcnNcbiBcdFx0XHR2YXIgZGlzcG9zZUhhbmRsZXJzID0gbW9kdWxlLmhvdC5fZGlzcG9zZUhhbmRsZXJzO1xuIFx0XHRcdGZvciAoaiA9IDA7IGogPCBkaXNwb3NlSGFuZGxlcnMubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdGNiID0gZGlzcG9zZUhhbmRsZXJzW2pdO1xuIFx0XHRcdFx0Y2IoZGF0YSk7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXSA9IGRhdGE7XG5cbiBcdFx0XHQvLyBkaXNhYmxlIG1vZHVsZSAodGhpcyBkaXNhYmxlcyByZXF1aXJlcyBmcm9tIHRoaXMgbW9kdWxlKVxuIFx0XHRcdG1vZHVsZS5ob3QuYWN0aXZlID0gZmFsc2U7XG5cbiBcdFx0XHQvLyByZW1vdmUgbW9kdWxlIGZyb20gY2FjaGVcbiBcdFx0XHRkZWxldGUgaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG5cbiBcdFx0XHQvLyB3aGVuIGRpc3Bvc2luZyB0aGVyZSBpcyBubyBuZWVkIHRvIGNhbGwgZGlzcG9zZSBoYW5kbGVyXG4gXHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHJlbW92ZSBcInBhcmVudHNcIiByZWZlcmVuY2VzIGZyb20gYWxsIGNoaWxkcmVuXG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGNoaWxkID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGUuY2hpbGRyZW5bal1dO1xuIFx0XHRcdFx0aWYgKCFjaGlsZCkgY29udGludWU7XG4gXHRcdFx0XHRpZHggPSBjaGlsZC5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSB7XG4gXHRcdFx0XHRcdGNoaWxkLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gcmVtb3ZlIG91dGRhdGVkIGRlcGVuZGVuY3kgZnJvbSBtb2R1bGUgY2hpbGRyZW5cbiBcdFx0dmFyIGRlcGVuZGVuY3k7XG4gXHRcdHZhciBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcztcbiBcdFx0Zm9yIChtb2R1bGVJZCBpbiBvdXRkYXRlZERlcGVuZGVuY2llcykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvdXRkYXRlZERlcGVuZGVuY2llcywgbW9kdWxlSWQpXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmIChtb2R1bGUpIHtcbiBcdFx0XHRcdFx0bW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMgPSBvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGZvciAoaiA9IDA7IGogPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tqXTtcbiBcdFx0XHRcdFx0XHRpZHggPSBtb2R1bGUuY2hpbGRyZW4uaW5kZXhPZihkZXBlbmRlbmN5KTtcbiBcdFx0XHRcdFx0XHRpZiAoaWR4ID49IDApIG1vZHVsZS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIE5vdCBpbiBcImFwcGx5XCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiYXBwbHlcIik7XG5cbiBcdFx0aG90Q3VycmVudEhhc2ggPSBob3RVcGRhdGVOZXdIYXNoO1xuXG4gXHRcdC8vIGluc2VydCBuZXcgY29kZVxuIFx0XHRmb3IgKG1vZHVsZUlkIGluIGFwcGxpZWRVcGRhdGUpIHtcbiBcdFx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFwcGxpZWRVcGRhdGUsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBhcHBsaWVkVXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBjYWxsIGFjY2VwdCBoYW5kbGVyc1xuIFx0XHR2YXIgZXJyb3IgPSBudWxsO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0dmFyIGNhbGxiYWNrcyA9IFtdO1xuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRcdFx0XHRkZXBlbmRlbmN5ID0gbW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXNbaV07XG4gXHRcdFx0XHRcdFx0Y2IgPSBtb2R1bGUuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBlbmRlbmN5XTtcbiBcdFx0XHRcdFx0XHRpZiAoY2IpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFja3MuaW5kZXhPZihjYikgIT09IC0xKSBjb250aW51ZTtcbiBcdFx0XHRcdFx0XHRcdGNhbGxiYWNrcy5wdXNoKGNiKTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGNiID0gY2FsbGJhY2tzW2ldO1xuIFx0XHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0XHRjYihtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyk7XG4gXHRcdFx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG4gXHRcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHRcdHR5cGU6IFwiYWNjZXB0LWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdFx0ZGVwZW5kZW5jeUlkOiBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXSxcbiBcdFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTG9hZCBzZWxmIGFjY2VwdGVkIG1vZHVsZXNcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBpdGVtID0gb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdG1vZHVsZUlkID0gaXRlbS5tb2R1bGU7XG4gXHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdGlmICh0eXBlb2YgaXRlbS5lcnJvckhhbmRsZXIgPT09IFwiZnVuY3Rpb25cIikge1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdGl0ZW0uZXJyb3JIYW5kbGVyKGVycik7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGVycjIpIHtcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvci1oYW5kbGVyLWVycm9yZWRcIixcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyMixcbiBcdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxFcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghZXJyb3IpIGVycm9yID0gZXJyMjtcbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdG9wdGlvbnMub25FcnJvcmVkKHtcbiBcdFx0XHRcdFx0XHRcdHR5cGU6IFwic2VsZi1hY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGVyclxuIFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnI7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBoYW5kbGUgZXJyb3JzIGluIGFjY2VwdCBoYW5kbGVycyBhbmQgc2VsZiBhY2NlcHRlZCBtb2R1bGUgbG9hZFxuIFx0XHRpZiAoZXJyb3IpIHtcbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJmYWlsXCIpO1xuIFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gXHRcdH1cblxuIFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuIFx0XHRcdHJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fSk7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGhvdDogaG90Q3JlYXRlTW9kdWxlKG1vZHVsZUlkKSxcbiBcdFx0XHRwYXJlbnRzOiAoaG90Q3VycmVudFBhcmVudHNUZW1wID0gaG90Q3VycmVudFBhcmVudHMsIGhvdEN1cnJlbnRQYXJlbnRzID0gW10sIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCksXG4gXHRcdFx0Y2hpbGRyZW46IFtdXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBfX3dlYnBhY2tfaGFzaF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSBmdW5jdGlvbigpIHsgcmV0dXJuIGhvdEN1cnJlbnRIYXNoOyB9O1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIGhvdENyZWF0ZVJlcXVpcmUoXCIuL1RhYmxlUG9zL1RhYmxlUG9zLmpzXCIpKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9UYWJsZVBvcy9UYWJsZVBvcy5qc1wiKTtcbiIsImltcG9ydCB7XG4gICAgU3BpLCBcbiAgICBMb2dnZXIsIFxuICAgIFNlY3JldHMsIFxuICAgIE9wZW5UYWJsZXNFbnRyeSxcbiAgICBCaWxsU3RhdHVzUmVzcG9uc2UsXG4gICAgQmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZSxcbiAgICBUcmFuc2FjdGlvblR5cGUsXG4gICAgUmVmdW5kUmVzcG9uc2UsXG4gICAgUHVyY2hhc2VSZXNwb25zZSxcbiAgICBTZXR0bGVtZW50LFxuICAgIFN1Y2Nlc3NTdGF0ZSxcbiAgICBSZXF1ZXN0SWRIZWxwZXIsXG4gICAgU3BpRmxvdyxcbiAgICBTcGlTdGF0dXN9IGZyb20gJy4uL2xpYi9zcGktY2xpZW50LWpzJzsgLy8nQGFzc2VtYmx5cGF5bWVudHMvc3BpLWNsaWVudC1qcy9kaXN0L3NwaS1jbGllbnQtanMnO1xuXG4vLyA8c3VtbWFyeT5cbi8vIE5PVEU6IFRISVMgUFJPSkVDVCBVU0VTIFRIRSAyLjEueCBvZiB0aGUgU1BJIENsaWVudCBMaWJyYXJ5XG4vLyAgXG4vLyBUaGlzIGlzIHlvdXIgUE9TLiBUbyBpbnRlZ3JhdGUgd2l0aCBTUEksIHlvdSBuZWVkIHRvIGluc3RhbnRpYXRlIGEgU3BpIG9iamVjdFxuLy8gYW5kIGludGVyYWN0IHdpdGggaXQuXG4vLyBcbi8vIFByaW1hcmlseSB5b3UgbmVlZCB0byBpbXBsZW1lbnQgMyB0aGluZ3MuXG4vLyAxLiBTZXR0aW5ncyBTY3JlZW5cbi8vIDIuIFBhaXJpbmcgRmxvdyBTY3JlZW5cbi8vIDMuIFRyYW5zYWN0aW9uIEZsb3cgc2NyZWVuXG4vLyBcbi8vIFRvIHNlZSBsb2dzIGZyb20gc3BpLCBjaGVjayB0aGUgY29uc29sZVxuLy8gPC9zdW1tYXJ5PlxuY2xhc3MgVGFibGVQb3NcbntcbiAgICBjb25zdHJ1Y3Rvcihsb2csIHJlY2VpcHQsIGZsb3dfbXNnKSBcbiAgICB7XG4gICAgICAgIHRoaXMuX3NwaSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Bvc0lkID0gXCJUQUJMRVBPUzFcIjtcbiAgICAgICAgdGhpcy5fZWZ0cG9zQWRkcmVzcyA9IFwiMTkyLjE2OC4xLjFcIjtcbiAgICAgICAgdGhpcy5fc3BpU2VjcmV0cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSAnMi41LjAnO1xuICAgICAgICB0aGlzLl9zZXJpYWxOdW1iZXIgPSBcIlwiO1xuICAgICAgICB0aGlzLl9yY3B0X2Zyb21fZWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NpZ19mbG93X2Zyb21fZWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ByaW50X21lcmNoYW50X2NvcHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBNeSBCaWxscyBTdG9yZS5cbiAgICAgICAgLy8gS2V5ID0gQmlsbElkXG4gICAgICAgIC8vIFZhbHVlID0gQmlsbCBcbiAgICAgICAgdGhpcy5iaWxsc1N0b3JlID0ge307XG5cbiAgICAgICAgLy8gTG9va3VwIGRpY3Rpb25hcnkgb2YgdGFibGUgLT4gY3VycmVudCBvcmRlclxuICAgICAgICAvLyBLZXkgPSBUYWJsZUlkXG4gICAgICAgIC8vIFZhbHVlID0gQmlsbElkXG4gICAgICAgIHRoaXMudGFibGVUb0JpbGxNYXBwaW5nID0ge307XG5cbiAgICAgICAgLy8gQXNzZW1ibHkgUGF5bWVudHMgSW50ZWdyYXRpb24gYXNrcyB1cyB0byBwZXJzaXN0IHNvbWUgZGF0YSBvbiB0aGVpciBiZWhhbGZcbiAgICAgICAgLy8gU28gdGhhdCB0aGUgZWZ0cG9zIHRlcm1pbmFsIGNhbiByZWNvdmVyIHN0YXRlLlxuICAgICAgICAvLyBLZXkgPSBCaWxsSWRcbiAgICAgICAgLy8gVmFsdWUgPSBBc3NlbWJseSBQYXltZW50cyBCaWxsIERhdGFcbiAgICAgICAgdGhpcy5hc3NlbWJseUJpbGxEYXRhU3RvcmUgPSB7fTtcblxuICAgICAgICB0aGlzLl9wYXQgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2xvZyA9IGxvZztcbiAgICAgICAgdGhpcy5fcmVjZWlwdCA9IHJlY2VpcHQ7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnID0gZmxvd19tc2c7XG4gICAgfVxuXG4gICAgU3RhcnQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJTdGFydGluZyBUYWJsZVBvcy4uLlwiKTtcbiAgICAgICAgdGhpcy5Mb2FkUGVyc2lzdGVkU3RhdGUoKTtcblxuICAgICAgICAvLyByZWdpb24gU3BpIFNldHVwXG4gICAgICAgIC8vIFRoaXMgaXMgaG93IHlvdSBpbnN0YW50aWF0ZSBTcGkuXG4gICAgICAgIHRoaXMuX3NwaSA9IG5ldyBTcGkodGhpcy5fcG9zSWQsIHRoaXMuX3NlcmlhbE51bWJlciwgdGhpcy5fZWZ0cG9zQWRkcmVzcywgdGhpcy5fc3BpU2VjcmV0cyk7IC8vIEl0IGlzIG9rIHRvIG5vdCBoYXZlIHRoZSBzZWNyZXRzIHlldCB0byBzdGFydCB3aXRoLlxuICAgICAgICB0aGlzLl9zcGkuQ29uZmlnLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdGhpcy5fcmNwdF9mcm9tX2VmdHBvcztcbiAgICAgICAgdGhpcy5fc3BpLkNvbmZpZy5TaWduYXR1cmVGbG93T25FZnRwb3MgPSB0aGlzLl9zaWdfZmxvd19mcm9tX2VmdHBvcztcbiAgICAgICAgdGhpcy5fc3BpLkNvbmZpZy5QcmludE1lcmNoYW50Q29weSA9IHRoaXMuX3ByaW50X21lcmNoYW50X2NvcHk7XG5cbiAgICAgICAgdGhpcy5fc3BpLlNldFBvc0luZm8oXCJhc3NlbWJseVwiLCB0aGlzLl92ZXJzaW9uKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdTdGF0dXNDaGFuZ2VkJywgKGUpID0+IHRoaXMuT25TcGlTdGF0dXNDaGFuZ2VkKGUuZGV0YWlsKSk7IFxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdQYWlyaW5nRmxvd1N0YXRlQ2hhbmdlZCcsIChlKSA9PiB0aGlzLk9uUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQoZS5kZXRhaWwpKTsgXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1NlY3JldHNDaGFuZ2VkJywgKGUpID0+IHRoaXMuT25TZWNyZXRzQ2hhbmdlZChlLmRldGFpbCkpOyBcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignVHhGbG93U3RhdGVDaGFuZ2VkJywgKGUpID0+IHRoaXMuT25UeEZsb3dTdGF0ZUNoYW5nZWQoZS5kZXRhaWwpKTsgXG5cbiAgICAgICAgdGhpcy5fcGF0ID0gdGhpcy5fc3BpLkVuYWJsZVBheUF0VGFibGUoKTtcbiAgICAgICAgdGhpcy5FbmFibGVQYXlBdFRhYmxlQ29uZmlncygpO1xuICAgICAgICB0aGlzLl9wYXQuR2V0QmlsbFN0YXR1cyA9IHRoaXMuUGF5QXRUYWJsZUdldEJpbGxEZXRhaWxzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX3BhdC5CaWxsUGF5bWVudFJlY2VpdmVkID0gdGhpcy5QYXlBdFRhYmxlQmlsbFBheW1lbnRSZWNlaXZlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9wYXQuQmlsbFBheW1lbnRGbG93RW5kZWQgPSB0aGlzLlBheUF0VGFibGVCaWxsUGF5bWVudEZsb3dFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9wYXQuR2V0T3BlblRhYmxlcyA9IHRoaXMuUGF5QXRUYWJsZUdldE9wZW5UYWJsZXMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fc3BpLlN0YXJ0KCk7XG5cbiAgICAgICAgLy8gQW5kIE5vdyB3ZSBqdXN0IGFjY2VwdCB1c2VyIGlucHV0IGFuZCBkaXNwbGF5IHRvIHRoZSB1c2VyIHdoYXQgaXMgaGFwcGVuaW5nLlxuXG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIFdlbGNvbWUgdG8gVGFibGVQb3MgIVwiKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuUHJpbnRTdGF0dXNBbmRBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuQWNjZXB0VXNlcklucHV0KCk7XG4gICAgfVxuXG4gICAgRW5hYmxlUGF5QXRUYWJsZUNvbmZpZ3MoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcGF0LkNvbmZpZy5QYXlBdFRhYmxlRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhdC5Db25maWcuT3BlcmF0b3JJZEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXQuQ29uZmlnLkFsbG93ZWRPcGVyYXRvcklkcyA9IFtdO1xuICAgICAgICB0aGlzLl9wYXQuQ29uZmlnLkVxdWFsU3BsaXRFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGF0LkNvbmZpZy5TcGxpdEJ5QW1vdW50RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3BhdC5Db25maWcuU3VtbWFyeVJlcG9ydEVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9wYXQuQ29uZmlnLlRpcHBpbmdFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGF0LkNvbmZpZy5MYWJlbE9wZXJhdG9ySWQgPSBcIk9wZXJhdG9yIElEXCI7XG4gICAgICAgIHRoaXMuX3BhdC5Db25maWcuTGFiZWxQYXlCdXR0b24gPSBcIlBheSBhdCBUYWJsZVwiO1xuICAgICAgICB0aGlzLl9wYXQuQ29uZmlnLkxhYmVsVGFibGVJZCA9IFwiVGFibGUgTnVtYmVyXCI7XG4gICAgICAgIHRoaXMuX3BhdC5Db25maWcuVGFibGVSZXRyaWV2YWxFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBPblR4Rmxvd1N0YXRlQ2hhbmdlZCh0eFN0YXRlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuQ2xlYXIoKTtcbiAgICAgICAgdGhpcy5QcmludFN0YXR1c0FuZEFjdGlvbnMoKTtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIj4gXCIpO1xuICAgIH1cblxuICAgIE9uUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQocGFpcmluZ0Zsb3dTdGF0ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkNsZWFyKCk7XG4gICAgICAgIHRoaXMuUHJpbnRTdGF0dXNBbmRBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCI+IFwiKTtcbiAgICB9XG5cbiAgICBPblNlY3JldHNDaGFuZ2VkKHNlY3JldHMpXG4gICAge1xuICAgICAgICB0aGlzLl9zcGlTZWNyZXRzID0gc2VjcmV0cztcbiAgICAgICAgaWYgKHNlY3JldHMgIT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYCMgSSBIYXZlIFNlY3JldHM6ICR7c2VjcmV0cy5FbmNLZXl9JHtzZWNyZXRzLkhtYWNLZXl9LiBQZXJzaXN0IHRoZW0gU2VjdXJlbHkuYCk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnRW5jS2V5Jywgc2VjcmV0cy5FbmNLZXkpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0htYWNLZXknLCBzZWNyZXRzLkhtYWNLZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYCMgSSBIYXZlIExvc3QgdGhlIFNlY3JldHMsIGkuZS4gVW5wYWlyZWQuIERlc3Ryb3kgdGhlIHBlcnNpc3RlZCBzZWNyZXRzLmApO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0VuY0tleScpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ0htYWNLZXknKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGxlZCB3aGVuIHdlIHJlY2VpdmVkIGEgU3RhdHVzIFVwZGF0ZSBpLmUuIFVucGFpcmVkL1BhaXJlZENvbm5lY3RpbmcvUGFpcmVkQ29ubmVjdGVkXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwic2VuZGVyXCI+PC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInNwaVN0YXR1c1wiPjwvcGFyYW0+XG4gICAgT25TcGlTdGF0dXNDaGFuZ2VkKHNwaVN0YXR1cylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvZy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9sb2cuaW5mbyhgIyAtLT4gU1BJIFN0YXR1cyBDaGFuZ2VkOiAke3NwaVN0YXR1c31gKTtcbiAgICAgICAgdGhpcy5QcmludFN0YXR1c0FuZEFjdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvLyByZWdpb24gUGF5QXRUYWJsZSBEZWxlZ2F0ZXNcblxuICAgIC8vIDxwYXJhbSBuYW1lPVwiYmlsbElkXCI+PC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInRhYmxlSWRcIj48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwib3BlcmF0b3JJZFwiPjwvcGFyYW0+XG4gICAgLy8gPHJldHVybnM+PC9yZXR1cm5zPlxuICAgIFBheUF0VGFibGVHZXRCaWxsRGV0YWlscyhiaWxsSWQsIHRhYmxlSWQsIG9wZXJhdG9ySWQsIHBheW1lbnRGbG93U3RhcnRlZClcbiAgICB7XG4gICAgICAgIGlmICghYmlsbElkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBXZSB3ZXJlIG5vdCBnaXZlbiBhIGJpbGxJZCwganVzdCBhIHRhYmxlSWQuXG4gICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgd2UgYXJlIGJlaW5nIGFza2VkIGZvciB0aGUgYmlsbCBieSBpdHMgdGFibGUgbnVtYmVyLlxuXG4gICAgICAgICAgICAvLyBMZXQncyBzZWUgaWYgd2UgaGF2ZSBpdC5cbiAgICAgICAgICAgIGlmICghdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGZpbmQgYSBiaWxsIGZvciB0aGlzIHRhYmxlLlxuICAgICAgICAgICAgICAgIC8vIFdlIGp1c3QgdGVsbCB0aGUgRWZ0cG9zIHRoYXQuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEJpbGxTdGF0dXNSZXNwb25zZSgpLCB7IFJlc3VsdDogQmlsbFJldHJpZXZhbFJlc3VsdC5JTlZBTElEX1RBQkxFX0lEIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBXZSBoYXZlIGEgYmlsbElkIGZvciB0aGlzIFRhYmxlLlxuICAgICAgICAgICAgLy8gTGV0J3Mgc2V0IGl0IHNvIHdlIGNhbiByZXRyaWV2ZSBpdC5cbiAgICAgICAgICAgIGJpbGxJZCA9IHRoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlSWRdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJpbGxzU3RvcmVbYmlsbElkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gV2UgY291bGQgbm90IGZpbmQgdGhlIGJpbGxJZCB0aGF0IHdhcyBhc2tlZCBmb3IuXG4gICAgICAgICAgICAvLyBXZSBqdXN0IHRlbGwgdGhlIEVmdHBvcyB0aGF0LlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEJpbGxTdGF0dXNSZXNwb25zZSgpLCB7IFJlc3VsdDogQmlsbFJldHJpZXZhbFJlc3VsdC5JTlZBTElEX0JJTExfSUQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbXlCaWxsID0gdGhpcy5iaWxsc1N0b3JlW2JpbGxJZF07XG5cbiAgICAgICAgaWYgKHRoaXMuYmlsbHNTdG9yZVtiaWxsSWRdLkxvY2tlZCAmJiBwYXltZW50Rmxvd1N0YXJ0ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBUYWJsZSBpcyBMb2NrZWQuYCk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihuZXcgQmlsbFN0YXR1c1Jlc3BvbnNlKCksIHsgUmVzdWx0OiBCaWxsUmV0cmlldmFsUmVzdWx0LklOVkFMSURfVEFCTEVfSUQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJpbGxzU3RvcmVbYmlsbElkXS5Mb2NrZWQgPSBwYXltZW50Rmxvd1N0YXJ0ZWQ7XG5cbiAgICAgICAgdmFyIHJlc3BvbnNlID0gT2JqZWN0LmFzc2lnbihuZXcgQmlsbFN0YXR1c1Jlc3BvbnNlKCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIFJlc3VsdDogQmlsbFJldHJpZXZhbFJlc3VsdC5TVUNDRVNTLFxuICAgICAgICAgICAgQmlsbElkOiBiaWxsSWQsXG4gICAgICAgICAgICBUYWJsZUlkOiB0YWJsZUlkLFxuICAgICAgICAgICAgT3BlcmF0b3JJZDogb3BlcmF0b3JJZCxcbiAgICAgICAgICAgIFRvdGFsQW1vdW50OiBteUJpbGwuVG90YWxBbW91bnQsXG4gICAgICAgICAgICBPdXRzdGFuZGluZ0Ftb3VudDogbXlCaWxsLk91dHN0YW5kaW5nQW1vdW50XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBiaWxsRGF0YSA9IHRoaXMuYXNzZW1ibHlCaWxsRGF0YVN0b3JlW2JpbGxJZF07XG5cbiAgICAgICAgcmVzcG9uc2UuQmlsbERhdGEgPSBiaWxsRGF0YTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cblxuICAgIC8vIDxwYXJhbSBuYW1lPVwiYmlsbFBheW1lbnRcIj48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwidXBkYXRlZEJpbGxEYXRhXCI+PC9wYXJhbT5cbiAgICBQYXlBdFRhYmxlQmlsbFBheW1lbnRSZWNlaXZlZChiaWxsUGF5bWVudCwgdXBkYXRlZEJpbGxEYXRhKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmJpbGxzU3RvcmVbYmlsbFBheW1lbnQuQmlsbElkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gV2UgY2Fubm90IGZpbmQgdGhpcyBiaWxsLlxuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEJpbGxTdGF0dXNSZXNwb25zZSgpLCB7IFJlc3VsdDogQmlsbFJldHJpZXZhbFJlc3VsdC5JTlZBTElEX0JJTExfSUQgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEdvdCBhICR7YmlsbFBheW1lbnQuUGF5bWVudFR5cGV9IFBheW1lbnQgYWdhaW5zdCBiaWxsICR7YmlsbFBheW1lbnQuQmlsbElkfSBmb3IgdGFibGUgJHtiaWxsUGF5bWVudC5UYWJsZUlkfWApO1xuICAgICAgICB2YXIgYmlsbCA9IHRoaXMuYmlsbHNTdG9yZVtiaWxsUGF5bWVudC5CaWxsSWRdO1xuICAgICAgICBiaWxsLk91dHN0YW5kaW5nQW1vdW50IC09IGJpbGxQYXltZW50LlB1cmNoYXNlQW1vdW50O1xuICAgICAgICBiaWxsLnRpcHBlZEFtb3VudCArPSBiaWxsUGF5bWVudC5UaXBBbW91bnQ7XG4gICAgICAgIGJpbGwuU3VyY2hhcmdlQW1vdW50ICs9IGJpbGxQYXltZW50LlN1cmNoYXJnZUFtb3VudDtcbiAgICAgICAgYmlsbC5Mb2NrZWQgPSBiaWxsLk91dHN0YW5kaW5nQW1vdW50ID09IDAgPyBmYWxzZSA6IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgVXBkYXRlZCBCaWxsOiAke0pTT04uc3RyaW5naWZ5KGJpbGwpfWApO1xuXG4gICAgICAgIC8vIEhlcmUgeW91IGNhbiBhY2Nlc3Mgb3RoZXIgZGF0YSB0aGF0IHlvdSBtaWdodCB3YW50IHRvIHN0b3JlIGZyb20gdGhpcyBwYXltZW50LCBmb3IgZXhhbXBsZSB0aGUgbWVyY2hhbnQgcmVjZWlwdC5cbiAgICAgICAgLy8gYmlsbFBheW1lbnQuUHVyY2hhc2VSZXNwb25zZS5HZXRNZXJjaGFudFJlY2VpcHQoKTtcblxuICAgICAgICAvLyBJdCBpcyBpbXBvcnRhbnQgdGhhdCB3ZSBwZXJzaXN0IHRoaXMgZGF0YSBvbiBiZWhhbGYgb2YgYXNzZW1ibHkuXG4gICAgICAgIHRoaXMuYXNzZW1ibHlCaWxsRGF0YVN0b3JlW2JpbGxQYXltZW50LkJpbGxJZF0gPSB1cGRhdGVkQmlsbERhdGE7XG5cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3IEJpbGxTdGF0dXNSZXNwb25zZSgpLFxuICAgICAgICB7XG4gICAgICAgICAgICBSZXN1bHQ6IEJpbGxSZXRyaWV2YWxSZXN1bHQuU1VDQ0VTUyxcbiAgICAgICAgICAgIE91dHN0YW5kaW5nQW1vdW50OiBiaWxsLk91dHN0YW5kaW5nQW1vdW50LFxuICAgICAgICAgICAgVG90YWxBbW91bnQ6IGJpbGwuVG90YWxBbW91bnRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgUGF5QXRUYWJsZUJpbGxQYXltZW50Rmxvd0VuZGVkKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB2YXIgYmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZSA9IG5ldyBCaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlKG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmICghYmlsbHNTdG9yZVtiaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlLkJpbGxJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFdlIGNhbm5vdCBmaW5kIHRoaXMgYmlsbC5cbiAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYEluY29ycmVjdCBCaWxsIElkIWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG15QmlsbCA9IGJpbGxzU3RvcmVbYmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZS5CaWxsSWRdO1xuICAgICAgICBteUJpbGwuTG9ja2VkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgXG4gICAgICAgICAgICBCaWxsIElkICAgICAgICAgICAgICAgIDogJHtiaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlLkJpbGxJZH1cbiAgICAgICAgICAgIFRhYmxlICAgICAgICAgICAgICAgICAgOiAke2JpbGxQYXltZW50Rmxvd0VuZGVkUmVzcG9uc2UuVGFibGVJZH1cbiAgICAgICAgICAgIE9wZXJhdG9yIElkICAgICAgICAgICAgOiAke2JpbGxQYXltZW50Rmxvd0VuZGVkUmVzcG9uc2UuT3BlcmF0b3JJZH1cbiAgICAgICAgICAgIEJpbGwgT3V0U3RhbmRpbmcgQW1vdW50OiAkeyhiaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlLkJpbGxPdXRzdGFuZGluZ0Ftb3VudCAvIDEwMC4wKS50b0ZpeGVkKDIpfVxuICAgICAgICAgICAgQmlsbCBUb3RhbCBBbW91bnQgICAgICA6ICR7KGJpbGxQYXltZW50Rmxvd0VuZGVkUmVzcG9uc2UuQmlsbFRvdGFsQW1vdW50IC8gMTAwLjApLnRvRml4ZWQoMil9XG4gICAgICAgICAgICBDYXJkIFRvdGFsIENvdW50ICAgICAgIDogJHtiaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlLkNhcmRUb3RhbENvdW50fVxuICAgICAgICAgICAgQ2FyZCBUb3RhbCBBbW91bnQgICAgICA6ICR7YmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZS5DYXJkVG90YWxBbW91bnR9XG4gICAgICAgICAgICBDYXNoIFRvdGFsIENvdW50ICAgICAgIDogJHtiaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlLkNhc2hUb3RhbENvdW50fVxuICAgICAgICAgICAgQ2FzaCBUb3RhbCBBbW91bnQgICAgICA6ICR7YmlsbFBheW1lbnRGbG93RW5kZWRSZXNwb25zZS5DYXNoVG90YWxBbW91bnR9XG4gICAgICAgICAgICBMb2NrZWQgICAgICAgICAgICAgICAgIDogJHtteUJpbGwuTG9ja2VkfWApO1xuICAgIH1cblxuICAgIFBheUF0VGFibGVHZXRPcGVuVGFibGVzKG9wZXJhdG9ySWQpXG4gICAge1xuICAgICAgICB2YXIgb3BlblRhYmxlTGlzdCA9IFtdO1xuICAgICAgICB2YXIgaXNPcGVuVGFibGVzID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMudGFibGVUb0JpbGxNYXBwaW5nKS5sZW5ndGggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IodmFyIHRhYmxlSWQgaW4gdGhpcy50YWJsZVRvQmlsbE1hcHBpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLnRhYmxlVG9CaWxsTWFwcGluZ1t0YWJsZUlkXTtcblxuICAgICAgICAgICAgICAgIGlmIChiaWxsc1N0b3JlW2l0ZW0uVmFsdWVdLk9wZXJhdG9ySWQgPT0gb3BlcmF0b3JJZCAmJiBiaWxsc1N0b3JlW2l0ZW0uVmFsdWVdLk91dHN0YW5kaW5nQW1vdW50ID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNPcGVuVGFibGVzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjICAgIE9wZW4gVGFibGVzOiBgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzT3BlblRhYmxlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgb3BlblRhYmxlc0l0ZW0gPSBPYmplY3QuYXNzaWduKG5ldyBPcGVuVGFibGVzRW50cnkoKSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgVGFibGVJZDogaXRlbS5LZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBMYWJlbDogYmlsbHNTdG9yZVtpdGVtLlZhbHVlXS5MYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEJpbGxPdXRzdGFuZGluZ0Ftb3VudDogYmlsbHNTdG9yZVtpdGVtLlZhbHVlXS5PdXRzdGFuZGluZ0Ftb3VudFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGBUYWJsZSBJZCA6ICR7aXRlbS5LZXl9LCBCaWxsIElkOiAke2JpbGxzU3RvcmVbaXRlbS5WYWx1ZV0uQmlsbElkfSwgT3V0c3RhbmRpbmcgQW1vdW50OiAkJHsoYmlsbHNTdG9yZVtpdGVtLlZhbHVlXS5PdXRzdGFuZGluZ0Ftb3VudCAvIDEwMCkudG9GaXhlZCgyKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgb3BlblRhYmxlTGlzdC5wdXNoKG9wZW5UYWJsZXNJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWlzT3BlblRhYmxlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBObyBPcGVuIFRhYmxlcy5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvcGVuVGFibGVMaXN0SnNvbiA9IEpTT04uc3RyaW5naWZ5KG9wZW5UYWJsZUxpc3QpO1xuXG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBHZXRPcGVuVGFibGVzUmVzcG9uc2UoKSwgXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRhYmxlRGF0YTogb3BlblRhYmxlTGlzdEpzb25cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZW5kcmVnaW9uXG5cbiAgICBQcmludFN0YXR1c0FuZEFjdGlvbnMoKVxuICAgIHtcbiAgICAgICAgdGhpcy5QcmludEZsb3dJbmZvKCk7XG5cbiAgICAgICAgdGhpcy5QcmludEFjdGlvbnMoKTtcblxuICAgICAgICB0aGlzLlByaW50UGFpcmluZ1N0YXR1cygpO1xuICAgIH1cblxuICAgIFByaW50Rmxvd0luZm8oKVxuICAgIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zcGkuQ3VycmVudEZsb3cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgU3BpRmxvdy5QYWlyaW5nOlxuICAgICAgICAgICAgICAgIHZhciBwYWlyaW5nU3RhdGUgPSB0aGlzLl9zcGkuQ3VycmVudFBhaXJpbmdGbG93U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMjIyBQQUlSSU5HIFBST0NFU1MgVVBEQVRFICMjI1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjICR7cGFpcmluZ1N0YXRlLk1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBGaW5pc2hlZD8gJHtwYWlyaW5nU3RhdGUuRmluaXNoZWR9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBTdWNjZXNzZnVsPyAke3BhaXJpbmdTdGF0ZS5TdWNjZXNzZnVsfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgQ29uZmlybWF0aW9uIENvZGU6ICR7cGFpcmluZ1N0YXRlLkNvbmZpcm1hdGlvbkNvZGV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBXYWl0aW5nIENvbmZpcm0gZnJvbSBFZnRwb3M/ICR7cGFpcmluZ1N0YXRlLkF3YWl0aW5nQ2hlY2tGcm9tRWZ0cG9zfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgV2FpdGluZyBDb25maXJtIGZyb20gUE9TPyAke3BhaXJpbmdTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvc31gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBTcGlGbG93LlRyYW5zYWN0aW9uOlxuICAgICAgICAgICAgICAgIHZhciB0eFN0YXRlID0gdGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyMjIFRYIFBST0NFU1MgVVBEQVRFICMjI1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjICR7dHhTdGF0ZS5EaXNwbGF5TWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFBvc1JlZklkOiAke3R4U3RhdGUuUG9zUmVmSWR9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBUeXBlOiAke3R4U3RhdGUuVHlwZX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJlcXVlc3QgQW1vdW50OiAkJHsodHhTdGF0ZS5BbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgV2FpdGluZyBGb3IgU2lnbmF0dXJlOiAke3R4U3RhdGUuQXdhaXRpbmdTaWduYXR1cmVDaGVja31gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEF0dGVtcHRpbmcgdG8gQ2FuY2VsIDogJHt0eFN0YXRlLkF0dGVtcHRpbmdUb0NhbmNlbH1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEZpbmlzaGVkOiAke3R4U3RhdGUuRmluaXNoZWR9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBTdWNjZXNzOiAke3R4U3RhdGUuU3VjY2Vzc31gKTtcblxuICAgICAgICAgICAgICAgIGlmICh0eFN0YXRlLkZpbmlzaGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICBzd2l0Y2godHhTdGF0ZS5TdWNjZXNzKSBcbiAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFN1Y2Nlc3NTdGF0ZS5TdWNjZXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHhTdGF0ZS5UeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuUHVyY2hhc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFdPT0hPTyAtIFdFIEdPVCBQQUlEIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHB1cmNoYXNlUmVzcG9uc2UgPSBuZXcgUHVyY2hhc2VSZXNwb25zZSh0eFN0YXRlLlJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUmVzcG9uc2U6ICR7cHVyY2hhc2VSZXNwb25zZS5HZXRSZXNwb25zZVRleHQoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUlJOOiAke3B1cmNoYXNlUmVzcG9uc2UuR2V0UlJOKCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFNjaGVtZTogJHtwdXJjaGFzZVJlc3BvbnNlLlNjaGVtZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEN1c3RvbWVyIFJlY2VpcHQ6YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWNlaXB0LkluZm8oIXB1cmNoYXNlUmVzcG9uc2UuV2FzQ3VzdG9tZXJSZWNlaXB0UHJpbnRlZCgpID8gcHVyY2hhc2VSZXNwb25zZS5HZXRDdXN0b21lclJlY2VpcHQoKS50cmltKCkgOiBgIyBQUklOVEVEIEZST00gRUZUUE9TYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFBVUkNIQVNFOiAke3B1cmNoYXNlUmVzcG9uc2UuR2V0UHVyY2hhc2VBbW91bnQoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgVElQOiAke3B1cmNoYXNlUmVzcG9uc2UuR2V0VGlwQW1vdW50KCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIENBU0hPVVQ6ICR7cHVyY2hhc2VSZXNwb25zZS5HZXRDYXNob3V0QW1vdW50KCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEJBTktFRCBOT04tQ0FTSCBBTU9VTlQ6ICR7cHVyY2hhc2VSZXNwb25zZS5HZXRCYW5rTm9uQ2FzaEFtb3VudCgpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBCQU5LRUQgQ0FTSCBBTU9VTlQ6ICR7cHVyY2hhc2VSZXNwb25zZS5HZXRCYW5rQ2FzaEFtb3VudCgpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgVHJhbnNhY3Rpb25UeXBlLlJlZnVuZDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUkVGVU5EIEdJVkVOLSBPSCBXRUxMIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlZnVuZFJlc3BvbnNlID0gbmV3IFJlZnVuZFJlc3BvbnNlKHR4U3RhdGUuUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBSZXNwb25zZTogJHtyZWZ1bmRSZXNwb25zZS5HZXRSZXNwb25zZVRleHQoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUlJOOiAke3JlZnVuZFJlc3BvbnNlLkdldFJSTigpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBTY2hlbWU6ICR7cmVmdW5kUmVzcG9uc2UuU2NoZW1lTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgQ3VzdG9tZXIgUmVjZWlwdDpgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpcHQuSW5mbyghcmVmdW5kUmVzcG9uc2UuV2FzQ3VzdG9tZXJSZWNlaXB0UHJpbnRlZCgpID8gcmVmdW5kUmVzcG9uc2UuR2V0Q3VzdG9tZXJSZWNlaXB0KCkudHJpbSgpIDogXCIjIFBSSU5URUQgRlJPTSBFRlRQT1NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJFRlVOREVEIEFNT1VOVDogJHtyZWZ1bmRSZXNwb25zZS5HZXRSZWZ1bmRBbW91bnQoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRyYW5zYWN0aW9uVHlwZS5TZXR0bGU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBTRVRUTEVNRU5UIFNVQ0NFU1NGVUwhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR4U3RhdGUuUmVzcG9uc2UgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2V0dGxlUmVzcG9uc2UgPSBuZXcgU2V0dGxlbWVudCh0eFN0YXRlLlJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJlc3BvbnNlOiAke3NldHRsZVJlc3BvbnNlLkdldFJlc3BvbnNlVGV4dCgpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIE1lcmNoYW50IFJlY2VpcHQ6XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpcHQuSW5mbyhzZXR0bGVSZXNwb25zZS5HZXRSZWNlaXB0KCkudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBTdWNjZXNzU3RhdGUuRmFpbGVkOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHhTdGF0ZS5UeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuUHVyY2hhc2U6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFdFIERJRCBOT1QgR0VUIFBBSUQgOihgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eFN0YXRlLlJlc3BvbnNlICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHB1cmNoYXNlUmVzcG9uc2UgPSBuZXcgUHVyY2hhc2VSZXNwb25zZSh0eFN0YXRlLlJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIEVycm9yOiAke3R4U3RhdGUuUmVzcG9uc2UuR2V0RXJyb3IoKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJlc3BvbnNlOiAke3B1cmNoYXNlUmVzcG9uc2UuR2V0UmVzcG9uc2VUZXh0KCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBSUk46ICR7cHVyY2hhc2VSZXNwb25zZS5HZXRSUk4oKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFNjaGVtZTogJHtwdXJjaGFzZVJlc3BvbnNlLlNjaGVtZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBDdXN0b21lciBSZWNlaXB0OmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpcHQuSW5mbyghcHVyY2hhc2VSZXNwb25zZS5XYXNDdXN0b21lclJlY2VpcHRQcmludGVkKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBwdXJjaGFzZVJlc3BvbnNlLkdldEN1c3RvbWVyUmVjZWlwdCgpLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGAjIFBSSU5URUQgRlJPTSBFRlRQT1NgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRyYW5zYWN0aW9uVHlwZS5SZWZ1bmQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJFRlVORCBGQUlMRUQhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHhTdGF0ZS5SZXNwb25zZSAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWZ1bmRSZXNwb25zZSA9IG5ldyBSZWZ1bmRSZXNwb25zZSh0eFN0YXRlLlJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJlc3BvbnNlOiAke3JlZnVuZFJlc3BvbnNlLkdldFJlc3BvbnNlVGV4dCgpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUlJOOiAke3JlZnVuZFJlc3BvbnNlLkdldFJSTigpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgU2NoZW1lOiAke3JlZnVuZFJlc3BvbnNlLlNjaGVtZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBDdXN0b21lciBSZWNlaXB0OmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpcHQuSW5mbyghcmVmdW5kUmVzcG9uc2UuV2FzQ3VzdG9tZXJSZWNlaXB0UHJpbnRlZCgpID8gcmVmdW5kUmVzcG9uc2UuR2V0Q3VzdG9tZXJSZWNlaXB0KCkudHJpbSgpIDogXCIjIFBSSU5URUQgRlJPTSBFRlRQT1NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuU2V0dGxlOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgU0VUVExFTUVOVCBGQUlMRUQhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR4U3RhdGUuUmVzcG9uc2UgIT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2V0dGxlUmVzcG9uc2UgPSBuZXcgU2V0dGxlbWVudCh0eFN0YXRlLlJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIFJlc3BvbnNlOiAke3NldHRsZVJlc3BvbnNlLkdldFJlc3BvbnNlVGV4dCgpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgRXJyb3I6ICR7dHhTdGF0ZS5SZXNwb25zZS5HZXRFcnJvcigpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIE1lcmNoYW50IFJlY2VpcHQ6XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpcHQuSW5mbyhzZXR0bGVSZXNwb25zZS5HZXRSZWNlaXB0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBNT1RFTCBQT1MgRE9FU04nVCBLTk9XIFdIQVQgVE8gRE8gV0lUSCBUSElTIFRYIFRZUEUgV0hFTiBJVCBGQUlMU1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgU3VjY2Vzc1N0YXRlLlVua25vd246XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eFN0YXRlLlR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFRyYW5zYWN0aW9uVHlwZS5QdXJjaGFzZTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIFdFJ1JFIE5PVCBRVUlURSBTVVJFIFdIRVRIRVIgV0UgR09UIFBBSUQgT1IgTk9UIDovXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgQ0hFQ0sgVEhFIExBU1QgVFJBTlNBQ1RJT04gT04gVEhFIEVGVFBPUyBJVFNFTEYgRlJPTSBUSEUgQVBQUk9QUklBVEUgTUVOVSBJVEVNLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIElGIFlPVSBDT05GSVJNIFRIQVQgVEhFIENVU1RPTUVSIFBBSUQsIENMT1NFIFRIRSBPUkRFUi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBPVEhFUldJU0UsIFJFVFJZIFRIRSBQQVlNRU5UIEZST00gU0NSQVRDSC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBUcmFuc2FjdGlvblR5cGUuUmVmdW5kOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgV0UnUkUgTk9UIFFVSVRFIFNVUkUgV0hFVEhFUiBUSEUgUkVGVU5EIFdFTlQgVEhST1VHSCBPUiBOT1QgOi9cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBDSEVDSyBUSEUgTEFTVCBUUkFOU0FDVElPTiBPTiBUSEUgRUZUUE9TIElUU0VMRiBGUk9NIFRIRSBBUFBST1BSSUFURSBNRU5VIElURU0uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgWU9VIENBTiBUSEUgVEFLRSBUSEUgQVBQUk9QUklBVEUgQUNUSU9OLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFByaW50QWN0aW9ucygpXG4gICAge1xuICAgICAgICAvLyBMaXN0IG9mIGlucHV0IGNvbnRyb2xzIHdoaWNoIGFyZSBlbmFibGVkIC8gc2hvd24gZm9yIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHN0YXRlXG4gICAgICAgIGxldCBpbnB1dHNFbmFibGVkICAgPSBbXTtcbiAgICAgICAgbGV0IHN0YXR1c0VsICAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGF0dXNfaW5kaWNhdG9yJyk7XG4gICAgICAgIGxldCBwcmltYXJ5U3RhdHVzRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWFyeV9zdGF0dXMnKTtcbiAgICAgICAgbGV0IGZsb3dTdGF0dXNFbCAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG93X3N0YXR1cycpO1xuICAgICAgICBsZXQgZmxvd1N0YXR1c0hlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmxvd19zdGF0dXNfaGVhZGluZycpO1xuXG4gICAgICAgIHN0YXR1c0VsLmRhdGFzZXRbJ3N0YXR1cyddICA9IHRoaXMuX3NwaS5DdXJyZW50U3RhdHVzO1xuICAgICAgICBzdGF0dXNFbC5kYXRhc2V0WydmbG93J10gICAgPSB0aGlzLl9zcGkuQ3VycmVudEZsb3c7XG4gICAgICAgIHByaW1hcnlTdGF0dXNFbC5pbm5lclRleHQgICA9IHRoaXMuX3NwaS5DdXJyZW50U3RhdHVzO1xuICAgICAgICBmbG93U3RhdHVzRWwuaW5uZXJUZXh0ICAgICAgPSB0aGlzLl9zcGkuQ3VycmVudEZsb3c7XG4gICAgICAgIGZsb3dTdGF0dXNIZWFkaW5nLmlubmVyVGV4dCA9IHRoaXMuX3NwaS5DdXJyZW50RmxvdztcblxuICAgICAgICAvLyBBdmFpbGFibGUgQWN0aW9ucyBkZXBlbmQgb24gdGhlIGN1cnJlbnQgc3RhdHVzIChVbnBhaXJlZC9QYWlyZWRDb25uZWN0aW5nL1BhaXJlZENvbm5lY3RlZClcbiAgICAgICAgc3dpdGNoICh0aGlzLl9zcGkuQ3VycmVudFN0YXR1cylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBTcGlTdGF0dXMuVW5wYWlyZWQ6IC8vVW5wYWlyZWQuLi5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3NwaS5DdXJyZW50RmxvdylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgU3BpRmxvdy5JZGxlOiAvLyBVbnBhaXJlZCwgSWRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdwb3NfaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnZWZ0cG9zX2FkZHJlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgncHJpbnRfbWVyY2hhbnRfY29weScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdyY3B0X2Zyb21fZWZ0cG9zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ3NpZ19mbG93X2Zyb21fZWZ0cG9zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ3BhaXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnc2F2ZV9zZXR0aW5ncycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcGlGbG93LlBhaXJpbmc6IC8vIFVucGFpcmVkLCBQYWlyaW5nRmxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhaXJpbmdTdGF0ZSA9IHRoaXMuX3NwaS5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWlyaW5nU3RhdGUuQXdhaXRpbmdDaGVja0Zyb21Qb3MpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdwYWlyX2NvbmZpcm0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGFpcmluZ1N0YXRlLkZpbmlzaGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgncGFpcl9jYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ29rJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBjYXNlIFNwaUZsb3cuVHJhbnNhY3Rpb246IC8vIFVucGFpcmVkLCBUcmFuc2FjdGlvbkZsb3cgLSBTaG91bGQgbmV2ZXIgYmUgdGhlIGNhc2UhXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgIyAuLiBVbmV4cGVjdGVkIEZsb3cgLi4gJHt0aGlzLl9zcGkuQ3VycmVudEZsb3d9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNwaVN0YXR1cy5QYWlyZWRDb25uZWN0aW5nOiAvLyBUaGlzIGlzIHN0aWxsIGNvbnNpZGVyZWQgYXMgYSBQYWlyZWQga2luZCBvZiBzdGF0ZSwgYnV0Li4uXG4gICAgICAgICAgICAgICAgLy8gLi4gd2UgZ2l2ZSB1c2VyIHRoZSBvcHRpb24gb2YgY2hhbmdpbmcgSVAgYWRkcmVzcywganVzdCBpbiBjYXNlIHRoZSBFRlRQT1MgZ290IGEgbmV3IG9uZSBpbiB0aGUgbWVhbndoaWxlXG4gICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdlZnRwb3NfYWRkcmVzcycpO1xuICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgncHJpbnRfbWVyY2hhbnRfY29weScpO1xuICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgncmNwdF9mcm9tX2VmdHBvcycpO1xuICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnc2lnX2Zsb3dfZnJvbV9lZnRwb3MnKTtcbiAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ3NhdmVfc2V0dGluZ3MnKTtcbiAgICAgICAgICAgICAgICAvLyAuLiBidXQgb3RoZXJ3aXNlIHdlIGdpdmUgdGhlIHNhbWUgb3B0aW9ucyBhcyBQYWlyZWRDb25uZWN0ZWRcbiAgICAgICAgICAgICAgICAvLyBnb3RvIGNhc2UgU3BpU3RhdHVzLlBhaXJlZENvbm5lY3RlZDtcblxuICAgICAgICAgICAgY2FzZSBTcGlTdGF0dXMuUGFpcmVkQ29ubmVjdGVkOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5fc3BpLkN1cnJlbnRGbG93KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBTcGlGbG93LklkbGU6IC8vIFBhaXJlZCwgSWRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdhbW91bnRfaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgndGFibGVfaW5wdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnYmlsbF9pZF9pbnB1dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdzYXZlX3NldHRpbmdzJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdhZGQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnY2xvc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgndGFibGVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ3RhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ2JpbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnbG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdsb2NrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnb3BlcmF0b3JfaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnbGFiZWwnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdwdXJjaGFzZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdyZWZ1bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnc2V0dGxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgndW5wYWlyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHNFbmFibGVkLnB1c2goJ3JjcHRfZnJvbV9lZnRwb3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnc2lnX2Zsb3dfZnJvbV9lZnRwb3MnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNwaUZsb3cuVHJhbnNhY3Rpb246IC8vIFBhaXJlZCwgVHJhbnNhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zcGkuQ3VycmVudFR4Rmxvd1N0YXRlLkF3YWl0aW5nU2lnbmF0dXJlQ2hlY2spXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCd0eF9zaWduX2FjY2VwdCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgndHhfc2lnbl9kZWNsaW5lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZCAmJiAhdGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZS5BdHRlbXB0aW5nVG9DYW5jZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCd0eF9jYW5jZWwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZCkgXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRzRW5hYmxlZC5wdXNoKCdvaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFNwaUZsb3cuUGFpcmluZzogLy8gUGFpcmVkLCBQYWlyaW5nIC0gd2UgaGF2ZSBqdXN0IGZpbmlzaGVkIHRoZSBwYWlyaW5nIGZsb3cuIE9LIHRvIGFjay5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0c0VuYWJsZWQucHVzaCgnb2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYCMgLi4gVW5leHBlY3RlZCBGbG93IC4uICR7dGhpcy5fc3BpLkN1cnJlbnRGbG93fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG5cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYCMgLi4gVW5leHBlY3RlZCBTdGF0ZSAuLiAke3RoaXMuX3NwaS5DdXJyZW50U3RhdHVzfWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIGJ1dHRvbnMgLyBpbnB1dHNcbiAgICAgICAgbGV0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbnB1dCcpO1xuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgaW5wdXRzLmxlbmd0aDsgaSsrKSBcbiAgICAgICAge1xuICAgICAgICAgICAgaW5wdXRzW2ldLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlucHV0c0VuYWJsZWQuZm9yRWFjaCgoaW5wdXQpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dCkuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbygpO1xuICAgIH1cblxuICAgIFByaW50UGFpcmluZ1N0YXR1cygpXG4gICAge1xuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIC0tLS0tLS0tLS0tLS0tLSBTVEFUVVMgLS0tLS0tLS0tLS0tLS0tLS0tYCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgJHt0aGlzLl9wb3NJZH0gPC0+IEVmdHBvczogJHt0aGlzLl9lZnRwb3NBZGRyZXNzfSAjYCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgU1BJIFNUQVRVUzogJHt0aGlzLl9zcGkuQ3VycmVudFN0YXR1c30gICAgIEZMT1c6ICR7dGhpcy5fc3BpLkN1cnJlbnRGbG93fSAjYCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgU1BJIENPTkZJRzogJHtKU09OLnN0cmluZ2lmeSh0aGlzLl9zcGkuQ29uZmlnKX1gKTtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgLS0tLS0tLS0tLS0tLS0tLVRBQkxFUy0tLS0tLS0tLS0tLS0tLS0tLS1cIik7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgICAgT3BlbiBUYWJsZXM6ICR7T2JqZWN0LmtleXModGhpcy50YWJsZVRvQmlsbE1hcHBpbmcpLmxlbmd0aH1gKTtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBCaWxscyBpbiBTdG9yZTogJHtPYmplY3Qua2V5cyh0aGlzLmJpbGxzU3RvcmUpLmxlbmd0aH1gKTtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgIyBBc3NlbWJseSBCaWxsczogJHtPYmplY3Qua2V5cyh0aGlzLmFzc2VtYmx5QmlsbERhdGFTdG9yZSkubGVuZ3RofWApO1xuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYCk7XG4gICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgUE9TOiB2JHt0aGlzLl92ZXJzaW9ufSBTcGk6IHYke1NwaS5HZXRWZXJzaW9uKCl9YCk7XG4gICAgfVxuXG4gICAgQWNjZXB0VXNlcklucHV0KClcbiAgICB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzYXZlX3NldHRpbmdzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICAgICAgICAgIGlmKHRoaXMuX3NwaS5DdXJyZW50U3RhdHVzID09PSBTcGlTdGF0dXMuVW5wYWlyZWQgJiYgdGhpcy5fc3BpLkN1cnJlbnRGbG93ID09PSBTcGlGbG93LklkbGUpIFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Bvc0lkICAgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zX2lkJykudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fZWZ0cG9zQWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZnRwb3NfYWRkcmVzcycpLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5fc3BpLlNldFBvc0lkKHRoaXMuX3Bvc0lkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGkuU2V0RWZ0cG9zQWRkcmVzcyh0aGlzLl9lZnRwb3NBZGRyZXNzKTtcblxuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwb3NfaWQnLCB0aGlzLl9wb3NJZCk7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2VmdHBvc19hZGRyZXNzJywgdGhpcy5fZWZ0cG9zQWRkcmVzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3NwaS5Db25maWcuUHJpbnRNZXJjaGFudENvcHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbnRfbWVyY2hhbnRfY29weScpLmNoZWNrZWQ7XG4gICAgICAgICAgICB0aGlzLl9zcGkuQ29uZmlnLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JjcHRfZnJvbV9lZnRwb3MnKS5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5fc3BpLkNvbmZpZy5TaWduYXR1cmVGbG93T25FZnRwb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnX2Zsb3dfZnJvbV9lZnRwb3MnKS5jaGVja2VkO1xuXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJpbnRfbWVyY2hhbnRfY29weScsIHRoaXMuX3NwaS5Db25maWcuUHJpbnRNZXJjaGFudENvcHkpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3JjcHRfZnJvbV9lZnRwb3MnLCB0aGlzLl9zcGkuQ29uZmlnLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzaWdfZmxvd19mcm9tX2VmdHBvcycsIHRoaXMuX3NwaS5Db25maWcuU2lnbmF0dXJlRmxvd09uRWZ0cG9zKTtcblxuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYFNhdmVkIHNldHRpbmdzICR7dGhpcy5fcG9zSWR9OiR7dGhpcy5fZWZ0cG9zQWRkcmVzc31gKTtcblxuICAgICAgICAgICAgdGhpcy5QcmludFBhaXJpbmdTdGF0dXMoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhaXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcGkuUGFpcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFpcl9jb25maXJtJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3BpLlBhaXJpbmdDb25maXJtQ29kZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFpcl9jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcGkuUGFpcmluZ0NhbmNlbCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5wYWlyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3BpLlVucGFpcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BlbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YWJsZSAgICAgICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZV9udW1iZXInKS52YWx1ZTtcbiAgICAgICAgICAgIGxldCBvcGVyYXRvcklkICA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGVyYXRvcl9pZCcpLnZhbHVlO1xuICAgICAgICAgICAgbGV0IGxhYmVsICAgICAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xhYmVsJykudmFsdWU7XG5cbiAgICAgICAgICAgIGlmKCF0YWJsZSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbygnIyBQbGVhc2UgZ2l2ZSBhIHRhYmxlIG51bWJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5PcGVuVGFibGUodGFibGUsIG9wZXJhdG9ySWQsIGxhYmVsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvY2snKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGFibGUgICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFibGVfbnVtYmVyJykudmFsdWU7XG4gICAgICAgICAgICBsZXQgaXNMb2NrICAgICAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9ja2VkJykuY2hlY2tlZDtcblxuICAgICAgICAgICAgaWYoIXRhYmxlKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKCcjIFBsZWFzZSBnaXZlIGEgdGFibGUgbnVtYmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLkxvY2tUYWJsZSh0YWJsZSwgaXNMb2NrKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Nsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlX251bWJlcicpLnZhbHVlO1xuICAgICAgICAgICAgaWYoIXRhYmxlKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKCcjIFBsZWFzZSBnaXZlIGEgdGFibGUgbnVtYmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5DbG9zZVRhYmxlKHRhYmxlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YWJsZSAgID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlX251bWJlcicpLnZhbHVlO1xuICAgICAgICAgICAgbGV0IGFtb3VudCAgPSBwYXJzZUludChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYW1vdW50JykudmFsdWUsMTApO1xuICAgICAgICAgICAgaWYoIXRhYmxlKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKCcjIFBsZWFzZSBnaXZlIGEgdGFibGUgbnVtYmVyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIWFtb3VudCkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbygnIyBQbGVhc2UgZW50ZXIgYW4gYW1vdW50Jyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5BZGRUb1RhYmxlKHRhYmxlLCBhbW91bnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YWJsZV9udW1iZXInKS52YWx1ZTtcbiAgICAgICAgICAgIGlmKCF0YWJsZSkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbygnIyBQbGVhc2UgZ2l2ZSBhIHRhYmxlIG51bWJlcicpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuUHJpbnRUYWJsZSh0YWJsZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGJpbGxJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiaWxsX2lkJykudmFsdWU7XG4gICAgICAgICAgICBpZighYmlsbElkKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKCcjIFBsZWFzZSBnaXZlIGEgYmlsbCBudW1iZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLlByaW50QmlsbChiaWxsSWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFibGVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5QcmludFRhYmxlcygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHVyY2hhc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcG9zUmVmSWQgICAgICAgID0gYHB1cmNoYXNlLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWA7IFxuICAgICAgICAgICAgbGV0IHB1cmNoYXNlQW1vdW50ICA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbW91bnQnKS52YWx1ZSwxMCk7XG4gICAgICAgICAgICBsZXQgdGlwQW1vdW50ICAgICAgID0gMDtcbiAgICAgICAgICAgIGxldCBjYXNob3V0QW1vdW50ICAgPSAwO1xuICAgICAgICAgICAgbGV0IHByb21wdEZvckNhc2hvdXQgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCByZXMgICAgICAgICAgICAgPSB0aGlzLl9zcGkuSW5pdGlhdGVQdXJjaGFzZVR4VjIocG9zUmVmSWQsIHB1cmNoYXNlQW1vdW50LCB0aXBBbW91bnQsIGNhc2hvdXRBbW91bnQsIHByb21wdEZvckNhc2hvdXQpO1xuICAgICAgICAgICAgaWYgKCFyZXMuSW5pdGlhdGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgQ291bGQgbm90IGluaXRpYXRlIHB1cmNoYXNlOiAke3Jlcy5NZXNzYWdlfS4gUGxlYXNlIFJldHJ5LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZnVuZCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBhbW91bnQgICAgICA9IHBhcnNlSW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhbW91bnQnKS52YWx1ZSwxMCk7XG4gICAgICAgICAgICBsZXQgcG9zUmVmSWQgICAgPSBgcmVmdW5kLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfWA7IFxuICAgICAgICAgICAgbGV0IHJlcyAgICAgICAgID0gdGhpcy5fc3BpLkluaXRpYXRlUmVmdW5kVHgocG9zUmVmSWQsIGFtb3VudCk7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKHJlcy5Jbml0aWF0ZWQgPyBcIiMgUmVmdW5kIEluaXRpYXRlZC4gV2lsbCBiZSB1cGRhdGVkIHdpdGggUHJvZ3Jlc3MuXCIgOiBgIyBDb3VsZCBub3QgaW5pdGlhdGUgcmVmdW5kOiAke3Jlcy5NZXNzYWdlfS4gUGxlYXNlIFJldHJ5LmApO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHhfc2lnbl9hY2NlcHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcGkuQWNjZXB0U2lnbmF0dXJlKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndHhfc2lnbl9kZWNsaW5lJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3BpLkFjY2VwdFNpZ25hdHVyZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0eF9jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcGkuQ2FuY2VsVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NldHRsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByZXMgPSB0aGlzLl9zcGkuSW5pdGlhdGVTZXR0bGVUeChSZXF1ZXN0SWRIZWxwZXIuSWQoXCJzZXR0bGVcIikpO1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhyZXMuSW5pdGlhdGVkID8gXCIjIFNldHRsZSBJbml0aWF0ZWQuIFdpbGwgYmUgdXBkYXRlZCB3aXRoIFByb2dyZXNzLlwiIDogYCMgQ291bGQgbm90IGluaXRpYXRlIHNldHRsZTogJHtyZXMuTWVzc2FnZX0uIFBsZWFzZSBSZXRyeS5gKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3BpLkFja0Zsb3dFbmRlZEFuZEJhY2tUb0lkbGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkNsZWFyKCk7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5pbm5lckhUTUwgPSBcIlNlbGVjdCBmcm9tIHRoZSBvcHRpb25zIGJlbG93XCI7XG4gICAgICAgICAgICB0aGlzLlByaW50U3RhdHVzQW5kQWN0aW9ucygpO1xuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2tfY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fc3BpLkFja0Zsb3dFbmRlZEFuZEJhY2tUb0lkbGUoKTtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5jbGVhcigpO1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuaW5uZXJIVE1MID0gXCJPcmRlciBDYW5jZWxsZWRcIjtcbiAgICAgICAgICAgIHRoaXMuUHJpbnRTdGF0dXNBbmRBY3Rpb25zKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vcmVnaW9uIE15IFBvcyBGdW5jdGlvbnNcblxuICAgIE9wZW5UYWJsZSh0YWJsZUlkLCBvcGVyYXRvcklkLCBsYWJlbClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnRhYmxlVG9CaWxsTWFwcGluZ1t0YWJsZUlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgVGFibGUgQWxyZWFkeSBPcGVuOiAke0pTT04uc3RyaW5naWZ5KHRoaXMuYmlsbHNTdG9yZVt0aGlzLnRhYmxlVG9CaWxsTWFwcGluZ1t0YWJsZUlkXV0pfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld0JpbGwgPSBPYmplY3QuYXNzaWduKG5ldyBCaWxsKCksIHsgQmlsbElkOiB0aGlzLk5ld0JpbGxJZCgpLCBUYWJsZUlkOiB0YWJsZUlkLCBPcGVyYXRvcklkOiBvcGVyYXRvcklkLCBMYWJlbDogbGFiZWwgfSk7XG4gICAgICAgIHRoaXMuYmlsbHNTdG9yZVtuZXdCaWxsLkJpbGxJZF0gPSBuZXdCaWxsO1xuICAgICAgICB0aGlzLnRhYmxlVG9CaWxsTWFwcGluZ1tuZXdCaWxsLlRhYmxlSWRdID0gbmV3QmlsbC5CaWxsSWQ7XG4gICAgICAgIHRoaXMuU2F2ZUJpbGxTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGBPcGVuZWQ6ICR7SlNPTi5zdHJpbmdpZnkobmV3QmlsbCl9YCk7XG4gICAgfVxuXG4gICAgQWRkVG9UYWJsZSh0YWJsZUlkLCBhbW91bnRDZW50cylcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCJUYWJsZSBub3QgT3Blbi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYmlsbCA9IHRoaXMuYmlsbHNTdG9yZVt0aGlzLnRhYmxlVG9CaWxsTWFwcGluZ1t0YWJsZUlkXV07XG4gICAgICAgIGlmIChiaWxsLkxvY2tlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIlRhYmxlIGlzIExvY2tlZC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBiaWxsLlRvdGFsQW1vdW50ICs9IGFtb3VudENlbnRzO1xuICAgICAgICBiaWxsLk91dHN0YW5kaW5nQW1vdW50ICs9IGFtb3VudENlbnRzO1xuICAgICAgICB0aGlzLlNhdmVCaWxsU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgVXBkYXRlZDogJHtKU09OLnN0cmluZ2lmeShiaWxsKX1gKTtcbiAgICB9XG5cbiAgICBDbG9zZVRhYmxlKHRhYmxlSWQpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlSWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiVGFibGUgbm90IE9wZW4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiaWxsID0gdGhpcy5iaWxsc1N0b3JlW3RoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlSWRdXTtcbiAgICAgICAgaWYgKGJpbGwuTG9ja2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiVGFibGUgaXMgTG9ja2VkLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaWxsLk91dHN0YW5kaW5nQW1vdW50ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgQmlsbCBub3QgUGFpZCBZZXQ6ICR7SlNPTi5zdHJpbmdpZnkoYmlsbCl9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRlbGV0ZSB0aGlzLmJpbGxzU3RvcmVbdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF1dO1xuICAgICAgICBkZWxldGUgdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLmFzc2VtYmx5QmlsbERhdGFTdG9yZVtiaWxsLkJpbGxJZF07XG4gICAgICAgIHRoaXMuU2F2ZUJpbGxTdGF0ZSgpO1xuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGBDbG9zZWQ6ICR7SlNPTi5zdHJpbmdpZnkoYmlsbCl9YCk7XG4gICAgfVxuXG4gICAgTG9ja1RhYmxlKHRhYmxlSWQsIGxvY2tlZClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCJUYWJsZSBub3QgT3Blbi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJpbGwgPSB0aGlzLmJpbGxzU3RvcmVbdGhpcy50YWJsZVRvQmlsbE1hcHBpbmdbdGFibGVJZF1dO1xuICAgICAgICBiaWxsLkxvY2tlZCA9IGxvY2tlZDtcbiAgICAgICAgaWYgKGxvY2tlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgTG9ja2VkOiAke0pTT04uc3RyaW5naWZ5KGJpbGwpfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhgVW5Mb2NrZWQ6ICR7SlNPTi5zdHJpbmdpZnkoYmlsbCl9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBQcmludFRhYmxlKHRhYmxlSWQpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlSWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiVGFibGUgbm90IE9wZW4uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuUHJpbnRCaWxsKHRoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlSWRdKTtcbiAgICB9XG5cbiAgICBQcmludFRhYmxlcygpXG4gICAge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy50YWJsZVRvQmlsbE1hcHBpbmcpLmxlbmd0aCA+IDApIFxuICAgICAgICB7IFxuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgT3BlbiBUYWJsZXM6IFwiKTsgXG4gICAgICAgICAgICBmb3IobGV0IHRhYmxlIGluIHRoaXMudGFibGVUb0JpbGxNYXBwaW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oYCMgVGFibGUgIyR7dGFibGV9LCBCaWxsICMke3RoaXMudGFibGVUb0JpbGxNYXBwaW5nW3RhYmxlXX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBcbiAgICAgICAgeyAgXG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBObyBPcGVuIFRhYmxlcy5cIik7IFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHRoaXMuYmlsbHNTdG9yZSkubGVuZ3RoID4gMCkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Zsb3dfbXNnLkluZm8oXCIjIE15IEJpbGxzIFN0b3JlOiBcIik7XG5cbiAgICAgICAgICAgIGZvcihsZXQgYmlsbCBpbiB0aGlzLmJpbGxzU3RvcmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIiMgXCIgKyB0aGlzLmJpbGxzU3RvcmVbYmlsbF0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5hc3NlbWJseUJpbGxEYXRhU3RvcmUpLmxlbmd0aCA+IDApIFxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKFwiIyBBc3NlbWJseSBCaWxscyBEYXRhOiBcIiArIEpTT04uc3RyaW5naWZ5KHRoaXMuYXNzZW1ibHlCaWxsRGF0YVN0b3JlKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBQcmludEJpbGwoYmlsbElkKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmJpbGxzU3RvcmVbYmlsbElkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZmxvd19tc2cuSW5mbyhcIkJpbGwgTm90IEZvdW5kLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mbG93X21zZy5JbmZvKGBCaWxsOiAke3RoaXMuYmlsbHNTdG9yZVtiaWxsSWRdLnRvU3RyaW5nKCl9YCk7XG4gICAgfVxuXG4gICAgTmV3QmlsbElkKClcbiAgICB7XG4gICAgICAgIHJldHVybiAoKERhdGUubm93KCkgKiAxMDAwKSArIG5ldyBEYXRlKCkuZ2V0TWlsbGlzZWNvbmRzKCkpLnRvU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gZW5kcmVnaW9uXG5cblxuICAgIFNhdmVCaWxsU3RhdGUoKSBcbiAgICB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0YWJsZVRvQmlsbE1hcHBpbmcnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnRhYmxlVG9CaWxsTWFwcGluZykpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYmlsbHNTdG9yZScsIEpTT04uc3RyaW5naWZ5KHRoaXMuYmlsbHNTdG9yZSkpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnYXNzZW1ibHlCaWxsRGF0YVN0b3JlJywgSlNPTi5zdHJpbmdpZnkodGhpcy5hc3NlbWJseUJpbGxEYXRhU3RvcmUpKTtcbiAgICB9XG5cbiAgICBMb2FkUGVyc2lzdGVkU3RhdGUoKVxuICAgIHtcbiAgICAgICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Bvc19pZCcpKSBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcG9zSWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncG9zX2lkJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zX2lkJykudmFsdWUgPSB0aGlzLl9wb3NJZDtcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcG9zSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zX2lkJykudmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZWZ0cG9zX2FkZHJlc3MnKSkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2VmdHBvc0FkZHJlc3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZWZ0cG9zX2FkZHJlc3MnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZnRwb3NfYWRkcmVzcycpLnZhbHVlID0gdGhpcy5fZWZ0cG9zQWRkcmVzcztcbiAgICAgICAgfSBcbiAgICAgICAgZWxzZSBcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fZWZ0cG9zQWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZnRwb3NfYWRkcmVzcycpLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcHJpbnRfbWVyY2hhbnRfY29weSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmludF9tZXJjaGFudF9jb3B5JykuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcmludF9tZXJjaGFudF9jb3B5JykgPT09ICd0cnVlJyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmNwdF9mcm9tX2VmdHBvcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyY3B0X2Zyb21fZWZ0cG9zJykuY2hlY2tlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyY3B0X2Zyb21fZWZ0cG9zJykgPT09ICd0cnVlJyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5fc2lnX2Zsb3dfZnJvbV9lZnRwb3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnX2Zsb3dfZnJvbV9lZnRwb3MnKS5jaGVja2VkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NpZ19mbG93X2Zyb21fZWZ0cG9zJykgPT09ICd0cnVlJyB8fCBmYWxzZTtcblxuICAgICAgICBpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnRW5jS2V5JykgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0htYWNLZXknKSkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NwaVNlY3JldHMgPSBuZXcgU2VjcmV0cyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnRW5jS2V5JyksIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdIbWFjS2V5JykpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50YWJsZVRvQmlsbE1hcHBpbmcgICAgID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGFibGVUb0JpbGxNYXBwaW5nJykgfHwgJ3t9Jyk7XG4gICAgICAgIHRoaXMuYXNzZW1ibHlCaWxsRGF0YVN0b3JlICA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2Fzc2VtYmx5QmlsbERhdGFTdG9yZScpIHx8ICd7fScpO1xuICAgICAgICBsZXQgc2F2ZWRCaWxsRGF0YSAgICAgICAgICAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdiaWxsc1N0b3JlJykgfHwgJ3t9Jyk7XG5cbiAgICAgICAgZm9yKGxldCBiaWxsIGluIHNhdmVkQmlsbERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmlsbHNTdG9yZVtiaWxsXSA9IE9iamVjdC5hc3NpZ24obmV3IEJpbGwoKSwgc2F2ZWRCaWxsRGF0YVtiaWxsXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuY2xhc3MgQmlsbFxue1xuICAgIGNvbnN0cnVjdG9yKCkgXG4gICAge1xuICAgICAgICB0aGlzLkJpbGxJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuVGFibGVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuT3BlcmF0b3JJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuTGFiZWwgPSBudWxsO1xuICAgICAgICB0aGlzLlRvdGFsQW1vdW50ID0gMDtcbiAgICAgICAgdGhpcy5PdXRzdGFuZGluZ0Ftb3VudCA9IDA7XG4gICAgICAgIHRoaXMudGlwcGVkQW1vdW50ID0gMDtcbiAgICAgICAgdGhpcy5Mb2NrZWQgPSBmYWxzZTtcbiAgICB9XG59XG5CaWxsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgXG57XG4gICAgcmV0dXJuIGAke3RoaXMuQmlsbElkfSAtIC9cbiAgICAgICAgVGFibGU6JHt0aGlzLlRhYmxlSWR9IFxuICAgICAgICBPcGVyYXRvciBJZDoke3RoaXMuT3BlcmF0b3JJZH0gXG4gICAgICAgIExhYmVsOiR7dGhpcy5MYWJlbH0gXG4gICAgICAgIFRvdGFsOiQkeyh0aGlzLlRvdGFsQW1vdW50IC8gMTAwKS50b0ZpeGVkKDIpfSBcbiAgICAgICAgT3V0c3RhbmRpbmc6JCR7KHRoaXMuT3V0c3RhbmRpbmdBbW91bnQgLyAxMDApLnRvRml4ZWQoMil9IFxuICAgICAgICBUaXBzOiQkeyh0aGlzLnRpcHBlZEFtb3VudCAvIDEwMCkudG9GaXhlZCgyKX1cbiAgICAgICAgU3VyY2hhcmdlOiQkeyh0aGlzLlN1cmNoYXJnZUFtb3VudCAvIDEwMCkudG9GaXhlZCgyKX0gIFxuICAgICAgICBMb2NrZWQ6JHt0aGlzLkxvY2tlZH1gO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRoZSBQT1NcbiAqL1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IFxue1xuICAgIHRyeSBcbiAgICB7XG4gICAgICAgIGxldCBsb2cgICAgICAgICA9IGNvbnNvbGU7XG4gICAgICAgIGxldCByZWNlaXB0ICAgICA9IG5ldyBMb2dnZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlY2VpcHRfb3V0cHV0JyksYFxcblxcbiBcXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC8gXFxuXFxuYCk7XG4gICAgICAgIGxldCBmbG93X21zZyAgICA9IG5ldyBMb2dnZXIoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zsb3dfbXNnJykpO1xuICAgICAgICBsZXQgcG9zICAgICAgICAgPSBuZXcgVGFibGVQb3MobG9nLCByZWNlaXB0LCBmbG93X21zZyk7XG4gICAgICAgIHBvcy5TdGFydCgpO1xuICAgIH0gXG4gICAgY2F0Y2goZXJyKSBcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9XG59KTtcblxuIiwiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHRlbHNlIHtcblx0XHR2YXIgYSA9IGZhY3RvcnkoKTtcblx0XHRmb3IodmFyIGkgaW4gYSkgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyA/IGV4cG9ydHMgOiByb290KVtpXSA9IGFbaV07XG5cdH1cbn0pKHdpbmRvdywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gIiwiIFx0ZnVuY3Rpb24gaG90RGlzcG9zZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0ZGVsZXRlIGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdH1cbiBcdHZhciBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayA9IHdpbmRvd1tcIndlYnBhY2tIb3RVcGRhdGVcIl07XG4gXHR3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdID0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSG90VXBkYXRlQ2FsbGJhY2soY2h1bmtJZCwgbW9yZU1vZHVsZXMpIHtcbiBcdFx0aG90QWRkVXBkYXRlQ2h1bmsoY2h1bmtJZCwgbW9yZU1vZHVsZXMpO1xuIFx0XHRpZiAocGFyZW50SG90VXBkYXRlQ2FsbGJhY2spIHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdH0gO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkVXBkYXRlQ2h1bmsoY2h1bmtJZCkge1xuIFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiBcdFx0c2NyaXB0LmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gXHRcdHNjcmlwdC5zcmMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgY2h1bmtJZCArIFwiLlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzXCI7XG4gXHRcdGlmIChudWxsKSBzY3JpcHQuY3Jvc3NPcmlnaW4gPSBudWxsO1xuIFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gXHR9XG5cbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gaG90RG93bmxvYWRNYW5pZmVzdChyZXF1ZXN0VGltZW91dCkge1xuIFx0XHRyZXF1ZXN0VGltZW91dCA9IHJlcXVlc3RUaW1lb3V0IHx8IDEwMDAwO1xuIFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0aWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCA9PT0gXCJ1bmRlZmluZWRcIikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChuZXcgRXJyb3IoXCJObyBicm93c2VyIHN1cHBvcnRcIikpO1xuIFx0XHRcdH1cbiBcdFx0XHR0cnkge1xuIFx0XHRcdFx0dmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiBcdFx0XHRcdHZhciByZXF1ZXN0UGF0aCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyBob3RDdXJyZW50SGFzaCArIFwiLmhvdC11cGRhdGUuanNvblwiO1xuIFx0XHRcdFx0cmVxdWVzdC5vcGVuKFwiR0VUXCIsIHJlcXVlc3RQYXRoLCB0cnVlKTtcbiBcdFx0XHRcdHJlcXVlc3QudGltZW91dCA9IHJlcXVlc3RUaW1lb3V0O1xuIFx0XHRcdFx0cmVxdWVzdC5zZW5kKG51bGwpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0cmV0dXJuIHJlamVjdChlcnIpO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0aWYgKHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkgcmV0dXJuO1xuIFx0XHRcdFx0aWYgKHJlcXVlc3Quc3RhdHVzID09PSAwKSB7XG4gXHRcdFx0XHRcdC8vIHRpbWVvdXRcbiBcdFx0XHRcdFx0cmVqZWN0KFxuIFx0XHRcdFx0XHRcdG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIHRpbWVkIG91dC5cIilcbiBcdFx0XHRcdFx0KTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDQwNCkge1xuIFx0XHRcdFx0XHQvLyBubyB1cGRhdGUgYXZhaWxhYmxlXG4gXHRcdFx0XHRcdHJlc29sdmUoKTtcbiBcdFx0XHRcdH0gZWxzZSBpZiAocmVxdWVzdC5zdGF0dXMgIT09IDIwMCAmJiByZXF1ZXN0LnN0YXR1cyAhPT0gMzA0KSB7XG4gXHRcdFx0XHRcdC8vIG90aGVyIGZhaWx1cmVcbiBcdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcihcIk1hbmlmZXN0IHJlcXVlc3QgdG8gXCIgKyByZXF1ZXN0UGF0aCArIFwiIGZhaWxlZC5cIikpO1xuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0Ly8gc3VjY2Vzc1xuIFx0XHRcdFx0XHR0cnkge1xuIFx0XHRcdFx0XHRcdHZhciB1cGRhdGUgPSBKU09OLnBhcnNlKHJlcXVlc3QucmVzcG9uc2VUZXh0KTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZSkge1xuIFx0XHRcdFx0XHRcdHJlamVjdChlKTtcbiBcdFx0XHRcdFx0XHRyZXR1cm47XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0cmVzb2x2ZSh1cGRhdGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH0pO1xuIFx0fVxuXG4gXHR2YXIgaG90QXBwbHlPblVwZGF0ZSA9IHRydWU7XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50SGFzaCA9IFwiZGU1MjE5M2YwYWRmYTkzYmI4MmFcIjtcbiBcdHZhciBob3RSZXF1ZXN0VGltZW91dCA9IDEwMDAwO1xuIFx0dmFyIGhvdEN1cnJlbnRNb2R1bGVEYXRhID0ge307XG4gXHR2YXIgaG90Q3VycmVudENoaWxkTW9kdWxlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudFBhcmVudHMgPSBbXTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzVGVtcCA9IFtdO1xuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZVJlcXVpcmUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIG1lID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdGlmICghbWUpIHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fO1xuIFx0XHR2YXIgZm4gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gXHRcdFx0aWYgKG1lLmhvdC5hY3RpdmUpIHtcbiBcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdKSB7XG4gXHRcdFx0XHRcdGlmIChpbnN0YWxsZWRNb2R1bGVzW3JlcXVlc3RdLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdFx0aW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLnB1c2gobW9kdWxlSWQpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0XHRcdGhvdEN1cnJlbnRDaGlsZE1vZHVsZSA9IHJlcXVlc3Q7XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAobWUuY2hpbGRyZW4uaW5kZXhPZihyZXF1ZXN0KSA9PT0gLTEpIHtcbiBcdFx0XHRcdFx0bWUuY2hpbGRyZW4ucHVzaChyZXF1ZXN0KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Y29uc29sZS53YXJuKFxuIFx0XHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArXG4gXHRcdFx0XHRcdFx0cmVxdWVzdCArXG4gXHRcdFx0XHRcdFx0XCIpIGZyb20gZGlzcG9zZWQgbW9kdWxlIFwiICtcbiBcdFx0XHRcdFx0XHRtb2R1bGVJZFxuIFx0XHRcdFx0KTtcbiBcdFx0XHRcdGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKHJlcXVlc3QpO1xuIFx0XHR9O1xuIFx0XHR2YXIgT2JqZWN0RmFjdG9yeSA9IGZ1bmN0aW9uIE9iamVjdEZhY3RvcnkobmFtZSkge1xuIFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX19bbmFtZV07XG4gXHRcdFx0XHR9LFxuIFx0XHRcdFx0c2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuIFx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdID0gdmFsdWU7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fTtcbiBcdFx0fTtcbiBcdFx0Zm9yICh2YXIgbmFtZSBpbiBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKF9fd2VicGFja19yZXF1aXJlX18sIG5hbWUpICYmXG4gXHRcdFx0XHRuYW1lICE9PSBcImVcIiAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJ0XCJcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgbmFtZSwgT2JqZWN0RmFjdG9yeShuYW1lKSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGZuLmUgPSBmdW5jdGlvbihjaHVua0lkKSB7XG4gXHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJyZWFkeVwiKSBob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdGhvdENodW5rc0xvYWRpbmcrKztcbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5lKGNodW5rSWQpLnRoZW4oZmluaXNoQ2h1bmtMb2FkaW5nLCBmdW5jdGlvbihlcnIpIHtcbiBcdFx0XHRcdGZpbmlzaENodW5rTG9hZGluZygpO1xuIFx0XHRcdFx0dGhyb3cgZXJyO1xuIFx0XHRcdH0pO1xuXG4gXHRcdFx0ZnVuY3Rpb24gZmluaXNoQ2h1bmtMb2FkaW5nKCkge1xuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZy0tO1xuIFx0XHRcdFx0aWYgKGhvdFN0YXR1cyA9PT0gXCJwcmVwYXJlXCIpIHtcbiBcdFx0XHRcdFx0aWYgKCFob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAoaG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJiBob3RXYWl0aW5nRmlsZXMgPT09IDApIHtcbiBcdFx0XHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH07XG4gXHRcdGZuLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRcdGlmIChtb2RlICYgMSkgdmFsdWUgPSBmbih2YWx1ZSk7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18udCh2YWx1ZSwgbW9kZSAmIH4xKTtcbiBcdFx0fTtcbiBcdFx0cmV0dXJuIGZuO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdENyZWF0ZU1vZHVsZShtb2R1bGVJZCkge1xuIFx0XHR2YXIgaG90ID0ge1xuIFx0XHRcdC8vIHByaXZhdGUgc3R1ZmZcbiBcdFx0XHRfYWNjZXB0ZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9kZWNsaW5lZERlcGVuZGVuY2llczoge30sXG4gXHRcdFx0X3NlbGZBY2NlcHRlZDogZmFsc2UsXG4gXHRcdFx0X3NlbGZEZWNsaW5lZDogZmFsc2UsXG4gXHRcdFx0X2Rpc3Bvc2VIYW5kbGVyczogW10sXG4gXHRcdFx0X21haW46IGhvdEN1cnJlbnRDaGlsZE1vZHVsZSAhPT0gbW9kdWxlSWQsXG5cbiBcdFx0XHQvLyBNb2R1bGUgQVBJXG4gXHRcdFx0YWN0aXZlOiB0cnVlLFxuIFx0XHRcdGFjY2VwdDogZnVuY3Rpb24oZGVwLCBjYWxsYmFjaykge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZBY2NlcHRlZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcImZ1bmN0aW9uXCIpIGhvdC5fc2VsZkFjY2VwdGVkID0gZGVwO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBbaV1dID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1tkZXBdID0gY2FsbGJhY2sgfHwgZnVuY3Rpb24oKSB7fTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRlY2xpbmU6IGZ1bmN0aW9uKGRlcCkge1xuIFx0XHRcdFx0aWYgKGRlcCA9PT0gdW5kZWZpbmVkKSBob3QuX3NlbGZEZWNsaW5lZCA9IHRydWU7XG4gXHRcdFx0XHRlbHNlIGlmICh0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKVxuIFx0XHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGRlcC5sZW5ndGg7IGkrKylcbiBcdFx0XHRcdFx0XHRob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcFtpXV0gPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW2RlcF0gPSB0cnVlO1xuIFx0XHRcdH0sXG4gXHRcdFx0ZGlzcG9zZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdGhvdC5fZGlzcG9zZUhhbmRsZXJzLnB1c2goY2FsbGJhY2spO1xuIFx0XHRcdH0sXG4gXHRcdFx0YWRkRGlzcG9zZUhhbmRsZXI6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdHJlbW92ZURpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdC5fZGlzcG9zZUhhbmRsZXJzLmluZGV4T2YoY2FsbGJhY2spO1xuIFx0XHRcdFx0aWYgKGlkeCA+PSAwKSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHR9LFxuXG4gXHRcdFx0Ly8gTWFuYWdlbWVudCBBUElcbiBcdFx0XHRjaGVjazogaG90Q2hlY2ssXG4gXHRcdFx0YXBwbHk6IGhvdEFwcGx5LFxuIFx0XHRcdHN0YXR1czogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0aWYgKCFsKSByZXR1cm4gaG90U3RhdHVzO1xuIFx0XHRcdFx0aG90U3RhdHVzSGFuZGxlcnMucHVzaChsKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZFN0YXR1c0hhbmRsZXI6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHR2YXIgaWR4ID0gaG90U3RhdHVzSGFuZGxlcnMuaW5kZXhPZihsKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90U3RhdHVzSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vaW5oZXJpdCBmcm9tIHByZXZpb3VzIGRpc3Bvc2UgY2FsbFxuIFx0XHRcdGRhdGE6IGhvdEN1cnJlbnRNb2R1bGVEYXRhW21vZHVsZUlkXVxuIFx0XHR9O1xuIFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSB1bmRlZmluZWQ7XG4gXHRcdHJldHVybiBob3Q7XG4gXHR9XG5cbiBcdHZhciBob3RTdGF0dXNIYW5kbGVycyA9IFtdO1xuIFx0dmFyIGhvdFN0YXR1cyA9IFwiaWRsZVwiO1xuXG4gXHRmdW5jdGlvbiBob3RTZXRTdGF0dXMobmV3U3RhdHVzKSB7XG4gXHRcdGhvdFN0YXR1cyA9IG5ld1N0YXR1cztcbiBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBob3RTdGF0dXNIYW5kbGVycy5sZW5ndGg7IGkrKylcbiBcdFx0XHRob3RTdGF0dXNIYW5kbGVyc1tpXS5jYWxsKG51bGwsIG5ld1N0YXR1cyk7XG4gXHR9XG5cbiBcdC8vIHdoaWxlIGRvd25sb2FkaW5nXG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzID0gMDtcbiBcdHZhciBob3RDaHVua3NMb2FkaW5nID0gMDtcbiBcdHZhciBob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RSZXF1ZXN0ZWRGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdEF2YWlsYWJsZUZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90RGVmZXJyZWQ7XG5cbiBcdC8vIFRoZSB1cGRhdGUgaW5mb1xuIFx0dmFyIGhvdFVwZGF0ZSwgaG90VXBkYXRlTmV3SGFzaDtcblxuIFx0ZnVuY3Rpb24gdG9Nb2R1bGVJZChpZCkge1xuIFx0XHR2YXIgaXNOdW1iZXIgPSAraWQgKyBcIlwiID09PSBpZDtcbiBcdFx0cmV0dXJuIGlzTnVtYmVyID8gK2lkIDogaWQ7XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdENoZWNrKGFwcGx5KSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwiaWRsZVwiKSB7XG4gXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiY2hlY2soKSBpcyBvbmx5IGFsbG93ZWQgaW4gaWRsZSBzdGF0dXNcIik7XG4gXHRcdH1cbiBcdFx0aG90QXBwbHlPblVwZGF0ZSA9IGFwcGx5O1xuIFx0XHRob3RTZXRTdGF0dXMoXCJjaGVja1wiKTtcbiBcdFx0cmV0dXJuIGhvdERvd25sb2FkTWFuaWZlc3QoaG90UmVxdWVzdFRpbWVvdXQpLnRoZW4oZnVuY3Rpb24odXBkYXRlKSB7XG4gXHRcdFx0aWYgKCF1cGRhdGUpIHtcbiBcdFx0XHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdFx0XHRyZXR1cm4gbnVsbDtcbiBcdFx0XHR9XG4gXHRcdFx0aG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXAgPSB7fTtcbiBcdFx0XHRob3RBdmFpbGFibGVGaWxlc01hcCA9IHVwZGF0ZS5jO1xuIFx0XHRcdGhvdFVwZGF0ZU5ld0hhc2ggPSB1cGRhdGUuaDtcblxuIFx0XHRcdGhvdFNldFN0YXR1cyhcInByZXBhcmVcIik7XG4gXHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdGhvdERlZmVycmVkID0ge1xuIFx0XHRcdFx0XHRyZXNvbHZlOiByZXNvbHZlLFxuIFx0XHRcdFx0XHRyZWplY3Q6IHJlamVjdFxuIFx0XHRcdFx0fTtcbiBcdFx0XHR9KTtcbiBcdFx0XHRob3RVcGRhdGUgPSB7fTtcbiBcdFx0XHR2YXIgY2h1bmtJZCA9IFwibWFpblwiO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZShcIi4vaW5kZXguanNcIikoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL2luZGV4LmpzXCIpO1xuIiwiaW1wb3J0IHtTcGl9IGZyb20gXCIuL3NyYy9TcGlcIjtcbmltcG9ydCB7TG9nZ2VyfSBmcm9tICcuL3NyYy9Mb2dnZXInO1xuaW1wb3J0IHtQcmludGVyfSBmcm9tICcuL3NyYy9QcmludGluZyc7XG5cbi8vIFJlLWV4cG9ydGVkIG1vZHVsZXMgcmVxdWlyZWQgZm9yIFBPUyB2ZW5kb3JzXG5leHBvcnQge1NwaX0gZnJvbSAnLi9zcmMvU3BpJztcbmV4cG9ydCB7TG9nZ2VyfSBmcm9tICcuL3NyYy9Mb2dnZXInO1xuZXhwb3J0IHtTZWNyZXRzfSBmcm9tICcuL3NyYy9TZWNyZXRzJztcbmV4cG9ydCB7U3VjY2Vzc1N0YXRlfSBmcm9tICcuL3NyYy9NZXNzYWdlcyc7XG5leHBvcnQge1RyYW5zYWN0aW9uT3B0aW9ucywgVHJhbnNhY3Rpb25UeXBlLCBTcGlGbG93LCBTcGlTdGF0dXN9IGZyb20gJy4vc3JjL1NwaU1vZGVscyc7XG5leHBvcnQge1ByaW50aW5nUmVzcG9uc2V9IGZyb20gJy4vc3JjL1ByaW50aW5nJztcbmV4cG9ydCB7UmVmdW5kUmVzcG9uc2UsIFB1cmNoYXNlUmVzcG9uc2UsIEdldExhc3RUcmFuc2FjdGlvblJlc3BvbnNlLCBNb3RvUHVyY2hhc2VSZXNwb25zZX0gZnJvbSAnLi9zcmMvUHVyY2hhc2UnO1xuZXhwb3J0IHtUZXJtaW5hbFN0YXR1c1Jlc3BvbnNlLCBUZXJtaW5hbEJhdHRlcnl9IGZyb20gJy4vc3JjL1Rlcm1pbmFsU3RhdHVzJztcbmV4cG9ydCB7Q2FzaG91dE9ubHlSZXNwb25zZX0gZnJvbSAnLi9zcmMvQ2FzaG91dCc7XG5leHBvcnQge1NldHRsZW1lbnR9IGZyb20gJy4vc3JjL1NldHRsZW1lbnQnO1xuZXhwb3J0IHtSZXF1ZXN0SWRIZWxwZXJ9IGZyb20gJy4vc3JjL1JlcXVlc3RJZEhlbHBlcic7XG5leHBvcnQge0JpbGxTdGF0dXNSZXNwb25zZSwgQmlsbFJldHJpZXZhbFJlc3VsdCwgT3BlblRhYmxlc0VudHJ5LCBCaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlfSBmcm9tICcuL3NyYy9QYXlBdFRhYmxlJztcbndpbmRvdy5TcGkgPSBTcGk7XG53aW5kb3cuTG9nZ2VyID0gTG9nZ2VyO1xud2luZG93LlByaW50ZXIgPSBQcmludGVyO1xuIiwiLyohIE1JVCBMaWNlbnNlLiBDb3B5cmlnaHQgMjAxNS0yMDE4IFJpY2hhcmQgTW9vcmUgPG1lQHJpY21vby5jb20+LiBTZWUgTElDRU5TRS50eHQuICovXG4oZnVuY3Rpb24ocm9vdCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tJbnQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIChwYXJzZUludCh2YWx1ZSkgPT09IHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0ludHMoYXJyYXlpc2gpIHtcbiAgICAgICAgaWYgKCFjaGVja0ludChhcnJheWlzaC5sZW5ndGgpKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXlpc2gubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY2hlY2tJbnQoYXJyYXlpc2hbaV0pIHx8IGFycmF5aXNoW2ldIDwgMCB8fCBhcnJheWlzaFtpXSA+IDI1NSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvZXJjZUFycmF5KGFyZywgY29weSkge1xuXG4gICAgICAgIC8vIEFycmF5QnVmZmVyIHZpZXdcbiAgICAgICAgaWYgKGFyZy5idWZmZXIgJiYgYXJnLm5hbWUgPT09ICdVaW50OEFycmF5Jykge1xuXG4gICAgICAgICAgICBpZiAoY29weSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmcuc2xpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdCdzIGFuIGFycmF5OyBjaGVjayBpdCBpcyBhIHZhbGlkIHJlcHJlc2VudGF0aW9uIG9mIGEgYnl0ZVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICBpZiAoIWNoZWNrSW50cyhhcmcpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBcnJheSBjb250YWlucyBpbnZhbGlkIHZhbHVlOiAnICsgYXJnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTb21ldGhpbmcgZWxzZSwgYnV0IGJlaGF2ZXMgbGlrZSBhbiBhcnJheSAobWF5YmUgYSBCdWZmZXI/IEFyZ3VtZW50cz8pXG4gICAgICAgIGlmIChjaGVja0ludChhcmcubGVuZ3RoKSAmJiBjaGVja0ludHMoYXJnKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGFyZyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkIGFycmF5LWxpa2Ugb2JqZWN0Jyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlQXJyYXkobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2VBcnJheSwgdGFyZ2V0QXJyYXksIHRhcmdldFN0YXJ0LCBzb3VyY2VTdGFydCwgc291cmNlRW5kKSB7XG4gICAgICAgIGlmIChzb3VyY2VTdGFydCAhPSBudWxsIHx8IHNvdXJjZUVuZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoc291cmNlQXJyYXkuc2xpY2UpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VBcnJheSA9IHNvdXJjZUFycmF5LnNsaWNlKHNvdXJjZVN0YXJ0LCBzb3VyY2VFbmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VBcnJheSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHNvdXJjZUFycmF5LCBzb3VyY2VTdGFydCwgc291cmNlRW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXksIHRhcmdldFN0YXJ0KTtcbiAgICB9XG5cblxuXG4gICAgdmFyIGNvbnZlcnRVdGY4ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiB0b0J5dGVzKHRleHQpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBbXSwgaSA9IDA7XG4gICAgICAgICAgICB0ZXh0ID0gZW5jb2RlVVJJKHRleHQpO1xuICAgICAgICAgICAgd2hpbGUgKGkgPCB0ZXh0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjID0gdGV4dC5jaGFyQ29kZUF0KGkrKyk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBpdCBpcyBhICUgc2lnbiwgZW5jb2RlIHRoZSBmb2xsb3dpbmcgMiBieXRlcyBhcyBhIGhleCB2YWx1ZVxuICAgICAgICAgICAgICAgIGlmIChjID09PSAzNykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCh0ZXh0LnN1YnN0cihpLCAyKSwgMTYpKVxuICAgICAgICAgICAgICAgICAgICBpICs9IDI7XG5cbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UsIGp1c3QgdGhlIGFjdHVhbCBieXRlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb2VyY2VBcnJheShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gZnJvbUJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW10sIGkgPSAwO1xuXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGJ5dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjID0gYnl0ZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAoYyA8IDEyOCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA+IDE5MSAmJiBjIDwgMjI0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgxZikgPDwgNikgfCAoYnl0ZXNbaSArIDFdICYgMHgzZikpKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgwZikgPDwgMTIpIHwgKChieXRlc1tpICsgMV0gJiAweDNmKSA8PCA2KSB8IChieXRlc1tpICsgMl0gJiAweDNmKSkpO1xuICAgICAgICAgICAgICAgICAgICBpICs9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvQnl0ZXM6IHRvQnl0ZXMsXG4gICAgICAgICAgICBmcm9tQnl0ZXM6IGZyb21CeXRlcyxcbiAgICAgICAgfVxuICAgIH0pKCk7XG5cbiAgICB2YXIgY29udmVydEhleCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gdG9CeXRlcyh0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChwYXJzZUludCh0ZXh0LnN1YnN0cihpLCAyKSwgMTYpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGh0dHA6Ly9peHRpLm5ldC9kZXZlbG9wbWVudC9qYXZhc2NyaXB0LzIwMTEvMTEvMTEvYmFzZTY0LWVuY29kZWRlY29kZS1vZi11dGY4LWluLWJyb3dzZXItd2l0aC1qcy5odG1sXG4gICAgICAgIHZhciBIZXggPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgICAgICAgZnVuY3Rpb24gZnJvbUJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBieXRlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goSGV4Wyh2ICYgMHhmMCkgPj4gNF0gKyBIZXhbdiAmIDB4MGZdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5qb2luKCcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b0J5dGVzOiB0b0J5dGVzLFxuICAgICAgICAgICAgZnJvbUJ5dGVzOiBmcm9tQnl0ZXMsXG4gICAgICAgIH1cbiAgICB9KSgpO1xuXG5cbiAgICAvLyBOdW1iZXIgb2Ygcm91bmRzIGJ5IGtleXNpemVcbiAgICB2YXIgbnVtYmVyT2ZSb3VuZHMgPSB7MTY6IDEwLCAyNDogMTIsIDMyOiAxNH1cblxuICAgIC8vIFJvdW5kIGNvbnN0YW50IHdvcmRzXG4gICAgdmFyIHJjb24gPSBbMHgwMSwgMHgwMiwgMHgwNCwgMHgwOCwgMHgxMCwgMHgyMCwgMHg0MCwgMHg4MCwgMHgxYiwgMHgzNiwgMHg2YywgMHhkOCwgMHhhYiwgMHg0ZCwgMHg5YSwgMHgyZiwgMHg1ZSwgMHhiYywgMHg2MywgMHhjNiwgMHg5NywgMHgzNSwgMHg2YSwgMHhkNCwgMHhiMywgMHg3ZCwgMHhmYSwgMHhlZiwgMHhjNSwgMHg5MV07XG5cbiAgICAvLyBTLWJveCBhbmQgSW52ZXJzZSBTLWJveCAoUyBpcyBmb3IgU3Vic3RpdHV0aW9uKVxuICAgIHZhciBTID0gWzB4NjMsIDB4N2MsIDB4NzcsIDB4N2IsIDB4ZjIsIDB4NmIsIDB4NmYsIDB4YzUsIDB4MzAsIDB4MDEsIDB4NjcsIDB4MmIsIDB4ZmUsIDB4ZDcsIDB4YWIsIDB4NzYsIDB4Y2EsIDB4ODIsIDB4YzksIDB4N2QsIDB4ZmEsIDB4NTksIDB4NDcsIDB4ZjAsIDB4YWQsIDB4ZDQsIDB4YTIsIDB4YWYsIDB4OWMsIDB4YTQsIDB4NzIsIDB4YzAsIDB4YjcsIDB4ZmQsIDB4OTMsIDB4MjYsIDB4MzYsIDB4M2YsIDB4ZjcsIDB4Y2MsIDB4MzQsIDB4YTUsIDB4ZTUsIDB4ZjEsIDB4NzEsIDB4ZDgsIDB4MzEsIDB4MTUsIDB4MDQsIDB4YzcsIDB4MjMsIDB4YzMsIDB4MTgsIDB4OTYsIDB4MDUsIDB4OWEsIDB4MDcsIDB4MTIsIDB4ODAsIDB4ZTIsIDB4ZWIsIDB4MjcsIDB4YjIsIDB4NzUsIDB4MDksIDB4ODMsIDB4MmMsIDB4MWEsIDB4MWIsIDB4NmUsIDB4NWEsIDB4YTAsIDB4NTIsIDB4M2IsIDB4ZDYsIDB4YjMsIDB4MjksIDB4ZTMsIDB4MmYsIDB4ODQsIDB4NTMsIDB4ZDEsIDB4MDAsIDB4ZWQsIDB4MjAsIDB4ZmMsIDB4YjEsIDB4NWIsIDB4NmEsIDB4Y2IsIDB4YmUsIDB4MzksIDB4NGEsIDB4NGMsIDB4NTgsIDB4Y2YsIDB4ZDAsIDB4ZWYsIDB4YWEsIDB4ZmIsIDB4NDMsIDB4NGQsIDB4MzMsIDB4ODUsIDB4NDUsIDB4ZjksIDB4MDIsIDB4N2YsIDB4NTAsIDB4M2MsIDB4OWYsIDB4YTgsIDB4NTEsIDB4YTMsIDB4NDAsIDB4OGYsIDB4OTIsIDB4OWQsIDB4MzgsIDB4ZjUsIDB4YmMsIDB4YjYsIDB4ZGEsIDB4MjEsIDB4MTAsIDB4ZmYsIDB4ZjMsIDB4ZDIsIDB4Y2QsIDB4MGMsIDB4MTMsIDB4ZWMsIDB4NWYsIDB4OTcsIDB4NDQsIDB4MTcsIDB4YzQsIDB4YTcsIDB4N2UsIDB4M2QsIDB4NjQsIDB4NWQsIDB4MTksIDB4NzMsIDB4NjAsIDB4ODEsIDB4NGYsIDB4ZGMsIDB4MjIsIDB4MmEsIDB4OTAsIDB4ODgsIDB4NDYsIDB4ZWUsIDB4YjgsIDB4MTQsIDB4ZGUsIDB4NWUsIDB4MGIsIDB4ZGIsIDB4ZTAsIDB4MzIsIDB4M2EsIDB4MGEsIDB4NDksIDB4MDYsIDB4MjQsIDB4NWMsIDB4YzIsIDB4ZDMsIDB4YWMsIDB4NjIsIDB4OTEsIDB4OTUsIDB4ZTQsIDB4NzksIDB4ZTcsIDB4YzgsIDB4MzcsIDB4NmQsIDB4OGQsIDB4ZDUsIDB4NGUsIDB4YTksIDB4NmMsIDB4NTYsIDB4ZjQsIDB4ZWEsIDB4NjUsIDB4N2EsIDB4YWUsIDB4MDgsIDB4YmEsIDB4NzgsIDB4MjUsIDB4MmUsIDB4MWMsIDB4YTYsIDB4YjQsIDB4YzYsIDB4ZTgsIDB4ZGQsIDB4NzQsIDB4MWYsIDB4NGIsIDB4YmQsIDB4OGIsIDB4OGEsIDB4NzAsIDB4M2UsIDB4YjUsIDB4NjYsIDB4NDgsIDB4MDMsIDB4ZjYsIDB4MGUsIDB4NjEsIDB4MzUsIDB4NTcsIDB4YjksIDB4ODYsIDB4YzEsIDB4MWQsIDB4OWUsIDB4ZTEsIDB4ZjgsIDB4OTgsIDB4MTEsIDB4NjksIDB4ZDksIDB4OGUsIDB4OTQsIDB4OWIsIDB4MWUsIDB4ODcsIDB4ZTksIDB4Y2UsIDB4NTUsIDB4MjgsIDB4ZGYsIDB4OGMsIDB4YTEsIDB4ODksIDB4MGQsIDB4YmYsIDB4ZTYsIDB4NDIsIDB4NjgsIDB4NDEsIDB4OTksIDB4MmQsIDB4MGYsIDB4YjAsIDB4NTQsIDB4YmIsIDB4MTZdO1xuICAgIHZhciBTaSA9WzB4NTIsIDB4MDksIDB4NmEsIDB4ZDUsIDB4MzAsIDB4MzYsIDB4YTUsIDB4MzgsIDB4YmYsIDB4NDAsIDB4YTMsIDB4OWUsIDB4ODEsIDB4ZjMsIDB4ZDcsIDB4ZmIsIDB4N2MsIDB4ZTMsIDB4MzksIDB4ODIsIDB4OWIsIDB4MmYsIDB4ZmYsIDB4ODcsIDB4MzQsIDB4OGUsIDB4NDMsIDB4NDQsIDB4YzQsIDB4ZGUsIDB4ZTksIDB4Y2IsIDB4NTQsIDB4N2IsIDB4OTQsIDB4MzIsIDB4YTYsIDB4YzIsIDB4MjMsIDB4M2QsIDB4ZWUsIDB4NGMsIDB4OTUsIDB4MGIsIDB4NDIsIDB4ZmEsIDB4YzMsIDB4NGUsIDB4MDgsIDB4MmUsIDB4YTEsIDB4NjYsIDB4MjgsIDB4ZDksIDB4MjQsIDB4YjIsIDB4NzYsIDB4NWIsIDB4YTIsIDB4NDksIDB4NmQsIDB4OGIsIDB4ZDEsIDB4MjUsIDB4NzIsIDB4ZjgsIDB4ZjYsIDB4NjQsIDB4ODYsIDB4NjgsIDB4OTgsIDB4MTYsIDB4ZDQsIDB4YTQsIDB4NWMsIDB4Y2MsIDB4NWQsIDB4NjUsIDB4YjYsIDB4OTIsIDB4NmMsIDB4NzAsIDB4NDgsIDB4NTAsIDB4ZmQsIDB4ZWQsIDB4YjksIDB4ZGEsIDB4NWUsIDB4MTUsIDB4NDYsIDB4NTcsIDB4YTcsIDB4OGQsIDB4OWQsIDB4ODQsIDB4OTAsIDB4ZDgsIDB4YWIsIDB4MDAsIDB4OGMsIDB4YmMsIDB4ZDMsIDB4MGEsIDB4ZjcsIDB4ZTQsIDB4NTgsIDB4MDUsIDB4YjgsIDB4YjMsIDB4NDUsIDB4MDYsIDB4ZDAsIDB4MmMsIDB4MWUsIDB4OGYsIDB4Y2EsIDB4M2YsIDB4MGYsIDB4MDIsIDB4YzEsIDB4YWYsIDB4YmQsIDB4MDMsIDB4MDEsIDB4MTMsIDB4OGEsIDB4NmIsIDB4M2EsIDB4OTEsIDB4MTEsIDB4NDEsIDB4NGYsIDB4NjcsIDB4ZGMsIDB4ZWEsIDB4OTcsIDB4ZjIsIDB4Y2YsIDB4Y2UsIDB4ZjAsIDB4YjQsIDB4ZTYsIDB4NzMsIDB4OTYsIDB4YWMsIDB4NzQsIDB4MjIsIDB4ZTcsIDB4YWQsIDB4MzUsIDB4ODUsIDB4ZTIsIDB4ZjksIDB4MzcsIDB4ZTgsIDB4MWMsIDB4NzUsIDB4ZGYsIDB4NmUsIDB4NDcsIDB4ZjEsIDB4MWEsIDB4NzEsIDB4MWQsIDB4MjksIDB4YzUsIDB4ODksIDB4NmYsIDB4YjcsIDB4NjIsIDB4MGUsIDB4YWEsIDB4MTgsIDB4YmUsIDB4MWIsIDB4ZmMsIDB4NTYsIDB4M2UsIDB4NGIsIDB4YzYsIDB4ZDIsIDB4NzksIDB4MjAsIDB4OWEsIDB4ZGIsIDB4YzAsIDB4ZmUsIDB4NzgsIDB4Y2QsIDB4NWEsIDB4ZjQsIDB4MWYsIDB4ZGQsIDB4YTgsIDB4MzMsIDB4ODgsIDB4MDcsIDB4YzcsIDB4MzEsIDB4YjEsIDB4MTIsIDB4MTAsIDB4NTksIDB4MjcsIDB4ODAsIDB4ZWMsIDB4NWYsIDB4NjAsIDB4NTEsIDB4N2YsIDB4YTksIDB4MTksIDB4YjUsIDB4NGEsIDB4MGQsIDB4MmQsIDB4ZTUsIDB4N2EsIDB4OWYsIDB4OTMsIDB4YzksIDB4OWMsIDB4ZWYsIDB4YTAsIDB4ZTAsIDB4M2IsIDB4NGQsIDB4YWUsIDB4MmEsIDB4ZjUsIDB4YjAsIDB4YzgsIDB4ZWIsIDB4YmIsIDB4M2MsIDB4ODMsIDB4NTMsIDB4OTksIDB4NjEsIDB4MTcsIDB4MmIsIDB4MDQsIDB4N2UsIDB4YmEsIDB4NzcsIDB4ZDYsIDB4MjYsIDB4ZTEsIDB4NjksIDB4MTQsIDB4NjMsIDB4NTUsIDB4MjEsIDB4MGMsIDB4N2RdO1xuXG4gICAgLy8gVHJhbnNmb3JtYXRpb25zIGZvciBlbmNyeXB0aW9uXG4gICAgdmFyIFQxID0gWzB4YzY2MzYzYTUsIDB4Zjg3YzdjODQsIDB4ZWU3Nzc3OTksIDB4ZjY3YjdiOGQsIDB4ZmZmMmYyMGQsIDB4ZDY2YjZiYmQsIDB4ZGU2ZjZmYjEsIDB4OTFjNWM1NTQsIDB4NjAzMDMwNTAsIDB4MDIwMTAxMDMsIDB4Y2U2NzY3YTksIDB4NTYyYjJiN2QsIDB4ZTdmZWZlMTksIDB4YjVkN2Q3NjIsIDB4NGRhYmFiZTYsIDB4ZWM3Njc2OWEsIDB4OGZjYWNhNDUsIDB4MWY4MjgyOWQsIDB4ODljOWM5NDAsIDB4ZmE3ZDdkODcsIDB4ZWZmYWZhMTUsIDB4YjI1OTU5ZWIsIDB4OGU0NzQ3YzksIDB4ZmJmMGYwMGIsIDB4NDFhZGFkZWMsIDB4YjNkNGQ0NjcsIDB4NWZhMmEyZmQsIDB4NDVhZmFmZWEsIDB4MjM5YzljYmYsIDB4NTNhNGE0ZjcsIDB4ZTQ3MjcyOTYsIDB4OWJjMGMwNWIsIDB4NzViN2I3YzIsIDB4ZTFmZGZkMWMsIDB4M2Q5MzkzYWUsIDB4NGMyNjI2NmEsIDB4NmMzNjM2NWEsIDB4N2UzZjNmNDEsIDB4ZjVmN2Y3MDIsIDB4ODNjY2NjNGYsIDB4NjgzNDM0NWMsIDB4NTFhNWE1ZjQsIDB4ZDFlNWU1MzQsIDB4ZjlmMWYxMDgsIDB4ZTI3MTcxOTMsIDB4YWJkOGQ4NzMsIDB4NjIzMTMxNTMsIDB4MmExNTE1M2YsIDB4MDgwNDA0MGMsIDB4OTVjN2M3NTIsIDB4NDYyMzIzNjUsIDB4OWRjM2MzNWUsIDB4MzAxODE4MjgsIDB4Mzc5Njk2YTEsIDB4MGEwNTA1MGYsIDB4MmY5YTlhYjUsIDB4MGUwNzA3MDksIDB4MjQxMjEyMzYsIDB4MWI4MDgwOWIsIDB4ZGZlMmUyM2QsIDB4Y2RlYmViMjYsIDB4NGUyNzI3NjksIDB4N2ZiMmIyY2QsIDB4ZWE3NTc1OWYsIDB4MTIwOTA5MWIsIDB4MWQ4MzgzOWUsIDB4NTgyYzJjNzQsIDB4MzQxYTFhMmUsIDB4MzYxYjFiMmQsIDB4ZGM2ZTZlYjIsIDB4YjQ1YTVhZWUsIDB4NWJhMGEwZmIsIDB4YTQ1MjUyZjYsIDB4NzYzYjNiNGQsIDB4YjdkNmQ2NjEsIDB4N2RiM2IzY2UsIDB4NTIyOTI5N2IsIDB4ZGRlM2UzM2UsIDB4NWUyZjJmNzEsIDB4MTM4NDg0OTcsIDB4YTY1MzUzZjUsIDB4YjlkMWQxNjgsIDB4MDAwMDAwMDAsIDB4YzFlZGVkMmMsIDB4NDAyMDIwNjAsIDB4ZTNmY2ZjMWYsIDB4NzliMWIxYzgsIDB4YjY1YjViZWQsIDB4ZDQ2YTZhYmUsIDB4OGRjYmNiNDYsIDB4NjdiZWJlZDksIDB4NzIzOTM5NGIsIDB4OTQ0YTRhZGUsIDB4OTg0YzRjZDQsIDB4YjA1ODU4ZTgsIDB4ODVjZmNmNGEsIDB4YmJkMGQwNmIsIDB4YzVlZmVmMmEsIDB4NGZhYWFhZTUsIDB4ZWRmYmZiMTYsIDB4ODY0MzQzYzUsIDB4OWE0ZDRkZDcsIDB4NjYzMzMzNTUsIDB4MTE4NTg1OTQsIDB4OGE0NTQ1Y2YsIDB4ZTlmOWY5MTAsIDB4MDQwMjAyMDYsIDB4ZmU3ZjdmODEsIDB4YTA1MDUwZjAsIDB4NzgzYzNjNDQsIDB4MjU5ZjlmYmEsIDB4NGJhOGE4ZTMsIDB4YTI1MTUxZjMsIDB4NWRhM2EzZmUsIDB4ODA0MDQwYzAsIDB4MDU4ZjhmOGEsIDB4M2Y5MjkyYWQsIDB4MjE5ZDlkYmMsIDB4NzAzODM4NDgsIDB4ZjFmNWY1MDQsIDB4NjNiY2JjZGYsIDB4NzdiNmI2YzEsIDB4YWZkYWRhNzUsIDB4NDIyMTIxNjMsIDB4MjAxMDEwMzAsIDB4ZTVmZmZmMWEsIDB4ZmRmM2YzMGUsIDB4YmZkMmQyNmQsIDB4ODFjZGNkNGMsIDB4MTgwYzBjMTQsIDB4MjYxMzEzMzUsIDB4YzNlY2VjMmYsIDB4YmU1ZjVmZTEsIDB4MzU5Nzk3YTIsIDB4ODg0NDQ0Y2MsIDB4MmUxNzE3MzksIDB4OTNjNGM0NTcsIDB4NTVhN2E3ZjIsIDB4ZmM3ZTdlODIsIDB4N2EzZDNkNDcsIDB4Yzg2NDY0YWMsIDB4YmE1ZDVkZTcsIDB4MzIxOTE5MmIsIDB4ZTY3MzczOTUsIDB4YzA2MDYwYTAsIDB4MTk4MTgxOTgsIDB4OWU0ZjRmZDEsIDB4YTNkY2RjN2YsIDB4NDQyMjIyNjYsIDB4NTQyYTJhN2UsIDB4M2I5MDkwYWIsIDB4MGI4ODg4ODMsIDB4OGM0NjQ2Y2EsIDB4YzdlZWVlMjksIDB4NmJiOGI4ZDMsIDB4MjgxNDE0M2MsIDB4YTdkZWRlNzksIDB4YmM1ZTVlZTIsIDB4MTYwYjBiMWQsIDB4YWRkYmRiNzYsIDB4ZGJlMGUwM2IsIDB4NjQzMjMyNTYsIDB4NzQzYTNhNGUsIDB4MTQwYTBhMWUsIDB4OTI0OTQ5ZGIsIDB4MGMwNjA2MGEsIDB4NDgyNDI0NmMsIDB4Yjg1YzVjZTQsIDB4OWZjMmMyNWQsIDB4YmRkM2QzNmUsIDB4NDNhY2FjZWYsIDB4YzQ2MjYyYTYsIDB4Mzk5MTkxYTgsIDB4MzE5NTk1YTQsIDB4ZDNlNGU0MzcsIDB4ZjI3OTc5OGIsIDB4ZDVlN2U3MzIsIDB4OGJjOGM4NDMsIDB4NmUzNzM3NTksIDB4ZGE2ZDZkYjcsIDB4MDE4ZDhkOGMsIDB4YjFkNWQ1NjQsIDB4OWM0ZTRlZDIsIDB4NDlhOWE5ZTAsIDB4ZDg2YzZjYjQsIDB4YWM1NjU2ZmEsIDB4ZjNmNGY0MDcsIDB4Y2ZlYWVhMjUsIDB4Y2E2NTY1YWYsIDB4ZjQ3YTdhOGUsIDB4NDdhZWFlZTksIDB4MTAwODA4MTgsIDB4NmZiYWJhZDUsIDB4ZjA3ODc4ODgsIDB4NGEyNTI1NmYsIDB4NWMyZTJlNzIsIDB4MzgxYzFjMjQsIDB4NTdhNmE2ZjEsIDB4NzNiNGI0YzcsIDB4OTdjNmM2NTEsIDB4Y2JlOGU4MjMsIDB4YTFkZGRkN2MsIDB4ZTg3NDc0OWMsIDB4M2UxZjFmMjEsIDB4OTY0YjRiZGQsIDB4NjFiZGJkZGMsIDB4MGQ4YjhiODYsIDB4MGY4YThhODUsIDB4ZTA3MDcwOTAsIDB4N2MzZTNlNDIsIDB4NzFiNWI1YzQsIDB4Y2M2NjY2YWEsIDB4OTA0ODQ4ZDgsIDB4MDYwMzAzMDUsIDB4ZjdmNmY2MDEsIDB4MWMwZTBlMTIsIDB4YzI2MTYxYTMsIDB4NmEzNTM1NWYsIDB4YWU1NzU3ZjksIDB4NjliOWI5ZDAsIDB4MTc4Njg2OTEsIDB4OTljMWMxNTgsIDB4M2ExZDFkMjcsIDB4Mjc5ZTllYjksIDB4ZDllMWUxMzgsIDB4ZWJmOGY4MTMsIDB4MmI5ODk4YjMsIDB4MjIxMTExMzMsIDB4ZDI2OTY5YmIsIDB4YTlkOWQ5NzAsIDB4MDc4ZThlODksIDB4MzM5NDk0YTcsIDB4MmQ5YjliYjYsIDB4M2MxZTFlMjIsIDB4MTU4Nzg3OTIsIDB4YzllOWU5MjAsIDB4ODdjZWNlNDksIDB4YWE1NTU1ZmYsIDB4NTAyODI4NzgsIDB4YTVkZmRmN2EsIDB4MDM4YzhjOGYsIDB4NTlhMWExZjgsIDB4MDk4OTg5ODAsIDB4MWEwZDBkMTcsIDB4NjViZmJmZGEsIDB4ZDdlNmU2MzEsIDB4ODQ0MjQyYzYsIDB4ZDA2ODY4YjgsIDB4ODI0MTQxYzMsIDB4Mjk5OTk5YjAsIDB4NWEyZDJkNzcsIDB4MWUwZjBmMTEsIDB4N2JiMGIwY2IsIDB4YTg1NDU0ZmMsIDB4NmRiYmJiZDYsIDB4MmMxNjE2M2FdO1xuICAgIHZhciBUMiA9IFsweGE1YzY2MzYzLCAweDg0Zjg3YzdjLCAweDk5ZWU3Nzc3LCAweDhkZjY3YjdiLCAweDBkZmZmMmYyLCAweGJkZDY2YjZiLCAweGIxZGU2ZjZmLCAweDU0OTFjNWM1LCAweDUwNjAzMDMwLCAweDAzMDIwMTAxLCAweGE5Y2U2NzY3LCAweDdkNTYyYjJiLCAweDE5ZTdmZWZlLCAweDYyYjVkN2Q3LCAweGU2NGRhYmFiLCAweDlhZWM3Njc2LCAweDQ1OGZjYWNhLCAweDlkMWY4MjgyLCAweDQwODljOWM5LCAweDg3ZmE3ZDdkLCAweDE1ZWZmYWZhLCAweGViYjI1OTU5LCAweGM5OGU0NzQ3LCAweDBiZmJmMGYwLCAweGVjNDFhZGFkLCAweDY3YjNkNGQ0LCAweGZkNWZhMmEyLCAweGVhNDVhZmFmLCAweGJmMjM5YzljLCAweGY3NTNhNGE0LCAweDk2ZTQ3MjcyLCAweDViOWJjMGMwLCAweGMyNzViN2I3LCAweDFjZTFmZGZkLCAweGFlM2Q5MzkzLCAweDZhNGMyNjI2LCAweDVhNmMzNjM2LCAweDQxN2UzZjNmLCAweDAyZjVmN2Y3LCAweDRmODNjY2NjLCAweDVjNjgzNDM0LCAweGY0NTFhNWE1LCAweDM0ZDFlNWU1LCAweDA4ZjlmMWYxLCAweDkzZTI3MTcxLCAweDczYWJkOGQ4LCAweDUzNjIzMTMxLCAweDNmMmExNTE1LCAweDBjMDgwNDA0LCAweDUyOTVjN2M3LCAweDY1NDYyMzIzLCAweDVlOWRjM2MzLCAweDI4MzAxODE4LCAweGExMzc5Njk2LCAweDBmMGEwNTA1LCAweGI1MmY5YTlhLCAweDA5MGUwNzA3LCAweDM2MjQxMjEyLCAweDliMWI4MDgwLCAweDNkZGZlMmUyLCAweDI2Y2RlYmViLCAweDY5NGUyNzI3LCAweGNkN2ZiMmIyLCAweDlmZWE3NTc1LCAweDFiMTIwOTA5LCAweDllMWQ4MzgzLCAweDc0NTgyYzJjLCAweDJlMzQxYTFhLCAweDJkMzYxYjFiLCAweGIyZGM2ZTZlLCAweGVlYjQ1YTVhLCAweGZiNWJhMGEwLCAweGY2YTQ1MjUyLCAweDRkNzYzYjNiLCAweDYxYjdkNmQ2LCAweGNlN2RiM2IzLCAweDdiNTIyOTI5LCAweDNlZGRlM2UzLCAweDcxNWUyZjJmLCAweDk3MTM4NDg0LCAweGY1YTY1MzUzLCAweDY4YjlkMWQxLCAweDAwMDAwMDAwLCAweDJjYzFlZGVkLCAweDYwNDAyMDIwLCAweDFmZTNmY2ZjLCAweGM4NzliMWIxLCAweGVkYjY1YjViLCAweGJlZDQ2YTZhLCAweDQ2OGRjYmNiLCAweGQ5NjdiZWJlLCAweDRiNzIzOTM5LCAweGRlOTQ0YTRhLCAweGQ0OTg0YzRjLCAweGU4YjA1ODU4LCAweDRhODVjZmNmLCAweDZiYmJkMGQwLCAweDJhYzVlZmVmLCAweGU1NGZhYWFhLCAweDE2ZWRmYmZiLCAweGM1ODY0MzQzLCAweGQ3OWE0ZDRkLCAweDU1NjYzMzMzLCAweDk0MTE4NTg1LCAweGNmOGE0NTQ1LCAweDEwZTlmOWY5LCAweDA2MDQwMjAyLCAweDgxZmU3ZjdmLCAweGYwYTA1MDUwLCAweDQ0NzgzYzNjLCAweGJhMjU5ZjlmLCAweGUzNGJhOGE4LCAweGYzYTI1MTUxLCAweGZlNWRhM2EzLCAweGMwODA0MDQwLCAweDhhMDU4ZjhmLCAweGFkM2Y5MjkyLCAweGJjMjE5ZDlkLCAweDQ4NzAzODM4LCAweDA0ZjFmNWY1LCAweGRmNjNiY2JjLCAweGMxNzdiNmI2LCAweDc1YWZkYWRhLCAweDYzNDIyMTIxLCAweDMwMjAxMDEwLCAweDFhZTVmZmZmLCAweDBlZmRmM2YzLCAweDZkYmZkMmQyLCAweDRjODFjZGNkLCAweDE0MTgwYzBjLCAweDM1MjYxMzEzLCAweDJmYzNlY2VjLCAweGUxYmU1ZjVmLCAweGEyMzU5Nzk3LCAweGNjODg0NDQ0LCAweDM5MmUxNzE3LCAweDU3OTNjNGM0LCAweGYyNTVhN2E3LCAweDgyZmM3ZTdlLCAweDQ3N2EzZDNkLCAweGFjYzg2NDY0LCAweGU3YmE1ZDVkLCAweDJiMzIxOTE5LCAweDk1ZTY3MzczLCAweGEwYzA2MDYwLCAweDk4MTk4MTgxLCAweGQxOWU0ZjRmLCAweDdmYTNkY2RjLCAweDY2NDQyMjIyLCAweDdlNTQyYTJhLCAweGFiM2I5MDkwLCAweDgzMGI4ODg4LCAweGNhOGM0NjQ2LCAweDI5YzdlZWVlLCAweGQzNmJiOGI4LCAweDNjMjgxNDE0LCAweDc5YTdkZWRlLCAweGUyYmM1ZTVlLCAweDFkMTYwYjBiLCAweDc2YWRkYmRiLCAweDNiZGJlMGUwLCAweDU2NjQzMjMyLCAweDRlNzQzYTNhLCAweDFlMTQwYTBhLCAweGRiOTI0OTQ5LCAweDBhMGMwNjA2LCAweDZjNDgyNDI0LCAweGU0Yjg1YzVjLCAweDVkOWZjMmMyLCAweDZlYmRkM2QzLCAweGVmNDNhY2FjLCAweGE2YzQ2MjYyLCAweGE4Mzk5MTkxLCAweGE0MzE5NTk1LCAweDM3ZDNlNGU0LCAweDhiZjI3OTc5LCAweDMyZDVlN2U3LCAweDQzOGJjOGM4LCAweDU5NmUzNzM3LCAweGI3ZGE2ZDZkLCAweDhjMDE4ZDhkLCAweDY0YjFkNWQ1LCAweGQyOWM0ZTRlLCAweGUwNDlhOWE5LCAweGI0ZDg2YzZjLCAweGZhYWM1NjU2LCAweDA3ZjNmNGY0LCAweDI1Y2ZlYWVhLCAweGFmY2E2NTY1LCAweDhlZjQ3YTdhLCAweGU5NDdhZWFlLCAweDE4MTAwODA4LCAweGQ1NmZiYWJhLCAweDg4ZjA3ODc4LCAweDZmNGEyNTI1LCAweDcyNWMyZTJlLCAweDI0MzgxYzFjLCAweGYxNTdhNmE2LCAweGM3NzNiNGI0LCAweDUxOTdjNmM2LCAweDIzY2JlOGU4LCAweDdjYTFkZGRkLCAweDljZTg3NDc0LCAweDIxM2UxZjFmLCAweGRkOTY0YjRiLCAweGRjNjFiZGJkLCAweDg2MGQ4YjhiLCAweDg1MGY4YThhLCAweDkwZTA3MDcwLCAweDQyN2MzZTNlLCAweGM0NzFiNWI1LCAweGFhY2M2NjY2LCAweGQ4OTA0ODQ4LCAweDA1MDYwMzAzLCAweDAxZjdmNmY2LCAweDEyMWMwZTBlLCAweGEzYzI2MTYxLCAweDVmNmEzNTM1LCAweGY5YWU1NzU3LCAweGQwNjliOWI5LCAweDkxMTc4Njg2LCAweDU4OTljMWMxLCAweDI3M2ExZDFkLCAweGI5Mjc5ZTllLCAweDM4ZDllMWUxLCAweDEzZWJmOGY4LCAweGIzMmI5ODk4LCAweDMzMjIxMTExLCAweGJiZDI2OTY5LCAweDcwYTlkOWQ5LCAweDg5MDc4ZThlLCAweGE3MzM5NDk0LCAweGI2MmQ5YjliLCAweDIyM2MxZTFlLCAweDkyMTU4Nzg3LCAweDIwYzllOWU5LCAweDQ5ODdjZWNlLCAweGZmYWE1NTU1LCAweDc4NTAyODI4LCAweDdhYTVkZmRmLCAweDhmMDM4YzhjLCAweGY4NTlhMWExLCAweDgwMDk4OTg5LCAweDE3MWEwZDBkLCAweGRhNjViZmJmLCAweDMxZDdlNmU2LCAweGM2ODQ0MjQyLCAweGI4ZDA2ODY4LCAweGMzODI0MTQxLCAweGIwMjk5OTk5LCAweDc3NWEyZDJkLCAweDExMWUwZjBmLCAweGNiN2JiMGIwLCAweGZjYTg1NDU0LCAweGQ2NmRiYmJiLCAweDNhMmMxNjE2XTtcbiAgICB2YXIgVDMgPSBbMHg2M2E1YzY2MywgMHg3Yzg0Zjg3YywgMHg3Nzk5ZWU3NywgMHg3YjhkZjY3YiwgMHhmMjBkZmZmMiwgMHg2YmJkZDY2YiwgMHg2ZmIxZGU2ZiwgMHhjNTU0OTFjNSwgMHgzMDUwNjAzMCwgMHgwMTAzMDIwMSwgMHg2N2E5Y2U2NywgMHgyYjdkNTYyYiwgMHhmZTE5ZTdmZSwgMHhkNzYyYjVkNywgMHhhYmU2NGRhYiwgMHg3NjlhZWM3NiwgMHhjYTQ1OGZjYSwgMHg4MjlkMWY4MiwgMHhjOTQwODljOSwgMHg3ZDg3ZmE3ZCwgMHhmYTE1ZWZmYSwgMHg1OWViYjI1OSwgMHg0N2M5OGU0NywgMHhmMDBiZmJmMCwgMHhhZGVjNDFhZCwgMHhkNDY3YjNkNCwgMHhhMmZkNWZhMiwgMHhhZmVhNDVhZiwgMHg5Y2JmMjM5YywgMHhhNGY3NTNhNCwgMHg3Mjk2ZTQ3MiwgMHhjMDViOWJjMCwgMHhiN2MyNzViNywgMHhmZDFjZTFmZCwgMHg5M2FlM2Q5MywgMHgyNjZhNGMyNiwgMHgzNjVhNmMzNiwgMHgzZjQxN2UzZiwgMHhmNzAyZjVmNywgMHhjYzRmODNjYywgMHgzNDVjNjgzNCwgMHhhNWY0NTFhNSwgMHhlNTM0ZDFlNSwgMHhmMTA4ZjlmMSwgMHg3MTkzZTI3MSwgMHhkODczYWJkOCwgMHgzMTUzNjIzMSwgMHgxNTNmMmExNSwgMHgwNDBjMDgwNCwgMHhjNzUyOTVjNywgMHgyMzY1NDYyMywgMHhjMzVlOWRjMywgMHgxODI4MzAxOCwgMHg5NmExMzc5NiwgMHgwNTBmMGEwNSwgMHg5YWI1MmY5YSwgMHgwNzA5MGUwNywgMHgxMjM2MjQxMiwgMHg4MDliMWI4MCwgMHhlMjNkZGZlMiwgMHhlYjI2Y2RlYiwgMHgyNzY5NGUyNywgMHhiMmNkN2ZiMiwgMHg3NTlmZWE3NSwgMHgwOTFiMTIwOSwgMHg4MzllMWQ4MywgMHgyYzc0NTgyYywgMHgxYTJlMzQxYSwgMHgxYjJkMzYxYiwgMHg2ZWIyZGM2ZSwgMHg1YWVlYjQ1YSwgMHhhMGZiNWJhMCwgMHg1MmY2YTQ1MiwgMHgzYjRkNzYzYiwgMHhkNjYxYjdkNiwgMHhiM2NlN2RiMywgMHgyOTdiNTIyOSwgMHhlMzNlZGRlMywgMHgyZjcxNWUyZiwgMHg4NDk3MTM4NCwgMHg1M2Y1YTY1MywgMHhkMTY4YjlkMSwgMHgwMDAwMDAwMCwgMHhlZDJjYzFlZCwgMHgyMDYwNDAyMCwgMHhmYzFmZTNmYywgMHhiMWM4NzliMSwgMHg1YmVkYjY1YiwgMHg2YWJlZDQ2YSwgMHhjYjQ2OGRjYiwgMHhiZWQ5NjdiZSwgMHgzOTRiNzIzOSwgMHg0YWRlOTQ0YSwgMHg0Y2Q0OTg0YywgMHg1OGU4YjA1OCwgMHhjZjRhODVjZiwgMHhkMDZiYmJkMCwgMHhlZjJhYzVlZiwgMHhhYWU1NGZhYSwgMHhmYjE2ZWRmYiwgMHg0M2M1ODY0MywgMHg0ZGQ3OWE0ZCwgMHgzMzU1NjYzMywgMHg4NTk0MTE4NSwgMHg0NWNmOGE0NSwgMHhmOTEwZTlmOSwgMHgwMjA2MDQwMiwgMHg3ZjgxZmU3ZiwgMHg1MGYwYTA1MCwgMHgzYzQ0NzgzYywgMHg5ZmJhMjU5ZiwgMHhhOGUzNGJhOCwgMHg1MWYzYTI1MSwgMHhhM2ZlNWRhMywgMHg0MGMwODA0MCwgMHg4ZjhhMDU4ZiwgMHg5MmFkM2Y5MiwgMHg5ZGJjMjE5ZCwgMHgzODQ4NzAzOCwgMHhmNTA0ZjFmNSwgMHhiY2RmNjNiYywgMHhiNmMxNzdiNiwgMHhkYTc1YWZkYSwgMHgyMTYzNDIyMSwgMHgxMDMwMjAxMCwgMHhmZjFhZTVmZiwgMHhmMzBlZmRmMywgMHhkMjZkYmZkMiwgMHhjZDRjODFjZCwgMHgwYzE0MTgwYywgMHgxMzM1MjYxMywgMHhlYzJmYzNlYywgMHg1ZmUxYmU1ZiwgMHg5N2EyMzU5NywgMHg0NGNjODg0NCwgMHgxNzM5MmUxNywgMHhjNDU3OTNjNCwgMHhhN2YyNTVhNywgMHg3ZTgyZmM3ZSwgMHgzZDQ3N2EzZCwgMHg2NGFjYzg2NCwgMHg1ZGU3YmE1ZCwgMHgxOTJiMzIxOSwgMHg3Mzk1ZTY3MywgMHg2MGEwYzA2MCwgMHg4MTk4MTk4MSwgMHg0ZmQxOWU0ZiwgMHhkYzdmYTNkYywgMHgyMjY2NDQyMiwgMHgyYTdlNTQyYSwgMHg5MGFiM2I5MCwgMHg4ODgzMGI4OCwgMHg0NmNhOGM0NiwgMHhlZTI5YzdlZSwgMHhiOGQzNmJiOCwgMHgxNDNjMjgxNCwgMHhkZTc5YTdkZSwgMHg1ZWUyYmM1ZSwgMHgwYjFkMTYwYiwgMHhkYjc2YWRkYiwgMHhlMDNiZGJlMCwgMHgzMjU2NjQzMiwgMHgzYTRlNzQzYSwgMHgwYTFlMTQwYSwgMHg0OWRiOTI0OSwgMHgwNjBhMGMwNiwgMHgyNDZjNDgyNCwgMHg1Y2U0Yjg1YywgMHhjMjVkOWZjMiwgMHhkMzZlYmRkMywgMHhhY2VmNDNhYywgMHg2MmE2YzQ2MiwgMHg5MWE4Mzk5MSwgMHg5NWE0MzE5NSwgMHhlNDM3ZDNlNCwgMHg3OThiZjI3OSwgMHhlNzMyZDVlNywgMHhjODQzOGJjOCwgMHgzNzU5NmUzNywgMHg2ZGI3ZGE2ZCwgMHg4ZDhjMDE4ZCwgMHhkNTY0YjFkNSwgMHg0ZWQyOWM0ZSwgMHhhOWUwNDlhOSwgMHg2Y2I0ZDg2YywgMHg1NmZhYWM1NiwgMHhmNDA3ZjNmNCwgMHhlYTI1Y2ZlYSwgMHg2NWFmY2E2NSwgMHg3YThlZjQ3YSwgMHhhZWU5NDdhZSwgMHgwODE4MTAwOCwgMHhiYWQ1NmZiYSwgMHg3ODg4ZjA3OCwgMHgyNTZmNGEyNSwgMHgyZTcyNWMyZSwgMHgxYzI0MzgxYywgMHhhNmYxNTdhNiwgMHhiNGM3NzNiNCwgMHhjNjUxOTdjNiwgMHhlODIzY2JlOCwgMHhkZDdjYTFkZCwgMHg3NDljZTg3NCwgMHgxZjIxM2UxZiwgMHg0YmRkOTY0YiwgMHhiZGRjNjFiZCwgMHg4Yjg2MGQ4YiwgMHg4YTg1MGY4YSwgMHg3MDkwZTA3MCwgMHgzZTQyN2MzZSwgMHhiNWM0NzFiNSwgMHg2NmFhY2M2NiwgMHg0OGQ4OTA0OCwgMHgwMzA1MDYwMywgMHhmNjAxZjdmNiwgMHgwZTEyMWMwZSwgMHg2MWEzYzI2MSwgMHgzNTVmNmEzNSwgMHg1N2Y5YWU1NywgMHhiOWQwNjliOSwgMHg4NjkxMTc4NiwgMHhjMTU4OTljMSwgMHgxZDI3M2ExZCwgMHg5ZWI5Mjc5ZSwgMHhlMTM4ZDllMSwgMHhmODEzZWJmOCwgMHg5OGIzMmI5OCwgMHgxMTMzMjIxMSwgMHg2OWJiZDI2OSwgMHhkOTcwYTlkOSwgMHg4ZTg5MDc4ZSwgMHg5NGE3MzM5NCwgMHg5YmI2MmQ5YiwgMHgxZTIyM2MxZSwgMHg4NzkyMTU4NywgMHhlOTIwYzllOSwgMHhjZTQ5ODdjZSwgMHg1NWZmYWE1NSwgMHgyODc4NTAyOCwgMHhkZjdhYTVkZiwgMHg4YzhmMDM4YywgMHhhMWY4NTlhMSwgMHg4OTgwMDk4OSwgMHgwZDE3MWEwZCwgMHhiZmRhNjViZiwgMHhlNjMxZDdlNiwgMHg0MmM2ODQ0MiwgMHg2OGI4ZDA2OCwgMHg0MWMzODI0MSwgMHg5OWIwMjk5OSwgMHgyZDc3NWEyZCwgMHgwZjExMWUwZiwgMHhiMGNiN2JiMCwgMHg1NGZjYTg1NCwgMHhiYmQ2NmRiYiwgMHgxNjNhMmMxNl07XG4gICAgdmFyIFQ0ID0gWzB4NjM2M2E1YzYsIDB4N2M3Yzg0ZjgsIDB4Nzc3Nzk5ZWUsIDB4N2I3YjhkZjYsIDB4ZjJmMjBkZmYsIDB4NmI2YmJkZDYsIDB4NmY2ZmIxZGUsIDB4YzVjNTU0OTEsIDB4MzAzMDUwNjAsIDB4MDEwMTAzMDIsIDB4Njc2N2E5Y2UsIDB4MmIyYjdkNTYsIDB4ZmVmZTE5ZTcsIDB4ZDdkNzYyYjUsIDB4YWJhYmU2NGQsIDB4NzY3NjlhZWMsIDB4Y2FjYTQ1OGYsIDB4ODI4MjlkMWYsIDB4YzljOTQwODksIDB4N2Q3ZDg3ZmEsIDB4ZmFmYTE1ZWYsIDB4NTk1OWViYjIsIDB4NDc0N2M5OGUsIDB4ZjBmMDBiZmIsIDB4YWRhZGVjNDEsIDB4ZDRkNDY3YjMsIDB4YTJhMmZkNWYsIDB4YWZhZmVhNDUsIDB4OWM5Y2JmMjMsIDB4YTRhNGY3NTMsIDB4NzI3Mjk2ZTQsIDB4YzBjMDViOWIsIDB4YjdiN2MyNzUsIDB4ZmRmZDFjZTEsIDB4OTM5M2FlM2QsIDB4MjYyNjZhNGMsIDB4MzYzNjVhNmMsIDB4M2YzZjQxN2UsIDB4ZjdmNzAyZjUsIDB4Y2NjYzRmODMsIDB4MzQzNDVjNjgsIDB4YTVhNWY0NTEsIDB4ZTVlNTM0ZDEsIDB4ZjFmMTA4ZjksIDB4NzE3MTkzZTIsIDB4ZDhkODczYWIsIDB4MzEzMTUzNjIsIDB4MTUxNTNmMmEsIDB4MDQwNDBjMDgsIDB4YzdjNzUyOTUsIDB4MjMyMzY1NDYsIDB4YzNjMzVlOWQsIDB4MTgxODI4MzAsIDB4OTY5NmExMzcsIDB4MDUwNTBmMGEsIDB4OWE5YWI1MmYsIDB4MDcwNzA5MGUsIDB4MTIxMjM2MjQsIDB4ODA4MDliMWIsIDB4ZTJlMjNkZGYsIDB4ZWJlYjI2Y2QsIDB4MjcyNzY5NGUsIDB4YjJiMmNkN2YsIDB4NzU3NTlmZWEsIDB4MDkwOTFiMTIsIDB4ODM4MzllMWQsIDB4MmMyYzc0NTgsIDB4MWExYTJlMzQsIDB4MWIxYjJkMzYsIDB4NmU2ZWIyZGMsIDB4NWE1YWVlYjQsIDB4YTBhMGZiNWIsIDB4NTI1MmY2YTQsIDB4M2IzYjRkNzYsIDB4ZDZkNjYxYjcsIDB4YjNiM2NlN2QsIDB4MjkyOTdiNTIsIDB4ZTNlMzNlZGQsIDB4MmYyZjcxNWUsIDB4ODQ4NDk3MTMsIDB4NTM1M2Y1YTYsIDB4ZDFkMTY4YjksIDB4MDAwMDAwMDAsIDB4ZWRlZDJjYzEsIDB4MjAyMDYwNDAsIDB4ZmNmYzFmZTMsIDB4YjFiMWM4NzksIDB4NWI1YmVkYjYsIDB4NmE2YWJlZDQsIDB4Y2JjYjQ2OGQsIDB4YmViZWQ5NjcsIDB4MzkzOTRiNzIsIDB4NGE0YWRlOTQsIDB4NGM0Y2Q0OTgsIDB4NTg1OGU4YjAsIDB4Y2ZjZjRhODUsIDB4ZDBkMDZiYmIsIDB4ZWZlZjJhYzUsIDB4YWFhYWU1NGYsIDB4ZmJmYjE2ZWQsIDB4NDM0M2M1ODYsIDB4NGQ0ZGQ3OWEsIDB4MzMzMzU1NjYsIDB4ODU4NTk0MTEsIDB4NDU0NWNmOGEsIDB4ZjlmOTEwZTksIDB4MDIwMjA2MDQsIDB4N2Y3ZjgxZmUsIDB4NTA1MGYwYTAsIDB4M2MzYzQ0NzgsIDB4OWY5ZmJhMjUsIDB4YThhOGUzNGIsIDB4NTE1MWYzYTIsIDB4YTNhM2ZlNWQsIDB4NDA0MGMwODAsIDB4OGY4ZjhhMDUsIDB4OTI5MmFkM2YsIDB4OWQ5ZGJjMjEsIDB4MzgzODQ4NzAsIDB4ZjVmNTA0ZjEsIDB4YmNiY2RmNjMsIDB4YjZiNmMxNzcsIDB4ZGFkYTc1YWYsIDB4MjEyMTYzNDIsIDB4MTAxMDMwMjAsIDB4ZmZmZjFhZTUsIDB4ZjNmMzBlZmQsIDB4ZDJkMjZkYmYsIDB4Y2RjZDRjODEsIDB4MGMwYzE0MTgsIDB4MTMxMzM1MjYsIDB4ZWNlYzJmYzMsIDB4NWY1ZmUxYmUsIDB4OTc5N2EyMzUsIDB4NDQ0NGNjODgsIDB4MTcxNzM5MmUsIDB4YzRjNDU3OTMsIDB4YTdhN2YyNTUsIDB4N2U3ZTgyZmMsIDB4M2QzZDQ3N2EsIDB4NjQ2NGFjYzgsIDB4NWQ1ZGU3YmEsIDB4MTkxOTJiMzIsIDB4NzM3Mzk1ZTYsIDB4NjA2MGEwYzAsIDB4ODE4MTk4MTksIDB4NGY0ZmQxOWUsIDB4ZGNkYzdmYTMsIDB4MjIyMjY2NDQsIDB4MmEyYTdlNTQsIDB4OTA5MGFiM2IsIDB4ODg4ODgzMGIsIDB4NDY0NmNhOGMsIDB4ZWVlZTI5YzcsIDB4YjhiOGQzNmIsIDB4MTQxNDNjMjgsIDB4ZGVkZTc5YTcsIDB4NWU1ZWUyYmMsIDB4MGIwYjFkMTYsIDB4ZGJkYjc2YWQsIDB4ZTBlMDNiZGIsIDB4MzIzMjU2NjQsIDB4M2EzYTRlNzQsIDB4MGEwYTFlMTQsIDB4NDk0OWRiOTIsIDB4MDYwNjBhMGMsIDB4MjQyNDZjNDgsIDB4NWM1Y2U0YjgsIDB4YzJjMjVkOWYsIDB4ZDNkMzZlYmQsIDB4YWNhY2VmNDMsIDB4NjI2MmE2YzQsIDB4OTE5MWE4MzksIDB4OTU5NWE0MzEsIDB4ZTRlNDM3ZDMsIDB4Nzk3OThiZjIsIDB4ZTdlNzMyZDUsIDB4YzhjODQzOGIsIDB4MzczNzU5NmUsIDB4NmQ2ZGI3ZGEsIDB4OGQ4ZDhjMDEsIDB4ZDVkNTY0YjEsIDB4NGU0ZWQyOWMsIDB4YTlhOWUwNDksIDB4NmM2Y2I0ZDgsIDB4NTY1NmZhYWMsIDB4ZjRmNDA3ZjMsIDB4ZWFlYTI1Y2YsIDB4NjU2NWFmY2EsIDB4N2E3YThlZjQsIDB4YWVhZWU5NDcsIDB4MDgwODE4MTAsIDB4YmFiYWQ1NmYsIDB4Nzg3ODg4ZjAsIDB4MjUyNTZmNGEsIDB4MmUyZTcyNWMsIDB4MWMxYzI0MzgsIDB4YTZhNmYxNTcsIDB4YjRiNGM3NzMsIDB4YzZjNjUxOTcsIDB4ZThlODIzY2IsIDB4ZGRkZDdjYTEsIDB4NzQ3NDljZTgsIDB4MWYxZjIxM2UsIDB4NGI0YmRkOTYsIDB4YmRiZGRjNjEsIDB4OGI4Yjg2MGQsIDB4OGE4YTg1MGYsIDB4NzA3MDkwZTAsIDB4M2UzZTQyN2MsIDB4YjViNWM0NzEsIDB4NjY2NmFhY2MsIDB4NDg0OGQ4OTAsIDB4MDMwMzA1MDYsIDB4ZjZmNjAxZjcsIDB4MGUwZTEyMWMsIDB4NjE2MWEzYzIsIDB4MzUzNTVmNmEsIDB4NTc1N2Y5YWUsIDB4YjliOWQwNjksIDB4ODY4NjkxMTcsIDB4YzFjMTU4OTksIDB4MWQxZDI3M2EsIDB4OWU5ZWI5MjcsIDB4ZTFlMTM4ZDksIDB4ZjhmODEzZWIsIDB4OTg5OGIzMmIsIDB4MTExMTMzMjIsIDB4Njk2OWJiZDIsIDB4ZDlkOTcwYTksIDB4OGU4ZTg5MDcsIDB4OTQ5NGE3MzMsIDB4OWI5YmI2MmQsIDB4MWUxZTIyM2MsIDB4ODc4NzkyMTUsIDB4ZTllOTIwYzksIDB4Y2VjZTQ5ODcsIDB4NTU1NWZmYWEsIDB4MjgyODc4NTAsIDB4ZGZkZjdhYTUsIDB4OGM4YzhmMDMsIDB4YTFhMWY4NTksIDB4ODk4OTgwMDksIDB4MGQwZDE3MWEsIDB4YmZiZmRhNjUsIDB4ZTZlNjMxZDcsIDB4NDI0MmM2ODQsIDB4Njg2OGI4ZDAsIDB4NDE0MWMzODIsIDB4OTk5OWIwMjksIDB4MmQyZDc3NWEsIDB4MGYwZjExMWUsIDB4YjBiMGNiN2IsIDB4NTQ1NGZjYTgsIDB4YmJiYmQ2NmQsIDB4MTYxNjNhMmNdO1xuXG4gICAgLy8gVHJhbnNmb3JtYXRpb25zIGZvciBkZWNyeXB0aW9uXG4gICAgdmFyIFQ1ID0gWzB4NTFmNGE3NTAsIDB4N2U0MTY1NTMsIDB4MWExN2E0YzMsIDB4M2EyNzVlOTYsIDB4M2JhYjZiY2IsIDB4MWY5ZDQ1ZjEsIDB4YWNmYTU4YWIsIDB4NGJlMzAzOTMsIDB4MjAzMGZhNTUsIDB4YWQ3NjZkZjYsIDB4ODhjYzc2OTEsIDB4ZjUwMjRjMjUsIDB4NGZlNWQ3ZmMsIDB4YzUyYWNiZDcsIDB4MjYzNTQ0ODAsIDB4YjU2MmEzOGYsIDB4ZGViMTVhNDksIDB4MjViYTFiNjcsIDB4NDVlYTBlOTgsIDB4NWRmZWMwZTEsIDB4YzMyZjc1MDIsIDB4ODE0Y2YwMTIsIDB4OGQ0Njk3YTMsIDB4NmJkM2Y5YzYsIDB4MDM4ZjVmZTcsIDB4MTU5MjljOTUsIDB4YmY2ZDdhZWIsIDB4OTU1MjU5ZGEsIDB4ZDRiZTgzMmQsIDB4NTg3NDIxZDMsIDB4NDllMDY5MjksIDB4OGVjOWM4NDQsIDB4NzVjMjg5NmEsIDB4ZjQ4ZTc5NzgsIDB4OTk1ODNlNmIsIDB4MjdiOTcxZGQsIDB4YmVlMTRmYjYsIDB4ZjA4OGFkMTcsIDB4YzkyMGFjNjYsIDB4N2RjZTNhYjQsIDB4NjNkZjRhMTgsIDB4ZTUxYTMxODIsIDB4OTc1MTMzNjAsIDB4NjI1MzdmNDUsIDB4YjE2NDc3ZTAsIDB4YmI2YmFlODQsIDB4ZmU4MWEwMWMsIDB4ZjkwODJiOTQsIDB4NzA0ODY4NTgsIDB4OGY0NWZkMTksIDB4OTRkZTZjODcsIDB4NTI3YmY4YjcsIDB4YWI3M2QzMjMsIDB4NzI0YjAyZTIsIDB4ZTMxZjhmNTcsIDB4NjY1NWFiMmEsIDB4YjJlYjI4MDcsIDB4MmZiNWMyMDMsIDB4ODZjNTdiOWEsIDB4ZDMzNzA4YTUsIDB4MzAyODg3ZjIsIDB4MjNiZmE1YjIsIDB4MDIwMzZhYmEsIDB4ZWQxNjgyNWMsIDB4OGFjZjFjMmIsIDB4YTc3OWI0OTIsIDB4ZjMwN2YyZjAsIDB4NGU2OWUyYTEsIDB4NjVkYWY0Y2QsIDB4MDYwNWJlZDUsIDB4ZDEzNDYyMWYsIDB4YzRhNmZlOGEsIDB4MzQyZTUzOWQsIDB4YTJmMzU1YTAsIDB4MDU4YWUxMzIsIDB4YTRmNmViNzUsIDB4MGI4M2VjMzksIDB4NDA2MGVmYWEsIDB4NWU3MTlmMDYsIDB4YmQ2ZTEwNTEsIDB4M2UyMThhZjksIDB4OTZkZDA2M2QsIDB4ZGQzZTA1YWUsIDB4NGRlNmJkNDYsIDB4OTE1NDhkYjUsIDB4NzFjNDVkMDUsIDB4MDQwNmQ0NmYsIDB4NjA1MDE1ZmYsIDB4MTk5OGZiMjQsIDB4ZDZiZGU5OTcsIDB4ODk0MDQzY2MsIDB4NjdkOTllNzcsIDB4YjBlODQyYmQsIDB4MDc4OThiODgsIDB4ZTcxOTViMzgsIDB4NzljOGVlZGIsIDB4YTE3YzBhNDcsIDB4N2M0MjBmZTksIDB4Zjg4NDFlYzksIDB4MDAwMDAwMDAsIDB4MDk4MDg2ODMsIDB4MzIyYmVkNDgsIDB4MWUxMTcwYWMsIDB4NmM1YTcyNGUsIDB4ZmQwZWZmZmIsIDB4MGY4NTM4NTYsIDB4M2RhZWQ1MWUsIDB4MzYyZDM5MjcsIDB4MGEwZmQ5NjQsIDB4Njg1Y2E2MjEsIDB4OWI1YjU0ZDEsIDB4MjQzNjJlM2EsIDB4MGMwYTY3YjEsIDB4OTM1N2U3MGYsIDB4YjRlZTk2ZDIsIDB4MWI5YjkxOWUsIDB4ODBjMGM1NGYsIDB4NjFkYzIwYTIsIDB4NWE3NzRiNjksIDB4MWMxMjFhMTYsIDB4ZTI5M2JhMGEsIDB4YzBhMDJhZTUsIDB4M2MyMmUwNDMsIDB4MTIxYjE3MWQsIDB4MGUwOTBkMGIsIDB4ZjI4YmM3YWQsIDB4MmRiNmE4YjksIDB4MTQxZWE5YzgsIDB4NTdmMTE5ODUsIDB4YWY3NTA3NGMsIDB4ZWU5OWRkYmIsIDB4YTM3ZjYwZmQsIDB4ZjcwMTI2OWYsIDB4NWM3MmY1YmMsIDB4NDQ2NjNiYzUsIDB4NWJmYjdlMzQsIDB4OGI0MzI5NzYsIDB4Y2IyM2M2ZGMsIDB4YjZlZGZjNjgsIDB4YjhlNGYxNjMsIDB4ZDczMWRjY2EsIDB4NDI2Mzg1MTAsIDB4MTM5NzIyNDAsIDB4ODRjNjExMjAsIDB4ODU0YTI0N2QsIDB4ZDJiYjNkZjgsIDB4YWVmOTMyMTEsIDB4YzcyOWExNmQsIDB4MWQ5ZTJmNGIsIDB4ZGNiMjMwZjMsIDB4MGQ4NjUyZWMsIDB4NzdjMWUzZDAsIDB4MmJiMzE2NmMsIDB4YTk3MGI5OTksIDB4MTE5NDQ4ZmEsIDB4NDdlOTY0MjIsIDB4YThmYzhjYzQsIDB4YTBmMDNmMWEsIDB4NTY3ZDJjZDgsIDB4MjIzMzkwZWYsIDB4ODc0OTRlYzcsIDB4ZDkzOGQxYzEsIDB4OGNjYWEyZmUsIDB4OThkNDBiMzYsIDB4YTZmNTgxY2YsIDB4YTU3YWRlMjgsIDB4ZGFiNzhlMjYsIDB4M2ZhZGJmYTQsIDB4MmMzYTlkZTQsIDB4NTA3ODkyMGQsIDB4NmE1ZmNjOWIsIDB4NTQ3ZTQ2NjIsIDB4ZjY4ZDEzYzIsIDB4OTBkOGI4ZTgsIDB4MmUzOWY3NWUsIDB4ODJjM2FmZjUsIDB4OWY1ZDgwYmUsIDB4NjlkMDkzN2MsIDB4NmZkNTJkYTksIDB4Y2YyNTEyYjMsIDB4YzhhYzk5M2IsIDB4MTAxODdkYTcsIDB4ZTg5YzYzNmUsIDB4ZGIzYmJiN2IsIDB4Y2QyNjc4MDksIDB4NmU1OTE4ZjQsIDB4ZWM5YWI3MDEsIDB4ODM0ZjlhYTgsIDB4ZTY5NTZlNjUsIDB4YWFmZmU2N2UsIDB4MjFiY2NmMDgsIDB4ZWYxNWU4ZTYsIDB4YmFlNzliZDksIDB4NGE2ZjM2Y2UsIDB4ZWE5ZjA5ZDQsIDB4MjliMDdjZDYsIDB4MzFhNGIyYWYsIDB4MmEzZjIzMzEsIDB4YzZhNTk0MzAsIDB4MzVhMjY2YzAsIDB4NzQ0ZWJjMzcsIDB4ZmM4MmNhYTYsIDB4ZTA5MGQwYjAsIDB4MzNhN2Q4MTUsIDB4ZjEwNDk4NGEsIDB4NDFlY2RhZjcsIDB4N2ZjZDUwMGUsIDB4MTc5MWY2MmYsIDB4NzY0ZGQ2OGQsIDB4NDNlZmIwNGQsIDB4Y2NhYTRkNTQsIDB4ZTQ5NjA0ZGYsIDB4OWVkMWI1ZTMsIDB4NGM2YTg4MWIsIDB4YzEyYzFmYjgsIDB4NDY2NTUxN2YsIDB4OWQ1ZWVhMDQsIDB4MDE4YzM1NWQsIDB4ZmE4Nzc0NzMsIDB4ZmIwYjQxMmUsIDB4YjM2NzFkNWEsIDB4OTJkYmQyNTIsIDB4ZTkxMDU2MzMsIDB4NmRkNjQ3MTMsIDB4OWFkNzYxOGMsIDB4MzdhMTBjN2EsIDB4NTlmODE0OGUsIDB4ZWIxMzNjODksIDB4Y2VhOTI3ZWUsIDB4Yjc2MWM5MzUsIDB4ZTExY2U1ZWQsIDB4N2E0N2IxM2MsIDB4OWNkMmRmNTksIDB4NTVmMjczM2YsIDB4MTgxNGNlNzksIDB4NzNjNzM3YmYsIDB4NTNmN2NkZWEsIDB4NWZmZGFhNWIsIDB4ZGYzZDZmMTQsIDB4Nzg0NGRiODYsIDB4Y2FhZmYzODEsIDB4Yjk2OGM0M2UsIDB4MzgyNDM0MmMsIDB4YzJhMzQwNWYsIDB4MTYxZGMzNzIsIDB4YmNlMjI1MGMsIDB4MjgzYzQ5OGIsIDB4ZmYwZDk1NDEsIDB4MzlhODAxNzEsIDB4MDgwY2IzZGUsIDB4ZDhiNGU0OWMsIDB4NjQ1NmMxOTAsIDB4N2JjYjg0NjEsIDB4ZDUzMmI2NzAsIDB4NDg2YzVjNzQsIDB4ZDBiODU3NDJdO1xuICAgIHZhciBUNiA9IFsweDUwNTFmNGE3LCAweDUzN2U0MTY1LCAweGMzMWExN2E0LCAweDk2M2EyNzVlLCAweGNiM2JhYjZiLCAweGYxMWY5ZDQ1LCAweGFiYWNmYTU4LCAweDkzNGJlMzAzLCAweDU1MjAzMGZhLCAweGY2YWQ3NjZkLCAweDkxODhjYzc2LCAweDI1ZjUwMjRjLCAweGZjNGZlNWQ3LCAweGQ3YzUyYWNiLCAweDgwMjYzNTQ0LCAweDhmYjU2MmEzLCAweDQ5ZGViMTVhLCAweDY3MjViYTFiLCAweDk4NDVlYTBlLCAweGUxNWRmZWMwLCAweDAyYzMyZjc1LCAweDEyODE0Y2YwLCAweGEzOGQ0Njk3LCAweGM2NmJkM2Y5LCAweGU3MDM4ZjVmLCAweDk1MTU5MjljLCAweGViYmY2ZDdhLCAweGRhOTU1MjU5LCAweDJkZDRiZTgzLCAweGQzNTg3NDIxLCAweDI5NDllMDY5LCAweDQ0OGVjOWM4LCAweDZhNzVjMjg5LCAweDc4ZjQ4ZTc5LCAweDZiOTk1ODNlLCAweGRkMjdiOTcxLCAweGI2YmVlMTRmLCAweDE3ZjA4OGFkLCAweDY2YzkyMGFjLCAweGI0N2RjZTNhLCAweDE4NjNkZjRhLCAweDgyZTUxYTMxLCAweDYwOTc1MTMzLCAweDQ1NjI1MzdmLCAweGUwYjE2NDc3LCAweDg0YmI2YmFlLCAweDFjZmU4MWEwLCAweDk0ZjkwODJiLCAweDU4NzA0ODY4LCAweDE5OGY0NWZkLCAweDg3OTRkZTZjLCAweGI3NTI3YmY4LCAweDIzYWI3M2QzLCAweGUyNzI0YjAyLCAweDU3ZTMxZjhmLCAweDJhNjY1NWFiLCAweDA3YjJlYjI4LCAweDAzMmZiNWMyLCAweDlhODZjNTdiLCAweGE1ZDMzNzA4LCAweGYyMzAyODg3LCAweGIyMjNiZmE1LCAweGJhMDIwMzZhLCAweDVjZWQxNjgyLCAweDJiOGFjZjFjLCAweDkyYTc3OWI0LCAweGYwZjMwN2YyLCAweGExNGU2OWUyLCAweGNkNjVkYWY0LCAweGQ1MDYwNWJlLCAweDFmZDEzNDYyLCAweDhhYzRhNmZlLCAweDlkMzQyZTUzLCAweGEwYTJmMzU1LCAweDMyMDU4YWUxLCAweDc1YTRmNmViLCAweDM5MGI4M2VjLCAweGFhNDA2MGVmLCAweDA2NWU3MTlmLCAweDUxYmQ2ZTEwLCAweGY5M2UyMThhLCAweDNkOTZkZDA2LCAweGFlZGQzZTA1LCAweDQ2NGRlNmJkLCAweGI1OTE1NDhkLCAweDA1NzFjNDVkLCAweDZmMDQwNmQ0LCAweGZmNjA1MDE1LCAweDI0MTk5OGZiLCAweDk3ZDZiZGU5LCAweGNjODk0MDQzLCAweDc3NjdkOTllLCAweGJkYjBlODQyLCAweDg4MDc4OThiLCAweDM4ZTcxOTViLCAweGRiNzljOGVlLCAweDQ3YTE3YzBhLCAweGU5N2M0MjBmLCAweGM5Zjg4NDFlLCAweDAwMDAwMDAwLCAweDgzMDk4MDg2LCAweDQ4MzIyYmVkLCAweGFjMWUxMTcwLCAweDRlNmM1YTcyLCAweGZiZmQwZWZmLCAweDU2MGY4NTM4LCAweDFlM2RhZWQ1LCAweDI3MzYyZDM5LCAweDY0MGEwZmQ5LCAweDIxNjg1Y2E2LCAweGQxOWI1YjU0LCAweDNhMjQzNjJlLCAweGIxMGMwYTY3LCAweDBmOTM1N2U3LCAweGQyYjRlZTk2LCAweDllMWI5YjkxLCAweDRmODBjMGM1LCAweGEyNjFkYzIwLCAweDY5NWE3NzRiLCAweDE2MWMxMjFhLCAweDBhZTI5M2JhLCAweGU1YzBhMDJhLCAweDQzM2MyMmUwLCAweDFkMTIxYjE3LCAweDBiMGUwOTBkLCAweGFkZjI4YmM3LCAweGI5MmRiNmE4LCAweGM4MTQxZWE5LCAweDg1NTdmMTE5LCAweDRjYWY3NTA3LCAweGJiZWU5OWRkLCAweGZkYTM3ZjYwLCAweDlmZjcwMTI2LCAweGJjNWM3MmY1LCAweGM1NDQ2NjNiLCAweDM0NWJmYjdlLCAweDc2OGI0MzI5LCAweGRjY2IyM2M2LCAweDY4YjZlZGZjLCAweDYzYjhlNGYxLCAweGNhZDczMWRjLCAweDEwNDI2Mzg1LCAweDQwMTM5NzIyLCAweDIwODRjNjExLCAweDdkODU0YTI0LCAweGY4ZDJiYjNkLCAweDExYWVmOTMyLCAweDZkYzcyOWExLCAweDRiMWQ5ZTJmLCAweGYzZGNiMjMwLCAweGVjMGQ4NjUyLCAweGQwNzdjMWUzLCAweDZjMmJiMzE2LCAweDk5YTk3MGI5LCAweGZhMTE5NDQ4LCAweDIyNDdlOTY0LCAweGM0YThmYzhjLCAweDFhYTBmMDNmLCAweGQ4NTY3ZDJjLCAweGVmMjIzMzkwLCAweGM3ODc0OTRlLCAweGMxZDkzOGQxLCAweGZlOGNjYWEyLCAweDM2OThkNDBiLCAweGNmYTZmNTgxLCAweDI4YTU3YWRlLCAweDI2ZGFiNzhlLCAweGE0M2ZhZGJmLCAweGU0MmMzYTlkLCAweDBkNTA3ODkyLCAweDliNmE1ZmNjLCAweDYyNTQ3ZTQ2LCAweGMyZjY4ZDEzLCAweGU4OTBkOGI4LCAweDVlMmUzOWY3LCAweGY1ODJjM2FmLCAweGJlOWY1ZDgwLCAweDdjNjlkMDkzLCAweGE5NmZkNTJkLCAweGIzY2YyNTEyLCAweDNiYzhhYzk5LCAweGE3MTAxODdkLCAweDZlZTg5YzYzLCAweDdiZGIzYmJiLCAweDA5Y2QyNjc4LCAweGY0NmU1OTE4LCAweDAxZWM5YWI3LCAweGE4ODM0ZjlhLCAweDY1ZTY5NTZlLCAweDdlYWFmZmU2LCAweDA4MjFiY2NmLCAweGU2ZWYxNWU4LCAweGQ5YmFlNzliLCAweGNlNGE2ZjM2LCAweGQ0ZWE5ZjA5LCAweGQ2MjliMDdjLCAweGFmMzFhNGIyLCAweDMxMmEzZjIzLCAweDMwYzZhNTk0LCAweGMwMzVhMjY2LCAweDM3NzQ0ZWJjLCAweGE2ZmM4MmNhLCAweGIwZTA5MGQwLCAweDE1MzNhN2Q4LCAweDRhZjEwNDk4LCAweGY3NDFlY2RhLCAweDBlN2ZjZDUwLCAweDJmMTc5MWY2LCAweDhkNzY0ZGQ2LCAweDRkNDNlZmIwLCAweDU0Y2NhYTRkLCAweGRmZTQ5NjA0LCAweGUzOWVkMWI1LCAweDFiNGM2YTg4LCAweGI4YzEyYzFmLCAweDdmNDY2NTUxLCAweDA0OWQ1ZWVhLCAweDVkMDE4YzM1LCAweDczZmE4Nzc0LCAweDJlZmIwYjQxLCAweDVhYjM2NzFkLCAweDUyOTJkYmQyLCAweDMzZTkxMDU2LCAweDEzNmRkNjQ3LCAweDhjOWFkNzYxLCAweDdhMzdhMTBjLCAweDhlNTlmODE0LCAweDg5ZWIxMzNjLCAweGVlY2VhOTI3LCAweDM1Yjc2MWM5LCAweGVkZTExY2U1LCAweDNjN2E0N2IxLCAweDU5OWNkMmRmLCAweDNmNTVmMjczLCAweDc5MTgxNGNlLCAweGJmNzNjNzM3LCAweGVhNTNmN2NkLCAweDViNWZmZGFhLCAweDE0ZGYzZDZmLCAweDg2Nzg0NGRiLCAweDgxY2FhZmYzLCAweDNlYjk2OGM0LCAweDJjMzgyNDM0LCAweDVmYzJhMzQwLCAweDcyMTYxZGMzLCAweDBjYmNlMjI1LCAweDhiMjgzYzQ5LCAweDQxZmYwZDk1LCAweDcxMzlhODAxLCAweGRlMDgwY2IzLCAweDljZDhiNGU0LCAweDkwNjQ1NmMxLCAweDYxN2JjYjg0LCAweDcwZDUzMmI2LCAweDc0NDg2YzVjLCAweDQyZDBiODU3XTtcbiAgICB2YXIgVDcgPSBbMHhhNzUwNTFmNCwgMHg2NTUzN2U0MSwgMHhhNGMzMWExNywgMHg1ZTk2M2EyNywgMHg2YmNiM2JhYiwgMHg0NWYxMWY5ZCwgMHg1OGFiYWNmYSwgMHgwMzkzNGJlMywgMHhmYTU1MjAzMCwgMHg2ZGY2YWQ3NiwgMHg3NjkxODhjYywgMHg0YzI1ZjUwMiwgMHhkN2ZjNGZlNSwgMHhjYmQ3YzUyYSwgMHg0NDgwMjYzNSwgMHhhMzhmYjU2MiwgMHg1YTQ5ZGViMSwgMHgxYjY3MjViYSwgMHgwZTk4NDVlYSwgMHhjMGUxNWRmZSwgMHg3NTAyYzMyZiwgMHhmMDEyODE0YywgMHg5N2EzOGQ0NiwgMHhmOWM2NmJkMywgMHg1ZmU3MDM4ZiwgMHg5Yzk1MTU5MiwgMHg3YWViYmY2ZCwgMHg1OWRhOTU1MiwgMHg4MzJkZDRiZSwgMHgyMWQzNTg3NCwgMHg2OTI5NDllMCwgMHhjODQ0OGVjOSwgMHg4OTZhNzVjMiwgMHg3OTc4ZjQ4ZSwgMHgzZTZiOTk1OCwgMHg3MWRkMjdiOSwgMHg0ZmI2YmVlMSwgMHhhZDE3ZjA4OCwgMHhhYzY2YzkyMCwgMHgzYWI0N2RjZSwgMHg0YTE4NjNkZiwgMHgzMTgyZTUxYSwgMHgzMzYwOTc1MSwgMHg3ZjQ1NjI1MywgMHg3N2UwYjE2NCwgMHhhZTg0YmI2YiwgMHhhMDFjZmU4MSwgMHgyYjk0ZjkwOCwgMHg2ODU4NzA0OCwgMHhmZDE5OGY0NSwgMHg2Yzg3OTRkZSwgMHhmOGI3NTI3YiwgMHhkMzIzYWI3MywgMHgwMmUyNzI0YiwgMHg4ZjU3ZTMxZiwgMHhhYjJhNjY1NSwgMHgyODA3YjJlYiwgMHhjMjAzMmZiNSwgMHg3YjlhODZjNSwgMHgwOGE1ZDMzNywgMHg4N2YyMzAyOCwgMHhhNWIyMjNiZiwgMHg2YWJhMDIwMywgMHg4MjVjZWQxNiwgMHgxYzJiOGFjZiwgMHhiNDkyYTc3OSwgMHhmMmYwZjMwNywgMHhlMmExNGU2OSwgMHhmNGNkNjVkYSwgMHhiZWQ1MDYwNSwgMHg2MjFmZDEzNCwgMHhmZThhYzRhNiwgMHg1MzlkMzQyZSwgMHg1NWEwYTJmMywgMHhlMTMyMDU4YSwgMHhlYjc1YTRmNiwgMHhlYzM5MGI4MywgMHhlZmFhNDA2MCwgMHg5ZjA2NWU3MSwgMHgxMDUxYmQ2ZSwgMHg4YWY5M2UyMSwgMHgwNjNkOTZkZCwgMHgwNWFlZGQzZSwgMHhiZDQ2NGRlNiwgMHg4ZGI1OTE1NCwgMHg1ZDA1NzFjNCwgMHhkNDZmMDQwNiwgMHgxNWZmNjA1MCwgMHhmYjI0MTk5OCwgMHhlOTk3ZDZiZCwgMHg0M2NjODk0MCwgMHg5ZTc3NjdkOSwgMHg0MmJkYjBlOCwgMHg4Yjg4MDc4OSwgMHg1YjM4ZTcxOSwgMHhlZWRiNzljOCwgMHgwYTQ3YTE3YywgMHgwZmU5N2M0MiwgMHgxZWM5Zjg4NCwgMHgwMDAwMDAwMCwgMHg4NjgzMDk4MCwgMHhlZDQ4MzIyYiwgMHg3MGFjMWUxMSwgMHg3MjRlNmM1YSwgMHhmZmZiZmQwZSwgMHgzODU2MGY4NSwgMHhkNTFlM2RhZSwgMHgzOTI3MzYyZCwgMHhkOTY0MGEwZiwgMHhhNjIxNjg1YywgMHg1NGQxOWI1YiwgMHgyZTNhMjQzNiwgMHg2N2IxMGMwYSwgMHhlNzBmOTM1NywgMHg5NmQyYjRlZSwgMHg5MTllMWI5YiwgMHhjNTRmODBjMCwgMHgyMGEyNjFkYywgMHg0YjY5NWE3NywgMHgxYTE2MWMxMiwgMHhiYTBhZTI5MywgMHgyYWU1YzBhMCwgMHhlMDQzM2MyMiwgMHgxNzFkMTIxYiwgMHgwZDBiMGUwOSwgMHhjN2FkZjI4YiwgMHhhOGI5MmRiNiwgMHhhOWM4MTQxZSwgMHgxOTg1NTdmMSwgMHgwNzRjYWY3NSwgMHhkZGJiZWU5OSwgMHg2MGZkYTM3ZiwgMHgyNjlmZjcwMSwgMHhmNWJjNWM3MiwgMHgzYmM1NDQ2NiwgMHg3ZTM0NWJmYiwgMHgyOTc2OGI0MywgMHhjNmRjY2IyMywgMHhmYzY4YjZlZCwgMHhmMTYzYjhlNCwgMHhkY2NhZDczMSwgMHg4NTEwNDI2MywgMHgyMjQwMTM5NywgMHgxMTIwODRjNiwgMHgyNDdkODU0YSwgMHgzZGY4ZDJiYiwgMHgzMjExYWVmOSwgMHhhMTZkYzcyOSwgMHgyZjRiMWQ5ZSwgMHgzMGYzZGNiMiwgMHg1MmVjMGQ4NiwgMHhlM2QwNzdjMSwgMHgxNjZjMmJiMywgMHhiOTk5YTk3MCwgMHg0OGZhMTE5NCwgMHg2NDIyNDdlOSwgMHg4Y2M0YThmYywgMHgzZjFhYTBmMCwgMHgyY2Q4NTY3ZCwgMHg5MGVmMjIzMywgMHg0ZWM3ODc0OSwgMHhkMWMxZDkzOCwgMHhhMmZlOGNjYSwgMHgwYjM2OThkNCwgMHg4MWNmYTZmNSwgMHhkZTI4YTU3YSwgMHg4ZTI2ZGFiNywgMHhiZmE0M2ZhZCwgMHg5ZGU0MmMzYSwgMHg5MjBkNTA3OCwgMHhjYzliNmE1ZiwgMHg0NjYyNTQ3ZSwgMHgxM2MyZjY4ZCwgMHhiOGU4OTBkOCwgMHhmNzVlMmUzOSwgMHhhZmY1ODJjMywgMHg4MGJlOWY1ZCwgMHg5MzdjNjlkMCwgMHgyZGE5NmZkNSwgMHgxMmIzY2YyNSwgMHg5OTNiYzhhYywgMHg3ZGE3MTAxOCwgMHg2MzZlZTg5YywgMHhiYjdiZGIzYiwgMHg3ODA5Y2QyNiwgMHgxOGY0NmU1OSwgMHhiNzAxZWM5YSwgMHg5YWE4ODM0ZiwgMHg2ZTY1ZTY5NSwgMHhlNjdlYWFmZiwgMHhjZjA4MjFiYywgMHhlOGU2ZWYxNSwgMHg5YmQ5YmFlNywgMHgzNmNlNGE2ZiwgMHgwOWQ0ZWE5ZiwgMHg3Y2Q2MjliMCwgMHhiMmFmMzFhNCwgMHgyMzMxMmEzZiwgMHg5NDMwYzZhNSwgMHg2NmMwMzVhMiwgMHhiYzM3NzQ0ZSwgMHhjYWE2ZmM4MiwgMHhkMGIwZTA5MCwgMHhkODE1MzNhNywgMHg5ODRhZjEwNCwgMHhkYWY3NDFlYywgMHg1MDBlN2ZjZCwgMHhmNjJmMTc5MSwgMHhkNjhkNzY0ZCwgMHhiMDRkNDNlZiwgMHg0ZDU0Y2NhYSwgMHgwNGRmZTQ5NiwgMHhiNWUzOWVkMSwgMHg4ODFiNGM2YSwgMHgxZmI4YzEyYywgMHg1MTdmNDY2NSwgMHhlYTA0OWQ1ZSwgMHgzNTVkMDE4YywgMHg3NDczZmE4NywgMHg0MTJlZmIwYiwgMHgxZDVhYjM2NywgMHhkMjUyOTJkYiwgMHg1NjMzZTkxMCwgMHg0NzEzNmRkNiwgMHg2MThjOWFkNywgMHgwYzdhMzdhMSwgMHgxNDhlNTlmOCwgMHgzYzg5ZWIxMywgMHgyN2VlY2VhOSwgMHhjOTM1Yjc2MSwgMHhlNWVkZTExYywgMHhiMTNjN2E0NywgMHhkZjU5OWNkMiwgMHg3MzNmNTVmMiwgMHhjZTc5MTgxNCwgMHgzN2JmNzNjNywgMHhjZGVhNTNmNywgMHhhYTViNWZmZCwgMHg2ZjE0ZGYzZCwgMHhkYjg2Nzg0NCwgMHhmMzgxY2FhZiwgMHhjNDNlYjk2OCwgMHgzNDJjMzgyNCwgMHg0MDVmYzJhMywgMHhjMzcyMTYxZCwgMHgyNTBjYmNlMiwgMHg0OThiMjgzYywgMHg5NTQxZmYwZCwgMHgwMTcxMzlhOCwgMHhiM2RlMDgwYywgMHhlNDljZDhiNCwgMHhjMTkwNjQ1NiwgMHg4NDYxN2JjYiwgMHhiNjcwZDUzMiwgMHg1Yzc0NDg2YywgMHg1NzQyZDBiOF07XG4gICAgdmFyIFQ4ID0gWzB4ZjRhNzUwNTEsIDB4NDE2NTUzN2UsIDB4MTdhNGMzMWEsIDB4Mjc1ZTk2M2EsIDB4YWI2YmNiM2IsIDB4OWQ0NWYxMWYsIDB4ZmE1OGFiYWMsIDB4ZTMwMzkzNGIsIDB4MzBmYTU1MjAsIDB4NzY2ZGY2YWQsIDB4Y2M3NjkxODgsIDB4MDI0YzI1ZjUsIDB4ZTVkN2ZjNGYsIDB4MmFjYmQ3YzUsIDB4MzU0NDgwMjYsIDB4NjJhMzhmYjUsIDB4YjE1YTQ5ZGUsIDB4YmExYjY3MjUsIDB4ZWEwZTk4NDUsIDB4ZmVjMGUxNWQsIDB4MmY3NTAyYzMsIDB4NGNmMDEyODEsIDB4NDY5N2EzOGQsIDB4ZDNmOWM2NmIsIDB4OGY1ZmU3MDMsIDB4OTI5Yzk1MTUsIDB4NmQ3YWViYmYsIDB4NTI1OWRhOTUsIDB4YmU4MzJkZDQsIDB4NzQyMWQzNTgsIDB4ZTA2OTI5NDksIDB4YzljODQ0OGUsIDB4YzI4OTZhNzUsIDB4OGU3OTc4ZjQsIDB4NTgzZTZiOTksIDB4Yjk3MWRkMjcsIDB4ZTE0ZmI2YmUsIDB4ODhhZDE3ZjAsIDB4MjBhYzY2YzksIDB4Y2UzYWI0N2QsIDB4ZGY0YTE4NjMsIDB4MWEzMTgyZTUsIDB4NTEzMzYwOTcsIDB4NTM3ZjQ1NjIsIDB4NjQ3N2UwYjEsIDB4NmJhZTg0YmIsIDB4ODFhMDFjZmUsIDB4MDgyYjk0ZjksIDB4NDg2ODU4NzAsIDB4NDVmZDE5OGYsIDB4ZGU2Yzg3OTQsIDB4N2JmOGI3NTIsIDB4NzNkMzIzYWIsIDB4NGIwMmUyNzIsIDB4MWY4ZjU3ZTMsIDB4NTVhYjJhNjYsIDB4ZWIyODA3YjIsIDB4YjVjMjAzMmYsIDB4YzU3YjlhODYsIDB4MzcwOGE1ZDMsIDB4Mjg4N2YyMzAsIDB4YmZhNWIyMjMsIDB4MDM2YWJhMDIsIDB4MTY4MjVjZWQsIDB4Y2YxYzJiOGEsIDB4NzliNDkyYTcsIDB4MDdmMmYwZjMsIDB4NjllMmExNGUsIDB4ZGFmNGNkNjUsIDB4MDViZWQ1MDYsIDB4MzQ2MjFmZDEsIDB4YTZmZThhYzQsIDB4MmU1MzlkMzQsIDB4ZjM1NWEwYTIsIDB4OGFlMTMyMDUsIDB4ZjZlYjc1YTQsIDB4ODNlYzM5MGIsIDB4NjBlZmFhNDAsIDB4NzE5ZjA2NWUsIDB4NmUxMDUxYmQsIDB4MjE4YWY5M2UsIDB4ZGQwNjNkOTYsIDB4M2UwNWFlZGQsIDB4ZTZiZDQ2NGQsIDB4NTQ4ZGI1OTEsIDB4YzQ1ZDA1NzEsIDB4MDZkNDZmMDQsIDB4NTAxNWZmNjAsIDB4OThmYjI0MTksIDB4YmRlOTk3ZDYsIDB4NDA0M2NjODksIDB4ZDk5ZTc3NjcsIDB4ZTg0MmJkYjAsIDB4ODk4Yjg4MDcsIDB4MTk1YjM4ZTcsIDB4YzhlZWRiNzksIDB4N2MwYTQ3YTEsIDB4NDIwZmU5N2MsIDB4ODQxZWM5ZjgsIDB4MDAwMDAwMDAsIDB4ODA4NjgzMDksIDB4MmJlZDQ4MzIsIDB4MTE3MGFjMWUsIDB4NWE3MjRlNmMsIDB4MGVmZmZiZmQsIDB4ODUzODU2MGYsIDB4YWVkNTFlM2QsIDB4MmQzOTI3MzYsIDB4MGZkOTY0MGEsIDB4NWNhNjIxNjgsIDB4NWI1NGQxOWIsIDB4MzYyZTNhMjQsIDB4MGE2N2IxMGMsIDB4NTdlNzBmOTMsIDB4ZWU5NmQyYjQsIDB4OWI5MTllMWIsIDB4YzBjNTRmODAsIDB4ZGMyMGEyNjEsIDB4Nzc0YjY5NWEsIDB4MTIxYTE2MWMsIDB4OTNiYTBhZTIsIDB4YTAyYWU1YzAsIDB4MjJlMDQzM2MsIDB4MWIxNzFkMTIsIDB4MDkwZDBiMGUsIDB4OGJjN2FkZjIsIDB4YjZhOGI5MmQsIDB4MWVhOWM4MTQsIDB4ZjExOTg1NTcsIDB4NzUwNzRjYWYsIDB4OTlkZGJiZWUsIDB4N2Y2MGZkYTMsIDB4MDEyNjlmZjcsIDB4NzJmNWJjNWMsIDB4NjYzYmM1NDQsIDB4ZmI3ZTM0NWIsIDB4NDMyOTc2OGIsIDB4MjNjNmRjY2IsIDB4ZWRmYzY4YjYsIDB4ZTRmMTYzYjgsIDB4MzFkY2NhZDcsIDB4NjM4NTEwNDIsIDB4OTcyMjQwMTMsIDB4YzYxMTIwODQsIDB4NGEyNDdkODUsIDB4YmIzZGY4ZDIsIDB4ZjkzMjExYWUsIDB4MjlhMTZkYzcsIDB4OWUyZjRiMWQsIDB4YjIzMGYzZGMsIDB4ODY1MmVjMGQsIDB4YzFlM2QwNzcsIDB4YjMxNjZjMmIsIDB4NzBiOTk5YTksIDB4OTQ0OGZhMTEsIDB4ZTk2NDIyNDcsIDB4ZmM4Y2M0YTgsIDB4ZjAzZjFhYTAsIDB4N2QyY2Q4NTYsIDB4MzM5MGVmMjIsIDB4NDk0ZWM3ODcsIDB4MzhkMWMxZDksIDB4Y2FhMmZlOGMsIDB4ZDQwYjM2OTgsIDB4ZjU4MWNmYTYsIDB4N2FkZTI4YTUsIDB4Yjc4ZTI2ZGEsIDB4YWRiZmE0M2YsIDB4M2E5ZGU0MmMsIDB4Nzg5MjBkNTAsIDB4NWZjYzliNmEsIDB4N2U0NjYyNTQsIDB4OGQxM2MyZjYsIDB4ZDhiOGU4OTAsIDB4MzlmNzVlMmUsIDB4YzNhZmY1ODIsIDB4NWQ4MGJlOWYsIDB4ZDA5MzdjNjksIDB4ZDUyZGE5NmYsIDB4MjUxMmIzY2YsIDB4YWM5OTNiYzgsIDB4MTg3ZGE3MTAsIDB4OWM2MzZlZTgsIDB4M2JiYjdiZGIsIDB4MjY3ODA5Y2QsIDB4NTkxOGY0NmUsIDB4OWFiNzAxZWMsIDB4NGY5YWE4ODMsIDB4OTU2ZTY1ZTYsIDB4ZmZlNjdlYWEsIDB4YmNjZjA4MjEsIDB4MTVlOGU2ZWYsIDB4ZTc5YmQ5YmEsIDB4NmYzNmNlNGEsIDB4OWYwOWQ0ZWEsIDB4YjA3Y2Q2MjksIDB4YTRiMmFmMzEsIDB4M2YyMzMxMmEsIDB4YTU5NDMwYzYsIDB4YTI2NmMwMzUsIDB4NGViYzM3NzQsIDB4ODJjYWE2ZmMsIDB4OTBkMGIwZTAsIDB4YTdkODE1MzMsIDB4MDQ5ODRhZjEsIDB4ZWNkYWY3NDEsIDB4Y2Q1MDBlN2YsIDB4OTFmNjJmMTcsIDB4NGRkNjhkNzYsIDB4ZWZiMDRkNDMsIDB4YWE0ZDU0Y2MsIDB4OTYwNGRmZTQsIDB4ZDFiNWUzOWUsIDB4NmE4ODFiNGMsIDB4MmMxZmI4YzEsIDB4NjU1MTdmNDYsIDB4NWVlYTA0OWQsIDB4OGMzNTVkMDEsIDB4ODc3NDczZmEsIDB4MGI0MTJlZmIsIDB4NjcxZDVhYjMsIDB4ZGJkMjUyOTIsIDB4MTA1NjMzZTksIDB4ZDY0NzEzNmQsIDB4ZDc2MThjOWEsIDB4YTEwYzdhMzcsIDB4ZjgxNDhlNTksIDB4MTMzYzg5ZWIsIDB4YTkyN2VlY2UsIDB4NjFjOTM1YjcsIDB4MWNlNWVkZTEsIDB4NDdiMTNjN2EsIDB4ZDJkZjU5OWMsIDB4ZjI3MzNmNTUsIDB4MTRjZTc5MTgsIDB4YzczN2JmNzMsIDB4ZjdjZGVhNTMsIDB4ZmRhYTViNWYsIDB4M2Q2ZjE0ZGYsIDB4NDRkYjg2NzgsIDB4YWZmMzgxY2EsIDB4NjhjNDNlYjksIDB4MjQzNDJjMzgsIDB4YTM0MDVmYzIsIDB4MWRjMzcyMTYsIDB4ZTIyNTBjYmMsIDB4M2M0OThiMjgsIDB4MGQ5NTQxZmYsIDB4YTgwMTcxMzksIDB4MGNiM2RlMDgsIDB4YjRlNDljZDgsIDB4NTZjMTkwNjQsIDB4Y2I4NDYxN2IsIDB4MzJiNjcwZDUsIDB4NmM1Yzc0NDgsIDB4Yjg1NzQyZDBdO1xuXG4gICAgLy8gVHJhbnNmb3JtYXRpb25zIGZvciBkZWNyeXB0aW9uIGtleSBleHBhbnNpb25cbiAgICB2YXIgVTEgPSBbMHgwMDAwMDAwMCwgMHgwZTA5MGQwYiwgMHgxYzEyMWExNiwgMHgxMjFiMTcxZCwgMHgzODI0MzQyYywgMHgzNjJkMzkyNywgMHgyNDM2MmUzYSwgMHgyYTNmMjMzMSwgMHg3MDQ4Njg1OCwgMHg3ZTQxNjU1MywgMHg2YzVhNzI0ZSwgMHg2MjUzN2Y0NSwgMHg0ODZjNWM3NCwgMHg0NjY1NTE3ZiwgMHg1NDdlNDY2MiwgMHg1YTc3NGI2OSwgMHhlMDkwZDBiMCwgMHhlZTk5ZGRiYiwgMHhmYzgyY2FhNiwgMHhmMjhiYzdhZCwgMHhkOGI0ZTQ5YywgMHhkNmJkZTk5NywgMHhjNGE2ZmU4YSwgMHhjYWFmZjM4MSwgMHg5MGQ4YjhlOCwgMHg5ZWQxYjVlMywgMHg4Y2NhYTJmZSwgMHg4MmMzYWZmNSwgMHhhOGZjOGNjNCwgMHhhNmY1ODFjZiwgMHhiNGVlOTZkMiwgMHhiYWU3OWJkOSwgMHhkYjNiYmI3YiwgMHhkNTMyYjY3MCwgMHhjNzI5YTE2ZCwgMHhjOTIwYWM2NiwgMHhlMzFmOGY1NywgMHhlZDE2ODI1YywgMHhmZjBkOTU0MSwgMHhmMTA0OTg0YSwgMHhhYjczZDMyMywgMHhhNTdhZGUyOCwgMHhiNzYxYzkzNSwgMHhiOTY4YzQzZSwgMHg5MzU3ZTcwZiwgMHg5ZDVlZWEwNCwgMHg4ZjQ1ZmQxOSwgMHg4MTRjZjAxMiwgMHgzYmFiNmJjYiwgMHgzNWEyNjZjMCwgMHgyN2I5NzFkZCwgMHgyOWIwN2NkNiwgMHgwMzhmNWZlNywgMHgwZDg2NTJlYywgMHgxZjlkNDVmMSwgMHgxMTk0NDhmYSwgMHg0YmUzMDM5MywgMHg0NWVhMGU5OCwgMHg1N2YxMTk4NSwgMHg1OWY4MTQ4ZSwgMHg3M2M3MzdiZiwgMHg3ZGNlM2FiNCwgMHg2ZmQ1MmRhOSwgMHg2MWRjMjBhMiwgMHhhZDc2NmRmNiwgMHhhMzdmNjBmZCwgMHhiMTY0NzdlMCwgMHhiZjZkN2FlYiwgMHg5NTUyNTlkYSwgMHg5YjViNTRkMSwgMHg4OTQwNDNjYywgMHg4NzQ5NGVjNywgMHhkZDNlMDVhZSwgMHhkMzM3MDhhNSwgMHhjMTJjMWZiOCwgMHhjZjI1MTJiMywgMHhlNTFhMzE4MiwgMHhlYjEzM2M4OSwgMHhmOTA4MmI5NCwgMHhmNzAxMjY5ZiwgMHg0ZGU2YmQ0NiwgMHg0M2VmYjA0ZCwgMHg1MWY0YTc1MCwgMHg1ZmZkYWE1YiwgMHg3NWMyODk2YSwgMHg3YmNiODQ2MSwgMHg2OWQwOTM3YywgMHg2N2Q5OWU3NywgMHgzZGFlZDUxZSwgMHgzM2E3ZDgxNSwgMHgyMWJjY2YwOCwgMHgyZmI1YzIwMywgMHgwNThhZTEzMiwgMHgwYjgzZWMzOSwgMHgxOTk4ZmIyNCwgMHgxNzkxZjYyZiwgMHg3NjRkZDY4ZCwgMHg3ODQ0ZGI4NiwgMHg2YTVmY2M5YiwgMHg2NDU2YzE5MCwgMHg0ZTY5ZTJhMSwgMHg0MDYwZWZhYSwgMHg1MjdiZjhiNywgMHg1YzcyZjViYywgMHgwNjA1YmVkNSwgMHgwODBjYjNkZSwgMHgxYTE3YTRjMywgMHgxNDFlYTljOCwgMHgzZTIxOGFmOSwgMHgzMDI4ODdmMiwgMHgyMjMzOTBlZiwgMHgyYzNhOWRlNCwgMHg5NmRkMDYzZCwgMHg5OGQ0MGIzNiwgMHg4YWNmMWMyYiwgMHg4NGM2MTEyMCwgMHhhZWY5MzIxMSwgMHhhMGYwM2YxYSwgMHhiMmViMjgwNywgMHhiY2UyMjUwYywgMHhlNjk1NmU2NSwgMHhlODljNjM2ZSwgMHhmYTg3NzQ3MywgMHhmNDhlNzk3OCwgMHhkZWIxNWE0OSwgMHhkMGI4NTc0MiwgMHhjMmEzNDA1ZiwgMHhjY2FhNGQ1NCwgMHg0MWVjZGFmNywgMHg0ZmU1ZDdmYywgMHg1ZGZlYzBlMSwgMHg1M2Y3Y2RlYSwgMHg3OWM4ZWVkYiwgMHg3N2MxZTNkMCwgMHg2NWRhZjRjZCwgMHg2YmQzZjljNiwgMHgzMWE0YjJhZiwgMHgzZmFkYmZhNCwgMHgyZGI2YThiOSwgMHgyM2JmYTViMiwgMHgwOTgwODY4MywgMHgwNzg5OGI4OCwgMHgxNTkyOWM5NSwgMHgxYjliOTE5ZSwgMHhhMTdjMGE0NywgMHhhZjc1MDc0YywgMHhiZDZlMTA1MSwgMHhiMzY3MWQ1YSwgMHg5OTU4M2U2YiwgMHg5NzUxMzM2MCwgMHg4NTRhMjQ3ZCwgMHg4YjQzMjk3NiwgMHhkMTM0NjIxZiwgMHhkZjNkNmYxNCwgMHhjZDI2NzgwOSwgMHhjMzJmNzUwMiwgMHhlOTEwNTYzMywgMHhlNzE5NWIzOCwgMHhmNTAyNGMyNSwgMHhmYjBiNDEyZSwgMHg5YWQ3NjE4YywgMHg5NGRlNmM4NywgMHg4NmM1N2I5YSwgMHg4OGNjNzY5MSwgMHhhMmYzNTVhMCwgMHhhY2ZhNThhYiwgMHhiZWUxNGZiNiwgMHhiMGU4NDJiZCwgMHhlYTlmMDlkNCwgMHhlNDk2MDRkZiwgMHhmNjhkMTNjMiwgMHhmODg0MWVjOSwgMHhkMmJiM2RmOCwgMHhkY2IyMzBmMywgMHhjZWE5MjdlZSwgMHhjMGEwMmFlNSwgMHg3YTQ3YjEzYywgMHg3NDRlYmMzNywgMHg2NjU1YWIyYSwgMHg2ODVjYTYyMSwgMHg0MjYzODUxMCwgMHg0YzZhODgxYiwgMHg1ZTcxOWYwNiwgMHg1MDc4OTIwZCwgMHgwYTBmZDk2NCwgMHgwNDA2ZDQ2ZiwgMHgxNjFkYzM3MiwgMHgxODE0Y2U3OSwgMHgzMjJiZWQ0OCwgMHgzYzIyZTA0MywgMHgyZTM5Zjc1ZSwgMHgyMDMwZmE1NSwgMHhlYzlhYjcwMSwgMHhlMjkzYmEwYSwgMHhmMDg4YWQxNywgMHhmZTgxYTAxYywgMHhkNGJlODMyZCwgMHhkYWI3OGUyNiwgMHhjOGFjOTkzYiwgMHhjNmE1OTQzMCwgMHg5Y2QyZGY1OSwgMHg5MmRiZDI1MiwgMHg4MGMwYzU0ZiwgMHg4ZWM5Yzg0NCwgMHhhNGY2ZWI3NSwgMHhhYWZmZTY3ZSwgMHhiOGU0ZjE2MywgMHhiNmVkZmM2OCwgMHgwYzBhNjdiMSwgMHgwMjAzNmFiYSwgMHgxMDE4N2RhNywgMHgxZTExNzBhYywgMHgzNDJlNTM5ZCwgMHgzYTI3NWU5NiwgMHgyODNjNDk4YiwgMHgyNjM1NDQ4MCwgMHg3YzQyMGZlOSwgMHg3MjRiMDJlMiwgMHg2MDUwMTVmZiwgMHg2ZTU5MThmNCwgMHg0NDY2M2JjNSwgMHg0YTZmMzZjZSwgMHg1ODc0MjFkMywgMHg1NjdkMmNkOCwgMHgzN2ExMGM3YSwgMHgzOWE4MDE3MSwgMHgyYmIzMTY2YywgMHgyNWJhMWI2NywgMHgwZjg1Mzg1NiwgMHgwMThjMzU1ZCwgMHgxMzk3MjI0MCwgMHgxZDllMmY0YiwgMHg0N2U5NjQyMiwgMHg0OWUwNjkyOSwgMHg1YmZiN2UzNCwgMHg1NWYyNzMzZiwgMHg3ZmNkNTAwZSwgMHg3MWM0NWQwNSwgMHg2M2RmNGExOCwgMHg2ZGQ2NDcxMywgMHhkNzMxZGNjYSwgMHhkOTM4ZDFjMSwgMHhjYjIzYzZkYywgMHhjNTJhY2JkNywgMHhlZjE1ZThlNiwgMHhlMTFjZTVlZCwgMHhmMzA3ZjJmMCwgMHhmZDBlZmZmYiwgMHhhNzc5YjQ5MiwgMHhhOTcwYjk5OSwgMHhiYjZiYWU4NCwgMHhiNTYyYTM4ZiwgMHg5ZjVkODBiZSwgMHg5MTU0OGRiNSwgMHg4MzRmOWFhOCwgMHg4ZDQ2OTdhM107XG4gICAgdmFyIFUyID0gWzB4MDAwMDAwMDAsIDB4MGIwZTA5MGQsIDB4MTYxYzEyMWEsIDB4MWQxMjFiMTcsIDB4MmMzODI0MzQsIDB4MjczNjJkMzksIDB4M2EyNDM2MmUsIDB4MzEyYTNmMjMsIDB4NTg3MDQ4NjgsIDB4NTM3ZTQxNjUsIDB4NGU2YzVhNzIsIDB4NDU2MjUzN2YsIDB4NzQ0ODZjNWMsIDB4N2Y0NjY1NTEsIDB4NjI1NDdlNDYsIDB4Njk1YTc3NGIsIDB4YjBlMDkwZDAsIDB4YmJlZTk5ZGQsIDB4YTZmYzgyY2EsIDB4YWRmMjhiYzcsIDB4OWNkOGI0ZTQsIDB4OTdkNmJkZTksIDB4OGFjNGE2ZmUsIDB4ODFjYWFmZjMsIDB4ZTg5MGQ4YjgsIDB4ZTM5ZWQxYjUsIDB4ZmU4Y2NhYTIsIDB4ZjU4MmMzYWYsIDB4YzRhOGZjOGMsIDB4Y2ZhNmY1ODEsIDB4ZDJiNGVlOTYsIDB4ZDliYWU3OWIsIDB4N2JkYjNiYmIsIDB4NzBkNTMyYjYsIDB4NmRjNzI5YTEsIDB4NjZjOTIwYWMsIDB4NTdlMzFmOGYsIDB4NWNlZDE2ODIsIDB4NDFmZjBkOTUsIDB4NGFmMTA0OTgsIDB4MjNhYjczZDMsIDB4MjhhNTdhZGUsIDB4MzViNzYxYzksIDB4M2ViOTY4YzQsIDB4MGY5MzU3ZTcsIDB4MDQ5ZDVlZWEsIDB4MTk4ZjQ1ZmQsIDB4MTI4MTRjZjAsIDB4Y2IzYmFiNmIsIDB4YzAzNWEyNjYsIDB4ZGQyN2I5NzEsIDB4ZDYyOWIwN2MsIDB4ZTcwMzhmNWYsIDB4ZWMwZDg2NTIsIDB4ZjExZjlkNDUsIDB4ZmExMTk0NDgsIDB4OTM0YmUzMDMsIDB4OTg0NWVhMGUsIDB4ODU1N2YxMTksIDB4OGU1OWY4MTQsIDB4YmY3M2M3MzcsIDB4YjQ3ZGNlM2EsIDB4YTk2ZmQ1MmQsIDB4YTI2MWRjMjAsIDB4ZjZhZDc2NmQsIDB4ZmRhMzdmNjAsIDB4ZTBiMTY0NzcsIDB4ZWJiZjZkN2EsIDB4ZGE5NTUyNTksIDB4ZDE5YjViNTQsIDB4Y2M4OTQwNDMsIDB4Yzc4NzQ5NGUsIDB4YWVkZDNlMDUsIDB4YTVkMzM3MDgsIDB4YjhjMTJjMWYsIDB4YjNjZjI1MTIsIDB4ODJlNTFhMzEsIDB4ODllYjEzM2MsIDB4OTRmOTA4MmIsIDB4OWZmNzAxMjYsIDB4NDY0ZGU2YmQsIDB4NGQ0M2VmYjAsIDB4NTA1MWY0YTcsIDB4NWI1ZmZkYWEsIDB4NmE3NWMyODksIDB4NjE3YmNiODQsIDB4N2M2OWQwOTMsIDB4Nzc2N2Q5OWUsIDB4MWUzZGFlZDUsIDB4MTUzM2E3ZDgsIDB4MDgyMWJjY2YsIDB4MDMyZmI1YzIsIDB4MzIwNThhZTEsIDB4MzkwYjgzZWMsIDB4MjQxOTk4ZmIsIDB4MmYxNzkxZjYsIDB4OGQ3NjRkZDYsIDB4ODY3ODQ0ZGIsIDB4OWI2YTVmY2MsIDB4OTA2NDU2YzEsIDB4YTE0ZTY5ZTIsIDB4YWE0MDYwZWYsIDB4Yjc1MjdiZjgsIDB4YmM1YzcyZjUsIDB4ZDUwNjA1YmUsIDB4ZGUwODBjYjMsIDB4YzMxYTE3YTQsIDB4YzgxNDFlYTksIDB4ZjkzZTIxOGEsIDB4ZjIzMDI4ODcsIDB4ZWYyMjMzOTAsIDB4ZTQyYzNhOWQsIDB4M2Q5NmRkMDYsIDB4MzY5OGQ0MGIsIDB4MmI4YWNmMWMsIDB4MjA4NGM2MTEsIDB4MTFhZWY5MzIsIDB4MWFhMGYwM2YsIDB4MDdiMmViMjgsIDB4MGNiY2UyMjUsIDB4NjVlNjk1NmUsIDB4NmVlODljNjMsIDB4NzNmYTg3NzQsIDB4NzhmNDhlNzksIDB4NDlkZWIxNWEsIDB4NDJkMGI4NTcsIDB4NWZjMmEzNDAsIDB4NTRjY2FhNGQsIDB4Zjc0MWVjZGEsIDB4ZmM0ZmU1ZDcsIDB4ZTE1ZGZlYzAsIDB4ZWE1M2Y3Y2QsIDB4ZGI3OWM4ZWUsIDB4ZDA3N2MxZTMsIDB4Y2Q2NWRhZjQsIDB4YzY2YmQzZjksIDB4YWYzMWE0YjIsIDB4YTQzZmFkYmYsIDB4YjkyZGI2YTgsIDB4YjIyM2JmYTUsIDB4ODMwOTgwODYsIDB4ODgwNzg5OGIsIDB4OTUxNTkyOWMsIDB4OWUxYjliOTEsIDB4NDdhMTdjMGEsIDB4NGNhZjc1MDcsIDB4NTFiZDZlMTAsIDB4NWFiMzY3MWQsIDB4NmI5OTU4M2UsIDB4NjA5NzUxMzMsIDB4N2Q4NTRhMjQsIDB4NzY4YjQzMjksIDB4MWZkMTM0NjIsIDB4MTRkZjNkNmYsIDB4MDljZDI2NzgsIDB4MDJjMzJmNzUsIDB4MzNlOTEwNTYsIDB4MzhlNzE5NWIsIDB4MjVmNTAyNGMsIDB4MmVmYjBiNDEsIDB4OGM5YWQ3NjEsIDB4ODc5NGRlNmMsIDB4OWE4NmM1N2IsIDB4OTE4OGNjNzYsIDB4YTBhMmYzNTUsIDB4YWJhY2ZhNTgsIDB4YjZiZWUxNGYsIDB4YmRiMGU4NDIsIDB4ZDRlYTlmMDksIDB4ZGZlNDk2MDQsIDB4YzJmNjhkMTMsIDB4YzlmODg0MWUsIDB4ZjhkMmJiM2QsIDB4ZjNkY2IyMzAsIDB4ZWVjZWE5MjcsIDB4ZTVjMGEwMmEsIDB4M2M3YTQ3YjEsIDB4Mzc3NDRlYmMsIDB4MmE2NjU1YWIsIDB4MjE2ODVjYTYsIDB4MTA0MjYzODUsIDB4MWI0YzZhODgsIDB4MDY1ZTcxOWYsIDB4MGQ1MDc4OTIsIDB4NjQwYTBmZDksIDB4NmYwNDA2ZDQsIDB4NzIxNjFkYzMsIDB4NzkxODE0Y2UsIDB4NDgzMjJiZWQsIDB4NDMzYzIyZTAsIDB4NWUyZTM5ZjcsIDB4NTUyMDMwZmEsIDB4MDFlYzlhYjcsIDB4MGFlMjkzYmEsIDB4MTdmMDg4YWQsIDB4MWNmZTgxYTAsIDB4MmRkNGJlODMsIDB4MjZkYWI3OGUsIDB4M2JjOGFjOTksIDB4MzBjNmE1OTQsIDB4NTk5Y2QyZGYsIDB4NTI5MmRiZDIsIDB4NGY4MGMwYzUsIDB4NDQ4ZWM5YzgsIDB4NzVhNGY2ZWIsIDB4N2VhYWZmZTYsIDB4NjNiOGU0ZjEsIDB4NjhiNmVkZmMsIDB4YjEwYzBhNjcsIDB4YmEwMjAzNmEsIDB4YTcxMDE4N2QsIDB4YWMxZTExNzAsIDB4OWQzNDJlNTMsIDB4OTYzYTI3NWUsIDB4OGIyODNjNDksIDB4ODAyNjM1NDQsIDB4ZTk3YzQyMGYsIDB4ZTI3MjRiMDIsIDB4ZmY2MDUwMTUsIDB4ZjQ2ZTU5MTgsIDB4YzU0NDY2M2IsIDB4Y2U0YTZmMzYsIDB4ZDM1ODc0MjEsIDB4ZDg1NjdkMmMsIDB4N2EzN2ExMGMsIDB4NzEzOWE4MDEsIDB4NmMyYmIzMTYsIDB4NjcyNWJhMWIsIDB4NTYwZjg1MzgsIDB4NWQwMThjMzUsIDB4NDAxMzk3MjIsIDB4NGIxZDllMmYsIDB4MjI0N2U5NjQsIDB4Mjk0OWUwNjksIDB4MzQ1YmZiN2UsIDB4M2Y1NWYyNzMsIDB4MGU3ZmNkNTAsIDB4MDU3MWM0NWQsIDB4MTg2M2RmNGEsIDB4MTM2ZGQ2NDcsIDB4Y2FkNzMxZGMsIDB4YzFkOTM4ZDEsIDB4ZGNjYjIzYzYsIDB4ZDdjNTJhY2IsIDB4ZTZlZjE1ZTgsIDB4ZWRlMTFjZTUsIDB4ZjBmMzA3ZjIsIDB4ZmJmZDBlZmYsIDB4OTJhNzc5YjQsIDB4OTlhOTcwYjksIDB4ODRiYjZiYWUsIDB4OGZiNTYyYTMsIDB4YmU5ZjVkODAsIDB4YjU5MTU0OGQsIDB4YTg4MzRmOWEsIDB4YTM4ZDQ2OTddO1xuICAgIHZhciBVMyA9IFsweDAwMDAwMDAwLCAweDBkMGIwZTA5LCAweDFhMTYxYzEyLCAweDE3MWQxMjFiLCAweDM0MmMzODI0LCAweDM5MjczNjJkLCAweDJlM2EyNDM2LCAweDIzMzEyYTNmLCAweDY4NTg3MDQ4LCAweDY1NTM3ZTQxLCAweDcyNGU2YzVhLCAweDdmNDU2MjUzLCAweDVjNzQ0ODZjLCAweDUxN2Y0NjY1LCAweDQ2NjI1NDdlLCAweDRiNjk1YTc3LCAweGQwYjBlMDkwLCAweGRkYmJlZTk5LCAweGNhYTZmYzgyLCAweGM3YWRmMjhiLCAweGU0OWNkOGI0LCAweGU5OTdkNmJkLCAweGZlOGFjNGE2LCAweGYzODFjYWFmLCAweGI4ZTg5MGQ4LCAweGI1ZTM5ZWQxLCAweGEyZmU4Y2NhLCAweGFmZjU4MmMzLCAweDhjYzRhOGZjLCAweDgxY2ZhNmY1LCAweDk2ZDJiNGVlLCAweDliZDliYWU3LCAweGJiN2JkYjNiLCAweGI2NzBkNTMyLCAweGExNmRjNzI5LCAweGFjNjZjOTIwLCAweDhmNTdlMzFmLCAweDgyNWNlZDE2LCAweDk1NDFmZjBkLCAweDk4NGFmMTA0LCAweGQzMjNhYjczLCAweGRlMjhhNTdhLCAweGM5MzViNzYxLCAweGM0M2ViOTY4LCAweGU3MGY5MzU3LCAweGVhMDQ5ZDVlLCAweGZkMTk4ZjQ1LCAweGYwMTI4MTRjLCAweDZiY2IzYmFiLCAweDY2YzAzNWEyLCAweDcxZGQyN2I5LCAweDdjZDYyOWIwLCAweDVmZTcwMzhmLCAweDUyZWMwZDg2LCAweDQ1ZjExZjlkLCAweDQ4ZmExMTk0LCAweDAzOTM0YmUzLCAweDBlOTg0NWVhLCAweDE5ODU1N2YxLCAweDE0OGU1OWY4LCAweDM3YmY3M2M3LCAweDNhYjQ3ZGNlLCAweDJkYTk2ZmQ1LCAweDIwYTI2MWRjLCAweDZkZjZhZDc2LCAweDYwZmRhMzdmLCAweDc3ZTBiMTY0LCAweDdhZWJiZjZkLCAweDU5ZGE5NTUyLCAweDU0ZDE5YjViLCAweDQzY2M4OTQwLCAweDRlYzc4NzQ5LCAweDA1YWVkZDNlLCAweDA4YTVkMzM3LCAweDFmYjhjMTJjLCAweDEyYjNjZjI1LCAweDMxODJlNTFhLCAweDNjODllYjEzLCAweDJiOTRmOTA4LCAweDI2OWZmNzAxLCAweGJkNDY0ZGU2LCAweGIwNGQ0M2VmLCAweGE3NTA1MWY0LCAweGFhNWI1ZmZkLCAweDg5NmE3NWMyLCAweDg0NjE3YmNiLCAweDkzN2M2OWQwLCAweDllNzc2N2Q5LCAweGQ1MWUzZGFlLCAweGQ4MTUzM2E3LCAweGNmMDgyMWJjLCAweGMyMDMyZmI1LCAweGUxMzIwNThhLCAweGVjMzkwYjgzLCAweGZiMjQxOTk4LCAweGY2MmYxNzkxLCAweGQ2OGQ3NjRkLCAweGRiODY3ODQ0LCAweGNjOWI2YTVmLCAweGMxOTA2NDU2LCAweGUyYTE0ZTY5LCAweGVmYWE0MDYwLCAweGY4Yjc1MjdiLCAweGY1YmM1YzcyLCAweGJlZDUwNjA1LCAweGIzZGUwODBjLCAweGE0YzMxYTE3LCAweGE5YzgxNDFlLCAweDhhZjkzZTIxLCAweDg3ZjIzMDI4LCAweDkwZWYyMjMzLCAweDlkZTQyYzNhLCAweDA2M2Q5NmRkLCAweDBiMzY5OGQ0LCAweDFjMmI4YWNmLCAweDExMjA4NGM2LCAweDMyMTFhZWY5LCAweDNmMWFhMGYwLCAweDI4MDdiMmViLCAweDI1MGNiY2UyLCAweDZlNjVlNjk1LCAweDYzNmVlODljLCAweDc0NzNmYTg3LCAweDc5NzhmNDhlLCAweDVhNDlkZWIxLCAweDU3NDJkMGI4LCAweDQwNWZjMmEzLCAweDRkNTRjY2FhLCAweGRhZjc0MWVjLCAweGQ3ZmM0ZmU1LCAweGMwZTE1ZGZlLCAweGNkZWE1M2Y3LCAweGVlZGI3OWM4LCAweGUzZDA3N2MxLCAweGY0Y2Q2NWRhLCAweGY5YzY2YmQzLCAweGIyYWYzMWE0LCAweGJmYTQzZmFkLCAweGE4YjkyZGI2LCAweGE1YjIyM2JmLCAweDg2ODMwOTgwLCAweDhiODgwNzg5LCAweDljOTUxNTkyLCAweDkxOWUxYjliLCAweDBhNDdhMTdjLCAweDA3NGNhZjc1LCAweDEwNTFiZDZlLCAweDFkNWFiMzY3LCAweDNlNmI5OTU4LCAweDMzNjA5NzUxLCAweDI0N2Q4NTRhLCAweDI5NzY4YjQzLCAweDYyMWZkMTM0LCAweDZmMTRkZjNkLCAweDc4MDljZDI2LCAweDc1MDJjMzJmLCAweDU2MzNlOTEwLCAweDViMzhlNzE5LCAweDRjMjVmNTAyLCAweDQxMmVmYjBiLCAweDYxOGM5YWQ3LCAweDZjODc5NGRlLCAweDdiOWE4NmM1LCAweDc2OTE4OGNjLCAweDU1YTBhMmYzLCAweDU4YWJhY2ZhLCAweDRmYjZiZWUxLCAweDQyYmRiMGU4LCAweDA5ZDRlYTlmLCAweDA0ZGZlNDk2LCAweDEzYzJmNjhkLCAweDFlYzlmODg0LCAweDNkZjhkMmJiLCAweDMwZjNkY2IyLCAweDI3ZWVjZWE5LCAweDJhZTVjMGEwLCAweGIxM2M3YTQ3LCAweGJjMzc3NDRlLCAweGFiMmE2NjU1LCAweGE2MjE2ODVjLCAweDg1MTA0MjYzLCAweDg4MWI0YzZhLCAweDlmMDY1ZTcxLCAweDkyMGQ1MDc4LCAweGQ5NjQwYTBmLCAweGQ0NmYwNDA2LCAweGMzNzIxNjFkLCAweGNlNzkxODE0LCAweGVkNDgzMjJiLCAweGUwNDMzYzIyLCAweGY3NWUyZTM5LCAweGZhNTUyMDMwLCAweGI3MDFlYzlhLCAweGJhMGFlMjkzLCAweGFkMTdmMDg4LCAweGEwMWNmZTgxLCAweDgzMmRkNGJlLCAweDhlMjZkYWI3LCAweDk5M2JjOGFjLCAweDk0MzBjNmE1LCAweGRmNTk5Y2QyLCAweGQyNTI5MmRiLCAweGM1NGY4MGMwLCAweGM4NDQ4ZWM5LCAweGViNzVhNGY2LCAweGU2N2VhYWZmLCAweGYxNjNiOGU0LCAweGZjNjhiNmVkLCAweDY3YjEwYzBhLCAweDZhYmEwMjAzLCAweDdkYTcxMDE4LCAweDcwYWMxZTExLCAweDUzOWQzNDJlLCAweDVlOTYzYTI3LCAweDQ5OGIyODNjLCAweDQ0ODAyNjM1LCAweDBmZTk3YzQyLCAweDAyZTI3MjRiLCAweDE1ZmY2MDUwLCAweDE4ZjQ2ZTU5LCAweDNiYzU0NDY2LCAweDM2Y2U0YTZmLCAweDIxZDM1ODc0LCAweDJjZDg1NjdkLCAweDBjN2EzN2ExLCAweDAxNzEzOWE4LCAweDE2NmMyYmIzLCAweDFiNjcyNWJhLCAweDM4NTYwZjg1LCAweDM1NWQwMThjLCAweDIyNDAxMzk3LCAweDJmNGIxZDllLCAweDY0MjI0N2U5LCAweDY5Mjk0OWUwLCAweDdlMzQ1YmZiLCAweDczM2Y1NWYyLCAweDUwMGU3ZmNkLCAweDVkMDU3MWM0LCAweDRhMTg2M2RmLCAweDQ3MTM2ZGQ2LCAweGRjY2FkNzMxLCAweGQxYzFkOTM4LCAweGM2ZGNjYjIzLCAweGNiZDdjNTJhLCAweGU4ZTZlZjE1LCAweGU1ZWRlMTFjLCAweGYyZjBmMzA3LCAweGZmZmJmZDBlLCAweGI0OTJhNzc5LCAweGI5OTlhOTcwLCAweGFlODRiYjZiLCAweGEzOGZiNTYyLCAweDgwYmU5ZjVkLCAweDhkYjU5MTU0LCAweDlhYTg4MzRmLCAweDk3YTM4ZDQ2XTtcbiAgICB2YXIgVTQgPSBbMHgwMDAwMDAwMCwgMHgwOTBkMGIwZSwgMHgxMjFhMTYxYywgMHgxYjE3MWQxMiwgMHgyNDM0MmMzOCwgMHgyZDM5MjczNiwgMHgzNjJlM2EyNCwgMHgzZjIzMzEyYSwgMHg0ODY4NTg3MCwgMHg0MTY1NTM3ZSwgMHg1YTcyNGU2YywgMHg1MzdmNDU2MiwgMHg2YzVjNzQ0OCwgMHg2NTUxN2Y0NiwgMHg3ZTQ2NjI1NCwgMHg3NzRiNjk1YSwgMHg5MGQwYjBlMCwgMHg5OWRkYmJlZSwgMHg4MmNhYTZmYywgMHg4YmM3YWRmMiwgMHhiNGU0OWNkOCwgMHhiZGU5OTdkNiwgMHhhNmZlOGFjNCwgMHhhZmYzODFjYSwgMHhkOGI4ZTg5MCwgMHhkMWI1ZTM5ZSwgMHhjYWEyZmU4YywgMHhjM2FmZjU4MiwgMHhmYzhjYzRhOCwgMHhmNTgxY2ZhNiwgMHhlZTk2ZDJiNCwgMHhlNzliZDliYSwgMHgzYmJiN2JkYiwgMHgzMmI2NzBkNSwgMHgyOWExNmRjNywgMHgyMGFjNjZjOSwgMHgxZjhmNTdlMywgMHgxNjgyNWNlZCwgMHgwZDk1NDFmZiwgMHgwNDk4NGFmMSwgMHg3M2QzMjNhYiwgMHg3YWRlMjhhNSwgMHg2MWM5MzViNywgMHg2OGM0M2ViOSwgMHg1N2U3MGY5MywgMHg1ZWVhMDQ5ZCwgMHg0NWZkMTk4ZiwgMHg0Y2YwMTI4MSwgMHhhYjZiY2IzYiwgMHhhMjY2YzAzNSwgMHhiOTcxZGQyNywgMHhiMDdjZDYyOSwgMHg4ZjVmZTcwMywgMHg4NjUyZWMwZCwgMHg5ZDQ1ZjExZiwgMHg5NDQ4ZmExMSwgMHhlMzAzOTM0YiwgMHhlYTBlOTg0NSwgMHhmMTE5ODU1NywgMHhmODE0OGU1OSwgMHhjNzM3YmY3MywgMHhjZTNhYjQ3ZCwgMHhkNTJkYTk2ZiwgMHhkYzIwYTI2MSwgMHg3NjZkZjZhZCwgMHg3ZjYwZmRhMywgMHg2NDc3ZTBiMSwgMHg2ZDdhZWJiZiwgMHg1MjU5ZGE5NSwgMHg1YjU0ZDE5YiwgMHg0MDQzY2M4OSwgMHg0OTRlYzc4NywgMHgzZTA1YWVkZCwgMHgzNzA4YTVkMywgMHgyYzFmYjhjMSwgMHgyNTEyYjNjZiwgMHgxYTMxODJlNSwgMHgxMzNjODllYiwgMHgwODJiOTRmOSwgMHgwMTI2OWZmNywgMHhlNmJkNDY0ZCwgMHhlZmIwNGQ0MywgMHhmNGE3NTA1MSwgMHhmZGFhNWI1ZiwgMHhjMjg5NmE3NSwgMHhjYjg0NjE3YiwgMHhkMDkzN2M2OSwgMHhkOTllNzc2NywgMHhhZWQ1MWUzZCwgMHhhN2Q4MTUzMywgMHhiY2NmMDgyMSwgMHhiNWMyMDMyZiwgMHg4YWUxMzIwNSwgMHg4M2VjMzkwYiwgMHg5OGZiMjQxOSwgMHg5MWY2MmYxNywgMHg0ZGQ2OGQ3NiwgMHg0NGRiODY3OCwgMHg1ZmNjOWI2YSwgMHg1NmMxOTA2NCwgMHg2OWUyYTE0ZSwgMHg2MGVmYWE0MCwgMHg3YmY4Yjc1MiwgMHg3MmY1YmM1YywgMHgwNWJlZDUwNiwgMHgwY2IzZGUwOCwgMHgxN2E0YzMxYSwgMHgxZWE5YzgxNCwgMHgyMThhZjkzZSwgMHgyODg3ZjIzMCwgMHgzMzkwZWYyMiwgMHgzYTlkZTQyYywgMHhkZDA2M2Q5NiwgMHhkNDBiMzY5OCwgMHhjZjFjMmI4YSwgMHhjNjExMjA4NCwgMHhmOTMyMTFhZSwgMHhmMDNmMWFhMCwgMHhlYjI4MDdiMiwgMHhlMjI1MGNiYywgMHg5NTZlNjVlNiwgMHg5YzYzNmVlOCwgMHg4Nzc0NzNmYSwgMHg4ZTc5NzhmNCwgMHhiMTVhNDlkZSwgMHhiODU3NDJkMCwgMHhhMzQwNWZjMiwgMHhhYTRkNTRjYywgMHhlY2RhZjc0MSwgMHhlNWQ3ZmM0ZiwgMHhmZWMwZTE1ZCwgMHhmN2NkZWE1MywgMHhjOGVlZGI3OSwgMHhjMWUzZDA3NywgMHhkYWY0Y2Q2NSwgMHhkM2Y5YzY2YiwgMHhhNGIyYWYzMSwgMHhhZGJmYTQzZiwgMHhiNmE4YjkyZCwgMHhiZmE1YjIyMywgMHg4MDg2ODMwOSwgMHg4OThiODgwNywgMHg5MjljOTUxNSwgMHg5YjkxOWUxYiwgMHg3YzBhNDdhMSwgMHg3NTA3NGNhZiwgMHg2ZTEwNTFiZCwgMHg2NzFkNWFiMywgMHg1ODNlNmI5OSwgMHg1MTMzNjA5NywgMHg0YTI0N2Q4NSwgMHg0MzI5NzY4YiwgMHgzNDYyMWZkMSwgMHgzZDZmMTRkZiwgMHgyNjc4MDljZCwgMHgyZjc1MDJjMywgMHgxMDU2MzNlOSwgMHgxOTViMzhlNywgMHgwMjRjMjVmNSwgMHgwYjQxMmVmYiwgMHhkNzYxOGM5YSwgMHhkZTZjODc5NCwgMHhjNTdiOWE4NiwgMHhjYzc2OTE4OCwgMHhmMzU1YTBhMiwgMHhmYTU4YWJhYywgMHhlMTRmYjZiZSwgMHhlODQyYmRiMCwgMHg5ZjA5ZDRlYSwgMHg5NjA0ZGZlNCwgMHg4ZDEzYzJmNiwgMHg4NDFlYzlmOCwgMHhiYjNkZjhkMiwgMHhiMjMwZjNkYywgMHhhOTI3ZWVjZSwgMHhhMDJhZTVjMCwgMHg0N2IxM2M3YSwgMHg0ZWJjMzc3NCwgMHg1NWFiMmE2NiwgMHg1Y2E2MjE2OCwgMHg2Mzg1MTA0MiwgMHg2YTg4MWI0YywgMHg3MTlmMDY1ZSwgMHg3ODkyMGQ1MCwgMHgwZmQ5NjQwYSwgMHgwNmQ0NmYwNCwgMHgxZGMzNzIxNiwgMHgxNGNlNzkxOCwgMHgyYmVkNDgzMiwgMHgyMmUwNDMzYywgMHgzOWY3NWUyZSwgMHgzMGZhNTUyMCwgMHg5YWI3MDFlYywgMHg5M2JhMGFlMiwgMHg4OGFkMTdmMCwgMHg4MWEwMWNmZSwgMHhiZTgzMmRkNCwgMHhiNzhlMjZkYSwgMHhhYzk5M2JjOCwgMHhhNTk0MzBjNiwgMHhkMmRmNTk5YywgMHhkYmQyNTI5MiwgMHhjMGM1NGY4MCwgMHhjOWM4NDQ4ZSwgMHhmNmViNzVhNCwgMHhmZmU2N2VhYSwgMHhlNGYxNjNiOCwgMHhlZGZjNjhiNiwgMHgwYTY3YjEwYywgMHgwMzZhYmEwMiwgMHgxODdkYTcxMCwgMHgxMTcwYWMxZSwgMHgyZTUzOWQzNCwgMHgyNzVlOTYzYSwgMHgzYzQ5OGIyOCwgMHgzNTQ0ODAyNiwgMHg0MjBmZTk3YywgMHg0YjAyZTI3MiwgMHg1MDE1ZmY2MCwgMHg1OTE4ZjQ2ZSwgMHg2NjNiYzU0NCwgMHg2ZjM2Y2U0YSwgMHg3NDIxZDM1OCwgMHg3ZDJjZDg1NiwgMHhhMTBjN2EzNywgMHhhODAxNzEzOSwgMHhiMzE2NmMyYiwgMHhiYTFiNjcyNSwgMHg4NTM4NTYwZiwgMHg4YzM1NWQwMSwgMHg5NzIyNDAxMywgMHg5ZTJmNGIxZCwgMHhlOTY0MjI0NywgMHhlMDY5Mjk0OSwgMHhmYjdlMzQ1YiwgMHhmMjczM2Y1NSwgMHhjZDUwMGU3ZiwgMHhjNDVkMDU3MSwgMHhkZjRhMTg2MywgMHhkNjQ3MTM2ZCwgMHgzMWRjY2FkNywgMHgzOGQxYzFkOSwgMHgyM2M2ZGNjYiwgMHgyYWNiZDdjNSwgMHgxNWU4ZTZlZiwgMHgxY2U1ZWRlMSwgMHgwN2YyZjBmMywgMHgwZWZmZmJmZCwgMHg3OWI0OTJhNywgMHg3MGI5OTlhOSwgMHg2YmFlODRiYiwgMHg2MmEzOGZiNSwgMHg1ZDgwYmU5ZiwgMHg1NDhkYjU5MSwgMHg0ZjlhYTg4MywgMHg0Njk3YTM4ZF07XG5cbiAgICBmdW5jdGlvbiBjb252ZXJ0VG9JbnQzMihieXRlcykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKFxuICAgICAgICAgICAgICAgIChieXRlc1tpICAgIF0gPDwgMjQpIHxcbiAgICAgICAgICAgICAgICAoYnl0ZXNbaSArIDFdIDw8IDE2KSB8XG4gICAgICAgICAgICAgICAgKGJ5dGVzW2kgKyAyXSA8PCAgOCkgfFxuICAgICAgICAgICAgICAgICBieXRlc1tpICsgM11cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICB2YXIgQUVTID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBBRVMpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQUVTIG11c3QgYmUgaW5zdGFuaXRhdGVkIHdpdGggYG5ld2AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAna2V5Jywge1xuICAgICAgICAgICAgdmFsdWU6IGNvZXJjZUFycmF5KGtleSwgdHJ1ZSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fcHJlcGFyZSgpO1xuICAgIH1cblxuXG4gICAgQUVTLnByb3RvdHlwZS5fcHJlcGFyZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciByb3VuZHMgPSBudW1iZXJPZlJvdW5kc1t0aGlzLmtleS5sZW5ndGhdO1xuICAgICAgICBpZiAocm91bmRzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBrZXkgc2l6ZSAobXVzdCBiZSAxNiwgMjQgb3IgMzIgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmNyeXB0aW9uIHJvdW5kIGtleXNcbiAgICAgICAgdGhpcy5fS2UgPSBbXTtcblxuICAgICAgICAvLyBkZWNyeXB0aW9uIHJvdW5kIGtleXNcbiAgICAgICAgdGhpcy5fS2QgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByb3VuZHM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5fS2UucHVzaChbMCwgMCwgMCwgMF0pO1xuICAgICAgICAgICAgdGhpcy5fS2QucHVzaChbMCwgMCwgMCwgMF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJvdW5kS2V5Q291bnQgPSAocm91bmRzICsgMSkgKiA0O1xuICAgICAgICB2YXIgS0MgPSB0aGlzLmtleS5sZW5ndGggLyA0O1xuXG4gICAgICAgIC8vIGNvbnZlcnQgdGhlIGtleSBpbnRvIGludHNcbiAgICAgICAgdmFyIHRrID0gY29udmVydFRvSW50MzIodGhpcy5rZXkpO1xuXG4gICAgICAgIC8vIGNvcHkgdmFsdWVzIGludG8gcm91bmQga2V5IGFycmF5c1xuICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgS0M7IGkrKykge1xuICAgICAgICAgICAgaW5kZXggPSBpID4+IDI7XG4gICAgICAgICAgICB0aGlzLl9LZVtpbmRleF1baSAlIDRdID0gdGtbaV07XG4gICAgICAgICAgICB0aGlzLl9LZFtyb3VuZHMgLSBpbmRleF1baSAlIDRdID0gdGtbaV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBrZXkgZXhwYW5zaW9uIChmaXBzLTE5NyBzZWN0aW9uIDUuMilcbiAgICAgICAgdmFyIHJjb25wb2ludGVyID0gMDtcbiAgICAgICAgdmFyIHQgPSBLQywgdHQ7XG4gICAgICAgIHdoaWxlICh0IDwgcm91bmRLZXlDb3VudCkge1xuICAgICAgICAgICAgdHQgPSB0a1tLQyAtIDFdO1xuICAgICAgICAgICAgdGtbMF0gXj0gKChTWyh0dCA+PiAxNikgJiAweEZGXSA8PCAyNCkgXlxuICAgICAgICAgICAgICAgICAgICAgIChTWyh0dCA+PiAgOCkgJiAweEZGXSA8PCAxNikgXlxuICAgICAgICAgICAgICAgICAgICAgIChTWyB0dCAgICAgICAgJiAweEZGXSA8PCAgOCkgXlxuICAgICAgICAgICAgICAgICAgICAgICBTWyh0dCA+PiAyNCkgJiAweEZGXSAgICAgICAgXlxuICAgICAgICAgICAgICAgICAgICAgIChyY29uW3Jjb25wb2ludGVyXSA8PCAyNCkpO1xuICAgICAgICAgICAgcmNvbnBvaW50ZXIgKz0gMTtcblxuICAgICAgICAgICAgLy8ga2V5IGV4cGFuc2lvbiAoZm9yIG5vbi0yNTYgYml0KVxuICAgICAgICAgICAgaWYgKEtDICE9IDgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IEtDOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGtbaV0gXj0gdGtbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8ga2V5IGV4cGFuc2lvbiBmb3IgMjU2LWJpdCBrZXlzIGlzIFwic2xpZ2h0bHkgZGlmZmVyZW50XCIgKGZpcHMtMTk3KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IChLQyAvIDIpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGtbaV0gXj0gdGtbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0dCA9IHRrWyhLQyAvIDIpIC0gMV07XG5cbiAgICAgICAgICAgICAgICB0a1tLQyAvIDJdIF49IChTWyB0dCAgICAgICAgJiAweEZGXSAgICAgICAgXlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFNbKHR0ID4+ICA4KSAmIDB4RkZdIDw8ICA4KSBeXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoU1sodHQgPj4gMTYpICYgMHhGRl0gPDwgMTYpIF5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChTWyh0dCA+PiAyNCkgJiAweEZGXSA8PCAyNCkpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IChLQyAvIDIpICsgMTsgaSA8IEtDOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGtbaV0gXj0gdGtbaSAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29weSB2YWx1ZXMgaW50byByb3VuZCBrZXkgYXJyYXlzXG4gICAgICAgICAgICB2YXIgaSA9IDAsIHIsIGM7XG4gICAgICAgICAgICB3aGlsZSAoaSA8IEtDICYmIHQgPCByb3VuZEtleUNvdW50KSB7XG4gICAgICAgICAgICAgICAgciA9IHQgPj4gMjtcbiAgICAgICAgICAgICAgICBjID0gdCAlIDQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fS2Vbcl1bY10gPSB0a1tpXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9LZFtyb3VuZHMgLSByXVtjXSA9IHRrW2krK107XG4gICAgICAgICAgICAgICAgdCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW52ZXJzZS1jaXBoZXItaWZ5IHRoZSBkZWNyeXB0aW9uIHJvdW5kIGtleSAoZmlwcy0xOTcgc2VjdGlvbiA1LjMpXG4gICAgICAgIGZvciAodmFyIHIgPSAxOyByIDwgcm91bmRzOyByKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgNDsgYysrKSB7XG4gICAgICAgICAgICAgICAgdHQgPSB0aGlzLl9LZFtyXVtjXTtcbiAgICAgICAgICAgICAgICB0aGlzLl9LZFtyXVtjXSA9IChVMVsodHQgPj4gMjQpICYgMHhGRl0gXlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFUyWyh0dCA+PiAxNikgJiAweEZGXSBeXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVTNbKHR0ID4+ICA4KSAmIDB4RkZdIF5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVNFsgdHQgICAgICAgICYgMHhGRl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQUVTLnByb3RvdHlwZS5lbmNyeXB0ID0gZnVuY3Rpb24ocGxhaW50ZXh0KSB7XG4gICAgICAgIGlmIChwbGFpbnRleHQubGVuZ3RoICE9IDE2KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcGxhaW50ZXh0IHNpemUgKG11c3QgYmUgMTYgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm91bmRzID0gdGhpcy5fS2UubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgLy8gY29udmVydCBwbGFpbnRleHQgdG8gKGludHMgXiBrZXkpXG4gICAgICAgIHZhciB0ID0gY29udmVydFRvSW50MzIocGxhaW50ZXh0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIHRbaV0gXj0gdGhpcy5fS2VbMF1baV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhcHBseSByb3VuZCB0cmFuc2Zvcm1zXG4gICAgICAgIGZvciAodmFyIHIgPSAxOyByIDwgcm91bmRzOyByKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYVtpXSA9IChUMVsodFsgaSAgICAgICAgIF0gPj4gMjQpICYgMHhmZl0gXlxuICAgICAgICAgICAgICAgICAgICAgICAgVDJbKHRbKGkgKyAxKSAlIDRdID4+IDE2KSAmIDB4ZmZdIF5cbiAgICAgICAgICAgICAgICAgICAgICAgIFQzWyh0WyhpICsgMikgJSA0XSA+PiAgOCkgJiAweGZmXSBeXG4gICAgICAgICAgICAgICAgICAgICAgICBUNFsgdFsoaSArIDMpICUgNF0gICAgICAgICYgMHhmZl0gXlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fS2Vbcl1baV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdCA9IGEuc2xpY2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBsYXN0IHJvdW5kIGlzIHNwZWNpYWxcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUFycmF5KDE2KSwgdHQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICB0dCA9IHRoaXMuX0tlW3JvdW5kc11baV07XG4gICAgICAgICAgICByZXN1bHRbNCAqIGkgICAgXSA9IChTWyh0WyBpICAgICAgICAgXSA+PiAyNCkgJiAweGZmXSBeICh0dCA+PiAyNCkpICYgMHhmZjtcbiAgICAgICAgICAgIHJlc3VsdFs0ICogaSArIDFdID0gKFNbKHRbKGkgKyAxKSAlIDRdID4+IDE2KSAmIDB4ZmZdIF4gKHR0ID4+IDE2KSkgJiAweGZmO1xuICAgICAgICAgICAgcmVzdWx0WzQgKiBpICsgMl0gPSAoU1sodFsoaSArIDIpICUgNF0gPj4gIDgpICYgMHhmZl0gXiAodHQgPj4gIDgpKSAmIDB4ZmY7XG4gICAgICAgICAgICByZXN1bHRbNCAqIGkgKyAzXSA9IChTWyB0WyhpICsgMykgJSA0XSAgICAgICAgJiAweGZmXSBeICB0dCAgICAgICApICYgMHhmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgQUVTLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24oY2lwaGVydGV4dCkge1xuICAgICAgICBpZiAoY2lwaGVydGV4dC5sZW5ndGggIT0gMTYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBjaXBoZXJ0ZXh0IHNpemUgKG11c3QgYmUgMTYgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcm91bmRzID0gdGhpcy5fS2QubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGEgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgLy8gY29udmVydCBwbGFpbnRleHQgdG8gKGludHMgXiBrZXkpXG4gICAgICAgIHZhciB0ID0gY29udmVydFRvSW50MzIoY2lwaGVydGV4dCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICB0W2ldIF49IHRoaXMuX0tkWzBdW2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYXBwbHkgcm91bmQgdHJhbnNmb3Jtc1xuICAgICAgICBmb3IgKHZhciByID0gMTsgciA8IHJvdW5kczsgcisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGFbaV0gPSAoVDVbKHRbIGkgICAgICAgICAgXSA+PiAyNCkgJiAweGZmXSBeXG4gICAgICAgICAgICAgICAgICAgICAgICBUNlsodFsoaSArIDMpICUgNF0gPj4gMTYpICYgMHhmZl0gXlxuICAgICAgICAgICAgICAgICAgICAgICAgVDdbKHRbKGkgKyAyKSAlIDRdID4+ICA4KSAmIDB4ZmZdIF5cbiAgICAgICAgICAgICAgICAgICAgICAgIFQ4WyB0WyhpICsgMSkgJSA0XSAgICAgICAgJiAweGZmXSBeXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9LZFtyXVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ID0gYS5zbGljZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGxhc3Qgcm91bmQgaXMgc3BlY2lhbFxuICAgICAgICB2YXIgcmVzdWx0ID0gY3JlYXRlQXJyYXkoMTYpLCB0dDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIHR0ID0gdGhpcy5fS2Rbcm91bmRzXVtpXTtcbiAgICAgICAgICAgIHJlc3VsdFs0ICogaSAgICBdID0gKFNpWyh0WyBpICAgICAgICAgXSA+PiAyNCkgJiAweGZmXSBeICh0dCA+PiAyNCkpICYgMHhmZjtcbiAgICAgICAgICAgIHJlc3VsdFs0ICogaSArIDFdID0gKFNpWyh0WyhpICsgMykgJSA0XSA+PiAxNikgJiAweGZmXSBeICh0dCA+PiAxNikpICYgMHhmZjtcbiAgICAgICAgICAgIHJlc3VsdFs0ICogaSArIDJdID0gKFNpWyh0WyhpICsgMikgJSA0XSA+PiAgOCkgJiAweGZmXSBeICh0dCA+PiAgOCkpICYgMHhmZjtcbiAgICAgICAgICAgIHJlc3VsdFs0ICogaSArIDNdID0gKFNpWyB0WyhpICsgMSkgJSA0XSAgICAgICAgJiAweGZmXSBeICB0dCAgICAgICApICYgMHhmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgTW9kZSBPZiBPcGVyYXRpb24gLSBFbGVjdG9uaWMgQ29kZWJvb2sgKEVDQilcbiAgICAgKi9cbiAgICB2YXIgTW9kZU9mT3BlcmF0aW9uRUNCID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNb2RlT2ZPcGVyYXRpb25FQ0IpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQUVTIG11c3QgYmUgaW5zdGFuaXRhdGVkIHdpdGggYG5ld2AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcIkVsZWN0cm9uaWMgQ29kZSBCbG9ja1wiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcImVjYlwiO1xuXG4gICAgICAgIHRoaXMuX2FlcyA9IG5ldyBBRVMoa2V5KTtcbiAgICB9XG5cbiAgICBNb2RlT2ZPcGVyYXRpb25FQ0IucHJvdG90eXBlLmVuY3J5cHQgPSBmdW5jdGlvbihwbGFpbnRleHQpIHtcbiAgICAgICAgcGxhaW50ZXh0ID0gY29lcmNlQXJyYXkocGxhaW50ZXh0KTtcblxuICAgICAgICBpZiAoKHBsYWludGV4dC5sZW5ndGggJSAxNikgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBwbGFpbnRleHQgc2l6ZSAobXVzdCBiZSBtdWx0aXBsZSBvZiAxNiBieXRlcyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjaXBoZXJ0ZXh0ID0gY3JlYXRlQXJyYXkocGxhaW50ZXh0Lmxlbmd0aCk7XG4gICAgICAgIHZhciBibG9jayA9IGNyZWF0ZUFycmF5KDE2KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWludGV4dC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICAgICAgICAgIGNvcHlBcnJheShwbGFpbnRleHQsIGJsb2NrLCAwLCBpLCBpICsgMTYpO1xuICAgICAgICAgICAgYmxvY2sgPSB0aGlzLl9hZXMuZW5jcnlwdChibG9jayk7XG4gICAgICAgICAgICBjb3B5QXJyYXkoYmxvY2ssIGNpcGhlcnRleHQsIGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNpcGhlcnRleHQ7XG4gICAgfVxuXG4gICAgTW9kZU9mT3BlcmF0aW9uRUNCLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24oY2lwaGVydGV4dCkge1xuICAgICAgICBjaXBoZXJ0ZXh0ID0gY29lcmNlQXJyYXkoY2lwaGVydGV4dCk7XG5cbiAgICAgICAgaWYgKChjaXBoZXJ0ZXh0Lmxlbmd0aCAlIDE2KSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGNpcGhlcnRleHQgc2l6ZSAobXVzdCBiZSBtdWx0aXBsZSBvZiAxNiBieXRlcyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwbGFpbnRleHQgPSBjcmVhdGVBcnJheShjaXBoZXJ0ZXh0Lmxlbmd0aCk7XG4gICAgICAgIHZhciBibG9jayA9IGNyZWF0ZUFycmF5KDE2KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNpcGhlcnRleHQubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgICAgICAgICBjb3B5QXJyYXkoY2lwaGVydGV4dCwgYmxvY2ssIDAsIGksIGkgKyAxNik7XG4gICAgICAgICAgICBibG9jayA9IHRoaXMuX2Flcy5kZWNyeXB0KGJsb2NrKTtcbiAgICAgICAgICAgIGNvcHlBcnJheShibG9jaywgcGxhaW50ZXh0LCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbGFpbnRleHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgTW9kZSBPZiBPcGVyYXRpb24gLSBDaXBoZXIgQmxvY2sgQ2hhaW5pbmcgKENCQylcbiAgICAgKi9cbiAgICB2YXIgTW9kZU9mT3BlcmF0aW9uQ0JDID0gZnVuY3Rpb24oa2V5LCBpdikge1xuICAgICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTW9kZU9mT3BlcmF0aW9uQ0JDKSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0FFUyBtdXN0IGJlIGluc3Rhbml0YXRlZCB3aXRoIGBuZXdgJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gXCJDaXBoZXIgQmxvY2sgQ2hhaW5pbmdcIjtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJjYmNcIjtcblxuICAgICAgICBpZiAoIWl2KSB7XG4gICAgICAgICAgICBpdiA9IGNyZWF0ZUFycmF5KDE2KTtcblxuICAgICAgICB9IGVsc2UgaWYgKGl2Lmxlbmd0aCAhPSAxNikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGluaXRpYWxhdGlvbiB2ZWN0b3Igc2l6ZSAobXVzdCBiZSAxNiBieXRlcyknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RDaXBoZXJibG9jayA9IGNvZXJjZUFycmF5KGl2LCB0cnVlKTtcblxuICAgICAgICB0aGlzLl9hZXMgPSBuZXcgQUVTKGtleSk7XG4gICAgfVxuXG4gICAgTW9kZU9mT3BlcmF0aW9uQ0JDLnByb3RvdHlwZS5lbmNyeXB0ID0gZnVuY3Rpb24ocGxhaW50ZXh0KSB7XG4gICAgICAgIHBsYWludGV4dCA9IGNvZXJjZUFycmF5KHBsYWludGV4dCk7XG5cbiAgICAgICAgaWYgKChwbGFpbnRleHQubGVuZ3RoICUgMTYpICE9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcGxhaW50ZXh0IHNpemUgKG11c3QgYmUgbXVsdGlwbGUgb2YgMTYgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2lwaGVydGV4dCA9IGNyZWF0ZUFycmF5KHBsYWludGV4dC5sZW5ndGgpO1xuICAgICAgICB2YXIgYmxvY2sgPSBjcmVhdGVBcnJheSgxNik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwbGFpbnRleHQubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgICAgICAgICBjb3B5QXJyYXkocGxhaW50ZXh0LCBibG9jaywgMCwgaSwgaSArIDE2KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAgICAgYmxvY2tbal0gXj0gdGhpcy5fbGFzdENpcGhlcmJsb2NrW2pdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9sYXN0Q2lwaGVyYmxvY2sgPSB0aGlzLl9hZXMuZW5jcnlwdChibG9jayk7XG4gICAgICAgICAgICBjb3B5QXJyYXkodGhpcy5fbGFzdENpcGhlcmJsb2NrLCBjaXBoZXJ0ZXh0LCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaXBoZXJ0ZXh0O1xuICAgIH1cblxuICAgIE1vZGVPZk9wZXJhdGlvbkNCQy5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uKGNpcGhlcnRleHQpIHtcbiAgICAgICAgY2lwaGVydGV4dCA9IGNvZXJjZUFycmF5KGNpcGhlcnRleHQpO1xuXG4gICAgICAgIGlmICgoY2lwaGVydGV4dC5sZW5ndGggJSAxNikgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBjaXBoZXJ0ZXh0IHNpemUgKG11c3QgYmUgbXVsdGlwbGUgb2YgMTYgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcGxhaW50ZXh0ID0gY3JlYXRlQXJyYXkoY2lwaGVydGV4dC5sZW5ndGgpO1xuICAgICAgICB2YXIgYmxvY2sgPSBjcmVhdGVBcnJheSgxNik7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaXBoZXJ0ZXh0Lmxlbmd0aDsgaSArPSAxNikge1xuICAgICAgICAgICAgY29weUFycmF5KGNpcGhlcnRleHQsIGJsb2NrLCAwLCBpLCBpICsgMTYpO1xuICAgICAgICAgICAgYmxvY2sgPSB0aGlzLl9hZXMuZGVjcnlwdChibG9jayk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgICAgIHBsYWludGV4dFtpICsgal0gPSBibG9ja1tqXSBeIHRoaXMuX2xhc3RDaXBoZXJibG9ja1tqXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29weUFycmF5KGNpcGhlcnRleHQsIHRoaXMuX2xhc3RDaXBoZXJibG9jaywgMCwgaSwgaSArIDE2KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwbGFpbnRleHQ7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgTW9kZSBPZiBPcGVyYXRpb24gLSBDaXBoZXIgRmVlZGJhY2sgKENGQilcbiAgICAgKi9cbiAgICB2YXIgTW9kZU9mT3BlcmF0aW9uQ0ZCID0gZnVuY3Rpb24oa2V5LCBpdiwgc2VnbWVudFNpemUpIHtcbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1vZGVPZk9wZXJhdGlvbkNGQikpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdBRVMgbXVzdCBiZSBpbnN0YW5pdGF0ZWQgd2l0aCBgbmV3YCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiQ2lwaGVyIEZlZWRiYWNrXCI7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiY2ZiXCI7XG5cbiAgICAgICAgaWYgKCFpdikge1xuICAgICAgICAgICAgaXYgPSBjcmVhdGVBcnJheSgxNik7XG5cbiAgICAgICAgfSBlbHNlIGlmIChpdi5sZW5ndGggIT0gMTYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbml0aWFsYXRpb24gdmVjdG9yIHNpemUgKG11c3QgYmUgMTYgc2l6ZSknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2VnbWVudFNpemUpIHsgc2VnbWVudFNpemUgPSAxOyB9XG5cbiAgICAgICAgdGhpcy5zZWdtZW50U2l6ZSA9IHNlZ21lbnRTaXplO1xuXG4gICAgICAgIHRoaXMuX3NoaWZ0UmVnaXN0ZXIgPSBjb2VyY2VBcnJheShpdiwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5fYWVzID0gbmV3IEFFUyhrZXkpO1xuICAgIH1cblxuICAgIE1vZGVPZk9wZXJhdGlvbkNGQi5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uKHBsYWludGV4dCkge1xuICAgICAgICBpZiAoKHBsYWludGV4dC5sZW5ndGggJSB0aGlzLnNlZ21lbnRTaXplKSAhPSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcGxhaW50ZXh0IHNpemUgKG11c3QgYmUgc2VnbWVudFNpemUgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZW5jcnlwdGVkID0gY29lcmNlQXJyYXkocGxhaW50ZXh0LCB0cnVlKTtcblxuICAgICAgICB2YXIgeG9yU2VnbWVudDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmNyeXB0ZWQubGVuZ3RoOyBpICs9IHRoaXMuc2VnbWVudFNpemUpIHtcbiAgICAgICAgICAgIHhvclNlZ21lbnQgPSB0aGlzLl9hZXMuZW5jcnlwdCh0aGlzLl9zaGlmdFJlZ2lzdGVyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5zZWdtZW50U2l6ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgZW5jcnlwdGVkW2kgKyBqXSBePSB4b3JTZWdtZW50W2pdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTaGlmdCB0aGUgcmVnaXN0ZXJcbiAgICAgICAgICAgIGNvcHlBcnJheSh0aGlzLl9zaGlmdFJlZ2lzdGVyLCB0aGlzLl9zaGlmdFJlZ2lzdGVyLCAwLCB0aGlzLnNlZ21lbnRTaXplKTtcbiAgICAgICAgICAgIGNvcHlBcnJheShlbmNyeXB0ZWQsIHRoaXMuX3NoaWZ0UmVnaXN0ZXIsIDE2IC0gdGhpcy5zZWdtZW50U2l6ZSwgaSwgaSArIHRoaXMuc2VnbWVudFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZDtcbiAgICB9XG5cbiAgICBNb2RlT2ZPcGVyYXRpb25DRkIucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbihjaXBoZXJ0ZXh0KSB7XG4gICAgICAgIGlmICgoY2lwaGVydGV4dC5sZW5ndGggJSB0aGlzLnNlZ21lbnRTaXplKSAhPSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY2lwaGVydGV4dCBzaXplIChtdXN0IGJlIHNlZ21lbnRTaXplIGJ5dGVzKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWludGV4dCA9IGNvZXJjZUFycmF5KGNpcGhlcnRleHQsIHRydWUpO1xuXG4gICAgICAgIHZhciB4b3JTZWdtZW50O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWludGV4dC5sZW5ndGg7IGkgKz0gdGhpcy5zZWdtZW50U2l6ZSkge1xuICAgICAgICAgICAgeG9yU2VnbWVudCA9IHRoaXMuX2Flcy5lbmNyeXB0KHRoaXMuX3NoaWZ0UmVnaXN0ZXIpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuc2VnbWVudFNpemU7IGorKykge1xuICAgICAgICAgICAgICAgIHBsYWludGV4dFtpICsgal0gXj0geG9yU2VnbWVudFtqXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gU2hpZnQgdGhlIHJlZ2lzdGVyXG4gICAgICAgICAgICBjb3B5QXJyYXkodGhpcy5fc2hpZnRSZWdpc3RlciwgdGhpcy5fc2hpZnRSZWdpc3RlciwgMCwgdGhpcy5zZWdtZW50U2l6ZSk7XG4gICAgICAgICAgICBjb3B5QXJyYXkoY2lwaGVydGV4dCwgdGhpcy5fc2hpZnRSZWdpc3RlciwgMTYgLSB0aGlzLnNlZ21lbnRTaXplLCBpLCBpICsgdGhpcy5zZWdtZW50U2l6ZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGxhaW50ZXh0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqICBNb2RlIE9mIE9wZXJhdGlvbiAtIE91dHB1dCBGZWVkYmFjayAoT0ZCKVxuICAgICAqL1xuICAgIHZhciBNb2RlT2ZPcGVyYXRpb25PRkIgPSBmdW5jdGlvbihrZXksIGl2KSB7XG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNb2RlT2ZPcGVyYXRpb25PRkIpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQUVTIG11c3QgYmUgaW5zdGFuaXRhdGVkIHdpdGggYG5ld2AnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBcIk91dHB1dCBGZWVkYmFja1wiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIm9mYlwiO1xuXG4gICAgICAgIGlmICghaXYpIHtcbiAgICAgICAgICAgIGl2ID0gY3JlYXRlQXJyYXkoMTYpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoaXYubGVuZ3RoICE9IDE2KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaW5pdGlhbGF0aW9uIHZlY3RvciBzaXplIChtdXN0IGJlIDE2IGJ5dGVzKScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbGFzdFByZWNpcGhlciA9IGNvZXJjZUFycmF5KGl2LCB0cnVlKTtcbiAgICAgICAgdGhpcy5fbGFzdFByZWNpcGhlckluZGV4ID0gMTY7XG5cbiAgICAgICAgdGhpcy5fYWVzID0gbmV3IEFFUyhrZXkpO1xuICAgIH1cblxuICAgIE1vZGVPZk9wZXJhdGlvbk9GQi5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uKHBsYWludGV4dCkge1xuICAgICAgICB2YXIgZW5jcnlwdGVkID0gY29lcmNlQXJyYXkocGxhaW50ZXh0LCB0cnVlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY3J5cHRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xhc3RQcmVjaXBoZXJJbmRleCA9PT0gMTYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0UHJlY2lwaGVyID0gdGhpcy5fYWVzLmVuY3J5cHQodGhpcy5fbGFzdFByZWNpcGhlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGFzdFByZWNpcGhlckluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVuY3J5cHRlZFtpXSBePSB0aGlzLl9sYXN0UHJlY2lwaGVyW3RoaXMuX2xhc3RQcmVjaXBoZXJJbmRleCsrXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbmNyeXB0ZWQ7XG4gICAgfVxuXG4gICAgLy8gRGVjcnlwdGlvbiBpcyBzeW1ldHJpY1xuICAgIE1vZGVPZk9wZXJhdGlvbk9GQi5wcm90b3R5cGUuZGVjcnlwdCA9IE1vZGVPZk9wZXJhdGlvbk9GQi5wcm90b3R5cGUuZW5jcnlwdDtcblxuXG4gICAgLyoqXG4gICAgICogIENvdW50ZXIgb2JqZWN0IGZvciBDVFIgY29tbW9uIG1vZGUgb2Ygb3BlcmF0aW9uXG4gICAgICovXG4gICAgdmFyIENvdW50ZXIgPSBmdW5jdGlvbihpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvdW50ZXIpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignQ291bnRlciBtdXN0IGJlIGluc3Rhbml0YXRlZCB3aXRoIGBuZXdgJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBhbGxvdyAwLCBidXQgYW55dGhpbmcgZmFsc2UtaXNoIHVzZXMgdGhlIGRlZmF1bHQgMVxuICAgICAgICBpZiAoaW5pdGlhbFZhbHVlICE9PSAwICYmICFpbml0aWFsVmFsdWUpIHsgaW5pdGlhbFZhbHVlID0gMTsgfVxuXG4gICAgICAgIGlmICh0eXBlb2YoaW5pdGlhbFZhbHVlKSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvdW50ZXIgPSBjcmVhdGVBcnJheSgxNik7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKGluaXRpYWxWYWx1ZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Qnl0ZXMoaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIENvdW50ZXIucHJvdG90eXBlLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgIT09ICdudW1iZXInIHx8IHBhcnNlSW50KHZhbHVlKSAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGNvdW50ZXIgdmFsdWUgKG11c3QgYmUgYW4gaW50ZWdlciknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGNhbm5vdCBzYWZlbHkgaGFuZGxlIG51bWJlcnMgYmV5b25kIHRoZSBzYWZlIHJhbmdlIGZvciBpbnRlZ2Vyc1xuICAgICAgICBpZiAodmFsdWUgPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnRlZ2VyIHZhbHVlIG91dCBvZiBzYWZlIHJhbmdlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE1OyBpbmRleCA+PSAwOyAtLWluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl9jb3VudGVyW2luZGV4XSA9IHZhbHVlICUgMjU2O1xuICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCh2YWx1ZSAvIDI1Nik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBDb3VudGVyLnByb3RvdHlwZS5zZXRCeXRlcyA9IGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGJ5dGVzID0gY29lcmNlQXJyYXkoYnl0ZXMsIHRydWUpO1xuXG4gICAgICAgIGlmIChieXRlcy5sZW5ndGggIT0gMTYpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBjb3VudGVyIGJ5dGVzIHNpemUgKG11c3QgYmUgMTYgYnl0ZXMpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb3VudGVyID0gYnl0ZXM7XG4gICAgfTtcblxuICAgIENvdW50ZXIucHJvdG90eXBlLmluY3JlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTU7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fY291bnRlcltpXSA9PT0gMjU1KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY291bnRlcltpXSA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvdW50ZXJbaV0rKztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIE1vZGUgT2YgT3BlcmF0aW9uIC0gQ291bnRlciAoQ1RSKVxuICAgICAqL1xuICAgIHZhciBNb2RlT2ZPcGVyYXRpb25DVFIgPSBmdW5jdGlvbihrZXksIGNvdW50ZXIpIHtcbiAgICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1vZGVPZk9wZXJhdGlvbkNUUikpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdBRVMgbXVzdCBiZSBpbnN0YW5pdGF0ZWQgd2l0aCBgbmV3YCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IFwiQ291bnRlclwiO1xuICAgICAgICB0aGlzLm5hbWUgPSBcImN0clwiO1xuXG4gICAgICAgIGlmICghKGNvdW50ZXIgaW5zdGFuY2VvZiBDb3VudGVyKSkge1xuICAgICAgICAgICAgY291bnRlciA9IG5ldyBDb3VudGVyKGNvdW50ZXIpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jb3VudGVyID0gY291bnRlcjtcblxuICAgICAgICB0aGlzLl9yZW1haW5pbmdDb3VudGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nQ291bnRlckluZGV4ID0gMTY7XG5cbiAgICAgICAgdGhpcy5fYWVzID0gbmV3IEFFUyhrZXkpO1xuICAgIH1cblxuICAgIE1vZGVPZk9wZXJhdGlvbkNUUi5wcm90b3R5cGUuZW5jcnlwdCA9IGZ1bmN0aW9uKHBsYWludGV4dCkge1xuICAgICAgICB2YXIgZW5jcnlwdGVkID0gY29lcmNlQXJyYXkocGxhaW50ZXh0LCB0cnVlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVuY3J5cHRlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZ0NvdW50ZXJJbmRleCA9PT0gMTYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1haW5pbmdDb3VudGVyID0gdGhpcy5fYWVzLmVuY3J5cHQodGhpcy5fY291bnRlci5fY291bnRlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtYWluaW5nQ291bnRlckluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb3VudGVyLmluY3JlbWVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5jcnlwdGVkW2ldIF49IHRoaXMuX3JlbWFpbmluZ0NvdW50ZXJbdGhpcy5fcmVtYWluaW5nQ291bnRlckluZGV4KytdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZDtcbiAgICB9XG5cbiAgICAvLyBEZWNyeXB0aW9uIGlzIHN5bWV0cmljXG4gICAgTW9kZU9mT3BlcmF0aW9uQ1RSLnByb3RvdHlwZS5kZWNyeXB0ID0gTW9kZU9mT3BlcmF0aW9uQ1RSLnByb3RvdHlwZS5lbmNyeXB0O1xuXG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgIC8vIFBhZGRpbmdcblxuICAgIC8vIFNlZTpodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMjMxNVxuICAgIGZ1bmN0aW9uIHBrY3M3cGFkKGRhdGEpIHtcbiAgICAgICAgZGF0YSA9IGNvZXJjZUFycmF5KGRhdGEsIHRydWUpO1xuICAgICAgICB2YXIgcGFkZGVyID0gMTYgLSAoZGF0YS5sZW5ndGggJSAxNik7XG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVBcnJheShkYXRhLmxlbmd0aCArIHBhZGRlcik7XG4gICAgICAgIGNvcHlBcnJheShkYXRhLCByZXN1bHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGg7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdFtpXSA9IHBhZGRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBrY3M3c3RyaXAoZGF0YSkge1xuICAgICAgICBkYXRhID0gY29lcmNlQXJyYXkoZGF0YSwgdHJ1ZSk7XG4gICAgICAgIGlmIChkYXRhLmxlbmd0aCA8IDE2KSB7IHRocm93IG5ldyBFcnJvcignUEtDUyM3IGludmFsaWQgbGVuZ3RoJyk7IH1cblxuICAgICAgICB2YXIgcGFkZGVyID0gZGF0YVtkYXRhLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAocGFkZGVyID4gMTYpIHsgdGhyb3cgbmV3IEVycm9yKCdQS0NTIzcgcGFkZGluZyBieXRlIG91dCBvZiByYW5nZScpOyB9XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IGRhdGEubGVuZ3RoIC0gcGFkZGVyO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZGRlcjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtsZW5ndGggKyBpXSAhPT0gcGFkZGVyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQS0NTIzcgaW52YWxpZCBwYWRkaW5nIGJ5dGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVBcnJheShsZW5ndGgpO1xuICAgICAgICBjb3B5QXJyYXkoZGF0YSwgcmVzdWx0LCAwLCAwLCBsZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gRXhwb3J0aW5nXG5cblxuICAgIC8vIFRoZSBibG9jayBjaXBoZXJcbiAgICB2YXIgYWVzanMgPSB7XG4gICAgICAgIEFFUzogQUVTLFxuICAgICAgICBDb3VudGVyOiBDb3VudGVyLFxuXG4gICAgICAgIE1vZGVPZk9wZXJhdGlvbjoge1xuICAgICAgICAgICAgZWNiOiBNb2RlT2ZPcGVyYXRpb25FQ0IsXG4gICAgICAgICAgICBjYmM6IE1vZGVPZk9wZXJhdGlvbkNCQyxcbiAgICAgICAgICAgIGNmYjogTW9kZU9mT3BlcmF0aW9uQ0ZCLFxuICAgICAgICAgICAgb2ZiOiBNb2RlT2ZPcGVyYXRpb25PRkIsXG4gICAgICAgICAgICBjdHI6IE1vZGVPZk9wZXJhdGlvbkNUUlxuICAgICAgICB9LFxuXG4gICAgICAgIHV0aWxzOiB7XG4gICAgICAgICAgICBoZXg6IGNvbnZlcnRIZXgsXG4gICAgICAgICAgICB1dGY4OiBjb252ZXJ0VXRmOFxuICAgICAgICB9LFxuXG4gICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgIHBrY3M3OiB7XG4gICAgICAgICAgICAgICAgcGFkOiBwa2NzN3BhZCxcbiAgICAgICAgICAgICAgICBzdHJpcDogcGtjczdzdHJpcFxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIF9hcnJheVRlc3Q6IHtcbiAgICAgICAgICAgIGNvZXJjZUFycmF5OiBjb2VyY2VBcnJheSxcbiAgICAgICAgICAgIGNyZWF0ZUFycmF5OiBjcmVhdGVBcnJheSxcbiAgICAgICAgICAgIGNvcHlBcnJheTogY29weUFycmF5LFxuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgLy8gbm9kZS5qc1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBhZXNqc1xuXG4gICAgLy8gUmVxdWlyZUpTL0FNRFxuICAgIC8vIGh0dHA6Ly93d3cucmVxdWlyZWpzLm9yZy9kb2NzL2FwaS5odG1sXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FtZGpzL2FtZGpzLWFwaS93aWtpL0FNRFxuICAgIH0gZWxzZSBpZiAodHlwZW9mKGRlZmluZSkgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkgeyByZXR1cm4gYWVzanM7IH0pO1xuXG4gICAgLy8gV2ViIEJyb3dzZXJzXG4gICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYW4gZXhpc3RpbmcgbGlicmFyeSBhdCBcImFlc2pzXCIgbWFrZSBzdXJlIGl0J3Mgc3RpbGwgYXZhaWxhYmxlXG4gICAgICAgIGlmIChyb290LmFlc2pzKSB7XG4gICAgICAgICAgICBhZXNqcy5fYWVzanMgPSByb290LmFlc2pzO1xuICAgICAgICB9XG5cbiAgICAgICAgcm9vdC5hZXNqcyA9IGFlc2pzO1xuICAgIH1cblxuXG59KSh0aGlzKTtcbiIsIihmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBVdGlsc1xuICBmdW5jdGlvbiBhc3NlcnQgKHZhbCwgbXNnKSB7XG4gICAgaWYgKCF2YWwpIHRocm93IG5ldyBFcnJvcihtc2cgfHwgJ0Fzc2VydGlvbiBmYWlsZWQnKTtcbiAgfVxuXG4gIC8vIENvdWxkIHVzZSBgaW5oZXJpdHNgIG1vZHVsZSwgYnV0IGRvbid0IHdhbnQgdG8gbW92ZSBmcm9tIHNpbmdsZSBmaWxlXG4gIC8vIGFyY2hpdGVjdHVyZSB5ZXQuXG4gIGZ1bmN0aW9uIGluaGVyaXRzIChjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjtcbiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlO1xuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKCk7XG4gICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yO1xuICB9XG5cbiAgLy8gQk5cblxuICBmdW5jdGlvbiBCTiAobnVtYmVyLCBiYXNlLCBlbmRpYW4pIHtcbiAgICBpZiAoQk4uaXNCTihudW1iZXIpKSB7XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuICAgIHRoaXMud29yZHMgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoID0gMDtcblxuICAgIC8vIFJlZHVjdGlvbiBjb250ZXh0XG4gICAgdGhpcy5yZWQgPSBudWxsO1xuXG4gICAgaWYgKG51bWJlciAhPT0gbnVsbCkge1xuICAgICAgaWYgKGJhc2UgPT09ICdsZScgfHwgYmFzZSA9PT0gJ2JlJykge1xuICAgICAgICBlbmRpYW4gPSBiYXNlO1xuICAgICAgICBiYXNlID0gMTA7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2luaXQobnVtYmVyIHx8IDAsIGJhc2UgfHwgMTAsIGVuZGlhbiB8fCAnYmUnKTtcbiAgICB9XG4gIH1cbiAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBCTjtcbiAgfSBlbHNlIHtcbiAgICBleHBvcnRzLkJOID0gQk47XG4gIH1cblxuICBCTi5CTiA9IEJOO1xuICBCTi53b3JkU2l6ZSA9IDI2O1xuXG4gIHZhciBCdWZmZXI7XG4gIHRyeSB7XG4gICAgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cblxuICBCTi5pc0JOID0gZnVuY3Rpb24gaXNCTiAobnVtKSB7XG4gICAgaWYgKG51bSBpbnN0YW5jZW9mIEJOKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVtICE9PSBudWxsICYmIHR5cGVvZiBudW0gPT09ICdvYmplY3QnICYmXG4gICAgICBudW0uY29uc3RydWN0b3Iud29yZFNpemUgPT09IEJOLndvcmRTaXplICYmIEFycmF5LmlzQXJyYXkobnVtLndvcmRzKTtcbiAgfTtcblxuICBCTi5tYXggPSBmdW5jdGlvbiBtYXggKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKGxlZnQuY21wKHJpZ2h0KSA+IDApIHJldHVybiBsZWZ0O1xuICAgIHJldHVybiByaWdodDtcbiAgfTtcblxuICBCTi5taW4gPSBmdW5jdGlvbiBtaW4gKGxlZnQsIHJpZ2h0KSB7XG4gICAgaWYgKGxlZnQuY21wKHJpZ2h0KSA8IDApIHJldHVybiBsZWZ0O1xuICAgIHJldHVybiByaWdodDtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0IChudW1iZXIsIGJhc2UsIGVuZGlhbikge1xuICAgIGlmICh0eXBlb2YgbnVtYmVyID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2luaXROdW1iZXIobnVtYmVyLCBiYXNlLCBlbmRpYW4pO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbnVtYmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIHRoaXMuX2luaXRBcnJheShudW1iZXIsIGJhc2UsIGVuZGlhbik7XG4gICAgfVxuXG4gICAgaWYgKGJhc2UgPT09ICdoZXgnKSB7XG4gICAgICBiYXNlID0gMTY7XG4gICAgfVxuICAgIGFzc2VydChiYXNlID09PSAoYmFzZSB8IDApICYmIGJhc2UgPj0gMiAmJiBiYXNlIDw9IDM2KTtcblxuICAgIG51bWJlciA9IG51bWJlci50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZywgJycpO1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgaWYgKG51bWJlclswXSA9PT0gJy0nKSB7XG4gICAgICBzdGFydCsrO1xuICAgIH1cblxuICAgIGlmIChiYXNlID09PSAxNikge1xuICAgICAgdGhpcy5fcGFyc2VIZXgobnVtYmVyLCBzdGFydCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3BhcnNlQmFzZShudW1iZXIsIGJhc2UsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICBpZiAobnVtYmVyWzBdID09PSAnLScpIHtcbiAgICAgIHRoaXMubmVnYXRpdmUgPSAxO1xuICAgIH1cblxuICAgIHRoaXMuc3RyaXAoKTtcblxuICAgIGlmIChlbmRpYW4gIT09ICdsZScpIHJldHVybjtcblxuICAgIHRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSwgYmFzZSwgZW5kaWFuKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuX2luaXROdW1iZXIgPSBmdW5jdGlvbiBfaW5pdE51bWJlciAobnVtYmVyLCBiYXNlLCBlbmRpYW4pIHtcbiAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgICBudW1iZXIgPSAtbnVtYmVyO1xuICAgIH1cbiAgICBpZiAobnVtYmVyIDwgMHg0MDAwMDAwKSB7XG4gICAgICB0aGlzLndvcmRzID0gWyBudW1iZXIgJiAweDNmZmZmZmYgXTtcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICB9IGVsc2UgaWYgKG51bWJlciA8IDB4MTAwMDAwMDAwMDAwMDApIHtcbiAgICAgIHRoaXMud29yZHMgPSBbXG4gICAgICAgIG51bWJlciAmIDB4M2ZmZmZmZixcbiAgICAgICAgKG51bWJlciAvIDB4NDAwMDAwMCkgJiAweDNmZmZmZmZcbiAgICAgIF07XG4gICAgICB0aGlzLmxlbmd0aCA9IDI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChudW1iZXIgPCAweDIwMDAwMDAwMDAwMDAwKTsgLy8gMiBeIDUzICh1bnNhZmUpXG4gICAgICB0aGlzLndvcmRzID0gW1xuICAgICAgICBudW1iZXIgJiAweDNmZmZmZmYsXG4gICAgICAgIChudW1iZXIgLyAweDQwMDAwMDApICYgMHgzZmZmZmZmLFxuICAgICAgICAxXG4gICAgICBdO1xuICAgICAgdGhpcy5sZW5ndGggPSAzO1xuICAgIH1cblxuICAgIGlmIChlbmRpYW4gIT09ICdsZScpIHJldHVybjtcblxuICAgIC8vIFJldmVyc2UgdGhlIGJ5dGVzXG4gICAgdGhpcy5faW5pdEFycmF5KHRoaXMudG9BcnJheSgpLCBiYXNlLCBlbmRpYW4pO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5faW5pdEFycmF5ID0gZnVuY3Rpb24gX2luaXRBcnJheSAobnVtYmVyLCBiYXNlLCBlbmRpYW4pIHtcbiAgICAvLyBQZXJoYXBzIGEgVWludDhBcnJheVxuICAgIGFzc2VydCh0eXBlb2YgbnVtYmVyLmxlbmd0aCA9PT0gJ251bWJlcicpO1xuICAgIGlmIChudW1iZXIubGVuZ3RoIDw9IDApIHtcbiAgICAgIHRoaXMud29yZHMgPSBbIDAgXTtcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMubGVuZ3RoID0gTWF0aC5jZWlsKG51bWJlci5sZW5ndGggLyAzKTtcbiAgICB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud29yZHNbaV0gPSAwO1xuICAgIH1cblxuICAgIHZhciBqLCB3O1xuICAgIHZhciBvZmYgPSAwO1xuICAgIGlmIChlbmRpYW4gPT09ICdiZScpIHtcbiAgICAgIGZvciAoaSA9IG51bWJlci5sZW5ndGggLSAxLCBqID0gMDsgaSA+PSAwOyBpIC09IDMpIHtcbiAgICAgICAgdyA9IG51bWJlcltpXSB8IChudW1iZXJbaSAtIDFdIDw8IDgpIHwgKG51bWJlcltpIC0gMl0gPDwgMTYpO1xuICAgICAgICB0aGlzLndvcmRzW2pdIHw9ICh3IDw8IG9mZikgJiAweDNmZmZmZmY7XG4gICAgICAgIHRoaXMud29yZHNbaiArIDFdID0gKHcgPj4+ICgyNiAtIG9mZikpICYgMHgzZmZmZmZmO1xuICAgICAgICBvZmYgKz0gMjQ7XG4gICAgICAgIGlmIChvZmYgPj0gMjYpIHtcbiAgICAgICAgICBvZmYgLT0gMjY7XG4gICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmRpYW4gPT09ICdsZScpIHtcbiAgICAgIGZvciAoaSA9IDAsIGogPSAwOyBpIDwgbnVtYmVyLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIHcgPSBudW1iZXJbaV0gfCAobnVtYmVyW2kgKyAxXSA8PCA4KSB8IChudW1iZXJbaSArIDJdIDw8IDE2KTtcbiAgICAgICAgdGhpcy53b3Jkc1tqXSB8PSAodyA8PCBvZmYpICYgMHgzZmZmZmZmO1xuICAgICAgICB0aGlzLndvcmRzW2ogKyAxXSA9ICh3ID4+PiAoMjYgLSBvZmYpKSAmIDB4M2ZmZmZmZjtcbiAgICAgICAgb2ZmICs9IDI0O1xuICAgICAgICBpZiAob2ZmID49IDI2KSB7XG4gICAgICAgICAgb2ZmIC09IDI2O1xuICAgICAgICAgIGorKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHBhcnNlSGV4IChzdHIsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgciA9IDA7XG4gICAgdmFyIGxlbiA9IE1hdGgubWluKHN0ci5sZW5ndGgsIGVuZCk7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBjID0gc3RyLmNoYXJDb2RlQXQoaSkgLSA0ODtcblxuICAgICAgciA8PD0gNDtcblxuICAgICAgLy8gJ2EnIC0gJ2YnXG4gICAgICBpZiAoYyA+PSA0OSAmJiBjIDw9IDU0KSB7XG4gICAgICAgIHIgfD0gYyAtIDQ5ICsgMHhhO1xuXG4gICAgICAvLyAnQScgLSAnRidcbiAgICAgIH0gZWxzZSBpZiAoYyA+PSAxNyAmJiBjIDw9IDIyKSB7XG4gICAgICAgIHIgfD0gYyAtIDE3ICsgMHhhO1xuXG4gICAgICAvLyAnMCcgLSAnOSdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgfD0gYyAmIDB4ZjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH1cblxuICBCTi5wcm90b3R5cGUuX3BhcnNlSGV4ID0gZnVuY3Rpb24gX3BhcnNlSGV4IChudW1iZXIsIHN0YXJ0KSB7XG4gICAgLy8gQ3JlYXRlIHBvc3NpYmx5IGJpZ2dlciBhcnJheSB0byBlbnN1cmUgdGhhdCBpdCBmaXRzIHRoZSBudW1iZXJcbiAgICB0aGlzLmxlbmd0aCA9IE1hdGguY2VpbCgobnVtYmVyLmxlbmd0aCAtIHN0YXJ0KSAvIDYpO1xuICAgIHRoaXMud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IDA7XG4gICAgfVxuXG4gICAgdmFyIGosIHc7XG4gICAgLy8gU2NhbiAyNC1iaXQgY2h1bmtzIGFuZCBhZGQgdGhlbSB0byB0aGUgbnVtYmVyXG4gICAgdmFyIG9mZiA9IDA7XG4gICAgZm9yIChpID0gbnVtYmVyLmxlbmd0aCAtIDYsIGogPSAwOyBpID49IHN0YXJ0OyBpIC09IDYpIHtcbiAgICAgIHcgPSBwYXJzZUhleChudW1iZXIsIGksIGkgKyA2KTtcbiAgICAgIHRoaXMud29yZHNbal0gfD0gKHcgPDwgb2ZmKSAmIDB4M2ZmZmZmZjtcbiAgICAgIC8vIE5PVEU6IGAweDNmZmZmZmAgaXMgaW50ZW50aW9uYWwgaGVyZSwgMjZiaXRzIG1heCBzaGlmdCArIDI0Yml0IGhleCBsaW1iXG4gICAgICB0aGlzLndvcmRzW2ogKyAxXSB8PSB3ID4+PiAoMjYgLSBvZmYpICYgMHgzZmZmZmY7XG4gICAgICBvZmYgKz0gMjQ7XG4gICAgICBpZiAob2ZmID49IDI2KSB7XG4gICAgICAgIG9mZiAtPSAyNjtcbiAgICAgICAgaisrO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaSArIDYgIT09IHN0YXJ0KSB7XG4gICAgICB3ID0gcGFyc2VIZXgobnVtYmVyLCBzdGFydCwgaSArIDYpO1xuICAgICAgdGhpcy53b3Jkc1tqXSB8PSAodyA8PCBvZmYpICYgMHgzZmZmZmZmO1xuICAgICAgdGhpcy53b3Jkc1tqICsgMV0gfD0gdyA+Pj4gKDI2IC0gb2ZmKSAmIDB4M2ZmZmZmO1xuICAgIH1cbiAgICB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcGFyc2VCYXNlIChzdHIsIHN0YXJ0LCBlbmQsIG11bCkge1xuICAgIHZhciByID0gMDtcbiAgICB2YXIgbGVuID0gTWF0aC5taW4oc3RyLmxlbmd0aCwgZW5kKTtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKSAtIDQ4O1xuXG4gICAgICByICo9IG11bDtcblxuICAgICAgLy8gJ2EnXG4gICAgICBpZiAoYyA+PSA0OSkge1xuICAgICAgICByICs9IGMgLSA0OSArIDB4YTtcblxuICAgICAgLy8gJ0EnXG4gICAgICB9IGVsc2UgaWYgKGMgPj0gMTcpIHtcbiAgICAgICAgciArPSBjIC0gMTcgKyAweGE7XG5cbiAgICAgIC8vICcwJyAtICc5J1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciArPSBjO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfVxuXG4gIEJOLnByb3RvdHlwZS5fcGFyc2VCYXNlID0gZnVuY3Rpb24gX3BhcnNlQmFzZSAobnVtYmVyLCBiYXNlLCBzdGFydCkge1xuICAgIC8vIEluaXRpYWxpemUgYXMgemVyb1xuICAgIHRoaXMud29yZHMgPSBbIDAgXTtcbiAgICB0aGlzLmxlbmd0aCA9IDE7XG5cbiAgICAvLyBGaW5kIGxlbmd0aCBvZiBsaW1iIGluIGJhc2VcbiAgICBmb3IgKHZhciBsaW1iTGVuID0gMCwgbGltYlBvdyA9IDE7IGxpbWJQb3cgPD0gMHgzZmZmZmZmOyBsaW1iUG93ICo9IGJhc2UpIHtcbiAgICAgIGxpbWJMZW4rKztcbiAgICB9XG4gICAgbGltYkxlbi0tO1xuICAgIGxpbWJQb3cgPSAobGltYlBvdyAvIGJhc2UpIHwgMDtcblxuICAgIHZhciB0b3RhbCA9IG51bWJlci5sZW5ndGggLSBzdGFydDtcbiAgICB2YXIgbW9kID0gdG90YWwgJSBsaW1iTGVuO1xuICAgIHZhciBlbmQgPSBNYXRoLm1pbih0b3RhbCwgdG90YWwgLSBtb2QpICsgc3RhcnQ7XG5cbiAgICB2YXIgd29yZCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IGxpbWJMZW4pIHtcbiAgICAgIHdvcmQgPSBwYXJzZUJhc2UobnVtYmVyLCBpLCBpICsgbGltYkxlbiwgYmFzZSk7XG5cbiAgICAgIHRoaXMuaW11bG4obGltYlBvdyk7XG4gICAgICBpZiAodGhpcy53b3Jkc1swXSArIHdvcmQgPCAweDQwMDAwMDApIHtcbiAgICAgICAgdGhpcy53b3Jkc1swXSArPSB3b3JkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5faWFkZG4od29yZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vZCAhPT0gMCkge1xuICAgICAgdmFyIHBvdyA9IDE7XG4gICAgICB3b3JkID0gcGFyc2VCYXNlKG51bWJlciwgaSwgbnVtYmVyLmxlbmd0aCwgYmFzZSk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBtb2Q7IGkrKykge1xuICAgICAgICBwb3cgKj0gYmFzZTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbXVsbihwb3cpO1xuICAgICAgaWYgKHRoaXMud29yZHNbMF0gKyB3b3JkIDwgMHg0MDAwMDAwKSB7XG4gICAgICAgIHRoaXMud29yZHNbMF0gKz0gd29yZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2lhZGRuKHdvcmQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBCTi5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKGRlc3QpIHtcbiAgICBkZXN0LndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGRlc3Qud29yZHNbaV0gPSB0aGlzLndvcmRzW2ldO1xuICAgIH1cbiAgICBkZXN0Lmxlbmd0aCA9IHRoaXMubGVuZ3RoO1xuICAgIGRlc3QubmVnYXRpdmUgPSB0aGlzLm5lZ2F0aXZlO1xuICAgIGRlc3QucmVkID0gdGhpcy5yZWQ7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKCkge1xuICAgIHZhciByID0gbmV3IEJOKG51bGwpO1xuICAgIHRoaXMuY29weShyKTtcbiAgICByZXR1cm4gcjtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuX2V4cGFuZCA9IGZ1bmN0aW9uIF9leHBhbmQgKHNpemUpIHtcbiAgICB3aGlsZSAodGhpcy5sZW5ndGggPCBzaXplKSB7XG4gICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gUmVtb3ZlIGxlYWRpbmcgYDBgIGZyb20gYHRoaXNgXG4gIEJOLnByb3RvdHlwZS5zdHJpcCA9IGZ1bmN0aW9uIHN0cmlwICgpIHtcbiAgICB3aGlsZSAodGhpcy5sZW5ndGggPiAxICYmIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSA9PT0gMCkge1xuICAgICAgdGhpcy5sZW5ndGgtLTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLl9ub3JtU2lnbiA9IGZ1bmN0aW9uIF9ub3JtU2lnbiAoKSB7XG4gICAgLy8gLTAgPSAwXG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPT09IDApIHtcbiAgICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkge1xuICAgIHJldHVybiAodGhpcy5yZWQgPyAnPEJOLVI6ICcgOiAnPEJOOiAnKSArIHRoaXMudG9TdHJpbmcoMTYpICsgJz4nO1xuICB9O1xuXG4gIC8qXG5cbiAgdmFyIHplcm9zID0gW107XG4gIHZhciBncm91cFNpemVzID0gW107XG4gIHZhciBncm91cEJhc2VzID0gW107XG5cbiAgdmFyIHMgPSAnJztcbiAgdmFyIGkgPSAtMTtcbiAgd2hpbGUgKCsraSA8IEJOLndvcmRTaXplKSB7XG4gICAgemVyb3NbaV0gPSBzO1xuICAgIHMgKz0gJzAnO1xuICB9XG4gIGdyb3VwU2l6ZXNbMF0gPSAwO1xuICBncm91cFNpemVzWzFdID0gMDtcbiAgZ3JvdXBCYXNlc1swXSA9IDA7XG4gIGdyb3VwQmFzZXNbMV0gPSAwO1xuICB2YXIgYmFzZSA9IDIgLSAxO1xuICB3aGlsZSAoKytiYXNlIDwgMzYgKyAxKSB7XG4gICAgdmFyIGdyb3VwU2l6ZSA9IDA7XG4gICAgdmFyIGdyb3VwQmFzZSA9IDE7XG4gICAgd2hpbGUgKGdyb3VwQmFzZSA8ICgxIDw8IEJOLndvcmRTaXplKSAvIGJhc2UpIHtcbiAgICAgIGdyb3VwQmFzZSAqPSBiYXNlO1xuICAgICAgZ3JvdXBTaXplICs9IDE7XG4gICAgfVxuICAgIGdyb3VwU2l6ZXNbYmFzZV0gPSBncm91cFNpemU7XG4gICAgZ3JvdXBCYXNlc1tiYXNlXSA9IGdyb3VwQmFzZTtcbiAgfVxuXG4gICovXG5cbiAgdmFyIHplcm9zID0gW1xuICAgICcnLFxuICAgICcwJyxcbiAgICAnMDAnLFxuICAgICcwMDAnLFxuICAgICcwMDAwJyxcbiAgICAnMDAwMDAnLFxuICAgICcwMDAwMDAnLFxuICAgICcwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAgICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJ1xuICBdO1xuXG4gIHZhciBncm91cFNpemVzID0gW1xuICAgIDAsIDAsXG4gICAgMjUsIDE2LCAxMiwgMTEsIDEwLCA5LCA4LFxuICAgIDgsIDcsIDcsIDcsIDcsIDYsIDYsXG4gICAgNiwgNiwgNiwgNiwgNiwgNSwgNSxcbiAgICA1LCA1LCA1LCA1LCA1LCA1LCA1LFxuICAgIDUsIDUsIDUsIDUsIDUsIDUsIDVcbiAgXTtcblxuICB2YXIgZ3JvdXBCYXNlcyA9IFtcbiAgICAwLCAwLFxuICAgIDMzNTU0NDMyLCA0MzA0NjcyMSwgMTY3NzcyMTYsIDQ4ODI4MTI1LCA2MDQ2NjE3NiwgNDAzNTM2MDcsIDE2Nzc3MjE2LFxuICAgIDQzMDQ2NzIxLCAxMDAwMDAwMCwgMTk0ODcxNzEsIDM1ODMxODA4LCA2Mjc0ODUxNywgNzUyOTUzNiwgMTEzOTA2MjUsXG4gICAgMTY3NzcyMTYsIDI0MTM3NTY5LCAzNDAxMjIyNCwgNDcwNDU4ODEsIDY0MDAwMDAwLCA0MDg0MTAxLCA1MTUzNjMyLFxuICAgIDY0MzYzNDMsIDc5NjI2MjQsIDk3NjU2MjUsIDExODgxMzc2LCAxNDM0ODkwNywgMTcyMTAzNjgsIDIwNTExMTQ5LFxuICAgIDI0MzAwMDAwLCAyODYyOTE1MSwgMzM1NTQ0MzIsIDM5MTM1MzkzLCA0NTQzNTQyNCwgNTI1MjE4NzUsIDYwNDY2MTc2XG4gIF07XG5cbiAgQk4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKGJhc2UsIHBhZGRpbmcpIHtcbiAgICBiYXNlID0gYmFzZSB8fCAxMDtcbiAgICBwYWRkaW5nID0gcGFkZGluZyB8IDAgfHwgMTtcblxuICAgIHZhciBvdXQ7XG4gICAgaWYgKGJhc2UgPT09IDE2IHx8IGJhc2UgPT09ICdoZXgnKSB7XG4gICAgICBvdXQgPSAnJztcbiAgICAgIHZhciBvZmYgPSAwO1xuICAgICAgdmFyIGNhcnJ5ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdyA9IHRoaXMud29yZHNbaV07XG4gICAgICAgIHZhciB3b3JkID0gKCgodyA8PCBvZmYpIHwgY2FycnkpICYgMHhmZmZmZmYpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgY2FycnkgPSAodyA+Pj4gKDI0IC0gb2ZmKSkgJiAweGZmZmZmZjtcbiAgICAgICAgaWYgKGNhcnJ5ICE9PSAwIHx8IGkgIT09IHRoaXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIG91dCA9IHplcm9zWzYgLSB3b3JkLmxlbmd0aF0gKyB3b3JkICsgb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCA9IHdvcmQgKyBvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgb2ZmICs9IDI7XG4gICAgICAgIGlmIChvZmYgPj0gMjYpIHtcbiAgICAgICAgICBvZmYgLT0gMjY7XG4gICAgICAgICAgaS0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY2FycnkgIT09IDApIHtcbiAgICAgICAgb3V0ID0gY2FycnkudG9TdHJpbmcoMTYpICsgb3V0O1xuICAgICAgfVxuICAgICAgd2hpbGUgKG91dC5sZW5ndGggJSBwYWRkaW5nICE9PSAwKSB7XG4gICAgICAgIG91dCA9ICcwJyArIG91dDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKSB7XG4gICAgICAgIG91dCA9ICctJyArIG91dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvdXQ7XG4gICAgfVxuXG4gICAgaWYgKGJhc2UgPT09IChiYXNlIHwgMCkgJiYgYmFzZSA+PSAyICYmIGJhc2UgPD0gMzYpIHtcbiAgICAgIC8vIHZhciBncm91cFNpemUgPSBNYXRoLmZsb29yKEJOLndvcmRTaXplICogTWF0aC5MTjIgLyBNYXRoLmxvZyhiYXNlKSk7XG4gICAgICB2YXIgZ3JvdXBTaXplID0gZ3JvdXBTaXplc1tiYXNlXTtcbiAgICAgIC8vIHZhciBncm91cEJhc2UgPSBNYXRoLnBvdyhiYXNlLCBncm91cFNpemUpO1xuICAgICAgdmFyIGdyb3VwQmFzZSA9IGdyb3VwQmFzZXNbYmFzZV07XG4gICAgICBvdXQgPSAnJztcbiAgICAgIHZhciBjID0gdGhpcy5jbG9uZSgpO1xuICAgICAgYy5uZWdhdGl2ZSA9IDA7XG4gICAgICB3aGlsZSAoIWMuaXNaZXJvKCkpIHtcbiAgICAgICAgdmFyIHIgPSBjLm1vZG4oZ3JvdXBCYXNlKS50b1N0cmluZyhiYXNlKTtcbiAgICAgICAgYyA9IGMuaWRpdm4oZ3JvdXBCYXNlKTtcblxuICAgICAgICBpZiAoIWMuaXNaZXJvKCkpIHtcbiAgICAgICAgICBvdXQgPSB6ZXJvc1tncm91cFNpemUgLSByLmxlbmd0aF0gKyByICsgb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG91dCA9IHIgKyBvdXQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzWmVybygpKSB7XG4gICAgICAgIG91dCA9ICcwJyArIG91dDtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChvdXQubGVuZ3RoICUgcGFkZGluZyAhPT0gMCkge1xuICAgICAgICBvdXQgPSAnMCcgKyBvdXQ7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgICBvdXQgPSAnLScgKyBvdXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0O1xuICAgIH1cblxuICAgIGFzc2VydChmYWxzZSwgJ0Jhc2Ugc2hvdWxkIGJlIGJldHdlZW4gMiBhbmQgMzYnKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlciAoKSB7XG4gICAgdmFyIHJldCA9IHRoaXMud29yZHNbMF07XG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAyKSB7XG4gICAgICByZXQgKz0gdGhpcy53b3Jkc1sxXSAqIDB4NDAwMDAwMDtcbiAgICB9IGVsc2UgaWYgKHRoaXMubGVuZ3RoID09PSAzICYmIHRoaXMud29yZHNbMl0gPT09IDB4MDEpIHtcbiAgICAgIC8vIE5PVEU6IGF0IHRoaXMgc3RhZ2UgaXQgaXMga25vd24gdGhhdCB0aGUgdG9wIGJpdCBpcyBzZXRcbiAgICAgIHJldCArPSAweDEwMDAwMDAwMDAwMDAwICsgKHRoaXMud29yZHNbMV0gKiAweDQwMDAwMDApO1xuICAgIH0gZWxzZSBpZiAodGhpcy5sZW5ndGggPiAyKSB7XG4gICAgICBhc3NlcnQoZmFsc2UsICdOdW1iZXIgY2FuIG9ubHkgc2FmZWx5IHN0b3JlIHVwIHRvIDUzIGJpdHMnKTtcbiAgICB9XG4gICAgcmV0dXJuICh0aGlzLm5lZ2F0aXZlICE9PSAwKSA/IC1yZXQgOiByZXQ7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTYpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uIHRvQnVmZmVyIChlbmRpYW4sIGxlbmd0aCkge1xuICAgIGFzc2VydCh0eXBlb2YgQnVmZmVyICE9PSAndW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIHRoaXMudG9BcnJheUxpa2UoQnVmZmVyLCBlbmRpYW4sIGxlbmd0aCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5IChlbmRpYW4sIGxlbmd0aCkge1xuICAgIHJldHVybiB0aGlzLnRvQXJyYXlMaWtlKEFycmF5LCBlbmRpYW4sIGxlbmd0aCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnRvQXJyYXlMaWtlID0gZnVuY3Rpb24gdG9BcnJheUxpa2UgKEFycmF5VHlwZSwgZW5kaWFuLCBsZW5ndGgpIHtcbiAgICB2YXIgYnl0ZUxlbmd0aCA9IHRoaXMuYnl0ZUxlbmd0aCgpO1xuICAgIHZhciByZXFMZW5ndGggPSBsZW5ndGggfHwgTWF0aC5tYXgoMSwgYnl0ZUxlbmd0aCk7XG4gICAgYXNzZXJ0KGJ5dGVMZW5ndGggPD0gcmVxTGVuZ3RoLCAnYnl0ZSBhcnJheSBsb25nZXIgdGhhbiBkZXNpcmVkIGxlbmd0aCcpO1xuICAgIGFzc2VydChyZXFMZW5ndGggPiAwLCAnUmVxdWVzdGVkIGFycmF5IGxlbmd0aCA8PSAwJyk7XG5cbiAgICB0aGlzLnN0cmlwKCk7XG4gICAgdmFyIGxpdHRsZUVuZGlhbiA9IGVuZGlhbiA9PT0gJ2xlJztcbiAgICB2YXIgcmVzID0gbmV3IEFycmF5VHlwZShyZXFMZW5ndGgpO1xuXG4gICAgdmFyIGIsIGk7XG4gICAgdmFyIHEgPSB0aGlzLmNsb25lKCk7XG4gICAgaWYgKCFsaXR0bGVFbmRpYW4pIHtcbiAgICAgIC8vIEFzc3VtZSBiaWctZW5kaWFuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgcmVxTGVuZ3RoIC0gYnl0ZUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc1tpXSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7ICFxLmlzWmVybygpOyBpKyspIHtcbiAgICAgICAgYiA9IHEuYW5kbG4oMHhmZik7XG4gICAgICAgIHEuaXVzaHJuKDgpO1xuXG4gICAgICAgIHJlc1tyZXFMZW5ndGggLSBpIC0gMV0gPSBiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGkgPSAwOyAhcS5pc1plcm8oKTsgaSsrKSB7XG4gICAgICAgIGIgPSBxLmFuZGxuKDB4ZmYpO1xuICAgICAgICBxLml1c2hybig4KTtcblxuICAgICAgICByZXNbaV0gPSBiO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgaSA8IHJlcUxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc1tpXSA9IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBpZiAoTWF0aC5jbHozMikge1xuICAgIEJOLnByb3RvdHlwZS5fY291bnRCaXRzID0gZnVuY3Rpb24gX2NvdW50Qml0cyAodykge1xuICAgICAgcmV0dXJuIDMyIC0gTWF0aC5jbHozMih3KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIEJOLnByb3RvdHlwZS5fY291bnRCaXRzID0gZnVuY3Rpb24gX2NvdW50Qml0cyAodykge1xuICAgICAgdmFyIHQgPSB3O1xuICAgICAgdmFyIHIgPSAwO1xuICAgICAgaWYgKHQgPj0gMHgxMDAwKSB7XG4gICAgICAgIHIgKz0gMTM7XG4gICAgICAgIHQgPj4+PSAxMztcbiAgICAgIH1cbiAgICAgIGlmICh0ID49IDB4NDApIHtcbiAgICAgICAgciArPSA3O1xuICAgICAgICB0ID4+Pj0gNztcbiAgICAgIH1cbiAgICAgIGlmICh0ID49IDB4OCkge1xuICAgICAgICByICs9IDQ7XG4gICAgICAgIHQgPj4+PSA0O1xuICAgICAgfVxuICAgICAgaWYgKHQgPj0gMHgwMikge1xuICAgICAgICByICs9IDI7XG4gICAgICAgIHQgPj4+PSAyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHIgKyB0O1xuICAgIH07XG4gIH1cblxuICBCTi5wcm90b3R5cGUuX3plcm9CaXRzID0gZnVuY3Rpb24gX3plcm9CaXRzICh3KSB7XG4gICAgLy8gU2hvcnQtY3V0XG4gICAgaWYgKHcgPT09IDApIHJldHVybiAyNjtcblxuICAgIHZhciB0ID0gdztcbiAgICB2YXIgciA9IDA7XG4gICAgaWYgKCh0ICYgMHgxZmZmKSA9PT0gMCkge1xuICAgICAgciArPSAxMztcbiAgICAgIHQgPj4+PSAxMztcbiAgICB9XG4gICAgaWYgKCh0ICYgMHg3ZikgPT09IDApIHtcbiAgICAgIHIgKz0gNztcbiAgICAgIHQgPj4+PSA3O1xuICAgIH1cbiAgICBpZiAoKHQgJiAweGYpID09PSAwKSB7XG4gICAgICByICs9IDQ7XG4gICAgICB0ID4+Pj0gNDtcbiAgICB9XG4gICAgaWYgKCh0ICYgMHgzKSA9PT0gMCkge1xuICAgICAgciArPSAyO1xuICAgICAgdCA+Pj49IDI7XG4gICAgfVxuICAgIGlmICgodCAmIDB4MSkgPT09IDApIHtcbiAgICAgIHIrKztcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgLy8gUmV0dXJuIG51bWJlciBvZiB1c2VkIGJpdHMgaW4gYSBCTlxuICBCTi5wcm90b3R5cGUuYml0TGVuZ3RoID0gZnVuY3Rpb24gYml0TGVuZ3RoICgpIHtcbiAgICB2YXIgdyA9IHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXTtcbiAgICB2YXIgaGkgPSB0aGlzLl9jb3VudEJpdHModyk7XG4gICAgcmV0dXJuICh0aGlzLmxlbmd0aCAtIDEpICogMjYgKyBoaTtcbiAgfTtcblxuICBmdW5jdGlvbiB0b0JpdEFycmF5IChudW0pIHtcbiAgICB2YXIgdyA9IG5ldyBBcnJheShudW0uYml0TGVuZ3RoKCkpO1xuXG4gICAgZm9yICh2YXIgYml0ID0gMDsgYml0IDwgdy5sZW5ndGg7IGJpdCsrKSB7XG4gICAgICB2YXIgb2ZmID0gKGJpdCAvIDI2KSB8IDA7XG4gICAgICB2YXIgd2JpdCA9IGJpdCAlIDI2O1xuXG4gICAgICB3W2JpdF0gPSAobnVtLndvcmRzW29mZl0gJiAoMSA8PCB3Yml0KSkgPj4+IHdiaXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHc7XG4gIH1cblxuICAvLyBOdW1iZXIgb2YgdHJhaWxpbmcgemVybyBiaXRzXG4gIEJOLnByb3RvdHlwZS56ZXJvQml0cyA9IGZ1bmN0aW9uIHplcm9CaXRzICgpIHtcbiAgICBpZiAodGhpcy5pc1plcm8oKSkgcmV0dXJuIDA7XG5cbiAgICB2YXIgciA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYiA9IHRoaXMuX3plcm9CaXRzKHRoaXMud29yZHNbaV0pO1xuICAgICAgciArPSBiO1xuICAgICAgaWYgKGIgIT09IDI2KSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmJ5dGVMZW5ndGggPSBmdW5jdGlvbiBieXRlTGVuZ3RoICgpIHtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuYml0TGVuZ3RoKCkgLyA4KTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudG9Ud29zID0gZnVuY3Rpb24gdG9Ud29zICh3aWR0aCkge1xuICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5hYnMoKS5pbm90bih3aWR0aCkuaWFkZG4oMSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmNsb25lKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmZyb21Ud29zID0gZnVuY3Rpb24gZnJvbVR3b3MgKHdpZHRoKSB7XG4gICAgaWYgKHRoaXMudGVzdG4od2lkdGggLSAxKSkge1xuICAgICAgcmV0dXJuIHRoaXMubm90bih3aWR0aCkuaWFkZG4oMSkuaW5lZygpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5pc05lZyA9IGZ1bmN0aW9uIGlzTmVnICgpIHtcbiAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMDtcbiAgfTtcblxuICAvLyBSZXR1cm4gbmVnYXRpdmUgY2xvbmUgb2YgYHRoaXNgXG4gIEJOLnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcgKCkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW5lZygpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5pbmVnID0gZnVuY3Rpb24gaW5lZyAoKSB7XG4gICAgaWYgKCF0aGlzLmlzWmVybygpKSB7XG4gICAgICB0aGlzLm5lZ2F0aXZlIF49IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gT3IgYG51bWAgd2l0aCBgdGhpc2AgaW4tcGxhY2VcbiAgQk4ucHJvdG90eXBlLml1b3IgPSBmdW5jdGlvbiBpdW9yIChudW0pIHtcbiAgICB3aGlsZSAodGhpcy5sZW5ndGggPCBudW0ubGVuZ3RoKSB7XG4gICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdID0gMDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV0gfCBudW0ud29yZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuaW9yID0gZnVuY3Rpb24gaW9yIChudW0pIHtcbiAgICBhc3NlcnQoKHRoaXMubmVnYXRpdmUgfCBudW0ubmVnYXRpdmUpID09PSAwKTtcbiAgICByZXR1cm4gdGhpcy5pdW9yKG51bSk7XG4gIH07XG5cbiAgLy8gT3IgYG51bWAgd2l0aCBgdGhpc2BcbiAgQk4ucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gb3IgKG51bSkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHJldHVybiB0aGlzLmNsb25lKCkuaW9yKG51bSk7XG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLmlvcih0aGlzKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudW9yID0gZnVuY3Rpb24gdW9yIChudW0pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSByZXR1cm4gdGhpcy5jbG9uZSgpLml1b3IobnVtKTtcbiAgICByZXR1cm4gbnVtLmNsb25lKCkuaXVvcih0aGlzKTtcbiAgfTtcblxuICAvLyBBbmQgYG51bWAgd2l0aCBgdGhpc2AgaW4tcGxhY2VcbiAgQk4ucHJvdG90eXBlLml1YW5kID0gZnVuY3Rpb24gaXVhbmQgKG51bSkge1xuICAgIC8vIGIgPSBtaW4tbGVuZ3RoKG51bSwgdGhpcylcbiAgICB2YXIgYjtcbiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSB7XG4gICAgICBiID0gbnVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBiID0gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMud29yZHNbaV0gPSB0aGlzLndvcmRzW2ldICYgbnVtLndvcmRzW2ldO1xuICAgIH1cblxuICAgIHRoaXMubGVuZ3RoID0gYi5sZW5ndGg7XG5cbiAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5pYW5kID0gZnVuY3Rpb24gaWFuZCAobnVtKSB7XG4gICAgYXNzZXJ0KCh0aGlzLm5lZ2F0aXZlIHwgbnVtLm5lZ2F0aXZlKSA9PT0gMCk7XG4gICAgcmV0dXJuIHRoaXMuaXVhbmQobnVtKTtcbiAgfTtcblxuICAvLyBBbmQgYG51bWAgd2l0aCBgdGhpc2BcbiAgQk4ucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uIGFuZCAobnVtKSB7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYW5kKG51bSk7XG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLmlhbmQodGhpcyk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnVhbmQgPSBmdW5jdGlvbiB1YW5kIChudW0pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSByZXR1cm4gdGhpcy5jbG9uZSgpLml1YW5kKG51bSk7XG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLml1YW5kKHRoaXMpO1xuICB9O1xuXG4gIC8vIFhvciBgbnVtYCB3aXRoIGB0aGlzYCBpbi1wbGFjZVxuICBCTi5wcm90b3R5cGUuaXV4b3IgPSBmdW5jdGlvbiBpdXhvciAobnVtKSB7XG4gICAgLy8gYS5sZW5ndGggPiBiLmxlbmd0aFxuICAgIHZhciBhO1xuICAgIHZhciBiO1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHtcbiAgICAgIGEgPSB0aGlzO1xuICAgICAgYiA9IG51bTtcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IG51bTtcbiAgICAgIGIgPSB0aGlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IGEud29yZHNbaV0gXiBiLndvcmRzW2ldO1xuICAgIH1cblxuICAgIGlmICh0aGlzICE9PSBhKSB7XG4gICAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IGEud29yZHNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5sZW5ndGggPSBhLmxlbmd0aDtcblxuICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLml4b3IgPSBmdW5jdGlvbiBpeG9yIChudW0pIHtcbiAgICBhc3NlcnQoKHRoaXMubmVnYXRpdmUgfCBudW0ubmVnYXRpdmUpID09PSAwKTtcbiAgICByZXR1cm4gdGhpcy5pdXhvcihudW0pO1xuICB9O1xuXG4gIC8vIFhvciBgbnVtYCB3aXRoIGB0aGlzYFxuICBCTi5wcm90b3R5cGUueG9yID0gZnVuY3Rpb24geG9yIChudW0pIHtcbiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSByZXR1cm4gdGhpcy5jbG9uZSgpLml4b3IobnVtKTtcbiAgICByZXR1cm4gbnVtLmNsb25lKCkuaXhvcih0aGlzKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudXhvciA9IGZ1bmN0aW9uIHV4b3IgKG51bSkge1xuICAgIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHJldHVybiB0aGlzLmNsb25lKCkuaXV4b3IobnVtKTtcbiAgICByZXR1cm4gbnVtLmNsb25lKCkuaXV4b3IodGhpcyk7XG4gIH07XG5cbiAgLy8gTm90IGBgdGhpc2BgIHdpdGggYGB3aWR0aGBgIGJpdHdpZHRoXG4gIEJOLnByb3RvdHlwZS5pbm90biA9IGZ1bmN0aW9uIGlub3RuICh3aWR0aCkge1xuICAgIGFzc2VydCh0eXBlb2Ygd2lkdGggPT09ICdudW1iZXInICYmIHdpZHRoID49IDApO1xuXG4gICAgdmFyIGJ5dGVzTmVlZGVkID0gTWF0aC5jZWlsKHdpZHRoIC8gMjYpIHwgMDtcbiAgICB2YXIgYml0c0xlZnQgPSB3aWR0aCAlIDI2O1xuXG4gICAgLy8gRXh0ZW5kIHRoZSBidWZmZXIgd2l0aCBsZWFkaW5nIHplcm9lc1xuICAgIHRoaXMuX2V4cGFuZChieXRlc05lZWRlZCk7XG5cbiAgICBpZiAoYml0c0xlZnQgPiAwKSB7XG4gICAgICBieXRlc05lZWRlZC0tO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBjb21wbGV0ZSB3b3Jkc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXNOZWVkZWQ7IGkrKykge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IH50aGlzLndvcmRzW2ldICYgMHgzZmZmZmZmO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSB0aGUgcmVzaWR1ZVxuICAgIGlmIChiaXRzTGVmdCA+IDApIHtcbiAgICAgIHRoaXMud29yZHNbaV0gPSB+dGhpcy53b3Jkc1tpXSAmICgweDNmZmZmZmYgPj4gKDI2IC0gYml0c0xlZnQpKTtcbiAgICB9XG5cbiAgICAvLyBBbmQgcmVtb3ZlIGxlYWRpbmcgemVyb2VzXG4gICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUubm90biA9IGZ1bmN0aW9uIG5vdG4gKHdpZHRoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pbm90bih3aWR0aCk7XG4gIH07XG5cbiAgLy8gU2V0IGBiaXRgIG9mIGB0aGlzYFxuICBCTi5wcm90b3R5cGUuc2V0biA9IGZ1bmN0aW9uIHNldG4gKGJpdCwgdmFsKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBiaXQgPT09ICdudW1iZXInICYmIGJpdCA+PSAwKTtcblxuICAgIHZhciBvZmYgPSAoYml0IC8gMjYpIHwgMDtcbiAgICB2YXIgd2JpdCA9IGJpdCAlIDI2O1xuXG4gICAgdGhpcy5fZXhwYW5kKG9mZiArIDEpO1xuXG4gICAgaWYgKHZhbCkge1xuICAgICAgdGhpcy53b3Jkc1tvZmZdID0gdGhpcy53b3Jkc1tvZmZdIHwgKDEgPDwgd2JpdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMud29yZHNbb2ZmXSA9IHRoaXMud29yZHNbb2ZmXSAmIH4oMSA8PCB3Yml0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuICB9O1xuXG4gIC8vIEFkZCBgbnVtYCB0byBgdGhpc2AgaW4tcGxhY2VcbiAgQk4ucHJvdG90eXBlLmlhZGQgPSBmdW5jdGlvbiBpYWRkIChudW0pIHtcbiAgICB2YXIgcjtcblxuICAgIC8vIG5lZ2F0aXZlICsgcG9zaXRpdmVcbiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCAmJiBudW0ubmVnYXRpdmUgPT09IDApIHtcbiAgICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuICAgICAgciA9IHRoaXMuaXN1YihudW0pO1xuICAgICAgdGhpcy5uZWdhdGl2ZSBePSAxO1xuICAgICAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG5cbiAgICAvLyBwb3NpdGl2ZSArIG5lZ2F0aXZlXG4gICAgfSBlbHNlIGlmICh0aGlzLm5lZ2F0aXZlID09PSAwICYmIG51bS5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgbnVtLm5lZ2F0aXZlID0gMDtcbiAgICAgIHIgPSB0aGlzLmlzdWIobnVtKTtcbiAgICAgIG51bS5uZWdhdGl2ZSA9IDE7XG4gICAgICByZXR1cm4gci5fbm9ybVNpZ24oKTtcbiAgICB9XG5cbiAgICAvLyBhLmxlbmd0aCA+IGIubGVuZ3RoXG4gICAgdmFyIGEsIGI7XG4gICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkge1xuICAgICAgYSA9IHRoaXM7XG4gICAgICBiID0gbnVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gbnVtO1xuICAgICAgYiA9IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHIgPSAoYS53b3Jkc1tpXSB8IDApICsgKGIud29yZHNbaV0gfCAwKSArIGNhcnJ5O1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7XG4gICAgICBjYXJyeSA9IHIgPj4+IDI2O1xuICAgIH1cbiAgICBmb3IgKDsgY2FycnkgIT09IDAgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIHIgPSAoYS53b3Jkc1tpXSB8IDApICsgY2Fycnk7XG4gICAgICB0aGlzLndvcmRzW2ldID0gciAmIDB4M2ZmZmZmZjtcbiAgICAgIGNhcnJ5ID0gciA+Pj4gMjY7XG4gICAgfVxuXG4gICAgdGhpcy5sZW5ndGggPSBhLmxlbmd0aDtcbiAgICBpZiAoY2FycnkgIT09IDApIHtcbiAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGhdID0gY2Fycnk7XG4gICAgICB0aGlzLmxlbmd0aCsrO1xuICAgIC8vIENvcHkgdGhlIHJlc3Qgb2YgdGhlIHdvcmRzXG4gICAgfSBlbHNlIGlmIChhICE9PSB0aGlzKSB7XG4gICAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IGEud29yZHNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gQWRkIGBudW1gIHRvIGB0aGlzYFxuICBCTi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChudW0pIHtcbiAgICB2YXIgcmVzO1xuICAgIGlmIChudW0ubmVnYXRpdmUgIT09IDAgJiYgdGhpcy5uZWdhdGl2ZSA9PT0gMCkge1xuICAgICAgbnVtLm5lZ2F0aXZlID0gMDtcbiAgICAgIHJlcyA9IHRoaXMuc3ViKG51bSk7XG4gICAgICBudW0ubmVnYXRpdmUgXj0gMTtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSBlbHNlIGlmIChudW0ubmVnYXRpdmUgPT09IDAgJiYgdGhpcy5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDA7XG4gICAgICByZXMgPSBudW0uc3ViKHRoaXMpO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHJldHVybiB0aGlzLmNsb25lKCkuaWFkZChudW0pO1xuXG4gICAgcmV0dXJuIG51bS5jbG9uZSgpLmlhZGQodGhpcyk7XG4gIH07XG5cbiAgLy8gU3VidHJhY3QgYG51bWAgZnJvbSBgdGhpc2AgaW4tcGxhY2VcbiAgQk4ucHJvdG90eXBlLmlzdWIgPSBmdW5jdGlvbiBpc3ViIChudW0pIHtcbiAgICAvLyB0aGlzIC0gKC1udW0pID0gdGhpcyArIG51bVxuICAgIGlmIChudW0ubmVnYXRpdmUgIT09IDApIHtcbiAgICAgIG51bS5uZWdhdGl2ZSA9IDA7XG4gICAgICB2YXIgciA9IHRoaXMuaWFkZChudW0pO1xuICAgICAgbnVtLm5lZ2F0aXZlID0gMTtcbiAgICAgIHJldHVybiByLl9ub3JtU2lnbigpO1xuXG4gICAgLy8gLXRoaXMgLSBudW0gPSAtKHRoaXMgKyBudW0pXG4gICAgfSBlbHNlIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKSB7XG4gICAgICB0aGlzLm5lZ2F0aXZlID0gMDtcbiAgICAgIHRoaXMuaWFkZChudW0pO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgICByZXR1cm4gdGhpcy5fbm9ybVNpZ24oKTtcbiAgICB9XG5cbiAgICAvLyBBdCB0aGlzIHBvaW50IGJvdGggbnVtYmVycyBhcmUgcG9zaXRpdmVcbiAgICB2YXIgY21wID0gdGhpcy5jbXAobnVtKTtcblxuICAgIC8vIE9wdGltaXphdGlvbiAtIHplcm9pZnlcbiAgICBpZiAoY21wID09PSAwKSB7XG4gICAgICB0aGlzLm5lZ2F0aXZlID0gMDtcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICAgIHRoaXMud29yZHNbMF0gPSAwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gYSA+IGJcbiAgICB2YXIgYSwgYjtcbiAgICBpZiAoY21wID4gMCkge1xuICAgICAgYSA9IHRoaXM7XG4gICAgICBiID0gbnVtO1xuICAgIH0gZWxzZSB7XG4gICAgICBhID0gbnVtO1xuICAgICAgYiA9IHRoaXM7XG4gICAgfVxuXG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHIgPSAoYS53b3Jkc1tpXSB8IDApIC0gKGIud29yZHNbaV0gfCAwKSArIGNhcnJ5O1xuICAgICAgY2FycnkgPSByID4+IDI2O1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7XG4gICAgfVxuICAgIGZvciAoOyBjYXJyeSAhPT0gMCAmJiBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgciA9IChhLndvcmRzW2ldIHwgMCkgKyBjYXJyeTtcbiAgICAgIGNhcnJ5ID0gciA+PiAyNjtcbiAgICAgIHRoaXMud29yZHNbaV0gPSByICYgMHgzZmZmZmZmO1xuICAgIH1cblxuICAgIC8vIENvcHkgcmVzdCBvZiB0aGUgd29yZHNcbiAgICBpZiAoY2FycnkgPT09IDAgJiYgaSA8IGEubGVuZ3RoICYmIGEgIT09IHRoaXMpIHtcbiAgICAgIGZvciAoOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxlbmd0aCA9IE1hdGgubWF4KHRoaXMubGVuZ3RoLCBpKTtcblxuICAgIGlmIChhICE9PSB0aGlzKSB7XG4gICAgICB0aGlzLm5lZ2F0aXZlID0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuICB9O1xuXG4gIC8vIFN1YnRyYWN0IGBudW1gIGZyb20gYHRoaXNgXG4gIEJOLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbiBzdWIgKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXN1YihudW0pO1xuICB9O1xuXG4gIGZ1bmN0aW9uIHNtYWxsTXVsVG8gKHNlbGYsIG51bSwgb3V0KSB7XG4gICAgb3V0Lm5lZ2F0aXZlID0gbnVtLm5lZ2F0aXZlIF4gc2VsZi5uZWdhdGl2ZTtcbiAgICB2YXIgbGVuID0gKHNlbGYubGVuZ3RoICsgbnVtLmxlbmd0aCkgfCAwO1xuICAgIG91dC5sZW5ndGggPSBsZW47XG4gICAgbGVuID0gKGxlbiAtIDEpIHwgMDtcblxuICAgIC8vIFBlZWwgb25lIGl0ZXJhdGlvbiAoY29tcGlsZXIgY2FuJ3QgZG8gaXQsIGJlY2F1c2Ugb2YgY29kZSBjb21wbGV4aXR5KVxuICAgIHZhciBhID0gc2VsZi53b3Jkc1swXSB8IDA7XG4gICAgdmFyIGIgPSBudW0ud29yZHNbMF0gfCAwO1xuICAgIHZhciByID0gYSAqIGI7XG5cbiAgICB2YXIgbG8gPSByICYgMHgzZmZmZmZmO1xuICAgIHZhciBjYXJyeSA9IChyIC8gMHg0MDAwMDAwKSB8IDA7XG4gICAgb3V0LndvcmRzWzBdID0gbG87XG5cbiAgICBmb3IgKHZhciBrID0gMTsgayA8IGxlbjsgaysrKSB7XG4gICAgICAvLyBTdW0gYWxsIHdvcmRzIHdpdGggdGhlIHNhbWUgYGkgKyBqID0ga2AgYW5kIGFjY3VtdWxhdGUgYG5jYXJyeWAsXG4gICAgICAvLyBub3RlIHRoYXQgbmNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZlxuICAgICAgdmFyIG5jYXJyeSA9IGNhcnJ5ID4+PiAyNjtcbiAgICAgIHZhciByd29yZCA9IGNhcnJ5ICYgMHgzZmZmZmZmO1xuICAgICAgdmFyIG1heEogPSBNYXRoLm1pbihrLCBudW0ubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBqID0gTWF0aC5tYXgoMCwgayAtIHNlbGYubGVuZ3RoICsgMSk7IGogPD0gbWF4SjsgaisrKSB7XG4gICAgICAgIHZhciBpID0gKGsgLSBqKSB8IDA7XG4gICAgICAgIGEgPSBzZWxmLndvcmRzW2ldIHwgMDtcbiAgICAgICAgYiA9IG51bS53b3Jkc1tqXSB8IDA7XG4gICAgICAgIHIgPSBhICogYiArIHJ3b3JkO1xuICAgICAgICBuY2FycnkgKz0gKHIgLyAweDQwMDAwMDApIHwgMDtcbiAgICAgICAgcndvcmQgPSByICYgMHgzZmZmZmZmO1xuICAgICAgfVxuICAgICAgb3V0LndvcmRzW2tdID0gcndvcmQgfCAwO1xuICAgICAgY2FycnkgPSBuY2FycnkgfCAwO1xuICAgIH1cbiAgICBpZiAoY2FycnkgIT09IDApIHtcbiAgICAgIG91dC53b3Jkc1trXSA9IGNhcnJ5IHwgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0Lmxlbmd0aC0tO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQuc3RyaXAoKTtcbiAgfVxuXG4gIC8vIFRPRE8oaW5kdXRueSk6IGl0IG1heSBiZSByZWFzb25hYmxlIHRvIG9taXQgaXQgZm9yIHVzZXJzIHdobyBkb24ndCBuZWVkXG4gIC8vIHRvIHdvcmsgd2l0aCAyNTYtYml0IG51bWJlcnMsIG90aGVyd2lzZSBpdCBnaXZlcyAyMCUgaW1wcm92ZW1lbnQgZm9yIDI1Ni1iaXRcbiAgLy8gbXVsdGlwbGljYXRpb24gKGxpa2UgZWxsaXB0aWMgc2VjcDI1NmsxKS5cbiAgdmFyIGNvbWIxME11bFRvID0gZnVuY3Rpb24gY29tYjEwTXVsVG8gKHNlbGYsIG51bSwgb3V0KSB7XG4gICAgdmFyIGEgPSBzZWxmLndvcmRzO1xuICAgIHZhciBiID0gbnVtLndvcmRzO1xuICAgIHZhciBvID0gb3V0LndvcmRzO1xuICAgIHZhciBjID0gMDtcbiAgICB2YXIgbG87XG4gICAgdmFyIG1pZDtcbiAgICB2YXIgaGk7XG4gICAgdmFyIGEwID0gYVswXSB8IDA7XG4gICAgdmFyIGFsMCA9IGEwICYgMHgxZmZmO1xuICAgIHZhciBhaDAgPSBhMCA+Pj4gMTM7XG4gICAgdmFyIGExID0gYVsxXSB8IDA7XG4gICAgdmFyIGFsMSA9IGExICYgMHgxZmZmO1xuICAgIHZhciBhaDEgPSBhMSA+Pj4gMTM7XG4gICAgdmFyIGEyID0gYVsyXSB8IDA7XG4gICAgdmFyIGFsMiA9IGEyICYgMHgxZmZmO1xuICAgIHZhciBhaDIgPSBhMiA+Pj4gMTM7XG4gICAgdmFyIGEzID0gYVszXSB8IDA7XG4gICAgdmFyIGFsMyA9IGEzICYgMHgxZmZmO1xuICAgIHZhciBhaDMgPSBhMyA+Pj4gMTM7XG4gICAgdmFyIGE0ID0gYVs0XSB8IDA7XG4gICAgdmFyIGFsNCA9IGE0ICYgMHgxZmZmO1xuICAgIHZhciBhaDQgPSBhNCA+Pj4gMTM7XG4gICAgdmFyIGE1ID0gYVs1XSB8IDA7XG4gICAgdmFyIGFsNSA9IGE1ICYgMHgxZmZmO1xuICAgIHZhciBhaDUgPSBhNSA+Pj4gMTM7XG4gICAgdmFyIGE2ID0gYVs2XSB8IDA7XG4gICAgdmFyIGFsNiA9IGE2ICYgMHgxZmZmO1xuICAgIHZhciBhaDYgPSBhNiA+Pj4gMTM7XG4gICAgdmFyIGE3ID0gYVs3XSB8IDA7XG4gICAgdmFyIGFsNyA9IGE3ICYgMHgxZmZmO1xuICAgIHZhciBhaDcgPSBhNyA+Pj4gMTM7XG4gICAgdmFyIGE4ID0gYVs4XSB8IDA7XG4gICAgdmFyIGFsOCA9IGE4ICYgMHgxZmZmO1xuICAgIHZhciBhaDggPSBhOCA+Pj4gMTM7XG4gICAgdmFyIGE5ID0gYVs5XSB8IDA7XG4gICAgdmFyIGFsOSA9IGE5ICYgMHgxZmZmO1xuICAgIHZhciBhaDkgPSBhOSA+Pj4gMTM7XG4gICAgdmFyIGIwID0gYlswXSB8IDA7XG4gICAgdmFyIGJsMCA9IGIwICYgMHgxZmZmO1xuICAgIHZhciBiaDAgPSBiMCA+Pj4gMTM7XG4gICAgdmFyIGIxID0gYlsxXSB8IDA7XG4gICAgdmFyIGJsMSA9IGIxICYgMHgxZmZmO1xuICAgIHZhciBiaDEgPSBiMSA+Pj4gMTM7XG4gICAgdmFyIGIyID0gYlsyXSB8IDA7XG4gICAgdmFyIGJsMiA9IGIyICYgMHgxZmZmO1xuICAgIHZhciBiaDIgPSBiMiA+Pj4gMTM7XG4gICAgdmFyIGIzID0gYlszXSB8IDA7XG4gICAgdmFyIGJsMyA9IGIzICYgMHgxZmZmO1xuICAgIHZhciBiaDMgPSBiMyA+Pj4gMTM7XG4gICAgdmFyIGI0ID0gYls0XSB8IDA7XG4gICAgdmFyIGJsNCA9IGI0ICYgMHgxZmZmO1xuICAgIHZhciBiaDQgPSBiNCA+Pj4gMTM7XG4gICAgdmFyIGI1ID0gYls1XSB8IDA7XG4gICAgdmFyIGJsNSA9IGI1ICYgMHgxZmZmO1xuICAgIHZhciBiaDUgPSBiNSA+Pj4gMTM7XG4gICAgdmFyIGI2ID0gYls2XSB8IDA7XG4gICAgdmFyIGJsNiA9IGI2ICYgMHgxZmZmO1xuICAgIHZhciBiaDYgPSBiNiA+Pj4gMTM7XG4gICAgdmFyIGI3ID0gYls3XSB8IDA7XG4gICAgdmFyIGJsNyA9IGI3ICYgMHgxZmZmO1xuICAgIHZhciBiaDcgPSBiNyA+Pj4gMTM7XG4gICAgdmFyIGI4ID0gYls4XSB8IDA7XG4gICAgdmFyIGJsOCA9IGI4ICYgMHgxZmZmO1xuICAgIHZhciBiaDggPSBiOCA+Pj4gMTM7XG4gICAgdmFyIGI5ID0gYls5XSB8IDA7XG4gICAgdmFyIGJsOSA9IGI5ICYgMHgxZmZmO1xuICAgIHZhciBiaDkgPSBiOSA+Pj4gMTM7XG5cbiAgICBvdXQubmVnYXRpdmUgPSBzZWxmLm5lZ2F0aXZlIF4gbnVtLm5lZ2F0aXZlO1xuICAgIG91dC5sZW5ndGggPSAxOTtcbiAgICAvKiBrID0gMCAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsMCwgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWwwLCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgwLCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWgwLCBiaDApO1xuICAgIHZhciB3MCA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzAgPj4+IDI2KSkgfCAwO1xuICAgIHcwICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMSAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsMSwgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWwxLCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWgxLCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMCwgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwwLCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDAsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDAsIGJoMSkpIHwgMDtcbiAgICB2YXIgdzEgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxID4+PiAyNikpIHwgMDtcbiAgICB3MSAmPSAweDNmZmZmZmY7XG4gICAgLyogayA9IDIgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDIsIGJsMCk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsMiwgYmgwKTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMiwgYmwwKSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoMiwgYmgwKTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsMSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmgxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDEpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDEpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDIpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmwyKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmgyKSkgfCAwO1xuICAgIHZhciB3MiA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzIgPj4+IDI2KSkgfCAwO1xuICAgIHcyICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMyAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsMywgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWwzLCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgzLCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWgzLCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMiwgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwyLCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDIsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDIsIGJoMSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmgzKSkgfCAwO1xuICAgIHZhciB3MyA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzMgPj4+IDI2KSkgfCAwO1xuICAgIHczICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gNCAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsNCwgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw0LCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg0LCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMywgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwzLCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDMsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDMsIGJoMSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDIsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMiwgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgyLCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgyLCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwxLCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDEsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMSwgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMSwgYmgzKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMCwgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwwLCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDAsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDAsIGJoNCkpIHwgMDtcbiAgICB2YXIgdzQgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHc0ID4+PiAyNikpIHwgMDtcbiAgICB3NCAmPSAweDNmZmZmZmY7XG4gICAgLyogayA9IDUgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDUsIGJsMCk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsNSwgYmgwKTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNSwgYmwwKSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoNSwgYmgwKTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDQsIGJsMSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNCwgYmgxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDEpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg0LCBiaDEpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwzLCBibDIpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDMsIGJoMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMywgYmwyKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMywgYmgyKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMiwgYmwzKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwyLCBiaDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDIsIGJsMykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDIsIGJoMykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsNCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmg0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDQpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDQpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDUpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmw1KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmg1KSkgfCAwO1xuICAgIHZhciB3NSA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzUgPj4+IDI2KSkgfCAwO1xuICAgIHc1ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gNiAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsNiwgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw2LCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg2LCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg2LCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNSwgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw1LCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDUsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDUsIGJoMSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDQsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNCwgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg0LCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwzLCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDMsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMywgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMywgYmgzKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMiwgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwyLCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDIsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDIsIGJoNCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmg2KSkgfCAwO1xuICAgIHZhciB3NiA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzYgPj4+IDI2KSkgfCAwO1xuICAgIHc2ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gNyAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsNywgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw3LCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg3LCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg3LCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNiwgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw2LCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDYsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDYsIGJoMSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDUsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNSwgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg1LCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg1LCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw0LCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDQsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNCwgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNCwgYmgzKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMywgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwzLCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDMsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDMsIGJoNCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDIsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMiwgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgyLCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgyLCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwxLCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDEsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMSwgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMSwgYmg2KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMCwgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwwLCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDAsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDAsIGJoNykpIHwgMDtcbiAgICB2YXIgdzcgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHc3ID4+PiAyNikpIHwgMDtcbiAgICB3NyAmPSAweDNmZmZmZmY7XG4gICAgLyogayA9IDggKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDgsIGJsMCk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOCwgYmgwKTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOCwgYmwwKSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOCwgYmgwKTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDcsIGJsMSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNywgYmgxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg3LCBibDEpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg3LCBiaDEpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw2LCBibDIpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDYsIGJoMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNiwgYmwyKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNiwgYmgyKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNSwgYmwzKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw1LCBiaDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDUsIGJsMykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDUsIGJoMykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDQsIGJsNCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNCwgYmg0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDQpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg0LCBiaDQpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwzLCBibDUpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDMsIGJoNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMywgYmw1KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMywgYmg1KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMiwgYmw2KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwyLCBiaDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDIsIGJsNikpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDIsIGJoNikpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsNykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmg3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDcpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDcpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDgpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmw4KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmg4KSkgfCAwO1xuICAgIHZhciB3OCA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzggPj4+IDI2KSkgfCAwO1xuICAgIHc4ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gOSAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmwwKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDApO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg5LCBibDApKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDApO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsOCwgYmwxKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw4LCBiaDEpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDgsIGJsMSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDgsIGJoMSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDcsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNywgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg3LCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg3LCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw2LCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDYsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNiwgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNiwgYmgzKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNSwgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw1LCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDUsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDUsIGJoNCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDQsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNCwgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg0LCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwzLCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDMsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMywgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMywgYmg2KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMiwgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwyLCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDIsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDIsIGJoNykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDEsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMSwgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgxLCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgxLCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwwLCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDAsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMCwgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMCwgYmg5KSkgfCAwO1xuICAgIHZhciB3OSA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzkgPj4+IDI2KSkgfCAwO1xuICAgIHc5ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTAgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsMSk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmgxKTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmwxKSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmgxKTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsMikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmgyKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDIpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDIpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw3LCBibDMpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDcsIGJoMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNywgYmwzKSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNywgYmgzKSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNiwgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw2LCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDYsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDYsIGJoNCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDUsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNSwgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg1LCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg1LCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw0LCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDQsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNCwgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNCwgYmg2KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMywgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwzLCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDMsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDMsIGJoNykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDIsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMiwgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgyLCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgyLCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwxLCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDEsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMSwgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMSwgYmg5KSkgfCAwO1xuICAgIHZhciB3MTAgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxMCA+Pj4gMjYpKSB8IDA7XG4gICAgdzEwICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTEgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsMik7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmgyKTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmwyKSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmgyKTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsMykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmgzKSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDMpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDMpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw3LCBibDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDcsIGJoNCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNywgYmw0KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNywgYmg0KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNiwgYmw1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw2LCBiaDUpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDYsIGJsNSkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDYsIGJoNSkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDUsIGJsNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNSwgYmg2KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg1LCBibDYpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg1LCBiaDYpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw0LCBibDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDQsIGJoNykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNCwgYmw3KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNCwgYmg3KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsMywgYmw4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWwzLCBiaDgpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDMsIGJsOCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDMsIGJoOCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDIsIGJsOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsMiwgYmg5KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWgyLCBibDkpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWgyLCBiaDkpKSB8IDA7XG4gICAgdmFyIHcxMSA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzExID4+PiAyNikpIHwgMDtcbiAgICB3MTEgJj0gMHgzZmZmZmZmO1xuICAgIC8qIGsgPSAxMiAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmwzKTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDMpO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg5LCBibDMpKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDMpO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsOCwgYmw0KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw4LCBiaDQpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDgsIGJsNCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDgsIGJoNCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDcsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNywgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg3LCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg3LCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw2LCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDYsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNiwgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNiwgYmg2KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNSwgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw1LCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDUsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDUsIGJoNykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDQsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNCwgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg0LCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg0LCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWwzLCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDMsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoMywgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoMywgYmg5KSkgfCAwO1xuICAgIHZhciB3MTIgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxMiA+Pj4gMjYpKSB8IDA7XG4gICAgdzEyICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTMgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsNCk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg0KTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmw0KSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg0KTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsNSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmg1KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDUpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDUpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw3LCBibDYpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDcsIGJoNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNywgYmw2KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNywgYmg2KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNiwgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw2LCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDYsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDYsIGJoNykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDUsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNSwgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg1LCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg1LCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw0LCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDQsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNCwgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNCwgYmg5KSkgfCAwO1xuICAgIHZhciB3MTMgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxMyA+Pj4gMjYpKSB8IDA7XG4gICAgdzEzICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTQgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsNSk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg1KTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmw1KSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg1KTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsNikpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmg2KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDYpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDYpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw3LCBibDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDcsIGJoNykpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNywgYmw3KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNywgYmg3KSkgfCAwO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsNiwgYmw4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw2LCBiaDgpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDYsIGJsOCkpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDYsIGJoOCkpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDUsIGJsOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNSwgYmg5KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg1LCBibDkpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg1LCBiaDkpKSB8IDA7XG4gICAgdmFyIHcxNCA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzE0ID4+PiAyNikpIHwgMDtcbiAgICB3MTQgJj0gMHgzZmZmZmZmO1xuICAgIC8qIGsgPSAxNSAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmw2KTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDYpO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg5LCBibDYpKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDYpO1xuICAgIGxvID0gKGxvICsgTWF0aC5pbXVsKGFsOCwgYmw3KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWw4LCBiaDcpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhaDgsIGJsNykpIHwgMDtcbiAgICBoaSA9IChoaSArIE1hdGguaW11bChhaDgsIGJoNykpIHwgMDtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDcsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsNywgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg3LCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg3LCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw2LCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDYsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNiwgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNiwgYmg5KSkgfCAwO1xuICAgIHZhciB3MTUgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxNSA+Pj4gMjYpKSB8IDA7XG4gICAgdzE1ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTYgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsNyk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg3KTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmw3KSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg3KTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsOCkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmg4KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDgpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDgpKSB8IDA7XG4gICAgbG8gPSAobG8gKyBNYXRoLmltdWwoYWw3LCBibDkpKSB8IDA7XG4gICAgbWlkID0gKG1pZCArIE1hdGguaW11bChhbDcsIGJoOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoNywgYmw5KSkgfCAwO1xuICAgIGhpID0gKGhpICsgTWF0aC5pbXVsKGFoNywgYmg5KSkgfCAwO1xuICAgIHZhciB3MTYgPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxNiA+Pj4gMjYpKSB8IDA7XG4gICAgdzE2ICY9IDB4M2ZmZmZmZjtcbiAgICAvKiBrID0gMTcgKi9cbiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsOCk7XG4gICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg4KTtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFoOSwgYmw4KSkgfCAwO1xuICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg4KTtcbiAgICBsbyA9IChsbyArIE1hdGguaW11bChhbDgsIGJsOSkpIHwgMDtcbiAgICBtaWQgPSAobWlkICsgTWF0aC5pbXVsKGFsOCwgYmg5KSkgfCAwO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg4LCBibDkpKSB8IDA7XG4gICAgaGkgPSAoaGkgKyBNYXRoLmltdWwoYWg4LCBiaDkpKSB8IDA7XG4gICAgdmFyIHcxNyA9ICgoKGMgKyBsbykgfCAwKSArICgobWlkICYgMHgxZmZmKSA8PCAxMykpIHwgMDtcbiAgICBjID0gKCgoaGkgKyAobWlkID4+PiAxMykpIHwgMCkgKyAodzE3ID4+PiAyNikpIHwgMDtcbiAgICB3MTcgJj0gMHgzZmZmZmZmO1xuICAgIC8qIGsgPSAxOCAqL1xuICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmw5KTtcbiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDkpO1xuICAgIG1pZCA9IChtaWQgKyBNYXRoLmltdWwoYWg5LCBibDkpKSB8IDA7XG4gICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDkpO1xuICAgIHZhciB3MTggPSAoKChjICsgbG8pIHwgMCkgKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpKSB8IDA7XG4gICAgYyA9ICgoKGhpICsgKG1pZCA+Pj4gMTMpKSB8IDApICsgKHcxOCA+Pj4gMjYpKSB8IDA7XG4gICAgdzE4ICY9IDB4M2ZmZmZmZjtcbiAgICBvWzBdID0gdzA7XG4gICAgb1sxXSA9IHcxO1xuICAgIG9bMl0gPSB3MjtcbiAgICBvWzNdID0gdzM7XG4gICAgb1s0XSA9IHc0O1xuICAgIG9bNV0gPSB3NTtcbiAgICBvWzZdID0gdzY7XG4gICAgb1s3XSA9IHc3O1xuICAgIG9bOF0gPSB3ODtcbiAgICBvWzldID0gdzk7XG4gICAgb1sxMF0gPSB3MTA7XG4gICAgb1sxMV0gPSB3MTE7XG4gICAgb1sxMl0gPSB3MTI7XG4gICAgb1sxM10gPSB3MTM7XG4gICAgb1sxNF0gPSB3MTQ7XG4gICAgb1sxNV0gPSB3MTU7XG4gICAgb1sxNl0gPSB3MTY7XG4gICAgb1sxN10gPSB3MTc7XG4gICAgb1sxOF0gPSB3MTg7XG4gICAgaWYgKGMgIT09IDApIHtcbiAgICAgIG9bMTldID0gYztcbiAgICAgIG91dC5sZW5ndGgrKztcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfTtcblxuICAvLyBQb2x5ZmlsbCBjb21iXG4gIGlmICghTWF0aC5pbXVsKSB7XG4gICAgY29tYjEwTXVsVG8gPSBzbWFsbE11bFRvO1xuICB9XG5cbiAgZnVuY3Rpb24gYmlnTXVsVG8gKHNlbGYsIG51bSwgb3V0KSB7XG4gICAgb3V0Lm5lZ2F0aXZlID0gbnVtLm5lZ2F0aXZlIF4gc2VsZi5uZWdhdGl2ZTtcbiAgICBvdXQubGVuZ3RoID0gc2VsZi5sZW5ndGggKyBudW0ubGVuZ3RoO1xuXG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICB2YXIgaG5jYXJyeSA9IDA7XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBvdXQubGVuZ3RoIC0gMTsgaysrKSB7XG4gICAgICAvLyBTdW0gYWxsIHdvcmRzIHdpdGggdGhlIHNhbWUgYGkgKyBqID0ga2AgYW5kIGFjY3VtdWxhdGUgYG5jYXJyeWAsXG4gICAgICAvLyBub3RlIHRoYXQgbmNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZlxuICAgICAgdmFyIG5jYXJyeSA9IGhuY2Fycnk7XG4gICAgICBobmNhcnJ5ID0gMDtcbiAgICAgIHZhciByd29yZCA9IGNhcnJ5ICYgMHgzZmZmZmZmO1xuICAgICAgdmFyIG1heEogPSBNYXRoLm1pbihrLCBudW0ubGVuZ3RoIC0gMSk7XG4gICAgICBmb3IgKHZhciBqID0gTWF0aC5tYXgoMCwgayAtIHNlbGYubGVuZ3RoICsgMSk7IGogPD0gbWF4SjsgaisrKSB7XG4gICAgICAgIHZhciBpID0gayAtIGo7XG4gICAgICAgIHZhciBhID0gc2VsZi53b3Jkc1tpXSB8IDA7XG4gICAgICAgIHZhciBiID0gbnVtLndvcmRzW2pdIHwgMDtcbiAgICAgICAgdmFyIHIgPSBhICogYjtcblxuICAgICAgICB2YXIgbG8gPSByICYgMHgzZmZmZmZmO1xuICAgICAgICBuY2FycnkgPSAobmNhcnJ5ICsgKChyIC8gMHg0MDAwMDAwKSB8IDApKSB8IDA7XG4gICAgICAgIGxvID0gKGxvICsgcndvcmQpIHwgMDtcbiAgICAgICAgcndvcmQgPSBsbyAmIDB4M2ZmZmZmZjtcbiAgICAgICAgbmNhcnJ5ID0gKG5jYXJyeSArIChsbyA+Pj4gMjYpKSB8IDA7XG5cbiAgICAgICAgaG5jYXJyeSArPSBuY2FycnkgPj4+IDI2O1xuICAgICAgICBuY2FycnkgJj0gMHgzZmZmZmZmO1xuICAgICAgfVxuICAgICAgb3V0LndvcmRzW2tdID0gcndvcmQ7XG4gICAgICBjYXJyeSA9IG5jYXJyeTtcbiAgICAgIG5jYXJyeSA9IGhuY2Fycnk7XG4gICAgfVxuICAgIGlmIChjYXJyeSAhPT0gMCkge1xuICAgICAgb3V0LndvcmRzW2tdID0gY2Fycnk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dC5sZW5ndGgtLTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0LnN0cmlwKCk7XG4gIH1cblxuICBmdW5jdGlvbiBqdW1ib011bFRvIChzZWxmLCBudW0sIG91dCkge1xuICAgIHZhciBmZnRtID0gbmV3IEZGVE0oKTtcbiAgICByZXR1cm4gZmZ0bS5tdWxwKHNlbGYsIG51bSwgb3V0KTtcbiAgfVxuXG4gIEJOLnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uIG11bFRvIChudW0sIG91dCkge1xuICAgIHZhciByZXM7XG4gICAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoICsgbnVtLmxlbmd0aDtcbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDEwICYmIG51bS5sZW5ndGggPT09IDEwKSB7XG4gICAgICByZXMgPSBjb21iMTBNdWxUbyh0aGlzLCBudW0sIG91dCk7XG4gICAgfSBlbHNlIGlmIChsZW4gPCA2Mykge1xuICAgICAgcmVzID0gc21hbGxNdWxUbyh0aGlzLCBudW0sIG91dCk7XG4gICAgfSBlbHNlIGlmIChsZW4gPCAxMDI0KSB7XG4gICAgICByZXMgPSBiaWdNdWxUbyh0aGlzLCBudW0sIG91dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcyA9IGp1bWJvTXVsVG8odGhpcywgbnVtLCBvdXQpO1xuICAgIH1cblxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgLy8gQ29vbGV5LVR1a2V5IGFsZ29yaXRobSBmb3IgRkZUXG4gIC8vIHNsaWdodGx5IHJldmlzaXRlZCB0byByZWx5IG9uIGxvb3BpbmcgaW5zdGVhZCBvZiByZWN1cnNpb25cblxuICBmdW5jdGlvbiBGRlRNICh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgRkZUTS5wcm90b3R5cGUubWFrZVJCVCA9IGZ1bmN0aW9uIG1ha2VSQlQgKE4pIHtcbiAgICB2YXIgdCA9IG5ldyBBcnJheShOKTtcbiAgICB2YXIgbCA9IEJOLnByb3RvdHlwZS5fY291bnRCaXRzKE4pIC0gMTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKykge1xuICAgICAgdFtpXSA9IHRoaXMucmV2QmluKGksIGwsIE4pO1xuICAgIH1cblxuICAgIHJldHVybiB0O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYmluYXJ5LXJldmVyc2VkIHJlcHJlc2VudGF0aW9uIG9mIGB4YFxuICBGRlRNLnByb3RvdHlwZS5yZXZCaW4gPSBmdW5jdGlvbiByZXZCaW4gKHgsIGwsIE4pIHtcbiAgICBpZiAoeCA9PT0gMCB8fCB4ID09PSBOIC0gMSkgcmV0dXJuIHg7XG5cbiAgICB2YXIgcmIgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICByYiB8PSAoeCAmIDEpIDw8IChsIC0gaSAtIDEpO1xuICAgICAgeCA+Pj0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmI7XG4gIH07XG5cbiAgLy8gUGVyZm9ybXMgXCJ0d2VlZGxpbmdcIiBwaGFzZSwgdGhlcmVmb3JlICdlbXVsYXRpbmcnXG4gIC8vIGJlaGF2aW91ciBvZiB0aGUgcmVjdXJzaXZlIGFsZ29yaXRobVxuICBGRlRNLnByb3RvdHlwZS5wZXJtdXRlID0gZnVuY3Rpb24gcGVybXV0ZSAocmJ0LCByd3MsIGl3cywgcnR3cywgaXR3cywgTikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgICBydHdzW2ldID0gcndzW3JidFtpXV07XG4gICAgICBpdHdzW2ldID0gaXdzW3JidFtpXV07XG4gICAgfVxuICB9O1xuXG4gIEZGVE0ucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIHRyYW5zZm9ybSAocndzLCBpd3MsIHJ0d3MsIGl0d3MsIE4sIHJidCkge1xuICAgIHRoaXMucGVybXV0ZShyYnQsIHJ3cywgaXdzLCBydHdzLCBpdHdzLCBOKTtcblxuICAgIGZvciAodmFyIHMgPSAxOyBzIDwgTjsgcyA8PD0gMSkge1xuICAgICAgdmFyIGwgPSBzIDw8IDE7XG5cbiAgICAgIHZhciBydHdkZiA9IE1hdGguY29zKDIgKiBNYXRoLlBJIC8gbCk7XG4gICAgICB2YXIgaXR3ZGYgPSBNYXRoLnNpbigyICogTWF0aC5QSSAvIGwpO1xuXG4gICAgICBmb3IgKHZhciBwID0gMDsgcCA8IE47IHAgKz0gbCkge1xuICAgICAgICB2YXIgcnR3ZGZfID0gcnR3ZGY7XG4gICAgICAgIHZhciBpdHdkZl8gPSBpdHdkZjtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHM7IGorKykge1xuICAgICAgICAgIHZhciByZSA9IHJ0d3NbcCArIGpdO1xuICAgICAgICAgIHZhciBpZSA9IGl0d3NbcCArIGpdO1xuXG4gICAgICAgICAgdmFyIHJvID0gcnR3c1twICsgaiArIHNdO1xuICAgICAgICAgIHZhciBpbyA9IGl0d3NbcCArIGogKyBzXTtcblxuICAgICAgICAgIHZhciByeCA9IHJ0d2RmXyAqIHJvIC0gaXR3ZGZfICogaW87XG5cbiAgICAgICAgICBpbyA9IHJ0d2RmXyAqIGlvICsgaXR3ZGZfICogcm87XG4gICAgICAgICAgcm8gPSByeDtcblxuICAgICAgICAgIHJ0d3NbcCArIGpdID0gcmUgKyBybztcbiAgICAgICAgICBpdHdzW3AgKyBqXSA9IGllICsgaW87XG5cbiAgICAgICAgICBydHdzW3AgKyBqICsgc10gPSByZSAtIHJvO1xuICAgICAgICAgIGl0d3NbcCArIGogKyBzXSA9IGllIC0gaW87XG5cbiAgICAgICAgICAvKiBqc2hpbnQgbWF4ZGVwdGggOiBmYWxzZSAqL1xuICAgICAgICAgIGlmIChqICE9PSBsKSB7XG4gICAgICAgICAgICByeCA9IHJ0d2RmICogcnR3ZGZfIC0gaXR3ZGYgKiBpdHdkZl87XG5cbiAgICAgICAgICAgIGl0d2RmXyA9IHJ0d2RmICogaXR3ZGZfICsgaXR3ZGYgKiBydHdkZl87XG4gICAgICAgICAgICBydHdkZl8gPSByeDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgRkZUTS5wcm90b3R5cGUuZ3Vlc3NMZW4xM2IgPSBmdW5jdGlvbiBndWVzc0xlbjEzYiAobiwgbSkge1xuICAgIHZhciBOID0gTWF0aC5tYXgobSwgbikgfCAxO1xuICAgIHZhciBvZGQgPSBOICYgMTtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yIChOID0gTiAvIDIgfCAwOyBOOyBOID0gTiA+Pj4gMSkge1xuICAgICAgaSsrO1xuICAgIH1cblxuICAgIHJldHVybiAxIDw8IGkgKyAxICsgb2RkO1xuICB9O1xuXG4gIEZGVE0ucHJvdG90eXBlLmNvbmp1Z2F0ZSA9IGZ1bmN0aW9uIGNvbmp1Z2F0ZSAocndzLCBpd3MsIE4pIHtcbiAgICBpZiAoTiA8PSAxKSByZXR1cm47XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE4gLyAyOyBpKyspIHtcbiAgICAgIHZhciB0ID0gcndzW2ldO1xuXG4gICAgICByd3NbaV0gPSByd3NbTiAtIGkgLSAxXTtcbiAgICAgIHJ3c1tOIC0gaSAtIDFdID0gdDtcblxuICAgICAgdCA9IGl3c1tpXTtcblxuICAgICAgaXdzW2ldID0gLWl3c1tOIC0gaSAtIDFdO1xuICAgICAgaXdzW04gLSBpIC0gMV0gPSAtdDtcbiAgICB9XG4gIH07XG5cbiAgRkZUTS5wcm90b3R5cGUubm9ybWFsaXplMTNiID0gZnVuY3Rpb24gbm9ybWFsaXplMTNiICh3cywgTikge1xuICAgIHZhciBjYXJyeSA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOIC8gMjsgaSsrKSB7XG4gICAgICB2YXIgdyA9IE1hdGgucm91bmQod3NbMiAqIGkgKyAxXSAvIE4pICogMHgyMDAwICtcbiAgICAgICAgTWF0aC5yb3VuZCh3c1syICogaV0gLyBOKSArXG4gICAgICAgIGNhcnJ5O1xuXG4gICAgICB3c1tpXSA9IHcgJiAweDNmZmZmZmY7XG5cbiAgICAgIGlmICh3IDwgMHg0MDAwMDAwKSB7XG4gICAgICAgIGNhcnJ5ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhcnJ5ID0gdyAvIDB4NDAwMDAwMCB8IDA7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHdzO1xuICB9O1xuXG4gIEZGVE0ucHJvdG90eXBlLmNvbnZlcnQxM2IgPSBmdW5jdGlvbiBjb252ZXJ0MTNiICh3cywgbGVuLCByd3MsIE4pIHtcbiAgICB2YXIgY2FycnkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNhcnJ5ID0gY2FycnkgKyAod3NbaV0gfCAwKTtcblxuICAgICAgcndzWzIgKiBpXSA9IGNhcnJ5ICYgMHgxZmZmOyBjYXJyeSA9IGNhcnJ5ID4+PiAxMztcbiAgICAgIHJ3c1syICogaSArIDFdID0gY2FycnkgJiAweDFmZmY7IGNhcnJ5ID0gY2FycnkgPj4+IDEzO1xuICAgIH1cblxuICAgIC8vIFBhZCB3aXRoIHplcm9lc1xuICAgIGZvciAoaSA9IDIgKiBsZW47IGkgPCBOOyArK2kpIHtcbiAgICAgIHJ3c1tpXSA9IDA7XG4gICAgfVxuXG4gICAgYXNzZXJ0KGNhcnJ5ID09PSAwKTtcbiAgICBhc3NlcnQoKGNhcnJ5ICYgfjB4MWZmZikgPT09IDApO1xuICB9O1xuXG4gIEZGVE0ucHJvdG90eXBlLnN0dWIgPSBmdW5jdGlvbiBzdHViIChOKSB7XG4gICAgdmFyIHBoID0gbmV3IEFycmF5KE4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgICBwaFtpXSA9IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBoO1xuICB9O1xuXG4gIEZGVE0ucHJvdG90eXBlLm11bHAgPSBmdW5jdGlvbiBtdWxwICh4LCB5LCBvdXQpIHtcbiAgICB2YXIgTiA9IDIgKiB0aGlzLmd1ZXNzTGVuMTNiKHgubGVuZ3RoLCB5Lmxlbmd0aCk7XG5cbiAgICB2YXIgcmJ0ID0gdGhpcy5tYWtlUkJUKE4pO1xuXG4gICAgdmFyIF8gPSB0aGlzLnN0dWIoTik7XG5cbiAgICB2YXIgcndzID0gbmV3IEFycmF5KE4pO1xuICAgIHZhciByd3N0ID0gbmV3IEFycmF5KE4pO1xuICAgIHZhciBpd3N0ID0gbmV3IEFycmF5KE4pO1xuXG4gICAgdmFyIG5yd3MgPSBuZXcgQXJyYXkoTik7XG4gICAgdmFyIG5yd3N0ID0gbmV3IEFycmF5KE4pO1xuICAgIHZhciBuaXdzdCA9IG5ldyBBcnJheShOKTtcblxuICAgIHZhciBybXdzID0gb3V0LndvcmRzO1xuICAgIHJtd3MubGVuZ3RoID0gTjtcblxuICAgIHRoaXMuY29udmVydDEzYih4LndvcmRzLCB4Lmxlbmd0aCwgcndzLCBOKTtcbiAgICB0aGlzLmNvbnZlcnQxM2IoeS53b3JkcywgeS5sZW5ndGgsIG5yd3MsIE4pO1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ocndzLCBfLCByd3N0LCBpd3N0LCBOLCByYnQpO1xuICAgIHRoaXMudHJhbnNmb3JtKG5yd3MsIF8sIG5yd3N0LCBuaXdzdCwgTiwgcmJ0KTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSB7XG4gICAgICB2YXIgcnggPSByd3N0W2ldICogbnJ3c3RbaV0gLSBpd3N0W2ldICogbml3c3RbaV07XG4gICAgICBpd3N0W2ldID0gcndzdFtpXSAqIG5pd3N0W2ldICsgaXdzdFtpXSAqIG5yd3N0W2ldO1xuICAgICAgcndzdFtpXSA9IHJ4O1xuICAgIH1cblxuICAgIHRoaXMuY29uanVnYXRlKHJ3c3QsIGl3c3QsIE4pO1xuICAgIHRoaXMudHJhbnNmb3JtKHJ3c3QsIGl3c3QsIHJtd3MsIF8sIE4sIHJidCk7XG4gICAgdGhpcy5jb25qdWdhdGUocm13cywgXywgTik7XG4gICAgdGhpcy5ub3JtYWxpemUxM2Iocm13cywgTik7XG5cbiAgICBvdXQubmVnYXRpdmUgPSB4Lm5lZ2F0aXZlIF4geS5uZWdhdGl2ZTtcbiAgICBvdXQubGVuZ3RoID0geC5sZW5ndGggKyB5Lmxlbmd0aDtcbiAgICByZXR1cm4gb3V0LnN0cmlwKCk7XG4gIH07XG5cbiAgLy8gTXVsdGlwbHkgYHRoaXNgIGJ5IGBudW1gXG4gIEJOLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwgKG51bSkge1xuICAgIHZhciBvdXQgPSBuZXcgQk4obnVsbCk7XG4gICAgb3V0LndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoICsgbnVtLmxlbmd0aCk7XG4gICAgcmV0dXJuIHRoaXMubXVsVG8obnVtLCBvdXQpO1xuICB9O1xuXG4gIC8vIE11bHRpcGx5IGVtcGxveWluZyBGRlRcbiAgQk4ucHJvdG90eXBlLm11bGYgPSBmdW5jdGlvbiBtdWxmIChudW0pIHtcbiAgICB2YXIgb3V0ID0gbmV3IEJOKG51bGwpO1xuICAgIG91dC53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCArIG51bS5sZW5ndGgpO1xuICAgIHJldHVybiBqdW1ib011bFRvKHRoaXMsIG51bSwgb3V0KTtcbiAgfTtcblxuICAvLyBJbi1wbGFjZSBNdWx0aXBsaWNhdGlvblxuICBCTi5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uIGltdWwgKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkubXVsVG8obnVtLCB0aGlzKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuaW11bG4gPSBmdW5jdGlvbiBpbXVsbiAobnVtKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBudW0gPT09ICdudW1iZXInKTtcbiAgICBhc3NlcnQobnVtIDwgMHg0MDAwMDAwKTtcblxuICAgIC8vIENhcnJ5XG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB3ID0gKHRoaXMud29yZHNbaV0gfCAwKSAqIG51bTtcbiAgICAgIHZhciBsbyA9ICh3ICYgMHgzZmZmZmZmKSArIChjYXJyeSAmIDB4M2ZmZmZmZik7XG4gICAgICBjYXJyeSA+Pj0gMjY7XG4gICAgICBjYXJyeSArPSAodyAvIDB4NDAwMDAwMCkgfCAwO1xuICAgICAgLy8gTk9URTogbG8gaXMgMjdiaXQgbWF4aW11bVxuICAgICAgY2FycnkgKz0gbG8gPj4+IDI2O1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IGxvICYgMHgzZmZmZmZmO1xuICAgIH1cblxuICAgIGlmIChjYXJyeSAhPT0gMCkge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5O1xuICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBCTi5wcm90b3R5cGUubXVsbiA9IGZ1bmN0aW9uIG11bG4gKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW11bG4obnVtKTtcbiAgfTtcblxuICAvLyBgdGhpc2AgKiBgdGhpc2BcbiAgQk4ucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uIHNxciAoKSB7XG4gICAgcmV0dXJuIHRoaXMubXVsKHRoaXMpO1xuICB9O1xuXG4gIC8vIGB0aGlzYCAqIGB0aGlzYCBpbi1wbGFjZVxuICBCTi5wcm90b3R5cGUuaXNxciA9IGZ1bmN0aW9uIGlzcXIgKCkge1xuICAgIHJldHVybiB0aGlzLmltdWwodGhpcy5jbG9uZSgpKTtcbiAgfTtcblxuICAvLyBNYXRoLnBvdyhgdGhpc2AsIGBudW1gKVxuICBCTi5wcm90b3R5cGUucG93ID0gZnVuY3Rpb24gcG93IChudW0pIHtcbiAgICB2YXIgdyA9IHRvQml0QXJyYXkobnVtKTtcbiAgICBpZiAody5sZW5ndGggPT09IDApIHJldHVybiBuZXcgQk4oMSk7XG5cbiAgICAvLyBTa2lwIGxlYWRpbmcgemVyb2VzXG4gICAgdmFyIHJlcyA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3Lmxlbmd0aDsgaSsrLCByZXMgPSByZXMuc3FyKCkpIHtcbiAgICAgIGlmICh3W2ldICE9PSAwKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoKytpIDwgdy5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIHEgPSByZXMuc3FyKCk7IGkgPCB3Lmxlbmd0aDsgaSsrLCBxID0gcS5zcXIoKSkge1xuICAgICAgICBpZiAod1tpXSA9PT0gMCkgY29udGludWU7XG5cbiAgICAgICAgcmVzID0gcmVzLm11bChxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIC8vIFNoaWZ0LWxlZnQgaW4tcGxhY2VcbiAgQk4ucHJvdG90eXBlLml1c2hsbiA9IGZ1bmN0aW9uIGl1c2hsbiAoYml0cykge1xuICAgIGFzc2VydCh0eXBlb2YgYml0cyA9PT0gJ251bWJlcicgJiYgYml0cyA+PSAwKTtcbiAgICB2YXIgciA9IGJpdHMgJSAyNjtcbiAgICB2YXIgcyA9IChiaXRzIC0gcikgLyAyNjtcbiAgICB2YXIgY2FycnlNYXNrID0gKDB4M2ZmZmZmZiA+Pj4gKDI2IC0gcikpIDw8ICgyNiAtIHIpO1xuICAgIHZhciBpO1xuXG4gICAgaWYgKHIgIT09IDApIHtcbiAgICAgIHZhciBjYXJyeSA9IDA7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBuZXdDYXJyeSA9IHRoaXMud29yZHNbaV0gJiBjYXJyeU1hc2s7XG4gICAgICAgIHZhciBjID0gKCh0aGlzLndvcmRzW2ldIHwgMCkgLSBuZXdDYXJyeSkgPDwgcjtcbiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IGMgfCBjYXJyeTtcbiAgICAgICAgY2FycnkgPSBuZXdDYXJyeSA+Pj4gKDI2IC0gcik7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYXJyeSkge1xuICAgICAgICB0aGlzLndvcmRzW2ldID0gY2Fycnk7XG4gICAgICAgIHRoaXMubGVuZ3RoKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHMgIT09IDApIHtcbiAgICAgIGZvciAoaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdGhpcy53b3Jkc1tpICsgc10gPSB0aGlzLndvcmRzW2ldO1xuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgczsgaSsrKSB7XG4gICAgICAgIHRoaXMud29yZHNbaV0gPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxlbmd0aCArPSBzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmlzaGxuID0gZnVuY3Rpb24gaXNobG4gKGJpdHMpIHtcbiAgICAvLyBUT0RPKGluZHV0bnkpOiBpbXBsZW1lbnQgbWVcbiAgICBhc3NlcnQodGhpcy5uZWdhdGl2ZSA9PT0gMCk7XG4gICAgcmV0dXJuIHRoaXMuaXVzaGxuKGJpdHMpO1xuICB9O1xuXG4gIC8vIFNoaWZ0LXJpZ2h0IGluLXBsYWNlXG4gIC8vIE5PVEU6IGBoaW50YCBpcyBhIGxvd2VzdCBiaXQgYmVmb3JlIHRyYWlsaW5nIHplcm9lc1xuICAvLyBOT1RFOiBpZiBgZXh0ZW5kZWRgIGlzIHByZXNlbnQgLSBpdCB3aWxsIGJlIGZpbGxlZCB3aXRoIGRlc3Ryb3llZCBiaXRzXG4gIEJOLnByb3RvdHlwZS5pdXNocm4gPSBmdW5jdGlvbiBpdXNocm4gKGJpdHMsIGhpbnQsIGV4dGVuZGVkKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBiaXRzID09PSAnbnVtYmVyJyAmJiBiaXRzID49IDApO1xuICAgIHZhciBoO1xuICAgIGlmIChoaW50KSB7XG4gICAgICBoID0gKGhpbnQgLSAoaGludCAlIDI2KSkgLyAyNjtcbiAgICB9IGVsc2Uge1xuICAgICAgaCA9IDA7XG4gICAgfVxuXG4gICAgdmFyIHIgPSBiaXRzICUgMjY7XG4gICAgdmFyIHMgPSBNYXRoLm1pbigoYml0cyAtIHIpIC8gMjYsIHRoaXMubGVuZ3RoKTtcbiAgICB2YXIgbWFzayA9IDB4M2ZmZmZmZiBeICgoMHgzZmZmZmZmID4+PiByKSA8PCByKTtcbiAgICB2YXIgbWFza2VkV29yZHMgPSBleHRlbmRlZDtcblxuICAgIGggLT0gcztcbiAgICBoID0gTWF0aC5tYXgoMCwgaCk7XG5cbiAgICAvLyBFeHRlbmRlZCBtb2RlLCBjb3B5IG1hc2tlZCBwYXJ0XG4gICAgaWYgKG1hc2tlZFdvcmRzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHM7IGkrKykge1xuICAgICAgICBtYXNrZWRXb3Jkcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV07XG4gICAgICB9XG4gICAgICBtYXNrZWRXb3Jkcy5sZW5ndGggPSBzO1xuICAgIH1cblxuICAgIGlmIChzID09PSAwKSB7XG4gICAgICAvLyBOby1vcCwgd2Ugc2hvdWxkIG5vdCBtb3ZlIGFueXRoaW5nIGF0IGFsbFxuICAgIH0gZWxzZSBpZiAodGhpcy5sZW5ndGggPiBzKSB7XG4gICAgICB0aGlzLmxlbmd0aCAtPSBzO1xuICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaSArIHNdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLndvcmRzWzBdID0gMDtcbiAgICAgIHRoaXMubGVuZ3RoID0gMTtcbiAgICB9XG5cbiAgICB2YXIgY2FycnkgPSAwO1xuICAgIGZvciAoaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwICYmIChjYXJyeSAhPT0gMCB8fCBpID49IGgpOyBpLS0pIHtcbiAgICAgIHZhciB3b3JkID0gdGhpcy53b3Jkc1tpXSB8IDA7XG4gICAgICB0aGlzLndvcmRzW2ldID0gKGNhcnJ5IDw8ICgyNiAtIHIpKSB8ICh3b3JkID4+PiByKTtcbiAgICAgIGNhcnJ5ID0gd29yZCAmIG1hc2s7XG4gICAgfVxuXG4gICAgLy8gUHVzaCBjYXJyaWVkIGJpdHMgYXMgYSBtYXNrXG4gICAgaWYgKG1hc2tlZFdvcmRzICYmIGNhcnJ5ICE9PSAwKSB7XG4gICAgICBtYXNrZWRXb3Jkcy53b3Jkc1ttYXNrZWRXb3Jkcy5sZW5ndGgrK10gPSBjYXJyeTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMud29yZHNbMF0gPSAwO1xuICAgICAgdGhpcy5sZW5ndGggPSAxO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmlzaHJuID0gZnVuY3Rpb24gaXNocm4gKGJpdHMsIGhpbnQsIGV4dGVuZGVkKSB7XG4gICAgLy8gVE9ETyhpbmR1dG55KTogaW1wbGVtZW50IG1lXG4gICAgYXNzZXJ0KHRoaXMubmVnYXRpdmUgPT09IDApO1xuICAgIHJldHVybiB0aGlzLml1c2hybihiaXRzLCBoaW50LCBleHRlbmRlZCk7XG4gIH07XG5cbiAgLy8gU2hpZnQtbGVmdFxuICBCTi5wcm90b3R5cGUuc2hsbiA9IGZ1bmN0aW9uIHNobG4gKGJpdHMpIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzaGxuKGJpdHMpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS51c2hsbiA9IGZ1bmN0aW9uIHVzaGxuIChiaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdXNobG4oYml0cyk7XG4gIH07XG5cbiAgLy8gU2hpZnQtcmlnaHRcbiAgQk4ucHJvdG90eXBlLnNocm4gPSBmdW5jdGlvbiBzaHJuIChiaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc2hybihiaXRzKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudXNocm4gPSBmdW5jdGlvbiB1c2hybiAoYml0cykge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXVzaHJuKGJpdHMpO1xuICB9O1xuXG4gIC8vIFRlc3QgaWYgbiBiaXQgaXMgc2V0XG4gIEJOLnByb3RvdHlwZS50ZXN0biA9IGZ1bmN0aW9uIHRlc3RuIChiaXQpIHtcbiAgICBhc3NlcnQodHlwZW9mIGJpdCA9PT0gJ251bWJlcicgJiYgYml0ID49IDApO1xuICAgIHZhciByID0gYml0ICUgMjY7XG4gICAgdmFyIHMgPSAoYml0IC0gcikgLyAyNjtcbiAgICB2YXIgcSA9IDEgPDwgcjtcblxuICAgIC8vIEZhc3QgY2FzZTogYml0IGlzIG11Y2ggaGlnaGVyIHRoYW4gYWxsIGV4aXN0aW5nIHdvcmRzXG4gICAgaWYgKHRoaXMubGVuZ3RoIDw9IHMpIHJldHVybiBmYWxzZTtcblxuICAgIC8vIENoZWNrIGJpdCBhbmQgcmV0dXJuXG4gICAgdmFyIHcgPSB0aGlzLndvcmRzW3NdO1xuXG4gICAgcmV0dXJuICEhKHcgJiBxKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gb25seSBsb3dlcnMgYml0cyBvZiBudW1iZXIgKGluLXBsYWNlKVxuICBCTi5wcm90b3R5cGUuaW1hc2tuID0gZnVuY3Rpb24gaW1hc2tuIChiaXRzKSB7XG4gICAgYXNzZXJ0KHR5cGVvZiBiaXRzID09PSAnbnVtYmVyJyAmJiBiaXRzID49IDApO1xuICAgIHZhciByID0gYml0cyAlIDI2O1xuICAgIHZhciBzID0gKGJpdHMgLSByKSAvIDI2O1xuXG4gICAgYXNzZXJ0KHRoaXMubmVnYXRpdmUgPT09IDAsICdpbWFza24gd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlIG51bWJlcnMnKTtcblxuICAgIGlmICh0aGlzLmxlbmd0aCA8PSBzKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBpZiAociAhPT0gMCkge1xuICAgICAgcysrO1xuICAgIH1cbiAgICB0aGlzLmxlbmd0aCA9IE1hdGgubWluKHMsIHRoaXMubGVuZ3RoKTtcblxuICAgIGlmIChyICE9PSAwKSB7XG4gICAgICB2YXIgbWFzayA9IDB4M2ZmZmZmZiBeICgoMHgzZmZmZmZmID4+PiByKSA8PCByKTtcbiAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSAmPSBtYXNrO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIG9ubHkgbG93ZXJzIGJpdHMgb2YgbnVtYmVyXG4gIEJOLnByb3RvdHlwZS5tYXNrbiA9IGZ1bmN0aW9uIG1hc2tuIChiaXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pbWFza24oYml0cyk7XG4gIH07XG5cbiAgLy8gQWRkIHBsYWluIG51bWJlciBgbnVtYCB0byBgdGhpc2BcbiAgQk4ucHJvdG90eXBlLmlhZGRuID0gZnVuY3Rpb24gaWFkZG4gKG51bSkge1xuICAgIGFzc2VydCh0eXBlb2YgbnVtID09PSAnbnVtYmVyJyk7XG4gICAgYXNzZXJ0KG51bSA8IDB4NDAwMDAwMCk7XG4gICAgaWYgKG51bSA8IDApIHJldHVybiB0aGlzLmlzdWJuKC1udW0pO1xuXG4gICAgLy8gUG9zc2libGUgc2lnbiBjaGFuZ2VcbiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID09PSAxICYmICh0aGlzLndvcmRzWzBdIHwgMCkgPCBudW0pIHtcbiAgICAgICAgdGhpcy53b3Jkc1swXSA9IG51bSAtICh0aGlzLndvcmRzWzBdIHwgMCk7XG4gICAgICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDA7XG4gICAgICB0aGlzLmlzdWJuKG51bSk7XG4gICAgICB0aGlzLm5lZ2F0aXZlID0gMTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRob3V0IGNoZWNrc1xuICAgIHJldHVybiB0aGlzLl9pYWRkbihudW0pO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5faWFkZG4gPSBmdW5jdGlvbiBfaWFkZG4gKG51bSkge1xuICAgIHRoaXMud29yZHNbMF0gKz0gbnVtO1xuXG4gICAgLy8gQ2FycnlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbaV0gPj0gMHg0MDAwMDAwOyBpKyspIHtcbiAgICAgIHRoaXMud29yZHNbaV0gLT0gMHg0MDAwMDAwO1xuICAgICAgaWYgKGkgPT09IHRoaXMubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLndvcmRzW2kgKyAxXSA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLndvcmRzW2kgKyAxXSsrO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmxlbmd0aCA9IE1hdGgubWF4KHRoaXMubGVuZ3RoLCBpICsgMSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBTdWJ0cmFjdCBwbGFpbiBudW1iZXIgYG51bWAgZnJvbSBgdGhpc2BcbiAgQk4ucHJvdG90eXBlLmlzdWJuID0gZnVuY3Rpb24gaXN1Ym4gKG51bSkge1xuICAgIGFzc2VydCh0eXBlb2YgbnVtID09PSAnbnVtYmVyJyk7XG4gICAgYXNzZXJ0KG51bSA8IDB4NDAwMDAwMCk7XG4gICAgaWYgKG51bSA8IDApIHJldHVybiB0aGlzLmlhZGRuKC1udW0pO1xuXG4gICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDApIHtcbiAgICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuICAgICAgdGhpcy5pYWRkbihudW0pO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB0aGlzLndvcmRzWzBdIC09IG51bTtcblxuICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLndvcmRzWzBdIDwgMCkge1xuICAgICAgdGhpcy53b3Jkc1swXSA9IC10aGlzLndvcmRzWzBdO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENhcnJ5XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbaV0gPCAwOyBpKyspIHtcbiAgICAgICAgdGhpcy53b3Jkc1tpXSArPSAweDQwMDAwMDA7XG4gICAgICAgIHRoaXMud29yZHNbaSArIDFdIC09IDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuYWRkbiA9IGZ1bmN0aW9uIGFkZG4gKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaWFkZG4obnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuc3VibiA9IGZ1bmN0aW9uIHN1Ym4gKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXN1Ym4obnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuaWFicyA9IGZ1bmN0aW9uIGlhYnMgKCkge1xuICAgIHRoaXMubmVnYXRpdmUgPSAwO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmFicyA9IGZ1bmN0aW9uIGFicyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYWJzKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLl9pc2hsbnN1Ym11bCA9IGZ1bmN0aW9uIF9pc2hsbnN1Ym11bCAobnVtLCBtdWwsIHNoaWZ0KSB7XG4gICAgdmFyIGxlbiA9IG51bS5sZW5ndGggKyBzaGlmdDtcbiAgICB2YXIgaTtcblxuICAgIHRoaXMuX2V4cGFuZChsZW4pO1xuXG4gICAgdmFyIHc7XG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbnVtLmxlbmd0aDsgaSsrKSB7XG4gICAgICB3ID0gKHRoaXMud29yZHNbaSArIHNoaWZ0XSB8IDApICsgY2Fycnk7XG4gICAgICB2YXIgcmlnaHQgPSAobnVtLndvcmRzW2ldIHwgMCkgKiBtdWw7XG4gICAgICB3IC09IHJpZ2h0ICYgMHgzZmZmZmZmO1xuICAgICAgY2FycnkgPSAodyA+PiAyNikgLSAoKHJpZ2h0IC8gMHg0MDAwMDAwKSB8IDApO1xuICAgICAgdGhpcy53b3Jkc1tpICsgc2hpZnRdID0gdyAmIDB4M2ZmZmZmZjtcbiAgICB9XG4gICAgZm9yICg7IGkgPCB0aGlzLmxlbmd0aCAtIHNoaWZ0OyBpKyspIHtcbiAgICAgIHcgPSAodGhpcy53b3Jkc1tpICsgc2hpZnRdIHwgMCkgKyBjYXJyeTtcbiAgICAgIGNhcnJ5ID0gdyA+PiAyNjtcbiAgICAgIHRoaXMud29yZHNbaSArIHNoaWZ0XSA9IHcgJiAweDNmZmZmZmY7XG4gICAgfVxuXG4gICAgaWYgKGNhcnJ5ID09PSAwKSByZXR1cm4gdGhpcy5zdHJpcCgpO1xuXG4gICAgLy8gU3VidHJhY3Rpb24gb3ZlcmZsb3dcbiAgICBhc3NlcnQoY2FycnkgPT09IC0xKTtcbiAgICBjYXJyeSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHcgPSAtKHRoaXMud29yZHNbaV0gfCAwKSArIGNhcnJ5O1xuICAgICAgY2FycnkgPSB3ID4+IDI2O1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IHcgJiAweDNmZmZmZmY7XG4gICAgfVxuICAgIHRoaXMubmVnYXRpdmUgPSAxO1xuXG4gICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuX3dvcmREaXYgPSBmdW5jdGlvbiBfd29yZERpdiAobnVtLCBtb2RlKSB7XG4gICAgdmFyIHNoaWZ0ID0gdGhpcy5sZW5ndGggLSBudW0ubGVuZ3RoO1xuXG4gICAgdmFyIGEgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIGIgPSBudW07XG5cbiAgICAvLyBOb3JtYWxpemVcbiAgICB2YXIgYmhpID0gYi53b3Jkc1tiLmxlbmd0aCAtIDFdIHwgMDtcbiAgICB2YXIgYmhpQml0cyA9IHRoaXMuX2NvdW50Qml0cyhiaGkpO1xuICAgIHNoaWZ0ID0gMjYgLSBiaGlCaXRzO1xuICAgIGlmIChzaGlmdCAhPT0gMCkge1xuICAgICAgYiA9IGIudXNobG4oc2hpZnQpO1xuICAgICAgYS5pdXNobG4oc2hpZnQpO1xuICAgICAgYmhpID0gYi53b3Jkc1tiLmxlbmd0aCAtIDFdIHwgMDtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHF1b3RpZW50XG4gICAgdmFyIG0gPSBhLmxlbmd0aCAtIGIubGVuZ3RoO1xuICAgIHZhciBxO1xuXG4gICAgaWYgKG1vZGUgIT09ICdtb2QnKSB7XG4gICAgICBxID0gbmV3IEJOKG51bGwpO1xuICAgICAgcS5sZW5ndGggPSBtICsgMTtcbiAgICAgIHEud29yZHMgPSBuZXcgQXJyYXkocS5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHEud29yZHNbaV0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkaWZmID0gYS5jbG9uZSgpLl9pc2hsbnN1Ym11bChiLCAxLCBtKTtcbiAgICBpZiAoZGlmZi5uZWdhdGl2ZSA9PT0gMCkge1xuICAgICAgYSA9IGRpZmY7XG4gICAgICBpZiAocSkge1xuICAgICAgICBxLndvcmRzW21dID0gMTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gbSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICB2YXIgcWogPSAoYS53b3Jkc1tiLmxlbmd0aCArIGpdIHwgMCkgKiAweDQwMDAwMDAgK1xuICAgICAgICAoYS53b3Jkc1tiLmxlbmd0aCArIGogLSAxXSB8IDApO1xuXG4gICAgICAvLyBOT1RFOiAocWogLyBiaGkpIGlzICgweDNmZmZmZmYgKiAweDQwMDAwMDAgKyAweDNmZmZmZmYpIC8gMHgyMDAwMDAwIG1heFxuICAgICAgLy8gKDB4N2ZmZmZmZilcbiAgICAgIHFqID0gTWF0aC5taW4oKHFqIC8gYmhpKSB8IDAsIDB4M2ZmZmZmZik7XG5cbiAgICAgIGEuX2lzaGxuc3VibXVsKGIsIHFqLCBqKTtcbiAgICAgIHdoaWxlIChhLm5lZ2F0aXZlICE9PSAwKSB7XG4gICAgICAgIHFqLS07XG4gICAgICAgIGEubmVnYXRpdmUgPSAwO1xuICAgICAgICBhLl9pc2hsbnN1Ym11bChiLCAxLCBqKTtcbiAgICAgICAgaWYgKCFhLmlzWmVybygpKSB7XG4gICAgICAgICAgYS5uZWdhdGl2ZSBePSAxO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocSkge1xuICAgICAgICBxLndvcmRzW2pdID0gcWo7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChxKSB7XG4gICAgICBxLnN0cmlwKCk7XG4gICAgfVxuICAgIGEuc3RyaXAoKTtcblxuICAgIC8vIERlbm9ybWFsaXplXG4gICAgaWYgKG1vZGUgIT09ICdkaXYnICYmIHNoaWZ0ICE9PSAwKSB7XG4gICAgICBhLml1c2hybihzaGlmdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGRpdjogcSB8fCBudWxsLFxuICAgICAgbW9kOiBhXG4gICAgfTtcbiAgfTtcblxuICAvLyBOT1RFOiAxKSBgbW9kZWAgY2FuIGJlIHNldCB0byBgbW9kYCB0byByZXF1ZXN0IG1vZCBvbmx5LFxuICAvLyAgICAgICB0byBgZGl2YCB0byByZXF1ZXN0IGRpdiBvbmx5LCBvciBiZSBhYnNlbnQgdG9cbiAgLy8gICAgICAgcmVxdWVzdCBib3RoIGRpdiAmIG1vZFxuICAvLyAgICAgICAyKSBgcG9zaXRpdmVgIGlzIHRydWUgaWYgdW5zaWduZWQgbW9kIGlzIHJlcXVlc3RlZFxuICBCTi5wcm90b3R5cGUuZGl2bW9kID0gZnVuY3Rpb24gZGl2bW9kIChudW0sIG1vZGUsIHBvc2l0aXZlKSB7XG4gICAgYXNzZXJ0KCFudW0uaXNaZXJvKCkpO1xuXG4gICAgaWYgKHRoaXMuaXNaZXJvKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpdjogbmV3IEJOKDApLFxuICAgICAgICBtb2Q6IG5ldyBCTigwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgZGl2LCBtb2QsIHJlcztcbiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCAmJiBudW0ubmVnYXRpdmUgPT09IDApIHtcbiAgICAgIHJlcyA9IHRoaXMubmVnKCkuZGl2bW9kKG51bSwgbW9kZSk7XG5cbiAgICAgIGlmIChtb2RlICE9PSAnbW9kJykge1xuICAgICAgICBkaXYgPSByZXMuZGl2Lm5lZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAobW9kZSAhPT0gJ2RpdicpIHtcbiAgICAgICAgbW9kID0gcmVzLm1vZC5uZWcoKTtcbiAgICAgICAgaWYgKHBvc2l0aXZlICYmIG1vZC5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgICAgIG1vZC5pYWRkKG51bSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGl2OiBkaXYsXG4gICAgICAgIG1vZDogbW9kXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0aGlzLm5lZ2F0aXZlID09PSAwICYmIG51bS5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgcmVzID0gdGhpcy5kaXZtb2QobnVtLm5lZygpLCBtb2RlKTtcblxuICAgICAgaWYgKG1vZGUgIT09ICdtb2QnKSB7XG4gICAgICAgIGRpdiA9IHJlcy5kaXYubmVnKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpdjogZGl2LFxuICAgICAgICBtb2Q6IHJlcy5tb2RcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLm5lZ2F0aXZlICYgbnVtLm5lZ2F0aXZlKSAhPT0gMCkge1xuICAgICAgcmVzID0gdGhpcy5uZWcoKS5kaXZtb2QobnVtLm5lZygpLCBtb2RlKTtcblxuICAgICAgaWYgKG1vZGUgIT09ICdkaXYnKSB7XG4gICAgICAgIG1vZCA9IHJlcy5tb2QubmVnKCk7XG4gICAgICAgIGlmIChwb3NpdGl2ZSAmJiBtb2QubmVnYXRpdmUgIT09IDApIHtcbiAgICAgICAgICBtb2QuaXN1YihudW0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGRpdjogcmVzLmRpdixcbiAgICAgICAgbW9kOiBtb2RcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQm90aCBudW1iZXJzIGFyZSBwb3NpdGl2ZSBhdCB0aGlzIHBvaW50XG5cbiAgICAvLyBTdHJpcCBib3RoIG51bWJlcnMgdG8gYXBwcm94aW1hdGUgc2hpZnQgdmFsdWVcbiAgICBpZiAobnVtLmxlbmd0aCA+IHRoaXMubGVuZ3RoIHx8IHRoaXMuY21wKG51bSkgPCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkaXY6IG5ldyBCTigwKSxcbiAgICAgICAgbW9kOiB0aGlzXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFZlcnkgc2hvcnQgcmVkdWN0aW9uXG4gICAgaWYgKG51bS5sZW5ndGggPT09IDEpIHtcbiAgICAgIGlmIChtb2RlID09PSAnZGl2Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRpdjogdGhpcy5kaXZuKG51bS53b3Jkc1swXSksXG4gICAgICAgICAgbW9kOiBudWxsXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChtb2RlID09PSAnbW9kJykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRpdjogbnVsbCxcbiAgICAgICAgICBtb2Q6IG5ldyBCTih0aGlzLm1vZG4obnVtLndvcmRzWzBdKSlcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZGl2OiB0aGlzLmRpdm4obnVtLndvcmRzWzBdKSxcbiAgICAgICAgbW9kOiBuZXcgQk4odGhpcy5tb2RuKG51bS53b3Jkc1swXSkpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl93b3JkRGl2KG51bSwgbW9kZSk7XG4gIH07XG5cbiAgLy8gRmluZCBgdGhpc2AgLyBgbnVtYFxuICBCTi5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24gZGl2IChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5kaXZtb2QobnVtLCAnZGl2JywgZmFsc2UpLmRpdjtcbiAgfTtcblxuICAvLyBGaW5kIGB0aGlzYCAlIGBudW1gXG4gIEJOLnByb3RvdHlwZS5tb2QgPSBmdW5jdGlvbiBtb2QgKG51bSkge1xuICAgIHJldHVybiB0aGlzLmRpdm1vZChudW0sICdtb2QnLCBmYWxzZSkubW9kO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS51bW9kID0gZnVuY3Rpb24gdW1vZCAobnVtKSB7XG4gICAgcmV0dXJuIHRoaXMuZGl2bW9kKG51bSwgJ21vZCcsIHRydWUpLm1vZDtcbiAgfTtcblxuICAvLyBGaW5kIFJvdW5kKGB0aGlzYCAvIGBudW1gKVxuICBCTi5wcm90b3R5cGUuZGl2Um91bmQgPSBmdW5jdGlvbiBkaXZSb3VuZCAobnVtKSB7XG4gICAgdmFyIGRtID0gdGhpcy5kaXZtb2QobnVtKTtcblxuICAgIC8vIEZhc3QgY2FzZSAtIGV4YWN0IGRpdmlzaW9uXG4gICAgaWYgKGRtLm1vZC5pc1plcm8oKSkgcmV0dXJuIGRtLmRpdjtcblxuICAgIHZhciBtb2QgPSBkbS5kaXYubmVnYXRpdmUgIT09IDAgPyBkbS5tb2QuaXN1YihudW0pIDogZG0ubW9kO1xuXG4gICAgdmFyIGhhbGYgPSBudW0udXNocm4oMSk7XG4gICAgdmFyIHIyID0gbnVtLmFuZGxuKDEpO1xuICAgIHZhciBjbXAgPSBtb2QuY21wKGhhbGYpO1xuXG4gICAgLy8gUm91bmQgZG93blxuICAgIGlmIChjbXAgPCAwIHx8IHIyID09PSAxICYmIGNtcCA9PT0gMCkgcmV0dXJuIGRtLmRpdjtcblxuICAgIC8vIFJvdW5kIHVwXG4gICAgcmV0dXJuIGRtLmRpdi5uZWdhdGl2ZSAhPT0gMCA/IGRtLmRpdi5pc3VibigxKSA6IGRtLmRpdi5pYWRkbigxKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUubW9kbiA9IGZ1bmN0aW9uIG1vZG4gKG51bSkge1xuICAgIGFzc2VydChudW0gPD0gMHgzZmZmZmZmKTtcbiAgICB2YXIgcCA9ICgxIDw8IDI2KSAlIG51bTtcblxuICAgIHZhciBhY2MgPSAwO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBhY2MgPSAocCAqIGFjYyArICh0aGlzLndvcmRzW2ldIHwgMCkpICUgbnVtO1xuICAgIH1cblxuICAgIHJldHVybiBhY2M7XG4gIH07XG5cbiAgLy8gSW4tcGxhY2UgZGl2aXNpb24gYnkgbnVtYmVyXG4gIEJOLnByb3RvdHlwZS5pZGl2biA9IGZ1bmN0aW9uIGlkaXZuIChudW0pIHtcbiAgICBhc3NlcnQobnVtIDw9IDB4M2ZmZmZmZik7XG5cbiAgICB2YXIgY2FycnkgPSAwO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgdyA9ICh0aGlzLndvcmRzW2ldIHwgMCkgKyBjYXJyeSAqIDB4NDAwMDAwMDtcbiAgICAgIHRoaXMud29yZHNbaV0gPSAodyAvIG51bSkgfCAwO1xuICAgICAgY2FycnkgPSB3ICUgbnVtO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmRpdm4gPSBmdW5jdGlvbiBkaXZuIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlkaXZuKG51bSk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmVnY2QgPSBmdW5jdGlvbiBlZ2NkIChwKSB7XG4gICAgYXNzZXJ0KHAubmVnYXRpdmUgPT09IDApO1xuICAgIGFzc2VydCghcC5pc1plcm8oKSk7XG5cbiAgICB2YXIgeCA9IHRoaXM7XG4gICAgdmFyIHkgPSBwLmNsb25lKCk7XG5cbiAgICBpZiAoeC5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgeCA9IHgudW1vZChwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IHguY2xvbmUoKTtcbiAgICB9XG5cbiAgICAvLyBBICogeCArIEIgKiB5ID0geFxuICAgIHZhciBBID0gbmV3IEJOKDEpO1xuICAgIHZhciBCID0gbmV3IEJOKDApO1xuXG4gICAgLy8gQyAqIHggKyBEICogeSA9IHlcbiAgICB2YXIgQyA9IG5ldyBCTigwKTtcbiAgICB2YXIgRCA9IG5ldyBCTigxKTtcblxuICAgIHZhciBnID0gMDtcblxuICAgIHdoaWxlICh4LmlzRXZlbigpICYmIHkuaXNFdmVuKCkpIHtcbiAgICAgIHguaXVzaHJuKDEpO1xuICAgICAgeS5pdXNocm4oMSk7XG4gICAgICArK2c7XG4gICAgfVxuXG4gICAgdmFyIHlwID0geS5jbG9uZSgpO1xuICAgIHZhciB4cCA9IHguY2xvbmUoKTtcblxuICAgIHdoaWxlICgheC5pc1plcm8oKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGltID0gMTsgKHgud29yZHNbMF0gJiBpbSkgPT09IDAgJiYgaSA8IDI2OyArK2ksIGltIDw8PSAxKTtcbiAgICAgIGlmIChpID4gMCkge1xuICAgICAgICB4Lml1c2hybihpKTtcbiAgICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgICBpZiAoQS5pc09kZCgpIHx8IEIuaXNPZGQoKSkge1xuICAgICAgICAgICAgQS5pYWRkKHlwKTtcbiAgICAgICAgICAgIEIuaXN1Yih4cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgQS5pdXNocm4oMSk7XG4gICAgICAgICAgQi5pdXNocm4oMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaiA9IDAsIGptID0gMTsgKHkud29yZHNbMF0gJiBqbSkgPT09IDAgJiYgaiA8IDI2OyArK2osIGptIDw8PSAxKTtcbiAgICAgIGlmIChqID4gMCkge1xuICAgICAgICB5Lml1c2hybihqKTtcbiAgICAgICAgd2hpbGUgKGotLSA+IDApIHtcbiAgICAgICAgICBpZiAoQy5pc09kZCgpIHx8IEQuaXNPZGQoKSkge1xuICAgICAgICAgICAgQy5pYWRkKHlwKTtcbiAgICAgICAgICAgIEQuaXN1Yih4cCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgQy5pdXNocm4oMSk7XG4gICAgICAgICAgRC5pdXNocm4oMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHguY21wKHkpID49IDApIHtcbiAgICAgICAgeC5pc3ViKHkpO1xuICAgICAgICBBLmlzdWIoQyk7XG4gICAgICAgIEIuaXN1YihEKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHkuaXN1Yih4KTtcbiAgICAgICAgQy5pc3ViKEEpO1xuICAgICAgICBELmlzdWIoQik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGE6IEMsXG4gICAgICBiOiBELFxuICAgICAgZ2NkOiB5Lml1c2hsbihnKVxuICAgIH07XG4gIH07XG5cbiAgLy8gVGhpcyBpcyByZWR1Y2VkIGluY2FybmF0aW9uIG9mIHRoZSBiaW5hcnkgRUVBXG4gIC8vIGFib3ZlLCBkZXNpZ25hdGVkIHRvIGludmVydCBtZW1iZXJzIG9mIHRoZVxuICAvLyBfcHJpbWVfIGZpZWxkcyBGKHApIGF0IGEgbWF4aW1hbCBzcGVlZFxuICBCTi5wcm90b3R5cGUuX2ludm1wID0gZnVuY3Rpb24gX2ludm1wIChwKSB7XG4gICAgYXNzZXJ0KHAubmVnYXRpdmUgPT09IDApO1xuICAgIGFzc2VydCghcC5pc1plcm8oKSk7XG5cbiAgICB2YXIgYSA9IHRoaXM7XG4gICAgdmFyIGIgPSBwLmNsb25lKCk7XG5cbiAgICBpZiAoYS5uZWdhdGl2ZSAhPT0gMCkge1xuICAgICAgYSA9IGEudW1vZChwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYSA9IGEuY2xvbmUoKTtcbiAgICB9XG5cbiAgICB2YXIgeDEgPSBuZXcgQk4oMSk7XG4gICAgdmFyIHgyID0gbmV3IEJOKDApO1xuXG4gICAgdmFyIGRlbHRhID0gYi5jbG9uZSgpO1xuXG4gICAgd2hpbGUgKGEuY21wbigxKSA+IDAgJiYgYi5jbXBuKDEpID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGltID0gMTsgKGEud29yZHNbMF0gJiBpbSkgPT09IDAgJiYgaSA8IDI2OyArK2ksIGltIDw8PSAxKTtcbiAgICAgIGlmIChpID4gMCkge1xuICAgICAgICBhLml1c2hybihpKTtcbiAgICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgICBpZiAoeDEuaXNPZGQoKSkge1xuICAgICAgICAgICAgeDEuaWFkZChkZWx0YSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgeDEuaXVzaHJuKDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogPSAwLCBqbSA9IDE7IChiLndvcmRzWzBdICYgam0pID09PSAwICYmIGogPCAyNjsgKytqLCBqbSA8PD0gMSk7XG4gICAgICBpZiAoaiA+IDApIHtcbiAgICAgICAgYi5pdXNocm4oaik7XG4gICAgICAgIHdoaWxlIChqLS0gPiAwKSB7XG4gICAgICAgICAgaWYgKHgyLmlzT2RkKCkpIHtcbiAgICAgICAgICAgIHgyLmlhZGQoZGVsdGEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHgyLml1c2hybigxKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYS5jbXAoYikgPj0gMCkge1xuICAgICAgICBhLmlzdWIoYik7XG4gICAgICAgIHgxLmlzdWIoeDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYi5pc3ViKGEpO1xuICAgICAgICB4Mi5pc3ViKHgxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVzO1xuICAgIGlmIChhLmNtcG4oMSkgPT09IDApIHtcbiAgICAgIHJlcyA9IHgxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMgPSB4MjtcbiAgICB9XG5cbiAgICBpZiAocmVzLmNtcG4oMCkgPCAwKSB7XG4gICAgICByZXMuaWFkZChwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5nY2QgPSBmdW5jdGlvbiBnY2QgKG51bSkge1xuICAgIGlmICh0aGlzLmlzWmVybygpKSByZXR1cm4gbnVtLmFicygpO1xuICAgIGlmIChudW0uaXNaZXJvKCkpIHJldHVybiB0aGlzLmFicygpO1xuXG4gICAgdmFyIGEgPSB0aGlzLmNsb25lKCk7XG4gICAgdmFyIGIgPSBudW0uY2xvbmUoKTtcbiAgICBhLm5lZ2F0aXZlID0gMDtcbiAgICBiLm5lZ2F0aXZlID0gMDtcblxuICAgIC8vIFJlbW92ZSBjb21tb24gZmFjdG9yIG9mIHR3b1xuICAgIGZvciAodmFyIHNoaWZ0ID0gMDsgYS5pc0V2ZW4oKSAmJiBiLmlzRXZlbigpOyBzaGlmdCsrKSB7XG4gICAgICBhLml1c2hybigxKTtcbiAgICAgIGIuaXVzaHJuKDEpO1xuICAgIH1cblxuICAgIGRvIHtcbiAgICAgIHdoaWxlIChhLmlzRXZlbigpKSB7XG4gICAgICAgIGEuaXVzaHJuKDEpO1xuICAgICAgfVxuICAgICAgd2hpbGUgKGIuaXNFdmVuKCkpIHtcbiAgICAgICAgYi5pdXNocm4oMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciByID0gYS5jbXAoYik7XG4gICAgICBpZiAociA8IDApIHtcbiAgICAgICAgLy8gU3dhcCBgYWAgYW5kIGBiYCB0byBtYWtlIGBhYCBhbHdheXMgYmlnZ2VyIHRoYW4gYGJgXG4gICAgICAgIHZhciB0ID0gYTtcbiAgICAgICAgYSA9IGI7XG4gICAgICAgIGIgPSB0O1xuICAgICAgfSBlbHNlIGlmIChyID09PSAwIHx8IGIuY21wbigxKSA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgYS5pc3ViKGIpO1xuICAgIH0gd2hpbGUgKHRydWUpO1xuXG4gICAgcmV0dXJuIGIuaXVzaGxuKHNoaWZ0KTtcbiAgfTtcblxuICAvLyBJbnZlcnQgbnVtYmVyIGluIHRoZSBmaWVsZCBGKG51bSlcbiAgQk4ucHJvdG90eXBlLmludm0gPSBmdW5jdGlvbiBpbnZtIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5lZ2NkKG51bSkuYS51bW9kKG51bSk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLndvcmRzWzBdICYgMSkgPT09IDA7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24gaXNPZGQgKCkge1xuICAgIHJldHVybiAodGhpcy53b3Jkc1swXSAmIDEpID09PSAxO1xuICB9O1xuXG4gIC8vIEFuZCBmaXJzdCB3b3JkIGFuZCBudW1cbiAgQk4ucHJvdG90eXBlLmFuZGxuID0gZnVuY3Rpb24gYW5kbG4gKG51bSkge1xuICAgIHJldHVybiB0aGlzLndvcmRzWzBdICYgbnVtO1xuICB9O1xuXG4gIC8vIEluY3JlbWVudCBhdCB0aGUgYml0IHBvc2l0aW9uIGluLWxpbmVcbiAgQk4ucHJvdG90eXBlLmJpbmNuID0gZnVuY3Rpb24gYmluY24gKGJpdCkge1xuICAgIGFzc2VydCh0eXBlb2YgYml0ID09PSAnbnVtYmVyJyk7XG4gICAgdmFyIHIgPSBiaXQgJSAyNjtcbiAgICB2YXIgcyA9IChiaXQgLSByKSAvIDI2O1xuICAgIHZhciBxID0gMSA8PCByO1xuXG4gICAgLy8gRmFzdCBjYXNlOiBiaXQgaXMgbXVjaCBoaWdoZXIgdGhhbiBhbGwgZXhpc3Rpbmcgd29yZHNcbiAgICBpZiAodGhpcy5sZW5ndGggPD0gcykge1xuICAgICAgdGhpcy5fZXhwYW5kKHMgKyAxKTtcbiAgICAgIHRoaXMud29yZHNbc10gfD0gcTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBiaXQgYW5kIHByb3BhZ2F0ZSwgaWYgbmVlZGVkXG4gICAgdmFyIGNhcnJ5ID0gcTtcbiAgICBmb3IgKHZhciBpID0gczsgY2FycnkgIT09IDAgJiYgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXSB8IDA7XG4gICAgICB3ICs9IGNhcnJ5O1xuICAgICAgY2FycnkgPSB3ID4+PiAyNjtcbiAgICAgIHcgJj0gMHgzZmZmZmZmO1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IHc7XG4gICAgfVxuICAgIGlmIChjYXJyeSAhPT0gMCkge1xuICAgICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5O1xuICAgICAgdGhpcy5sZW5ndGgrKztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uIGlzWmVybyAoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPT09IDA7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmNtcG4gPSBmdW5jdGlvbiBjbXBuIChudW0pIHtcbiAgICB2YXIgbmVnYXRpdmUgPSBudW0gPCAwO1xuXG4gICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgIW5lZ2F0aXZlKSByZXR1cm4gLTE7XG4gICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbmVnYXRpdmUpIHJldHVybiAxO1xuXG4gICAgdGhpcy5zdHJpcCgpO1xuXG4gICAgdmFyIHJlcztcbiAgICBpZiAodGhpcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXMgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgbnVtID0gLW51bTtcbiAgICAgIH1cblxuICAgICAgYXNzZXJ0KG51bSA8PSAweDNmZmZmZmYsICdOdW1iZXIgaXMgdG9vIGJpZycpO1xuXG4gICAgICB2YXIgdyA9IHRoaXMud29yZHNbMF0gfCAwO1xuICAgICAgcmVzID0gdyA9PT0gbnVtID8gMCA6IHcgPCBudW0gPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKSByZXR1cm4gLXJlcyB8IDA7XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICAvLyBDb21wYXJlIHR3byBudW1iZXJzIGFuZCByZXR1cm46XG4gIC8vIDEgLSBpZiBgdGhpc2AgPiBgbnVtYFxuICAvLyAwIC0gaWYgYHRoaXNgID09IGBudW1gXG4gIC8vIC0xIC0gaWYgYHRoaXNgIDwgYG51bWBcbiAgQk4ucHJvdG90eXBlLmNtcCA9IGZ1bmN0aW9uIGNtcCAobnVtKSB7XG4gICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgbnVtLm5lZ2F0aXZlID09PSAwKSByZXR1cm4gLTE7XG4gICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbnVtLm5lZ2F0aXZlICE9PSAwKSByZXR1cm4gMTtcblxuICAgIHZhciByZXMgPSB0aGlzLnVjbXAobnVtKTtcbiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgcmV0dXJuIC1yZXMgfCAwO1xuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgLy8gVW5zaWduZWQgY29tcGFyaXNvblxuICBCTi5wcm90b3R5cGUudWNtcCA9IGZ1bmN0aW9uIHVjbXAgKG51bSkge1xuICAgIC8vIEF0IHRoaXMgcG9pbnQgYm90aCBudW1iZXJzIGhhdmUgdGhlIHNhbWUgc2lnblxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG51bS5sZW5ndGgpIHJldHVybiAxO1xuICAgIGlmICh0aGlzLmxlbmd0aCA8IG51bS5sZW5ndGgpIHJldHVybiAtMTtcblxuICAgIHZhciByZXMgPSAwO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgYSA9IHRoaXMud29yZHNbaV0gfCAwO1xuICAgICAgdmFyIGIgPSBudW0ud29yZHNbaV0gfCAwO1xuXG4gICAgICBpZiAoYSA9PT0gYikgY29udGludWU7XG4gICAgICBpZiAoYSA8IGIpIHtcbiAgICAgICAgcmVzID0gLTE7XG4gICAgICB9IGVsc2UgaWYgKGEgPiBiKSB7XG4gICAgICAgIHJlcyA9IDE7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuZ3RuID0gZnVuY3Rpb24gZ3RuIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPT09IDE7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmd0ID0gZnVuY3Rpb24gZ3QgKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNtcChudW0pID09PSAxO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5ndGVuID0gZnVuY3Rpb24gZ3RlbiAobnVtKSB7XG4gICAgcmV0dXJuIHRoaXMuY21wbihudW0pID49IDA7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmd0ZSA9IGZ1bmN0aW9uIGd0ZSAobnVtKSB7XG4gICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPj0gMDtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUubHRuID0gZnVuY3Rpb24gbHRuIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPT09IC0xO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5sdCA9IGZ1bmN0aW9uIGx0IChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbXAobnVtKSA9PT0gLTE7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmx0ZW4gPSBmdW5jdGlvbiBsdGVuIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPD0gMDtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUubHRlID0gZnVuY3Rpb24gbHRlIChudW0pIHtcbiAgICByZXR1cm4gdGhpcy5jbXAobnVtKSA8PSAwO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5lcW4gPSBmdW5jdGlvbiBlcW4gKG51bSkge1xuICAgIHJldHVybiB0aGlzLmNtcG4obnVtKSA9PT0gMDtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcSAobnVtKSB7XG4gICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPT09IDA7XG4gIH07XG5cbiAgLy9cbiAgLy8gQSByZWR1Y2UgY29udGV4dCwgY291bGQgYmUgdXNpbmcgbW9udGdvbWVyeSBvciBzb21ldGhpbmcgYmV0dGVyLCBkZXBlbmRpbmdcbiAgLy8gb24gdGhlIGBtYCBpdHNlbGYuXG4gIC8vXG4gIEJOLnJlZCA9IGZ1bmN0aW9uIHJlZCAobnVtKSB7XG4gICAgcmV0dXJuIG5ldyBSZWQobnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUudG9SZWQgPSBmdW5jdGlvbiB0b1JlZCAoY3R4KSB7XG4gICAgYXNzZXJ0KCF0aGlzLnJlZCwgJ0FscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQnKTtcbiAgICBhc3NlcnQodGhpcy5uZWdhdGl2ZSA9PT0gMCwgJ3JlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzJyk7XG4gICAgcmV0dXJuIGN0eC5jb252ZXJ0VG8odGhpcykuX2ZvcmNlUmVkKGN0eCk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLmZyb21SZWQgPSBmdW5jdGlvbiBmcm9tUmVkICgpIHtcbiAgICBhc3NlcnQodGhpcy5yZWQsICdmcm9tUmVkIHdvcmtzIG9ubHkgd2l0aCBudW1iZXJzIGluIHJlZHVjdGlvbiBjb250ZXh0Jyk7XG4gICAgcmV0dXJuIHRoaXMucmVkLmNvbnZlcnRGcm9tKHRoaXMpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5fZm9yY2VSZWQgPSBmdW5jdGlvbiBfZm9yY2VSZWQgKGN0eCkge1xuICAgIHRoaXMucmVkID0gY3R4O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5mb3JjZVJlZCA9IGZ1bmN0aW9uIGZvcmNlUmVkIChjdHgpIHtcbiAgICBhc3NlcnQoIXRoaXMucmVkLCAnQWxyZWFkeSBhIG51bWJlciBpbiByZWR1Y3Rpb24gY29udGV4dCcpO1xuICAgIHJldHVybiB0aGlzLl9mb3JjZVJlZChjdHgpO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5yZWRBZGQgPSBmdW5jdGlvbiByZWRBZGQgKG51bSkge1xuICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZEFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgICByZXR1cm4gdGhpcy5yZWQuYWRkKHRoaXMsIG51bSk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZElBZGQgPSBmdW5jdGlvbiByZWRJQWRkIChudW0pIHtcbiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRJQWRkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHJldHVybiB0aGlzLnJlZC5pYWRkKHRoaXMsIG51bSk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZFN1YiA9IGZ1bmN0aW9uIHJlZFN1YiAobnVtKSB7XG4gICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkU3ViIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHJldHVybiB0aGlzLnJlZC5zdWIodGhpcywgbnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUucmVkSVN1YiA9IGZ1bmN0aW9uIHJlZElTdWIgKG51bSkge1xuICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZElTdWIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gICAgcmV0dXJuIHRoaXMucmVkLmlzdWIodGhpcywgbnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUucmVkU2hsID0gZnVuY3Rpb24gcmVkU2hsIChudW0pIHtcbiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRTaGwgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gICAgcmV0dXJuIHRoaXMucmVkLnNobCh0aGlzLCBudW0pO1xuICB9O1xuXG4gIEJOLnByb3RvdHlwZS5yZWRNdWwgPSBmdW5jdGlvbiByZWRNdWwgKG51bSkge1xuICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgICB0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLCBudW0pO1xuICAgIHJldHVybiB0aGlzLnJlZC5tdWwodGhpcywgbnVtKTtcbiAgfTtcblxuICBCTi5wcm90b3R5cGUucmVkSU11bCA9IGZ1bmN0aW9uIHJlZElNdWwgKG51bSkge1xuICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTtcbiAgICB0aGlzLnJlZC5fdmVyaWZ5Mih0aGlzLCBudW0pO1xuICAgIHJldHVybiB0aGlzLnJlZC5pbXVsKHRoaXMsIG51bSk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZFNxciA9IGZ1bmN0aW9uIHJlZFNxciAoKSB7XG4gICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLnJlZC5zcXIodGhpcyk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZElTcXIgPSBmdW5jdGlvbiByZWRJU3FyICgpIHtcbiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRJU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLnJlZC5pc3FyKHRoaXMpO1xuICB9O1xuXG4gIC8vIFNxdWFyZSByb290IG92ZXIgcFxuICBCTi5wcm90b3R5cGUucmVkU3FydCA9IGZ1bmN0aW9uIHJlZFNxcnQgKCkge1xuICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZFNxcnQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gICAgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMucmVkLnNxcnQodGhpcyk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZEludm0gPSBmdW5jdGlvbiByZWRJbnZtICgpIHtcbiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRJbnZtIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLnJlZC5pbnZtKHRoaXMpO1xuICB9O1xuXG4gIC8vIFJldHVybiBuZWdhdGl2ZSBjbG9uZSBvZiBgdGhpc2AgJSBgcmVkIG1vZHVsb2BcbiAgQk4ucHJvdG90eXBlLnJlZE5lZyA9IGZ1bmN0aW9uIHJlZE5lZyAoKSB7XG4gICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkTmVnIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpO1xuICAgIHJldHVybiB0aGlzLnJlZC5uZWcodGhpcyk7XG4gIH07XG5cbiAgQk4ucHJvdG90eXBlLnJlZFBvdyA9IGZ1bmN0aW9uIHJlZFBvdyAobnVtKSB7XG4gICAgYXNzZXJ0KHRoaXMucmVkICYmICFudW0ucmVkLCAncmVkUG93KG5vcm1hbE51bSknKTtcbiAgICB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKTtcbiAgICByZXR1cm4gdGhpcy5yZWQucG93KHRoaXMsIG51bSk7XG4gIH07XG5cbiAgLy8gUHJpbWUgbnVtYmVycyB3aXRoIGVmZmljaWVudCByZWR1Y3Rpb25cbiAgdmFyIHByaW1lcyA9IHtcbiAgICBrMjU2OiBudWxsLFxuICAgIHAyMjQ6IG51bGwsXG4gICAgcDE5MjogbnVsbCxcbiAgICBwMjU1MTk6IG51bGxcbiAgfTtcblxuICAvLyBQc2V1ZG8tTWVyc2VubmUgcHJpbWVcbiAgZnVuY3Rpb24gTVByaW1lIChuYW1lLCBwKSB7XG4gICAgLy8gUCA9IDIgXiBOIC0gS1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wID0gbmV3IEJOKHAsIDE2KTtcbiAgICB0aGlzLm4gPSB0aGlzLnAuYml0TGVuZ3RoKCk7XG4gICAgdGhpcy5rID0gbmV3IEJOKDEpLml1c2hsbih0aGlzLm4pLmlzdWIodGhpcy5wKTtcblxuICAgIHRoaXMudG1wID0gdGhpcy5fdG1wKCk7XG4gIH1cblxuICBNUHJpbWUucHJvdG90eXBlLl90bXAgPSBmdW5jdGlvbiBfdG1wICgpIHtcbiAgICB2YXIgdG1wID0gbmV3IEJOKG51bGwpO1xuICAgIHRtcC53b3JkcyA9IG5ldyBBcnJheShNYXRoLmNlaWwodGhpcy5uIC8gMTMpKTtcbiAgICByZXR1cm4gdG1wO1xuICB9O1xuXG4gIE1QcmltZS5wcm90b3R5cGUuaXJlZHVjZSA9IGZ1bmN0aW9uIGlyZWR1Y2UgKG51bSkge1xuICAgIC8vIEFzc3VtZXMgdGhhdCBgbnVtYCBpcyBsZXNzIHRoYW4gYFBeMmBcbiAgICAvLyBudW0gPSBISSAqICgyIF4gTiAtIEspICsgSEkgKiBLICsgTE8gPSBISSAqIEsgKyBMTyAobW9kIFApXG4gICAgdmFyIHIgPSBudW07XG4gICAgdmFyIHJsZW47XG5cbiAgICBkbyB7XG4gICAgICB0aGlzLnNwbGl0KHIsIHRoaXMudG1wKTtcbiAgICAgIHIgPSB0aGlzLmltdWxLKHIpO1xuICAgICAgciA9IHIuaWFkZCh0aGlzLnRtcCk7XG4gICAgICBybGVuID0gci5iaXRMZW5ndGgoKTtcbiAgICB9IHdoaWxlIChybGVuID4gdGhpcy5uKTtcblxuICAgIHZhciBjbXAgPSBybGVuIDwgdGhpcy5uID8gLTEgOiByLnVjbXAodGhpcy5wKTtcbiAgICBpZiAoY21wID09PSAwKSB7XG4gICAgICByLndvcmRzWzBdID0gMDtcbiAgICAgIHIubGVuZ3RoID0gMTtcbiAgICB9IGVsc2UgaWYgKGNtcCA+IDApIHtcbiAgICAgIHIuaXN1Yih0aGlzLnApO1xuICAgIH0gZWxzZSB7XG4gICAgICByLnN0cmlwKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgTVByaW1lLnByb3RvdHlwZS5zcGxpdCA9IGZ1bmN0aW9uIHNwbGl0IChpbnB1dCwgb3V0KSB7XG4gICAgaW5wdXQuaXVzaHJuKHRoaXMubiwgMCwgb3V0KTtcbiAgfTtcblxuICBNUHJpbWUucHJvdG90eXBlLmltdWxLID0gZnVuY3Rpb24gaW11bEsgKG51bSkge1xuICAgIHJldHVybiBudW0uaW11bCh0aGlzLmspO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEsyNTYgKCkge1xuICAgIE1QcmltZS5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgICdrMjU2JyxcbiAgICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmMyZicpO1xuICB9XG4gIGluaGVyaXRzKEsyNTYsIE1QcmltZSk7XG5cbiAgSzI1Ni5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbiBzcGxpdCAoaW5wdXQsIG91dHB1dCkge1xuICAgIC8vIDI1NiA9IDkgKiAyNiArIDIyXG4gICAgdmFyIG1hc2sgPSAweDNmZmZmZjtcblxuICAgIHZhciBvdXRMZW4gPSBNYXRoLm1pbihpbnB1dC5sZW5ndGgsIDkpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3V0TGVuOyBpKyspIHtcbiAgICAgIG91dHB1dC53b3Jkc1tpXSA9IGlucHV0LndvcmRzW2ldO1xuICAgIH1cbiAgICBvdXRwdXQubGVuZ3RoID0gb3V0TGVuO1xuXG4gICAgaWYgKGlucHV0Lmxlbmd0aCA8PSA5KSB7XG4gICAgICBpbnB1dC53b3Jkc1swXSA9IDA7XG4gICAgICBpbnB1dC5sZW5ndGggPSAxO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNoaWZ0IGJ5IDkgbGltYnNcbiAgICB2YXIgcHJldiA9IGlucHV0LndvcmRzWzldO1xuICAgIG91dHB1dC53b3Jkc1tvdXRwdXQubGVuZ3RoKytdID0gcHJldiAmIG1hc2s7XG5cbiAgICBmb3IgKGkgPSAxMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbmV4dCA9IGlucHV0LndvcmRzW2ldIHwgMDtcbiAgICAgIGlucHV0LndvcmRzW2kgLSAxMF0gPSAoKG5leHQgJiBtYXNrKSA8PCA0KSB8IChwcmV2ID4+PiAyMik7XG4gICAgICBwcmV2ID0gbmV4dDtcbiAgICB9XG4gICAgcHJldiA+Pj49IDIyO1xuICAgIGlucHV0LndvcmRzW2kgLSAxMF0gPSBwcmV2O1xuICAgIGlmIChwcmV2ID09PSAwICYmIGlucHV0Lmxlbmd0aCA+IDEwKSB7XG4gICAgICBpbnB1dC5sZW5ndGggLT0gMTA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0Lmxlbmd0aCAtPSA5O1xuICAgIH1cbiAgfTtcblxuICBLMjU2LnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLIChudW0pIHtcbiAgICAvLyBLID0gMHgxMDAwMDAzZDEgPSBbIDB4NDAsIDB4M2QxIF1cbiAgICBudW0ud29yZHNbbnVtLmxlbmd0aF0gPSAwO1xuICAgIG51bS53b3Jkc1tudW0ubGVuZ3RoICsgMV0gPSAwO1xuICAgIG51bS5sZW5ndGggKz0gMjtcblxuICAgIC8vIGJvdW5kZWQgYXQ6IDB4NDAgKiAweDNmZmZmZmYgKyAweDNkMCA9IDB4MTAwMDAwMzkwXG4gICAgdmFyIGxvID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHcgPSBudW0ud29yZHNbaV0gfCAwO1xuICAgICAgbG8gKz0gdyAqIDB4M2QxO1xuICAgICAgbnVtLndvcmRzW2ldID0gbG8gJiAweDNmZmZmZmY7XG4gICAgICBsbyA9IHcgKiAweDQwICsgKChsbyAvIDB4NDAwMDAwMCkgfCAwKTtcbiAgICB9XG5cbiAgICAvLyBGYXN0IGxlbmd0aCByZWR1Y3Rpb25cbiAgICBpZiAobnVtLndvcmRzW251bS5sZW5ndGggLSAxXSA9PT0gMCkge1xuICAgICAgbnVtLmxlbmd0aC0tO1xuICAgICAgaWYgKG51bS53b3Jkc1tudW0ubGVuZ3RoIC0gMV0gPT09IDApIHtcbiAgICAgICAgbnVtLmxlbmd0aC0tO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVtO1xuICB9O1xuXG4gIGZ1bmN0aW9uIFAyMjQgKCkge1xuICAgIE1QcmltZS5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgICdwMjI0JyxcbiAgICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMScpO1xuICB9XG4gIGluaGVyaXRzKFAyMjQsIE1QcmltZSk7XG5cbiAgZnVuY3Rpb24gUDE5MiAoKSB7XG4gICAgTVByaW1lLmNhbGwoXG4gICAgICB0aGlzLFxuICAgICAgJ3AxOTInLFxuICAgICAgJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmJyk7XG4gIH1cbiAgaW5oZXJpdHMoUDE5MiwgTVByaW1lKTtcblxuICBmdW5jdGlvbiBQMjU1MTkgKCkge1xuICAgIC8vIDIgXiAyNTUgLSAxOVxuICAgIE1QcmltZS5jYWxsKFxuICAgICAgdGhpcyxcbiAgICAgICcyNTUxOScsXG4gICAgICAnN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZCcpO1xuICB9XG4gIGluaGVyaXRzKFAyNTUxOSwgTVByaW1lKTtcblxuICBQMjU1MTkucHJvdG90eXBlLmltdWxLID0gZnVuY3Rpb24gaW11bEsgKG51bSkge1xuICAgIC8vIEsgPSAweDEzXG4gICAgdmFyIGNhcnJ5ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bS5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGhpID0gKG51bS53b3Jkc1tpXSB8IDApICogMHgxMyArIGNhcnJ5O1xuICAgICAgdmFyIGxvID0gaGkgJiAweDNmZmZmZmY7XG4gICAgICBoaSA+Pj49IDI2O1xuXG4gICAgICBudW0ud29yZHNbaV0gPSBsbztcbiAgICAgIGNhcnJ5ID0gaGk7XG4gICAgfVxuICAgIGlmIChjYXJyeSAhPT0gMCkge1xuICAgICAgbnVtLndvcmRzW251bS5sZW5ndGgrK10gPSBjYXJyeTtcbiAgICB9XG4gICAgcmV0dXJuIG51bTtcbiAgfTtcblxuICAvLyBFeHBvcnRlZCBtb3N0bHkgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHVzZSBwbGFpbiBuYW1lIGluc3RlYWRcbiAgQk4uX3ByaW1lID0gZnVuY3Rpb24gcHJpbWUgKG5hbWUpIHtcbiAgICAvLyBDYWNoZWQgdmVyc2lvbiBvZiBwcmltZVxuICAgIGlmIChwcmltZXNbbmFtZV0pIHJldHVybiBwcmltZXNbbmFtZV07XG5cbiAgICB2YXIgcHJpbWU7XG4gICAgaWYgKG5hbWUgPT09ICdrMjU2Jykge1xuICAgICAgcHJpbWUgPSBuZXcgSzI1NigpO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3AyMjQnKSB7XG4gICAgICBwcmltZSA9IG5ldyBQMjI0KCk7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAncDE5MicpIHtcbiAgICAgIHByaW1lID0gbmV3IFAxOTIoKTtcbiAgICB9IGVsc2UgaWYgKG5hbWUgPT09ICdwMjU1MTknKSB7XG4gICAgICBwcmltZSA9IG5ldyBQMjU1MTkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHByaW1lICcgKyBuYW1lKTtcbiAgICB9XG4gICAgcHJpbWVzW25hbWVdID0gcHJpbWU7XG5cbiAgICByZXR1cm4gcHJpbWU7XG4gIH07XG5cbiAgLy9cbiAgLy8gQmFzZSByZWR1Y3Rpb24gZW5naW5lXG4gIC8vXG4gIGZ1bmN0aW9uIFJlZCAobSkge1xuICAgIGlmICh0eXBlb2YgbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBwcmltZSA9IEJOLl9wcmltZShtKTtcbiAgICAgIHRoaXMubSA9IHByaW1lLnA7XG4gICAgICB0aGlzLnByaW1lID0gcHJpbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFzc2VydChtLmd0bigxKSwgJ21vZHVsdXMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMScpO1xuICAgICAgdGhpcy5tID0gbTtcbiAgICAgIHRoaXMucHJpbWUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIFJlZC5wcm90b3R5cGUuX3ZlcmlmeTEgPSBmdW5jdGlvbiBfdmVyaWZ5MSAoYSkge1xuICAgIGFzc2VydChhLm5lZ2F0aXZlID09PSAwLCAncmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXMnKTtcbiAgICBhc3NlcnQoYS5yZWQsICdyZWQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7XG4gIH07XG5cbiAgUmVkLnByb3RvdHlwZS5fdmVyaWZ5MiA9IGZ1bmN0aW9uIF92ZXJpZnkyIChhLCBiKSB7XG4gICAgYXNzZXJ0KChhLm5lZ2F0aXZlIHwgYi5uZWdhdGl2ZSkgPT09IDAsICdyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcycpO1xuICAgIGFzc2VydChhLnJlZCAmJiBhLnJlZCA9PT0gYi5yZWQsXG4gICAgICAncmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUuaW1vZCA9IGZ1bmN0aW9uIGltb2QgKGEpIHtcbiAgICBpZiAodGhpcy5wcmltZSkgcmV0dXJuIHRoaXMucHJpbWUuaXJlZHVjZShhKS5fZm9yY2VSZWQodGhpcyk7XG4gICAgcmV0dXJuIGEudW1vZCh0aGlzLm0pLl9mb3JjZVJlZCh0aGlzKTtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLm5lZyA9IGZ1bmN0aW9uIG5lZyAoYSkge1xuICAgIGlmIChhLmlzWmVybygpKSB7XG4gICAgICByZXR1cm4gYS5jbG9uZSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm0uc3ViKGEpLl9mb3JjZVJlZCh0aGlzKTtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoYSwgYikge1xuICAgIHRoaXMuX3ZlcmlmeTIoYSwgYik7XG5cbiAgICB2YXIgcmVzID0gYS5hZGQoYik7XG4gICAgaWYgKHJlcy5jbXAodGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXMuaXN1Yih0aGlzLm0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLmlhZGQgPSBmdW5jdGlvbiBpYWRkIChhLCBiKSB7XG4gICAgdGhpcy5fdmVyaWZ5MihhLCBiKTtcblxuICAgIHZhciByZXMgPSBhLmlhZGQoYik7XG4gICAgaWYgKHJlcy5jbXAodGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXMuaXN1Yih0aGlzLm0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24gc3ViIChhLCBiKSB7XG4gICAgdGhpcy5fdmVyaWZ5MihhLCBiKTtcblxuICAgIHZhciByZXMgPSBhLnN1YihiKTtcbiAgICBpZiAocmVzLmNtcG4oMCkgPCAwKSB7XG4gICAgICByZXMuaWFkZCh0aGlzLm0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLmlzdWIgPSBmdW5jdGlvbiBpc3ViIChhLCBiKSB7XG4gICAgdGhpcy5fdmVyaWZ5MihhLCBiKTtcblxuICAgIHZhciByZXMgPSBhLmlzdWIoYik7XG4gICAgaWYgKHJlcy5jbXBuKDApIDwgMCkge1xuICAgICAgcmVzLmlhZGQodGhpcy5tKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLnNobCA9IGZ1bmN0aW9uIHNobCAoYSwgbnVtKSB7XG4gICAgdGhpcy5fdmVyaWZ5MShhKTtcbiAgICByZXR1cm4gdGhpcy5pbW9kKGEudXNobG4obnVtKSk7XG4gIH07XG5cbiAgUmVkLnByb3RvdHlwZS5pbXVsID0gZnVuY3Rpb24gaW11bCAoYSwgYikge1xuICAgIHRoaXMuX3ZlcmlmeTIoYSwgYik7XG4gICAgcmV0dXJuIHRoaXMuaW1vZChhLmltdWwoYikpO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24gbXVsIChhLCBiKSB7XG4gICAgdGhpcy5fdmVyaWZ5MihhLCBiKTtcbiAgICByZXR1cm4gdGhpcy5pbW9kKGEubXVsKGIpKTtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLmlzcXIgPSBmdW5jdGlvbiBpc3FyIChhKSB7XG4gICAgcmV0dXJuIHRoaXMuaW11bChhLCBhLmNsb25lKCkpO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUuc3FyID0gZnVuY3Rpb24gc3FyIChhKSB7XG4gICAgcmV0dXJuIHRoaXMubXVsKGEsIGEpO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUuc3FydCA9IGZ1bmN0aW9uIHNxcnQgKGEpIHtcbiAgICBpZiAoYS5pc1plcm8oKSkgcmV0dXJuIGEuY2xvbmUoKTtcblxuICAgIHZhciBtb2QzID0gdGhpcy5tLmFuZGxuKDMpO1xuICAgIGFzc2VydChtb2QzICUgMiA9PT0gMSk7XG5cbiAgICAvLyBGYXN0IGNhc2VcbiAgICBpZiAobW9kMyA9PT0gMykge1xuICAgICAgdmFyIHBvdyA9IHRoaXMubS5hZGQobmV3IEJOKDEpKS5pdXNocm4oMik7XG4gICAgICByZXR1cm4gdGhpcy5wb3coYSwgcG93KTtcbiAgICB9XG5cbiAgICAvLyBUb25lbGxpLVNoYW5rcyBhbGdvcml0aG0gKFRvdGFsbHkgdW5vcHRpbWl6ZWQgYW5kIHNsb3cpXG4gICAgLy9cbiAgICAvLyBGaW5kIFEgYW5kIFMsIHRoYXQgUSAqIDIgXiBTID0gKFAgLSAxKVxuICAgIHZhciBxID0gdGhpcy5tLnN1Ym4oMSk7XG4gICAgdmFyIHMgPSAwO1xuICAgIHdoaWxlICghcS5pc1plcm8oKSAmJiBxLmFuZGxuKDEpID09PSAwKSB7XG4gICAgICBzKys7XG4gICAgICBxLml1c2hybigxKTtcbiAgICB9XG4gICAgYXNzZXJ0KCFxLmlzWmVybygpKTtcblxuICAgIHZhciBvbmUgPSBuZXcgQk4oMSkudG9SZWQodGhpcyk7XG4gICAgdmFyIG5PbmUgPSBvbmUucmVkTmVnKCk7XG5cbiAgICAvLyBGaW5kIHF1YWRyYXRpYyBub24tcmVzaWR1ZVxuICAgIC8vIE5PVEU6IE1heCBpcyBzdWNoIGJlY2F1c2Ugb2YgZ2VuZXJhbGl6ZWQgUmllbWFubiBoeXBvdGhlc2lzLlxuICAgIHZhciBscG93ID0gdGhpcy5tLnN1Ym4oMSkuaXVzaHJuKDEpO1xuICAgIHZhciB6ID0gdGhpcy5tLmJpdExlbmd0aCgpO1xuICAgIHogPSBuZXcgQk4oMiAqIHogKiB6KS50b1JlZCh0aGlzKTtcblxuICAgIHdoaWxlICh0aGlzLnBvdyh6LCBscG93KS5jbXAobk9uZSkgIT09IDApIHtcbiAgICAgIHoucmVkSUFkZChuT25lKTtcbiAgICB9XG5cbiAgICB2YXIgYyA9IHRoaXMucG93KHosIHEpO1xuICAgIHZhciByID0gdGhpcy5wb3coYSwgcS5hZGRuKDEpLml1c2hybigxKSk7XG4gICAgdmFyIHQgPSB0aGlzLnBvdyhhLCBxKTtcbiAgICB2YXIgbSA9IHM7XG4gICAgd2hpbGUgKHQuY21wKG9uZSkgIT09IDApIHtcbiAgICAgIHZhciB0bXAgPSB0O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IHRtcC5jbXAob25lKSAhPT0gMDsgaSsrKSB7XG4gICAgICAgIHRtcCA9IHRtcC5yZWRTcXIoKTtcbiAgICAgIH1cbiAgICAgIGFzc2VydChpIDwgbSk7XG4gICAgICB2YXIgYiA9IHRoaXMucG93KGMsIG5ldyBCTigxKS5pdXNobG4obSAtIGkgLSAxKSk7XG5cbiAgICAgIHIgPSByLnJlZE11bChiKTtcbiAgICAgIGMgPSBiLnJlZFNxcigpO1xuICAgICAgdCA9IHQucmVkTXVsKGMpO1xuICAgICAgbSA9IGk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHI7XG4gIH07XG5cbiAgUmVkLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bSAoYSkge1xuICAgIHZhciBpbnYgPSBhLl9pbnZtcCh0aGlzLm0pO1xuICAgIGlmIChpbnYubmVnYXRpdmUgIT09IDApIHtcbiAgICAgIGludi5uZWdhdGl2ZSA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5pbW9kKGludikucmVkTmVnKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmltb2QoaW52KTtcbiAgICB9XG4gIH07XG5cbiAgUmVkLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbiBwb3cgKGEsIG51bSkge1xuICAgIGlmIChudW0uaXNaZXJvKCkpIHJldHVybiBuZXcgQk4oMSkudG9SZWQodGhpcyk7XG4gICAgaWYgKG51bS5jbXBuKDEpID09PSAwKSByZXR1cm4gYS5jbG9uZSgpO1xuXG4gICAgdmFyIHdpbmRvd1NpemUgPSA0O1xuICAgIHZhciB3bmQgPSBuZXcgQXJyYXkoMSA8PCB3aW5kb3dTaXplKTtcbiAgICB3bmRbMF0gPSBuZXcgQk4oMSkudG9SZWQodGhpcyk7XG4gICAgd25kWzFdID0gYTtcbiAgICBmb3IgKHZhciBpID0gMjsgaSA8IHduZC5sZW5ndGg7IGkrKykge1xuICAgICAgd25kW2ldID0gdGhpcy5tdWwod25kW2kgLSAxXSwgYSk7XG4gICAgfVxuXG4gICAgdmFyIHJlcyA9IHduZFswXTtcbiAgICB2YXIgY3VycmVudCA9IDA7XG4gICAgdmFyIGN1cnJlbnRMZW4gPSAwO1xuICAgIHZhciBzdGFydCA9IG51bS5iaXRMZW5ndGgoKSAlIDI2O1xuICAgIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgc3RhcnQgPSAyNjtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSBudW0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciB3b3JkID0gbnVtLndvcmRzW2ldO1xuICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0IC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgdmFyIGJpdCA9ICh3b3JkID4+IGopICYgMTtcbiAgICAgICAgaWYgKHJlcyAhPT0gd25kWzBdKSB7XG4gICAgICAgICAgcmVzID0gdGhpcy5zcXIocmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiaXQgPT09IDAgJiYgY3VycmVudCA9PT0gMCkge1xuICAgICAgICAgIGN1cnJlbnRMZW4gPSAwO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudCA8PD0gMTtcbiAgICAgICAgY3VycmVudCB8PSBiaXQ7XG4gICAgICAgIGN1cnJlbnRMZW4rKztcbiAgICAgICAgaWYgKGN1cnJlbnRMZW4gIT09IHdpbmRvd1NpemUgJiYgKGkgIT09IDAgfHwgaiAhPT0gMCkpIGNvbnRpbnVlO1xuXG4gICAgICAgIHJlcyA9IHRoaXMubXVsKHJlcywgd25kW2N1cnJlbnRdKTtcbiAgICAgICAgY3VycmVudExlbiA9IDA7XG4gICAgICAgIGN1cnJlbnQgPSAwO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSAyNjtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIFJlZC5wcm90b3R5cGUuY29udmVydFRvID0gZnVuY3Rpb24gY29udmVydFRvIChudW0pIHtcbiAgICB2YXIgciA9IG51bS51bW9kKHRoaXMubSk7XG5cbiAgICByZXR1cm4gciA9PT0gbnVtID8gci5jbG9uZSgpIDogcjtcbiAgfTtcblxuICBSZWQucHJvdG90eXBlLmNvbnZlcnRGcm9tID0gZnVuY3Rpb24gY29udmVydEZyb20gKG51bSkge1xuICAgIHZhciByZXMgPSBudW0uY2xvbmUoKTtcbiAgICByZXMucmVkID0gbnVsbDtcbiAgICByZXR1cm4gcmVzO1xuICB9O1xuXG4gIC8vXG4gIC8vIE1vbnRnb21lcnkgbWV0aG9kIGVuZ2luZVxuICAvL1xuXG4gIEJOLm1vbnQgPSBmdW5jdGlvbiBtb250IChudW0pIHtcbiAgICByZXR1cm4gbmV3IE1vbnQobnVtKTtcbiAgfTtcblxuICBmdW5jdGlvbiBNb250IChtKSB7XG4gICAgUmVkLmNhbGwodGhpcywgbSk7XG5cbiAgICB0aGlzLnNoaWZ0ID0gdGhpcy5tLmJpdExlbmd0aCgpO1xuICAgIGlmICh0aGlzLnNoaWZ0ICUgMjYgIT09IDApIHtcbiAgICAgIHRoaXMuc2hpZnQgKz0gMjYgLSAodGhpcy5zaGlmdCAlIDI2KTtcbiAgICB9XG5cbiAgICB0aGlzLnIgPSBuZXcgQk4oMSkuaXVzaGxuKHRoaXMuc2hpZnQpO1xuICAgIHRoaXMucjIgPSB0aGlzLmltb2QodGhpcy5yLnNxcigpKTtcbiAgICB0aGlzLnJpbnYgPSB0aGlzLnIuX2ludm1wKHRoaXMubSk7XG5cbiAgICB0aGlzLm1pbnYgPSB0aGlzLnJpbnYubXVsKHRoaXMucikuaXN1Ym4oMSkuZGl2KHRoaXMubSk7XG4gICAgdGhpcy5taW52ID0gdGhpcy5taW52LnVtb2QodGhpcy5yKTtcbiAgICB0aGlzLm1pbnYgPSB0aGlzLnIuc3ViKHRoaXMubWludik7XG4gIH1cbiAgaW5oZXJpdHMoTW9udCwgUmVkKTtcblxuICBNb250LnByb3RvdHlwZS5jb252ZXJ0VG8gPSBmdW5jdGlvbiBjb252ZXJ0VG8gKG51bSkge1xuICAgIHJldHVybiB0aGlzLmltb2QobnVtLnVzaGxuKHRoaXMuc2hpZnQpKTtcbiAgfTtcblxuICBNb250LnByb3RvdHlwZS5jb252ZXJ0RnJvbSA9IGZ1bmN0aW9uIGNvbnZlcnRGcm9tIChudW0pIHtcbiAgICB2YXIgciA9IHRoaXMuaW1vZChudW0ubXVsKHRoaXMucmludikpO1xuICAgIHIucmVkID0gbnVsbDtcbiAgICByZXR1cm4gcjtcbiAgfTtcblxuICBNb250LnByb3RvdHlwZS5pbXVsID0gZnVuY3Rpb24gaW11bCAoYSwgYikge1xuICAgIGlmIChhLmlzWmVybygpIHx8IGIuaXNaZXJvKCkpIHtcbiAgICAgIGEud29yZHNbMF0gPSAwO1xuICAgICAgYS5sZW5ndGggPSAxO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gICAgdmFyIHQgPSBhLmltdWwoYik7XG4gICAgdmFyIGMgPSB0Lm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKTtcbiAgICB2YXIgdSA9IHQuaXN1YihjKS5pdXNocm4odGhpcy5zaGlmdCk7XG4gICAgdmFyIHJlcyA9IHU7XG5cbiAgICBpZiAodS5jbXAodGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXMgPSB1LmlzdWIodGhpcy5tKTtcbiAgICB9IGVsc2UgaWYgKHUuY21wbigwKSA8IDApIHtcbiAgICAgIHJlcyA9IHUuaWFkZCh0aGlzLm0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuX2ZvcmNlUmVkKHRoaXMpO1xuICB9O1xuXG4gIE1vbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bCAoYSwgYikge1xuICAgIGlmIChhLmlzWmVybygpIHx8IGIuaXNaZXJvKCkpIHJldHVybiBuZXcgQk4oMCkuX2ZvcmNlUmVkKHRoaXMpO1xuXG4gICAgdmFyIHQgPSBhLm11bChiKTtcbiAgICB2YXIgYyA9IHQubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pO1xuICAgIHZhciB1ID0gdC5pc3ViKGMpLml1c2hybih0aGlzLnNoaWZ0KTtcbiAgICB2YXIgcmVzID0gdTtcbiAgICBpZiAodS5jbXAodGhpcy5tKSA+PSAwKSB7XG4gICAgICByZXMgPSB1LmlzdWIodGhpcy5tKTtcbiAgICB9IGVsc2UgaWYgKHUuY21wbigwKSA8IDApIHtcbiAgICAgIHJlcyA9IHUuaWFkZCh0aGlzLm0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXMuX2ZvcmNlUmVkKHRoaXMpO1xuICB9O1xuXG4gIE1vbnQucHJvdG90eXBlLmludm0gPSBmdW5jdGlvbiBpbnZtIChhKSB7XG4gICAgLy8gKEFSKV4tMSAqIFJeMiA9IChBXi0xICogUl4tMSkgKiBSXjIgPSBBXi0xICogUlxuICAgIHZhciByZXMgPSB0aGlzLmltb2QoYS5faW52bXAodGhpcy5tKS5tdWwodGhpcy5yMikpO1xuICAgIHJldHVybiByZXMuX2ZvcmNlUmVkKHRoaXMpO1xuICB9O1xufSkodHlwZW9mIG1vZHVsZSA9PT0gJ3VuZGVmaW5lZCcgfHwgbW9kdWxlLCB0aGlzKTtcbiIsIi8qXG4gQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTSEEgZmFtaWx5IG9mIGhhc2hlcywgYXNcbiBkZWZpbmVkIGluIEZJUFMgUFVCIDE4MC00IGFuZCBGSVBTIFBVQiAyMDIsIGFzIHdlbGwgYXMgdGhlIGNvcnJlc3BvbmRpbmdcbiBITUFDIGltcGxlbWVudGF0aW9uIGFzIGRlZmluZWQgaW4gRklQUyBQVUIgMTk4YVxuXG4gQ29weXJpZ2h0IEJyaWFuIFR1cmVrIDIwMDgtMjAxN1xuIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuIFNlZSBodHRwOi8vY2FsaWdhdGlvLmdpdGh1Yi5jb20vanNTSEEvIGZvciBtb3JlIGluZm9ybWF0aW9uXG5cbiBTZXZlcmFsIGZ1bmN0aW9ucyB0YWtlbiBmcm9tIFBhdWwgSm9obnN0b25cbiovXG4ndXNlIHN0cmljdCc7KGZ1bmN0aW9uKFkpe2Z1bmN0aW9uIEMoYyxhLGIpe3ZhciBlPTAsaD1bXSxuPTAsZyxsLGQsZixtLHEsdSxyLEk9ITEsdj1bXSx3PVtdLHQseT0hMSx6PSExLHg9LTE7Yj1ifHx7fTtnPWIuZW5jb2Rpbmd8fFwiVVRGOFwiO3Q9Yi5udW1Sb3VuZHN8fDE7aWYodCE9PXBhcnNlSW50KHQsMTApfHwxPnQpdGhyb3cgRXJyb3IoXCJudW1Sb3VuZHMgbXVzdCBhIGludGVnZXIgPj0gMVwiKTtpZihcIlNIQS0xXCI9PT1jKW09NTEyLHE9Syx1PVosZj0xNjAscj1mdW5jdGlvbihhKXtyZXR1cm4gYS5zbGljZSgpfTtlbHNlIGlmKDA9PT1jLmxhc3RJbmRleE9mKFwiU0hBLVwiLDApKWlmKHE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTChhLGIsYyl9LHU9ZnVuY3Rpb24oYSxiLGgsZSl7dmFyIGssZjtpZihcIlNIQS0yMjRcIj09PWN8fFwiU0hBLTI1NlwiPT09YylrPShiKzY1Pj4+OTw8NCkrMTUsZj0xNjtlbHNlIGlmKFwiU0hBLTM4NFwiPT09Y3x8XCJTSEEtNTEyXCI9PT1jKWs9KGIrMTI5Pj4+MTA8PFxuNSkrMzEsZj0zMjtlbHNlIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBpbiBTSEEtMiBpbXBsZW1lbnRhdGlvblwiKTtmb3IoO2EubGVuZ3RoPD1rOylhLnB1c2goMCk7YVtiPj4+NV18PTEyODw8MjQtYiUzMjtiPWIraDthW2tdPWImNDI5NDk2NzI5NTthW2stMV09Yi80Mjk0OTY3Mjk2fDA7aD1hLmxlbmd0aDtmb3IoYj0wO2I8aDtiKz1mKWU9TChhLnNsaWNlKGIsYitmKSxlLGMpO2lmKFwiU0hBLTIyNFwiPT09YylhPVtlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdXTtlbHNlIGlmKFwiU0hBLTI1NlwiPT09YylhPWU7ZWxzZSBpZihcIlNIQS0zODRcIj09PWMpYT1bZVswXS5hLGVbMF0uYixlWzFdLmEsZVsxXS5iLGVbMl0uYSxlWzJdLmIsZVszXS5hLGVbM10uYixlWzRdLmEsZVs0XS5iLGVbNV0uYSxlWzVdLmJdO2Vsc2UgaWYoXCJTSEEtNTEyXCI9PT1jKWE9W2VbMF0uYSxlWzBdLmIsZVsxXS5hLGVbMV0uYixlWzJdLmEsZVsyXS5iLGVbM10uYSxlWzNdLmIsZVs0XS5hLFxuZVs0XS5iLGVbNV0uYSxlWzVdLmIsZVs2XS5hLGVbNl0uYixlWzddLmEsZVs3XS5iXTtlbHNlIHRocm93IEVycm9yKFwiVW5leHBlY3RlZCBlcnJvciBpbiBTSEEtMiBpbXBsZW1lbnRhdGlvblwiKTtyZXR1cm4gYX0scj1mdW5jdGlvbihhKXtyZXR1cm4gYS5zbGljZSgpfSxcIlNIQS0yMjRcIj09PWMpbT01MTIsZj0yMjQ7ZWxzZSBpZihcIlNIQS0yNTZcIj09PWMpbT01MTIsZj0yNTY7ZWxzZSBpZihcIlNIQS0zODRcIj09PWMpbT0xMDI0LGY9Mzg0O2Vsc2UgaWYoXCJTSEEtNTEyXCI9PT1jKW09MTAyNCxmPTUxMjtlbHNlIHRocm93IEVycm9yKFwiQ2hvc2VuIFNIQSB2YXJpYW50IGlzIG5vdCBzdXBwb3J0ZWRcIik7ZWxzZSBpZigwPT09Yy5sYXN0SW5kZXhPZihcIlNIQTMtXCIsMCl8fDA9PT1jLmxhc3RJbmRleE9mKFwiU0hBS0VcIiwwKSl7dmFyIEY9NjtxPUQ7cj1mdW5jdGlvbihhKXt2YXIgYz1bXSxlO2ZvcihlPTA7NT5lO2UrPTEpY1tlXT1hW2VdLnNsaWNlKCk7cmV0dXJuIGN9O3g9MTtpZihcIlNIQTMtMjI0XCI9PT1cbmMpbT0xMTUyLGY9MjI0O2Vsc2UgaWYoXCJTSEEzLTI1NlwiPT09YyltPTEwODgsZj0yNTY7ZWxzZSBpZihcIlNIQTMtMzg0XCI9PT1jKW09ODMyLGY9Mzg0O2Vsc2UgaWYoXCJTSEEzLTUxMlwiPT09YyltPTU3NixmPTUxMjtlbHNlIGlmKFwiU0hBS0UxMjhcIj09PWMpbT0xMzQ0LGY9LTEsRj0zMSx6PSEwO2Vsc2UgaWYoXCJTSEFLRTI1NlwiPT09YyltPTEwODgsZj0tMSxGPTMxLHo9ITA7ZWxzZSB0aHJvdyBFcnJvcihcIkNob3NlbiBTSEEgdmFyaWFudCBpcyBub3Qgc3VwcG9ydGVkXCIpO3U9ZnVuY3Rpb24oYSxjLGUsYixoKXtlPW07dmFyIGs9RixmLGc9W10sbj1lPj4+NSxsPTAsZD1jPj4+NTtmb3IoZj0wO2Y8ZCYmYz49ZTtmKz1uKWI9RChhLnNsaWNlKGYsZituKSxiKSxjLT1lO2E9YS5zbGljZShmKTtmb3IoYyU9ZTthLmxlbmd0aDxuOylhLnB1c2goMCk7Zj1jPj4+MzthW2Y+PjJdXj1rPDxmJTQqODthW24tMV1ePTIxNDc0ODM2NDg7Zm9yKGI9RChhLGIpOzMyKmcubGVuZ3RoPGg7KXthPWJbbCVcbjVdW2wvNXwwXTtnLnB1c2goYS5iKTtpZigzMipnLmxlbmd0aD49aClicmVhaztnLnB1c2goYS5hKTtsKz0xOzA9PT02NCpsJWUmJkQobnVsbCxiKX1yZXR1cm4gZ319ZWxzZSB0aHJvdyBFcnJvcihcIkNob3NlbiBTSEEgdmFyaWFudCBpcyBub3Qgc3VwcG9ydGVkXCIpO2Q9TShhLGcseCk7bD1BKGMpO3RoaXMuc2V0SE1BQ0tleT1mdW5jdGlvbihhLGIsaCl7dmFyIGs7aWYoITA9PT1JKXRocm93IEVycm9yKFwiSE1BQyBrZXkgYWxyZWFkeSBzZXRcIik7aWYoITA9PT15KXRocm93IEVycm9yKFwiQ2Fubm90IHNldCBITUFDIGtleSBhZnRlciBjYWxsaW5nIHVwZGF0ZVwiKTtpZighMD09PXopdGhyb3cgRXJyb3IoXCJTSEFLRSBpcyBub3Qgc3VwcG9ydGVkIGZvciBITUFDXCIpO2c9KGh8fHt9KS5lbmNvZGluZ3x8XCJVVEY4XCI7Yj1NKGIsZyx4KShhKTthPWIuYmluTGVuO2I9Yi52YWx1ZTtrPW0+Pj4zO2g9ay80LTE7aWYoazxhLzgpe2ZvcihiPXUoYixhLDAsQShjKSxmKTtiLmxlbmd0aDw9aDspYi5wdXNoKDApO1xuYltoXSY9NDI5NDk2NzA0MH1lbHNlIGlmKGs+YS84KXtmb3IoO2IubGVuZ3RoPD1oOyliLnB1c2goMCk7YltoXSY9NDI5NDk2NzA0MH1mb3IoYT0wO2E8PWg7YSs9MSl2W2FdPWJbYV1eOTA5NTIyNDg2LHdbYV09YlthXV4xNTQ5NTU2ODI4O2w9cSh2LGwpO2U9bTtJPSEwfTt0aGlzLnVwZGF0ZT1mdW5jdGlvbihhKXt2YXIgYyxiLGssZj0wLGc9bT4+PjU7Yz1kKGEsaCxuKTthPWMuYmluTGVuO2I9Yy52YWx1ZTtjPWE+Pj41O2ZvcihrPTA7azxjO2srPWcpZittPD1hJiYobD1xKGIuc2xpY2UoayxrK2cpLGwpLGYrPW0pO2UrPWY7aD1iLnNsaWNlKGY+Pj41KTtuPWElbTt5PSEwfTt0aGlzLmdldEhhc2g9ZnVuY3Rpb24oYSxiKXt2YXIgayxnLGQsbTtpZighMD09PUkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgY2FsbCBnZXRIYXNoIGFmdGVyIHNldHRpbmcgSE1BQyBrZXlcIik7ZD1OKGIpO2lmKCEwPT09eil7aWYoLTE9PT1kLnNoYWtlTGVuKXRocm93IEVycm9yKFwic2hha2VMZW4gbXVzdCBiZSBzcGVjaWZpZWQgaW4gb3B0aW9uc1wiKTtcbmY9ZC5zaGFrZUxlbn1zd2l0Y2goYSl7Y2FzZSBcIkhFWFwiOms9ZnVuY3Rpb24oYSl7cmV0dXJuIE8oYSxmLHgsZCl9O2JyZWFrO2Nhc2UgXCJCNjRcIjprPWZ1bmN0aW9uKGEpe3JldHVybiBQKGEsZix4LGQpfTticmVhaztjYXNlIFwiQllURVNcIjprPWZ1bmN0aW9uKGEpe3JldHVybiBRKGEsZix4KX07YnJlYWs7Y2FzZSBcIkFSUkFZQlVGRkVSXCI6dHJ5e2c9bmV3IEFycmF5QnVmZmVyKDApfWNhdGNoKHApe3Rocm93IEVycm9yKFwiQVJSQVlCVUZGRVIgbm90IHN1cHBvcnRlZCBieSB0aGlzIGVudmlyb25tZW50XCIpO31rPWZ1bmN0aW9uKGEpe3JldHVybiBSKGEsZix4KX07YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImZvcm1hdCBtdXN0IGJlIEhFWCwgQjY0LCBCWVRFUywgb3IgQVJSQVlCVUZGRVJcIik7fW09dShoLnNsaWNlKCksbixlLHIobCksZik7Zm9yKGc9MTtnPHQ7Zys9MSkhMD09PXomJjAhPT1mJTMyJiYobVttLmxlbmd0aC0xXSY9MTY3NzcyMTU+Pj4yNC1mJTMyKSxtPXUobSxmLFxuMCxBKGMpLGYpO3JldHVybiBrKG0pfTt0aGlzLmdldEhNQUM9ZnVuY3Rpb24oYSxiKXt2YXIgayxnLGQscDtpZighMT09PUkpdGhyb3cgRXJyb3IoXCJDYW5ub3QgY2FsbCBnZXRITUFDIHdpdGhvdXQgZmlyc3Qgc2V0dGluZyBITUFDIGtleVwiKTtkPU4oYik7c3dpdGNoKGEpe2Nhc2UgXCJIRVhcIjprPWZ1bmN0aW9uKGEpe3JldHVybiBPKGEsZix4LGQpfTticmVhaztjYXNlIFwiQjY0XCI6az1mdW5jdGlvbihhKXtyZXR1cm4gUChhLGYseCxkKX07YnJlYWs7Y2FzZSBcIkJZVEVTXCI6az1mdW5jdGlvbihhKXtyZXR1cm4gUShhLGYseCl9O2JyZWFrO2Nhc2UgXCJBUlJBWUJVRkZFUlwiOnRyeXtrPW5ldyBBcnJheUJ1ZmZlcigwKX1jYXRjaCh2KXt0aHJvdyBFcnJvcihcIkFSUkFZQlVGRkVSIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBlbnZpcm9ubWVudFwiKTt9az1mdW5jdGlvbihhKXtyZXR1cm4gUihhLGYseCl9O2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJvdXRwdXRGb3JtYXQgbXVzdCBiZSBIRVgsIEI2NCwgQllURVMsIG9yIEFSUkFZQlVGRkVSXCIpO1xufWc9dShoLnNsaWNlKCksbixlLHIobCksZik7cD1xKHcsQShjKSk7cD11KGcsZixtLHAsZik7cmV0dXJuIGsocCl9fWZ1bmN0aW9uIGIoYyxhKXt0aGlzLmE9Yzt0aGlzLmI9YX1mdW5jdGlvbiBPKGMsYSxiLGUpe3ZhciBoPVwiXCI7YS89ODt2YXIgbixnLGQ7ZD0tMT09PWI/MzowO2ZvcihuPTA7bjxhO24rPTEpZz1jW24+Pj4yXT4+PjgqKGQrbiU0KmIpLGgrPVwiMDEyMzQ1Njc4OWFiY2RlZlwiLmNoYXJBdChnPj4+NCYxNSkrXCIwMTIzNDU2Nzg5YWJjZGVmXCIuY2hhckF0KGcmMTUpO3JldHVybiBlLm91dHB1dFVwcGVyP2gudG9VcHBlckNhc2UoKTpofWZ1bmN0aW9uIFAoYyxhLGIsZSl7dmFyIGg9XCJcIixuPWEvOCxnLGQscCxmO2Y9LTE9PT1iPzM6MDtmb3IoZz0wO2c8bjtnKz0zKWZvcihkPWcrMTxuP2NbZysxPj4+Ml06MCxwPWcrMjxuP2NbZysyPj4+Ml06MCxwPShjW2c+Pj4yXT4+PjgqKGYrZyU0KmIpJjI1NSk8PDE2fChkPj4+OCooZisoZysxKSU0KmIpJjI1NSk8PDh8cD4+PjgqKGYrXG4oZysyKSU0KmIpJjI1NSxkPTA7ND5kO2QrPTEpOCpnKzYqZDw9YT9oKz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIi5jaGFyQXQocD4+PjYqKDMtZCkmNjMpOmgrPWUuYjY0UGFkO3JldHVybiBofWZ1bmN0aW9uIFEoYyxhLGIpe3ZhciBlPVwiXCI7YS89ODt2YXIgaCxkLGc7Zz0tMT09PWI/MzowO2ZvcihoPTA7aDxhO2grPTEpZD1jW2g+Pj4yXT4+PjgqKGcraCU0KmIpJjI1NSxlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQpO3JldHVybiBlfWZ1bmN0aW9uIFIoYyxhLGIpe2EvPTg7dmFyIGUsaD1uZXcgQXJyYXlCdWZmZXIoYSksZCxnO2c9bmV3IFVpbnQ4QXJyYXkoaCk7ZD0tMT09PWI/MzowO2ZvcihlPTA7ZTxhO2UrPTEpZ1tlXT1jW2U+Pj4yXT4+PjgqKGQrZSU0KmIpJjI1NTtyZXR1cm4gaH1mdW5jdGlvbiBOKGMpe3ZhciBhPXtvdXRwdXRVcHBlcjohMSxiNjRQYWQ6XCI9XCIsc2hha2VMZW46LTF9O2M9Y3x8e307XG5hLm91dHB1dFVwcGVyPWMub3V0cHV0VXBwZXJ8fCExOyEwPT09Yy5oYXNPd25Qcm9wZXJ0eShcImI2NFBhZFwiKSYmKGEuYjY0UGFkPWMuYjY0UGFkKTtpZighMD09PWMuaGFzT3duUHJvcGVydHkoXCJzaGFrZUxlblwiKSl7aWYoMCE9PWMuc2hha2VMZW4lOCl0aHJvdyBFcnJvcihcInNoYWtlTGVuIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA4XCIpO2Euc2hha2VMZW49Yy5zaGFrZUxlbn1pZihcImJvb2xlYW5cIiE9PXR5cGVvZiBhLm91dHB1dFVwcGVyKXRocm93IEVycm9yKFwiSW52YWxpZCBvdXRwdXRVcHBlciBmb3JtYXR0aW5nIG9wdGlvblwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGEuYjY0UGFkKXRocm93IEVycm9yKFwiSW52YWxpZCBiNjRQYWQgZm9ybWF0dGluZyBvcHRpb25cIik7cmV0dXJuIGF9ZnVuY3Rpb24gTShjLGEsYil7c3dpdGNoKGEpe2Nhc2UgXCJVVEY4XCI6Y2FzZSBcIlVURjE2QkVcIjpjYXNlIFwiVVRGMTZMRVwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJlbmNvZGluZyBtdXN0IGJlIFVURjgsIFVURjE2QkUsIG9yIFVURjE2TEVcIik7XG59c3dpdGNoKGMpe2Nhc2UgXCJIRVhcIjpjPWZ1bmN0aW9uKGEsYyxkKXt2YXIgZz1hLmxlbmd0aCxsLHAsZixtLHEsdTtpZigwIT09ZyUyKXRocm93IEVycm9yKFwiU3RyaW5nIG9mIEhFWCB0eXBlIG11c3QgYmUgaW4gYnl0ZSBpbmNyZW1lbnRzXCIpO2M9Y3x8WzBdO2Q9ZHx8MDtxPWQ+Pj4zO3U9LTE9PT1iPzM6MDtmb3IobD0wO2w8ZztsKz0yKXtwPXBhcnNlSW50KGEuc3Vic3RyKGwsMiksMTYpO2lmKGlzTmFOKHApKXRocm93IEVycm9yKFwiU3RyaW5nIG9mIEhFWCB0eXBlIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVyc1wiKTttPShsPj4+MSkrcTtmb3IoZj1tPj4+MjtjLmxlbmd0aDw9ZjspYy5wdXNoKDApO2NbZl18PXA8PDgqKHUrbSU0KmIpfXJldHVybnt2YWx1ZTpjLGJpbkxlbjo0KmcrZH19O2JyZWFrO2Nhc2UgXCJURVhUXCI6Yz1mdW5jdGlvbihjLGgsZCl7dmFyIGcsbCxwPTAsZixtLHEsdSxyLHQ7aD1ofHxbMF07ZD1kfHwwO3E9ZD4+PjM7aWYoXCJVVEY4XCI9PT1hKWZvcih0PS0xPT09XG5iPzM6MCxmPTA7ZjxjLmxlbmd0aDtmKz0xKWZvcihnPWMuY2hhckNvZGVBdChmKSxsPVtdLDEyOD5nP2wucHVzaChnKToyMDQ4Pmc/KGwucHVzaCgxOTJ8Zz4+PjYpLGwucHVzaCgxMjh8ZyY2MykpOjU1Mjk2Pmd8fDU3MzQ0PD1nP2wucHVzaCgyMjR8Zz4+PjEyLDEyOHxnPj4+NiY2MywxMjh8ZyY2Myk6KGYrPTEsZz02NTUzNisoKGcmMTAyMyk8PDEwfGMuY2hhckNvZGVBdChmKSYxMDIzKSxsLnB1c2goMjQwfGc+Pj4xOCwxMjh8Zz4+PjEyJjYzLDEyOHxnPj4+NiY2MywxMjh8ZyY2MykpLG09MDttPGwubGVuZ3RoO20rPTEpe3I9cCtxO2Zvcih1PXI+Pj4yO2gubGVuZ3RoPD11OyloLnB1c2goMCk7aFt1XXw9bFttXTw8OCoodCtyJTQqYik7cCs9MX1lbHNlIGlmKFwiVVRGMTZCRVwiPT09YXx8XCJVVEYxNkxFXCI9PT1hKWZvcih0PS0xPT09Yj8yOjAsbD1cIlVURjE2TEVcIj09PWEmJjEhPT1ifHxcIlVURjE2TEVcIiE9PWEmJjE9PT1iLGY9MDtmPGMubGVuZ3RoO2YrPTEpe2c9Yy5jaGFyQ29kZUF0KGYpO1xuITA9PT1sJiYobT1nJjI1NSxnPW08PDh8Zz4+PjgpO3I9cCtxO2Zvcih1PXI+Pj4yO2gubGVuZ3RoPD11OyloLnB1c2goMCk7aFt1XXw9Zzw8OCoodCtyJTQqYik7cCs9Mn1yZXR1cm57dmFsdWU6aCxiaW5MZW46OCpwK2R9fTticmVhaztjYXNlIFwiQjY0XCI6Yz1mdW5jdGlvbihhLGMsZCl7dmFyIGc9MCxsLHAsZixtLHEsdSxyLHQ7aWYoLTE9PT1hLnNlYXJjaCgvXlthLXpBLVowLTk9K1xcL10rJC8pKXRocm93IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gYmFzZS02NCBzdHJpbmdcIik7cD1hLmluZGV4T2YoXCI9XCIpO2E9YS5yZXBsYWNlKC9cXD0vZyxcIlwiKTtpZigtMSE9PXAmJnA8YS5sZW5ndGgpdGhyb3cgRXJyb3IoXCJJbnZhbGlkICc9JyBmb3VuZCBpbiBiYXNlLTY0IHN0cmluZ1wiKTtjPWN8fFswXTtkPWR8fDA7dT1kPj4+Mzt0PS0xPT09Yj8zOjA7Zm9yKHA9MDtwPGEubGVuZ3RoO3ArPTQpe3E9YS5zdWJzdHIocCw0KTtmb3IoZj1tPTA7ZjxxLmxlbmd0aDtmKz0xKWw9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuaW5kZXhPZihxW2ZdKSxcbm18PWw8PDE4LTYqZjtmb3IoZj0wO2Y8cS5sZW5ndGgtMTtmKz0xKXtyPWcrdTtmb3IobD1yPj4+MjtjLmxlbmd0aDw9bDspYy5wdXNoKDApO2NbbF18PShtPj4+MTYtOCpmJjI1NSk8PDgqKHQrciU0KmIpO2crPTF9fXJldHVybnt2YWx1ZTpjLGJpbkxlbjo4KmcrZH19O2JyZWFrO2Nhc2UgXCJCWVRFU1wiOmM9ZnVuY3Rpb24oYSxjLGQpe3ZhciBnLGwscCxmLG0scTtjPWN8fFswXTtkPWR8fDA7cD1kPj4+MztxPS0xPT09Yj8zOjA7Zm9yKGw9MDtsPGEubGVuZ3RoO2wrPTEpZz1hLmNoYXJDb2RlQXQobCksbT1sK3AsZj1tPj4+MixjLmxlbmd0aDw9ZiYmYy5wdXNoKDApLGNbZl18PWc8PDgqKHErbSU0KmIpO3JldHVybnt2YWx1ZTpjLGJpbkxlbjo4KmEubGVuZ3RoK2R9fTticmVhaztjYXNlIFwiQVJSQVlCVUZGRVJcIjp0cnl7Yz1uZXcgQXJyYXlCdWZmZXIoMCl9Y2F0Y2goZSl7dGhyb3cgRXJyb3IoXCJBUlJBWUJVRkZFUiBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZW52aXJvbm1lbnRcIik7fWM9XG5mdW5jdGlvbihhLGMsZCl7dmFyIGcsbCxwLGYsbSxxO2M9Y3x8WzBdO2Q9ZHx8MDtsPWQ+Pj4zO209LTE9PT1iPzM6MDtxPW5ldyBVaW50OEFycmF5KGEpO2ZvcihnPTA7ZzxhLmJ5dGVMZW5ndGg7Zys9MSlmPWcrbCxwPWY+Pj4yLGMubGVuZ3RoPD1wJiZjLnB1c2goMCksY1twXXw9cVtnXTw8OCoobStmJTQqYik7cmV0dXJue3ZhbHVlOmMsYmluTGVuOjgqYS5ieXRlTGVuZ3RoK2R9fTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiZm9ybWF0IG11c3QgYmUgSEVYLCBURVhULCBCNjQsIEJZVEVTLCBvciBBUlJBWUJVRkZFUlwiKTt9cmV0dXJuIGN9ZnVuY3Rpb24geShjLGEpe3JldHVybiBjPDxhfGM+Pj4zMi1hfWZ1bmN0aW9uIFMoYyxhKXtyZXR1cm4gMzI8YT8oYS09MzIsbmV3IGIoYy5iPDxhfGMuYT4+PjMyLWEsYy5hPDxhfGMuYj4+PjMyLWEpKTowIT09YT9uZXcgYihjLmE8PGF8Yy5iPj4+MzItYSxjLmI8PGF8Yy5hPj4+MzItYSk6Y31mdW5jdGlvbiB3KGMsYSl7cmV0dXJuIGM+Pj5cbmF8Yzw8MzItYX1mdW5jdGlvbiB0KGMsYSl7dmFyIGs9bnVsbCxrPW5ldyBiKGMuYSxjLmIpO3JldHVybiBrPTMyPj1hP25ldyBiKGsuYT4+PmF8ay5iPDwzMi1hJjQyOTQ5NjcyOTUsay5iPj4+YXxrLmE8PDMyLWEmNDI5NDk2NzI5NSk6bmV3IGIoay5iPj4+YS0zMnxrLmE8PDY0LWEmNDI5NDk2NzI5NSxrLmE+Pj5hLTMyfGsuYjw8NjQtYSY0Mjk0OTY3Mjk1KX1mdW5jdGlvbiBUKGMsYSl7dmFyIGs9bnVsbDtyZXR1cm4gaz0zMj49YT9uZXcgYihjLmE+Pj5hLGMuYj4+PmF8Yy5hPDwzMi1hJjQyOTQ5NjcyOTUpOm5ldyBiKDAsYy5hPj4+YS0zMil9ZnVuY3Rpb24gYWEoYyxhLGIpe3JldHVybiBjJmFefmMmYn1mdW5jdGlvbiBiYShjLGEsayl7cmV0dXJuIG5ldyBiKGMuYSZhLmFefmMuYSZrLmEsYy5iJmEuYl5+Yy5iJmsuYil9ZnVuY3Rpb24gVShjLGEsYil7cmV0dXJuIGMmYV5jJmJeYSZifWZ1bmN0aW9uIGNhKGMsYSxrKXtyZXR1cm4gbmV3IGIoYy5hJmEuYV5jLmEmay5hXmEuYSZcbmsuYSxjLmImYS5iXmMuYiZrLmJeYS5iJmsuYil9ZnVuY3Rpb24gZGEoYyl7cmV0dXJuIHcoYywyKV53KGMsMTMpXncoYywyMil9ZnVuY3Rpb24gZWEoYyl7dmFyIGE9dChjLDI4KSxrPXQoYywzNCk7Yz10KGMsMzkpO3JldHVybiBuZXcgYihhLmFeay5hXmMuYSxhLmJeay5iXmMuYil9ZnVuY3Rpb24gZmEoYyl7cmV0dXJuIHcoYyw2KV53KGMsMTEpXncoYywyNSl9ZnVuY3Rpb24gZ2EoYyl7dmFyIGE9dChjLDE0KSxrPXQoYywxOCk7Yz10KGMsNDEpO3JldHVybiBuZXcgYihhLmFeay5hXmMuYSxhLmJeay5iXmMuYil9ZnVuY3Rpb24gaGEoYyl7cmV0dXJuIHcoYyw3KV53KGMsMTgpXmM+Pj4zfWZ1bmN0aW9uIGlhKGMpe3ZhciBhPXQoYywxKSxrPXQoYyw4KTtjPVQoYyw3KTtyZXR1cm4gbmV3IGIoYS5hXmsuYV5jLmEsYS5iXmsuYl5jLmIpfWZ1bmN0aW9uIGphKGMpe3JldHVybiB3KGMsMTcpXncoYywxOSleYz4+PjEwfWZ1bmN0aW9uIGthKGMpe3ZhciBhPXQoYywxOSksaz10KGMsNjEpO1xuYz1UKGMsNik7cmV0dXJuIG5ldyBiKGEuYV5rLmFeYy5hLGEuYl5rLmJeYy5iKX1mdW5jdGlvbiBHKGMsYSl7dmFyIGI9KGMmNjU1MzUpKyhhJjY1NTM1KTtyZXR1cm4oKGM+Pj4xNikrKGE+Pj4xNikrKGI+Pj4xNikmNjU1MzUpPDwxNnxiJjY1NTM1fWZ1bmN0aW9uIGxhKGMsYSxiLGUpe3ZhciBoPShjJjY1NTM1KSsoYSY2NTUzNSkrKGImNjU1MzUpKyhlJjY1NTM1KTtyZXR1cm4oKGM+Pj4xNikrKGE+Pj4xNikrKGI+Pj4xNikrKGU+Pj4xNikrKGg+Pj4xNikmNjU1MzUpPDwxNnxoJjY1NTM1fWZ1bmN0aW9uIEgoYyxhLGIsZSxoKXt2YXIgZD0oYyY2NTUzNSkrKGEmNjU1MzUpKyhiJjY1NTM1KSsoZSY2NTUzNSkrKGgmNjU1MzUpO3JldHVybigoYz4+PjE2KSsoYT4+PjE2KSsoYj4+PjE2KSsoZT4+PjE2KSsoaD4+PjE2KSsoZD4+PjE2KSY2NTUzNSk8PDE2fGQmNjU1MzV9ZnVuY3Rpb24gbWEoYyxhKXt2YXIgZCxlLGg7ZD0oYy5iJjY1NTM1KSsoYS5iJjY1NTM1KTtlPShjLmI+Pj4xNikrXG4oYS5iPj4+MTYpKyhkPj4+MTYpO2g9KGUmNjU1MzUpPDwxNnxkJjY1NTM1O2Q9KGMuYSY2NTUzNSkrKGEuYSY2NTUzNSkrKGU+Pj4xNik7ZT0oYy5hPj4+MTYpKyhhLmE+Pj4xNikrKGQ+Pj4xNik7cmV0dXJuIG5ldyBiKChlJjY1NTM1KTw8MTZ8ZCY2NTUzNSxoKX1mdW5jdGlvbiBuYShjLGEsZCxlKXt2YXIgaCxuLGc7aD0oYy5iJjY1NTM1KSsoYS5iJjY1NTM1KSsoZC5iJjY1NTM1KSsoZS5iJjY1NTM1KTtuPShjLmI+Pj4xNikrKGEuYj4+PjE2KSsoZC5iPj4+MTYpKyhlLmI+Pj4xNikrKGg+Pj4xNik7Zz0obiY2NTUzNSk8PDE2fGgmNjU1MzU7aD0oYy5hJjY1NTM1KSsoYS5hJjY1NTM1KSsoZC5hJjY1NTM1KSsoZS5hJjY1NTM1KSsobj4+PjE2KTtuPShjLmE+Pj4xNikrKGEuYT4+PjE2KSsoZC5hPj4+MTYpKyhlLmE+Pj4xNikrKGg+Pj4xNik7cmV0dXJuIG5ldyBiKChuJjY1NTM1KTw8MTZ8aCY2NTUzNSxnKX1mdW5jdGlvbiBvYShjLGEsZCxlLGgpe3ZhciBuLGcsbDtuPShjLmImXG42NTUzNSkrKGEuYiY2NTUzNSkrKGQuYiY2NTUzNSkrKGUuYiY2NTUzNSkrKGguYiY2NTUzNSk7Zz0oYy5iPj4+MTYpKyhhLmI+Pj4xNikrKGQuYj4+PjE2KSsoZS5iPj4+MTYpKyhoLmI+Pj4xNikrKG4+Pj4xNik7bD0oZyY2NTUzNSk8PDE2fG4mNjU1MzU7bj0oYy5hJjY1NTM1KSsoYS5hJjY1NTM1KSsoZC5hJjY1NTM1KSsoZS5hJjY1NTM1KSsoaC5hJjY1NTM1KSsoZz4+PjE2KTtnPShjLmE+Pj4xNikrKGEuYT4+PjE2KSsoZC5hPj4+MTYpKyhlLmE+Pj4xNikrKGguYT4+PjE2KSsobj4+PjE2KTtyZXR1cm4gbmV3IGIoKGcmNjU1MzUpPDwxNnxuJjY1NTM1LGwpfWZ1bmN0aW9uIEIoYyxhKXtyZXR1cm4gbmV3IGIoYy5hXmEuYSxjLmJeYS5iKX1mdW5jdGlvbiBBKGMpe3ZhciBhPVtdLGQ7aWYoXCJTSEEtMVwiPT09YylhPVsxNzMyNTg0MTkzLDQwMjMyMzM0MTcsMjU2MjM4MzEwMiwyNzE3MzM4NzgsMzI4NTM3NzUyMF07ZWxzZSBpZigwPT09Yy5sYXN0SW5kZXhPZihcIlNIQS1cIiwwKSlzd2l0Y2goYT1cblszMjM4MzcxMDMyLDkxNDE1MDY2Myw4MTI3MDI5OTksNDE0NDkxMjY5Nyw0MjkwNzc1ODU3LDE3NTA2MDMwMjUsMTY5NDA3NjgzOSwzMjA0MDc1NDI4XSxkPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0sYyl7Y2FzZSBcIlNIQS0yMjRcIjpicmVhaztjYXNlIFwiU0hBLTI1NlwiOmE9ZDticmVhaztjYXNlIFwiU0hBLTM4NFwiOmE9W25ldyBiKDM0MTgwNzAzNjUsYVswXSksbmV3IGIoMTY1NDI3MDI1MCxhWzFdKSxuZXcgYigyNDM4NTI5MzcwLGFbMl0pLG5ldyBiKDM1NTQ2MjM2MCxhWzNdKSxuZXcgYigxNzMxNDA1NDE1LGFbNF0pLG5ldyBiKDQxMDQ4ODg1ODk1LGFbNV0pLG5ldyBiKDM2NzUwMDg1MjUsYVs2XSksbmV3IGIoMTIwMzA2MjgxMyxhWzddKV07YnJlYWs7Y2FzZSBcIlNIQS01MTJcIjphPVtuZXcgYihkWzBdLDQwODkyMzU3MjApLG5ldyBiKGRbMV0sMjIyNzg3MzU5NSksXG5uZXcgYihkWzJdLDQyNzExNzU3MjMpLG5ldyBiKGRbM10sMTU5NTc1MDEyOSksbmV3IGIoZFs0XSwyOTE3NTY1MTM3KSxuZXcgYihkWzVdLDcyNTUxMTE5OSksbmV3IGIoZFs2XSw0MjE1Mzg5NTQ3KSxuZXcgYihkWzddLDMyNzAzMzIwOSldO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIFNIQSB2YXJpYW50XCIpO31lbHNlIGlmKDA9PT1jLmxhc3RJbmRleE9mKFwiU0hBMy1cIiwwKXx8MD09PWMubGFzdEluZGV4T2YoXCJTSEFLRVwiLDApKWZvcihjPTA7NT5jO2MrPTEpYVtjXT1bbmV3IGIoMCwwKSxuZXcgYigwLDApLG5ldyBiKDAsMCksbmV3IGIoMCwwKSxuZXcgYigwLDApXTtlbHNlIHRocm93IEVycm9yKFwiTm8gU0hBIHZhcmlhbnRzIHN1cHBvcnRlZFwiKTtyZXR1cm4gYX1mdW5jdGlvbiBLKGMsYSl7dmFyIGI9W10sZSxkLG4sZyxsLHAsZjtlPWFbMF07ZD1hWzFdO249YVsyXTtnPWFbM107bD1hWzRdO2ZvcihmPTA7ODA+ZjtmKz0xKWJbZl09MTY+Zj9jW2ZdOnkoYltmLVxuM11eYltmLThdXmJbZi0xNF1eYltmLTE2XSwxKSxwPTIwPmY/SCh5KGUsNSksZCZuXn5kJmcsbCwxNTE4NTAwMjQ5LGJbZl0pOjQwPmY/SCh5KGUsNSksZF5uXmcsbCwxODU5Nzc1MzkzLGJbZl0pOjYwPmY/SCh5KGUsNSksVShkLG4sZyksbCwyNDAwOTU5NzA4LGJbZl0pOkgoeShlLDUpLGRebl5nLGwsMzM5NTQ2OTc4MixiW2ZdKSxsPWcsZz1uLG49eShkLDMwKSxkPWUsZT1wO2FbMF09RyhlLGFbMF0pO2FbMV09RyhkLGFbMV0pO2FbMl09RyhuLGFbMl0pO2FbM109RyhnLGFbM10pO2FbNF09RyhsLGFbNF0pO3JldHVybiBhfWZ1bmN0aW9uIFooYyxhLGIsZSl7dmFyIGQ7Zm9yKGQ9KGErNjU+Pj45PDw0KSsxNTtjLmxlbmd0aDw9ZDspYy5wdXNoKDApO2NbYT4+PjVdfD0xMjg8PDI0LWElMzI7YSs9YjtjW2RdPWEmNDI5NDk2NzI5NTtjW2QtMV09YS80Mjk0OTY3Mjk2fDA7YT1jLmxlbmd0aDtmb3IoZD0wO2Q8YTtkKz0xNillPUsoYy5zbGljZShkLGQrMTYpLGUpO3JldHVybiBlfWZ1bmN0aW9uIEwoYyxcbmEsayl7dmFyIGUsaCxuLGcsbCxwLGYsbSxxLHUscix0LHYsdyx5LEEseix4LEYsQixDLEQsRT1bXSxKO2lmKFwiU0hBLTIyNFwiPT09a3x8XCJTSEEtMjU2XCI9PT1rKXU9NjQsdD0xLEQ9TnVtYmVyLHY9Ryx3PWxhLHk9SCxBPWhhLHo9amEseD1kYSxGPWZhLEM9VSxCPWFhLEo9ZDtlbHNlIGlmKFwiU0hBLTM4NFwiPT09a3x8XCJTSEEtNTEyXCI9PT1rKXU9ODAsdD0yLEQ9Yix2PW1hLHc9bmEseT1vYSxBPWlhLHo9a2EseD1lYSxGPWdhLEM9Y2EsQj1iYSxKPVY7ZWxzZSB0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgZXJyb3IgaW4gU0hBLTIgaW1wbGVtZW50YXRpb25cIik7az1hWzBdO2U9YVsxXTtoPWFbMl07bj1hWzNdO2c9YVs0XTtsPWFbNV07cD1hWzZdO2Y9YVs3XTtmb3Iocj0wO3I8dTtyKz0xKTE2PnI/KHE9cip0LG09Yy5sZW5ndGg8PXE/MDpjW3FdLHE9Yy5sZW5ndGg8PXErMT8wOmNbcSsxXSxFW3JdPW5ldyBEKG0scSkpOkVbcl09dyh6KEVbci0yXSksRVtyLTddLEEoRVtyLTE1XSksRVtyLVxuMTZdKSxtPXkoZixGKGcpLEIoZyxsLHApLEpbcl0sRVtyXSkscT12KHgoayksQyhrLGUsaCkpLGY9cCxwPWwsbD1nLGc9dihuLG0pLG49aCxoPWUsZT1rLGs9dihtLHEpO2FbMF09dihrLGFbMF0pO2FbMV09dihlLGFbMV0pO2FbMl09dihoLGFbMl0pO2FbM109dihuLGFbM10pO2FbNF09dihnLGFbNF0pO2FbNV09dihsLGFbNV0pO2FbNl09dihwLGFbNl0pO2FbN109dihmLGFbN10pO3JldHVybiBhfWZ1bmN0aW9uIEQoYyxhKXt2YXIgZCxlLGgsbixnPVtdLGw9W107aWYobnVsbCE9PWMpZm9yKGU9MDtlPGMubGVuZ3RoO2UrPTIpYVsoZT4+PjEpJTVdWyhlPj4+MSkvNXwwXT1CKGFbKGU+Pj4xKSU1XVsoZT4+PjEpLzV8MF0sbmV3IGIoY1tlKzFdLGNbZV0pKTtmb3IoZD0wOzI0PmQ7ZCs9MSl7bj1BKFwiU0hBMy1cIik7Zm9yKGU9MDs1PmU7ZSs9MSl7aD1hW2VdWzBdO3ZhciBwPWFbZV1bMV0sZj1hW2VdWzJdLG09YVtlXVszXSxxPWFbZV1bNF07Z1tlXT1uZXcgYihoLmFecC5hXmYuYV5cbm0uYV5xLmEsaC5iXnAuYl5mLmJebS5iXnEuYil9Zm9yKGU9MDs1PmU7ZSs9MSlsW2VdPUIoZ1soZSs0KSU1XSxTKGdbKGUrMSklNV0sMSkpO2ZvcihlPTA7NT5lO2UrPTEpZm9yKGg9MDs1Pmg7aCs9MSlhW2VdW2hdPUIoYVtlXVtoXSxsW2VdKTtmb3IoZT0wOzU+ZTtlKz0xKWZvcihoPTA7NT5oO2grPTEpbltoXVsoMiplKzMqaCklNV09UyhhW2VdW2hdLFdbZV1baF0pO2ZvcihlPTA7NT5lO2UrPTEpZm9yKGg9MDs1Pmg7aCs9MSlhW2VdW2hdPUIobltlXVtoXSxuZXcgYih+blsoZSsxKSU1XVtoXS5hJm5bKGUrMiklNV1baF0uYSx+blsoZSsxKSU1XVtoXS5iJm5bKGUrMiklNV1baF0uYikpO2FbMF1bMF09QihhWzBdWzBdLFhbZF0pfXJldHVybiBhfXZhciBkLFYsVyxYO2Q9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCxcbjE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LFxuMjIyNzczMDQ1MiwyMzYxODUyNDI0LDI0Mjg0MzY0NzQsMjc1NjczNDE4NywzMjA0MDMxNDc5LDMzMjkzMjUyOThdO1Y9W25ldyBiKGRbMF0sMzYwOTc2NzQ1OCksbmV3IGIoZFsxXSw2MDI4OTE3MjUpLG5ldyBiKGRbMl0sMzk2NDQ4NDM5OSksbmV3IGIoZFszXSwyMTczMjk1NTQ4KSxuZXcgYihkWzRdLDQwODE2Mjg0NzIpLG5ldyBiKGRbNV0sMzA1MzgzNDI2NSksbmV3IGIoZFs2XSwyOTM3NjcxNTc5KSxuZXcgYihkWzddLDM2NjQ2MDk1NjApLG5ldyBiKGRbOF0sMjczNDg4MzM5NCksbmV3IGIoZFs5XSwxMTY0OTk2NTQyKSxuZXcgYihkWzEwXSwxMzIzNjEwNzY0KSxuZXcgYihkWzExXSwzNTkwMzA0OTk0KSxuZXcgYihkWzEyXSw0MDY4MTgyMzgzKSxuZXcgYihkWzEzXSw5OTEzMzYxMTMpLG5ldyBiKGRbMTRdLDYzMzgwMzMxNyksbmV3IGIoZFsxNV0sMzQ3OTc3NDg2OCksbmV3IGIoZFsxNl0sMjY2NjYxMzQ1OCksbmV3IGIoZFsxN10sOTQ0NzExMTM5KSxuZXcgYihkWzE4XSwyMzQxMjYyNzczKSxcbm5ldyBiKGRbMTldLDIwMDc4MDA5MzMpLG5ldyBiKGRbMjBdLDE0OTU5OTA5MDEpLG5ldyBiKGRbMjFdLDE4NTY0MzEyMzUpLG5ldyBiKGRbMjJdLDMxNzUyMTgxMzIpLG5ldyBiKGRbMjNdLDIxOTg5NTA4MzcpLG5ldyBiKGRbMjRdLDM5OTk3MTkzMzkpLG5ldyBiKGRbMjVdLDc2Njc4NDAxNiksbmV3IGIoZFsyNl0sMjU2NjU5NDg3OSksbmV3IGIoZFsyN10sMzIwMzMzNzk1NiksbmV3IGIoZFsyOF0sMTAzNDQ1NzAyNiksbmV3IGIoZFsyOV0sMjQ2Njk0ODkwMSksbmV3IGIoZFszMF0sMzc1ODMyNjM4MyksbmV3IGIoZFszMV0sMTY4NzE3OTM2KSxuZXcgYihkWzMyXSwxMTg4MTc5OTY0KSxuZXcgYihkWzMzXSwxNTQ2MDQ1NzM0KSxuZXcgYihkWzM0XSwxNTIyODA1NDg1KSxuZXcgYihkWzM1XSwyNjQzODMzODIzKSxuZXcgYihkWzM2XSwyMzQzNTI3MzkwKSxuZXcgYihkWzM3XSwxMDE0NDc3NDgwKSxuZXcgYihkWzM4XSwxMjA2NzU5MTQyKSxuZXcgYihkWzM5XSwzNDQwNzc2MjcpLFxubmV3IGIoZFs0MF0sMTI5MDg2MzQ2MCksbmV3IGIoZFs0MV0sMzE1ODQ1NDI3MyksbmV3IGIoZFs0Ml0sMzUwNTk1MjY1NyksbmV3IGIoZFs0M10sMTA2MjE3MDA4KSxuZXcgYihkWzQ0XSwzNjA2MDA4MzQ0KSxuZXcgYihkWzQ1XSwxNDMyNzI1Nzc2KSxuZXcgYihkWzQ2XSwxNDY3MDMxNTk0KSxuZXcgYihkWzQ3XSw4NTExNjk3MjApLG5ldyBiKGRbNDhdLDMxMDA4MjM3NTIpLG5ldyBiKGRbNDldLDEzNjMyNTgxOTUpLG5ldyBiKGRbNTBdLDM3NTA2ODU1OTMpLG5ldyBiKGRbNTFdLDM3ODUwNTAyODApLG5ldyBiKGRbNTJdLDMzMTgzMDc0MjcpLG5ldyBiKGRbNTNdLDM4MTI3MjM0MDMpLG5ldyBiKGRbNTRdLDIwMDMwMzQ5OTUpLG5ldyBiKGRbNTVdLDM2MDIwMzY4OTkpLG5ldyBiKGRbNTZdLDE1NzU5OTAwMTIpLG5ldyBiKGRbNTddLDExMjU1OTI5MjgpLG5ldyBiKGRbNThdLDI3MTY5MDQzMDYpLG5ldyBiKGRbNTldLDQ0Mjc3NjA0NCksbmV3IGIoZFs2MF0sNTkzNjk4MzQ0KSxuZXcgYihkWzYxXSxcbjM3MzMxMTAyNDkpLG5ldyBiKGRbNjJdLDI5OTkzNTE1NzMpLG5ldyBiKGRbNjNdLDM4MTU5MjA0MjcpLG5ldyBiKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksbmV3IGIoMzUxNTI2NzI3MSw1NjYyODA3MTEpLG5ldyBiKDM5NDAxODc2MDYsMzQ1NDA2OTUzNCksbmV3IGIoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxuZXcgYigxMTY0MTg0NzQsMTkxNDEzODU1NCksbmV3IGIoMTc0MjkyNDIxLDI3MzEwNTUyNzApLG5ldyBiKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxuZXcgYig0NjAzOTMyNjksMzIwNjIwMzE1KSxuZXcgYig2ODU0NzE3MzMsNTg3NDk2ODM2KSxuZXcgYig4NTIxNDI5NzEsMTA4Njc5Mjg1MSksbmV3IGIoMTAxNzAzNjI5OCwzNjU1NDMxMDApLG5ldyBiKDExMjYwMDA1ODAsMjYxODI5NzY3NiksbmV3IGIoMTI4ODAzMzQ3MCwzNDA5ODU1MTU4KSxuZXcgYigxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYpLG5ldyBiKDE2MDcxNjc5MTUsOTg3MTY3NDY4KSxuZXcgYigxODE2NDAyMzE2LFxuMTI0NjE4OTU5MSldO1g9W25ldyBiKDAsMSksbmV3IGIoMCwzMjg5OCksbmV3IGIoMjE0NzQ4MzY0OCwzMjkwNiksbmV3IGIoMjE0NzQ4MzY0OCwyMTQ3NTE2NDE2KSxuZXcgYigwLDMyOTA3KSxuZXcgYigwLDIxNDc0ODM2NDkpLG5ldyBiKDIxNDc0ODM2NDgsMjE0NzUxNjU0NSksbmV3IGIoMjE0NzQ4MzY0OCwzMjc3NyksbmV3IGIoMCwxMzgpLG5ldyBiKDAsMTM2KSxuZXcgYigwLDIxNDc1MTY0MjUpLG5ldyBiKDAsMjE0NzQ4MzY1OCksbmV3IGIoMCwyMTQ3NTE2NTU1KSxuZXcgYigyMTQ3NDgzNjQ4LDEzOSksbmV3IGIoMjE0NzQ4MzY0OCwzMjkwNSksbmV3IGIoMjE0NzQ4MzY0OCwzMjc3MSksbmV3IGIoMjE0NzQ4MzY0OCwzMjc3MCksbmV3IGIoMjE0NzQ4MzY0OCwxMjgpLG5ldyBiKDAsMzI3NzgpLG5ldyBiKDIxNDc0ODM2NDgsMjE0NzQ4MzY1OCksbmV3IGIoMjE0NzQ4MzY0OCwyMTQ3NTE2NTQ1KSxuZXcgYigyMTQ3NDgzNjQ4LDMyODk2KSxuZXcgYigwLDIxNDc0ODM2NDkpLFxubmV3IGIoMjE0NzQ4MzY0OCwyMTQ3NTE2NDI0KV07Vz1bWzAsMzYsMyw0MSwxOF0sWzEsNDQsMTAsNDUsMl0sWzYyLDYsNDMsMTUsNjFdLFsyOCw1NSwyNSwyMSw1Nl0sWzI3LDIwLDM5LDgsMTRdXTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShmdW5jdGlvbigpe3JldHVybiBDfSk6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBleHBvcnRzPyhcInVuZGVmaW5lZFwiIT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1DKSxleHBvcnRzPUMpOlkuanNTSEE9Q30pKHRoaXMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiaW1wb3J0IHtNZXNzYWdlLCBFdmVudHMsIFN1Y2Nlc3NTdGF0ZX0gZnJvbSAnLi9NZXNzYWdlcyc7XG5pbXBvcnQge1NwaUNvbmZpZywgVHJhbnNhY3Rpb25PcHRpb25zfSBmcm9tICcuL1NwaU1vZGVscyc7XG5pbXBvcnQge1JlcXVlc3RJZEhlbHBlcn0gZnJvbSAnLi9SZXF1ZXN0SWRIZWxwZXInO1xuXG5leHBvcnQgY2xhc3MgQ2FzaG91dE9ubHlSZXF1ZXN0XG57ICBcbiAgICBjb25zdHJ1Y3RvcihhbW91bnRDZW50cywgcG9zUmVmSWQpXG4gICAge1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuQ2FzaG91dEFtb3VudCA9IGFtb3VudENlbnRzO1xuXG4gICAgICAgIHRoaXMuU3VyY2hhcmdlQW1vdW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5Db25maWcgPSBuZXcgU3BpQ29uZmlnKCk7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKTtcbiAgICB9XG4gICAgXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgXCJwb3NfcmVmX2lkXCI6IHRoaXMuUG9zUmVmSWQsXG4gICAgICAgICAgICBcImNhc2hfYW1vdW50XCI6IHRoaXMuQ2FzaG91dEFtb3VudCxcbiAgICAgICAgICAgIFwic3VyY2hhcmdlX2Ftb3VudFwiOiB0aGlzLlN1cmNoYXJnZUFtb3VudFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcmludE1lcmNoYW50Q29weSA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRTaWduYXR1cmVGbG93T25FZnRwb3MgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5BZGRSZWNlaXB0Q29uZmlnKGRhdGEpO1xuICAgICAgICB0aGlzLk9wdGlvbnMuQWRkT3B0aW9ucyhkYXRhKTtcblxuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwiY3Nob3V0XCIpLCBFdmVudHMuQ2FzaG91dE9ubHlSZXF1ZXN0LCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDYXNob3V0T25seVJlc3BvbnNlXG57XG4gICAgY29uc3RydWN0b3IobSlcbiAgICB7XG4gICAgICAgIHRoaXMuX20gPSBtO1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IG0uSWQ7XG4gICAgICAgIHRoaXMuUG9zUmVmSWQgPSBtLkRhdGEucG9zX3JlZl9pZDtcbiAgICAgICAgdGhpcy5TY2hlbWVOYW1lID0gbS5EYXRhLnNjaGVtZV9uYW1lO1xuICAgICAgICB0aGlzLlN1Y2Nlc3MgPSBtLkdldFN1Y2Nlc3NTdGF0ZSgpID09IFN1Y2Nlc3NTdGF0ZS5TdWNjZXNzO1xuICAgIH1cblxuICAgIEdldFJSTigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wicnJuXCJdO1xuICAgIH1cblxuICAgIEdldENhc2hvdXRBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImNhc2hfYW1vdW50XCJdO1xuICAgIH1cblxuICAgIEdldEJhbmtOb25DYXNoQW1vdW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJiYW5rX25vbmNhc2hfYW1vdW50XCJdO1xuICAgIH1cblxuICAgIEdldEJhbmtDYXNoQW1vdW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJiYW5rX2Nhc2hfYW1vdW50XCJdO1xuICAgIH1cbiAgICBcbiAgICBHZXRDdXN0b21lclJlY2VpcHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImN1c3RvbWVyX3JlY2VpcHRcIl07XG4gICAgfVxuXG4gICAgR2V0TWVyY2hhbnRSZWNlaXB0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJtZXJjaGFudF9yZWNlaXB0XCJdO1xuICAgIH1cbiAgICBcbiAgICBHZXRSZXNwb25zZVRleHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImhvc3RfcmVzcG9uc2VfdGV4dFwiXTtcbiAgICB9XG5cbiAgICBHZXRSZXNwb25zZUNvZGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImhvc3RfcmVzcG9uc2VfY29kZVwiXTtcbiAgICB9XG4gICAgXG4gICAgR2V0VGVybWluYWxSZWZlcmVuY2VJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1widGVybWluYWxfcmVmX2lkXCJdO1xuICAgIH1cblxuICAgIEdldEFjY291bnRUeXBlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJhY2NvdW50X3R5cGVcIl07XG4gICAgfVxuXG4gICAgR2V0QXV0aENvZGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImF1dGhfY29kZVwiXTtcbiAgICB9XG5cbiAgICBHZXRCYW5rRGF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wiYmFua19kYXRlXCJdO1xuICAgIH1cblxuICAgIEdldEJhbmtUaW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJiYW5rX3RpbWVcIl07XG4gICAgfVxuICAgIFxuICAgIEdldE1hc2tlZFBhbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wibWFza2VkX3BhblwiXTtcbiAgICB9XG4gICAgXG4gICAgR2V0VGVybWluYWxJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1widGVybWluYWxfaWRcIl07XG4gICAgfVxuXG4gICAgV2FzTWVyY2hhbnRSZWNlaXB0UHJpbnRlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wibWVyY2hhbnRfcmVjZWlwdF9wcmludGVkXCJdO1xuICAgIH1cblxuICAgIFdhc0N1c3RvbWVyUmVjZWlwdFByaW50ZWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImN1c3RvbWVyX3JlY2VpcHRfcHJpbnRlZFwiXTtcbiAgICB9XG4gICAgXG4gICAgR2V0U3VyY2hhcmdlQW1vdW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJzdXJjaGFyZ2VfYW1vdW50XCJdO1xuICAgIH1cblxuICAgIEdldFJlc3BvbnNlVmFsdWUoYXR0cmlidXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVthdHRyaWJ1dGVdO1xuICAgIH1cblxufSIsImV4cG9ydCBjb25zdCBDb25uZWN0aW9uU3RhdGUgPSB7XG4gICAgRGlzY29ubmVjdGVkOiAnRGlzY29ubmVjdGVkJyxcbiAgICBDb25uZWN0aW5nOiAnQ29ubmVjdGluZycsXG4gICAgQ29ubmVjdGVkOiAnQ29ubmVjdGVkJ1xufTtcblxuZXhwb3J0IGNvbnN0IFNQSV9QUk9UT0NPTCAgID0gJ3NwaS4yLjUuMCc7XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uU3RhdGVFdmVudEFyZ3NcbntcbiAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uU3RhdGUpIHtcbiAgICAgICAgdGhpcy5Db25uZWN0aW9uU3RhdGUgPSBjb25uZWN0aW9uU3RhdGU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWVzc2FnZUV2ZW50QXJnc1xue1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5NZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5BZGRyZXNzICAgID0gbnVsbDtcbiAgICAgICAgdGhpcy5Db25uZWN0ZWQgID0gZmFsc2U7XG4gICAgICAgIHRoaXMuU3RhdGUgICAgICA9IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQ7XG4gICAgICAgIHRoaXMuU3BpUHJvdG9jb2wgPSBTUElfUFJPVE9DT0w7XG4gICAgICAgIHRoaXMuX3dzICAgICAgICA9IG51bGw7XG5cbiAgICAgICAgaWYodHlwZW9mIFdlYlNvY2tldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBXZWJTb2NrZXRzJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBDb25uZWN0KFVzZVNlY3VyZVdlYlNvY2tldHMpIHtcbiAgICAgICAgaWYodGhpcy5TdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCB8fCB0aGlzLlN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZykge1xuICAgICAgICAgICAgLy8gYWxyZWFkeSBjb25uZWN0ZWQgb3IgY29ubmVjdGluZy4gZGlzY29ubmVjdCBmaXJzdC5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuU3RhdGUgPSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZztcblxuICAgICAgICAvL0NyZWF0ZSBhIG5ldyBzb2NrZXQgaW5zdGFuY2Ugc3BlY2lmeWluZyB0aGUgdXJsLCBTUEkgcHJvdG9jb2wgYW5kIFdlYnNvY2tldCB0byB1c2UuXG4gICAgICAgIC8vVGhlIHdpbGwgY3JlYXRlIGEgVENQL0lQIHNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSBwcm92aWRlZCBVUkwgYW5kIHBlcmZvcm0gSFRUUCB3ZWJzb2NrZXQgbmVnb3RpYXRpb25cbiAgICAgICAgdGhpcy5fd3MgICAgICAgICAgID0gbmV3IFdlYlNvY2tldCh0aGlzLkFkZHJlc3MsIHRoaXMuU3BpUHJvdG9jb2wpO1xuICAgICAgICB0aGlzLl93cy5vbm9wZW4gICAgPSAoKSA9PiB0aGlzLnBvbGxXZWJTb2NrZXRDb25uZWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX3dzLm9ubWVzc2FnZSA9IChwYXlsb2FkKSA9PiB0aGlzLm9uTWVzc2FnZVJlY2VpdmVkKHBheWxvYWQpO1xuICAgICAgICB0aGlzLl93cy5vbmNsb3NlICAgPSAoKSA9PiB0aGlzLm9uQ2xvc2VkKCk7XG4gICAgICAgIHRoaXMuX3dzLm9uZXJyb3IgICA9IChlcnIpID0+IHRoaXMub25FcnJvcihlcnIpO1xuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdDb25uZWN0aW9uU3RhdHVzQ2hhbmdlZCcsIHtkZXRhaWw6IG5ldyBDb25uZWN0aW9uU3RhdGVFdmVudEFyZ3MoQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcpfSkpO1xuICAgIH1cblxuICAgIERpc2Nvbm5lY3QoKSB7XG4gICAgICAgIGlmICh0aGlzLlN0YXRlID09IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpIHJldHVybjtcblxuICAgICAgICBpZih0aGlzLl93cyAmJiB0aGlzLl93cy5yZWFkeVN0YXRlICE9IHRoaXMuX3dzLkNMT1NFRCkge1xuICAgICAgICAgICAgdGhpcy5fd3MuY2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl93cykge1xuICAgICAgICAgICAgdGhpcy5fd3Mub25vcGVuICAgID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3dzLm9ubWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl93cy5vbmNsb3NlICAgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fd3Mub25lcnJvciAgID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25DbG9zZWQoKTtcbiAgICB9XG5cbiAgICBTZW5kKG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5fd3Muc2VuZChtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBvbk9wZW5lZCgpIHtcbiAgICAgICAgdGhpcy5TdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQ7XG4gICAgICAgIHRoaXMuQ29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0Nvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkJywge2RldGFpbDogbmV3IENvbm5lY3Rpb25TdGF0ZUV2ZW50QXJncyhDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKX0pKTtcbiAgICB9XG5cbiAgICBvbkNsb3NlZCgpIHtcbiAgICAgICAgdGhpcy5Db25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5TdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQ7XG4gICAgICAgIHRoaXMuX3dzID0gbnVsbDtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0Nvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkJywge2RldGFpbDogbmV3IENvbm5lY3Rpb25TdGF0ZUV2ZW50QXJncyhDb25uZWN0aW9uU3RhdGUuRGlzY29ubmVjdGVkKX0pKTtcbiAgICB9XG5cbiAgICBwb2xsV2ViU29ja2V0Q29ubmVjdGlvbihjb3VudCA9IDApIHtcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuX3dzLk9QRU4pIHtcbiAgICAgICAgICAgIHRoaXMub25PcGVuZWQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYoY291bnQgPCAyNSkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5wb2xsV2ViU29ja2V0Q29ubmVjdGlvbihjb3VudCksIDIwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLkRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTWVzc2FnZVJlY2VpdmVkKG1lc3NhZ2UpIHtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ01lc3NhZ2VSZWNlaXZlZCcsIHtkZXRhaWw6IG5ldyBNZXNzYWdlRXZlbnRBcmdzKG1lc3NhZ2UuZGF0YSl9KSk7XG4gICAgfVxuXG4gICAgb25FcnJvcihlcnIpIHtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0Vycm9yUmVjZWl2ZWQnLCB7ZGV0YWlsOiBuZXcgTWVzc2FnZUV2ZW50QXJncyhlcnIpfSkpO1xuICAgIH1cbn1cbiIsImltcG9ydCBqc1NIQSBmcm9tICdqc3NoYSc7XG5pbXBvcnQgYWVzanMgZnJvbSAnYWVzLWpzJztcblxuZXhwb3J0IGNsYXNzIENyeXB0byB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBFbmNyeXB0IGEgYmxvY2sgdXNpbmcgQ0JDIGFuZCBQS0NTNy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJrZXlcIj5UaGUga2V5IHZhbHVlPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cImRhdGFcIj5UaGUgbWVzc2FnZSB0byBlbmNyeXB0PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5SZXR1cm5zIHRoZSByZXN1bHRpbmcgZW5jcnlwdGVkIHN0cmluZyBkYXRhIGFzIEhFWC48L3JldHVybnM+XG4gICAgc3RhdGljIEFlc0VuY3J5cHQgKGtleSwgZGF0YSkge1xuICAgICAgICBsZXQgYnl0ZXMgPSBhZXNqcy51dGlscy5oZXgudG9CeXRlcyhrZXkpO1xuICAgICAgICBjb25zdCBpdiA9IFsweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwIF07XG4gICAgICAgIGNvbnN0IHRleHRCeXRlcyA9IGFlc2pzLnBhZGRpbmcucGtjczcucGFkKGFlc2pzLnV0aWxzLnV0ZjgudG9CeXRlcyhkYXRhKSk7XG4gICAgICAgIGNvbnN0IGFlc0NiYyA9IG5ldyBhZXNqcy5Nb2RlT2ZPcGVyYXRpb24uY2JjKGJ5dGVzLCBpdik7XG4gICAgICAgIGNvbnN0IGVuY3J5cHRlZEJ5dGVzID0gYWVzQ2JjLmVuY3J5cHQodGV4dEJ5dGVzKTtcbiAgICAgICAgY29uc3QgZW5jcnlwdGVkU3RyaW5nID0gYWVzanMudXRpbHMuaGV4LmZyb21CeXRlcyhlbmNyeXB0ZWRCeXRlcyk7XG5cbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZFN0cmluZztcbiAgICB9XG4gICAgXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gRGVjcnlwdCBhIGJsb2NrIHVzaW5nIGEgQ0JDIGFuZCBQS0NTNy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJrZXlcIj5UaGUga2V5IHZhbHVlPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cImRhdGFcIj50aGUgZGF0YSB0byBkZWNyeXB0PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5SZXR1cm5zIHRoZSByZXN1bHRpbmcgZGF0YSBkZWNyeXB0ZWQgaW4gcGxhaW50ZXh0LjwvcmV0dXJucz5cbiAgICBzdGF0aWMgQWVzRGVjcnlwdChrZXksIGRhdGEpIHtcbiAgICAgICAgbGV0IGJ5dGVzID0gYWVzanMudXRpbHMuaGV4LnRvQnl0ZXMoa2V5KTtcbiAgICAgICAgY29uc3QgaXYgPSBbMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCBdO1xuICAgICAgICBjb25zdCBlbmNyeXB0ZWRCeXRlcyA9IGFlc2pzLnV0aWxzLmhleC50b0J5dGVzKGRhdGEpO1xuICAgICAgICBjb25zdCBhZXNDYmMgPSBuZXcgYWVzanMuTW9kZU9mT3BlcmF0aW9uLmNiYyhieXRlcywgaXYpO1xuICAgICAgICBjb25zdCBkZWNyeXB0ZWRCeXRlcyA9IGFlc0NiYy5kZWNyeXB0KGVuY3J5cHRlZEJ5dGVzKTtcbiAgICAgICAgY29uc3QgZGVjcnlwdGVkID0gYWVzanMudXRpbHMudXRmOC5mcm9tQnl0ZXMoYWVzanMucGFkZGluZy5wa2NzNy5zdHJpcChkZWNyeXB0ZWRCeXRlcykpO1xuICAgIFxuICAgICAgICByZXR1cm4gZGVjcnlwdGVkO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGN1bGF0ZXMgdGhlIEhNQUNTSEEyNTYgc2lnbmF0dXJlIG9mIGEgbWVzc2FnZS5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJrZXlcIj5UaGUgSG1hYyBLZXkgYXMgSEVYPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1lc3NhZ2VUb1NpZ25cIj5UaGUgbWVzc2FnZSB0byBzaWduPC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5UaGUgSE1BQ1NIQTI1NiBzaWduYXR1cmUgYXMgYSBoZXggc3RyaW5nPC9yZXR1cm5zPlxuICAgIHN0YXRpYyBIbWFjU2lnbmF0dXJlKGtleSwgbWVzc2FnZVRvU2lnbikge1xuICAgICAgICBsZXQgc2hhT2JqID0gbmV3IGpzU0hBKFwiU0hBLTI1NlwiLCBcIlRFWFRcIik7XG5cbiAgICAgICAgc2hhT2JqLnNldEhNQUNLZXkoa2V5LCdIRVgnKTtcbiAgICAgICAgc2hhT2JqLnVwZGF0ZShtZXNzYWdlVG9TaWduKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBzaGFPYmouZ2V0SE1BQyhcIkhFWFwiKTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqIFRoaXMgdXRpbGl0eSBmdW5jdGlvbiBjYWxjdWxhdGVzIHRoZSBTSEEtMjU2IHZhbHVlIGluIGhleGFkZWNpbWFsIGZvcm1hdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB0aGUgdmFsdWUgdG8gYmUgaGFzaGVkXG4gICAgICovXG4gICAgc3RhdGljIEdlbmVyYXRlSGFzaCh2YWx1ZSkge1xuICAgICAgICBsZXQgc2hhT2JqID0gbmV3IGpzU0hBKCdTSEEtMjU2JywgJ0hFWCcpO1xuICAgICAgICBzaGFPYmoudXBkYXRlKHZhbHVlKTtcbiAgICAgICAgY29uc3Qgc2hhSGFzaCA9IHNoYU9iai5nZXRIYXNoKCdIRVgnKTtcbiAgICAgICAgcmV0dXJuIHNoYUhhc2g7XG4gICAgfVxufVxuIiwiaW1wb3J0IEJOIGZyb20gJ2JuLmpzJztcblxuLy8gVGhpcyBjcmVhdGVzIHRoZSBwcml2YXRlIGFuZCBwdWJsaWMga2V5cyBmb3IgZGlmZmllLWhlbGxtYW4gKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RpZmZpZSVFMiU4MCU5M0hlbGxtYW5fa2V5X2V4Y2hhbmdlI0NyeXB0b2dyYXBoaWNfZXhwbGFuYXRpb24pXG4vLyBSRVFVSVJFTUVOVFM6IGJuLmpzXG4vLyBBU1NVTVBUSU9OUzogSW5wdXRzIHRvIHRoZSBmdW5jdGlvbnMgYXJlIGhleGFkZWNpbWFsIHN0cmluZ3NcblxuLy8gPHN1bW1hcnk+XG4vLyBUaGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIERpZmZpZS1IZWxsbWFuIGFsZ29yaXRobSB1c2luZyBCaWdJbnRlZ2Vycy5cbi8vIEl0IGNhbiBkbyB0aGUgMyBtYWluIHRoaW5nczpcbi8vIDEuIEdlbmVyYXRlIGEgcmFuZG9tIFByaXZhdGUgS2V5IGZvciB5b3UuXG4vLyAyLiBHZW5lcmF0ZSB5b3VyIFB1YmxpYyBLZXkgYmFzZWQgb24geW91ciBQcml2YXRlIEtleS5cbi8vIDMuIEdlbmVyYXRlIHRoZSBTZWNyZXQgZ2l2ZW4gdGhlaXIgUHVibGljIEtleSBhbmQgeW91ciBQcml2YXRlIEtleVxuLy8gcCBhbmQgZyBhcmUgdGhlIHNoYXJlZCBjb25zdGFudHMgZm9yIHRoZSBhbGdvcml0aG0sIGFrYSBwcmltZVAgYW5kIHByaW1lRy5cbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBEaWZmaWVIZWxsbWFuIHtcblxuICAgIGNvbnN0cnVjdG9yICgpIHtcblxuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEdlbmVyYXRlcyBhIHJhbmRvbSBQcml2YXRlIEtleSB0aGF0IHlvdSBjYW4gdXNlLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInBcIj48L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPlJhbmRvbSBQcml2YXRlIEtleTwvcmV0dXJucz5cbiAgICBSYW5kb21Qcml2YXRlS2V5KG1heFZhbHVlKSB7XG4gICAgICAgIGxldCBtYXhWYWx1ZUJOICAgICAgPSBuZXcgQk4obWF4VmFsdWUpO1xuICAgICAgICBsZXQgc2hpZnREaXN0YW5jZSAgID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDEwMDApICsgMSk7XG4gICAgICAgIGxldCByYW5kQml0SW50ICAgICAgPSBtYXhWYWx1ZUJOLnNocm4oc2hpZnREaXN0YW5jZSk7IC8vIFJpZ2h0IHNoaWZ0IGRpdmlkZXMgYnkgYSBwb3dlciBvZiAyXG4gICAgICAgIGxldCBtaW4gICAgICAgICAgICAgPSBuZXcgQk4oMik7XG5cbiAgICAgICAgaWYocmFuZEJpdEludC5jbXAobWluKSA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByYW5kQml0SW50O1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGN1bGF0ZXMgdGhlIFB1YmxpYyBLZXkgZnJvbSBhIFByaXZhdGUgS2V5LlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInBcIj48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwiZ1wiPjwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwcml2YXRlS2V5XCI+PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5QdWJsaWMgS2V5IChIZXgpPC9yZXR1cm5zPlxuICAgIFB1YmxpY0tleShwLCBnLCBwcml2YXRlS2V5KSB7XG4gICAgICAgIGNvbnN0IGFIZXggPSBuZXcgQk4ocHJpdmF0ZUtleSwgMTYpO1xuICAgICAgICBjb25zdCBnSGV4ID0gbmV3IEJOKGcsIDE2KTtcbiAgICAgICAgY29uc3QgbW9udFByaW1lID0gQk4ubW9udChuZXcgQk4ocCwgMTYpKTtcbiAgICAgICAgY29uc3QgZ1JlZCA9IGdIZXgudG9SZWQobW9udFByaW1lKTtcbiAgICAgICAgY29uc3Qgc2VjcmV0ID0gZ1JlZC5yZWRQb3coYUhleCkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2KTtcblxuICAgICAgICByZXR1cm4gc2VjcmV0OyAgXG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gQ2FsY3VsYXRlcyB0aGUgc2hhcmVkIHNlY3JldCBnaXZlbiB0aGVpciBQdWJsaWMgS2V5IChBKSBhbmQgeW91ciBQcml2YXRlIEtleSAoYilcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwXCI+PC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInRoZWlyUHVibGljS2V5XCI+PC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInlvdXJQcml2YXRlS2V5XCI+PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz48L3JldHVybnM+XG4gICAgU2VjcmV0KHAsIHRoZWlyUHVibGljS2V5LCB5b3VyUHJpdmF0ZUtleSkge1xuICAgICAgICBjb25zdCBiSGV4ID0gbmV3IEJOKHRoZWlyUHVibGljS2V5LCAxNik7XG4gICAgICAgIGNvbnN0IEFIZXggPSBuZXcgQk4oeW91clByaXZhdGVLZXksIDE2KTtcbiAgICAgICAgY29uc3QgbW9udFByaW1lID0gQk4ubW9udChuZXcgQk4ocCwgMTYpKTtcbiAgICAgICAgY29uc3QgQlJlZCA9IGJIZXgudG9SZWQobW9udFByaW1lKTtcblxuICAgICAgICByZXR1cm4gQlJlZC5yZWRQb3coQUhleCkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHtFdmVudHMsIE1lc3NhZ2V9IGZyb20gJy4vTWVzc2FnZXMnO1xuaW1wb3J0IHtDcnlwdG99IGZyb20gJy4vQ3J5cHRvJztcbmltcG9ydCB7U2VjcmV0c30gZnJvbSAnLi9TZWNyZXRzJztcblxuZXhwb3J0IGNsYXNzIEtleVJvbGxpbmdIZWxwZXIge1xuICAgIHN0YXRpYyBQZXJmb3JtS2V5Um9sbGluZyhrclJlcXVlc3QsIGN1cnJlbnRTZWNyZXRzKVxuICAgIHtcbiAgICAgICAgbGV0IG0gPSBuZXcgTWVzc2FnZShrclJlcXVlc3QuSWQsIEV2ZW50cy5LZXlSb2xsUmVzcG9uc2UsIHtcInN0YXR1c1wiOiBcImNvbmZpcm1lZFwifSwgdHJ1ZSk7XG4gICAgICAgIGxldCBuZXdTZWNyZXRzID0gbmV3IFNlY3JldHMoQ3J5cHRvLkdlbmVyYXRlSGFzaChjdXJyZW50U2VjcmV0cy5FbmNLZXkpLnRvVXBwZXJDYXNlKCksQ3J5cHRvLkdlbmVyYXRlSGFzaChjdXJyZW50U2VjcmV0cy5IbWFjS2V5KS50b1VwcGVyQ2FzZSgpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBLZXlSb2xsaW5nUmVzdWx0KG0sIG5ld1NlY3JldHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEtleVJvbGxpbmdSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGtleVJvbGxpbmdDb25maXJtYXRpb24sIG5ld1NlY3JldHMpIHtcbiAgICAgICAgdGhpcy5LZXlSb2xsaW5nQ29uZmlybWF0aW9uID0ga2V5Um9sbGluZ0NvbmZpcm1hdGlvbjtcbiAgICAgICAgdGhpcy5OZXdTZWNyZXRzID0gbmV3U2VjcmV0cztcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dnZXIge1xuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGxpbmVTZXBlcmF0b3IgPSAnXFxuJykge1xuICAgICAgICB0aGlzLmJ1ZmZlciAgICAgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50ICAgID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5saW5lU2VwZXJhdG9yID0gbGluZVNlcGVyYXRvcjtcbiAgICB9XG5cbiAgICBJbmZvKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChhcmdzLmpvaW4oJyAnKSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIERlYnVnKC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChhcmdzLmpvaW4oJyAnKSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIFdhcm4oLi4uYXJncykge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGFyZ3Muam9pbignICcpKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgRXJyb3IoLi4uYXJncykge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGFyZ3Muam9pbignICcpKTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuXG4gICAgQ29uc29sZSguLi5hcmdzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGFyZ3Muam9pbignICcpKTtcbiAgICB9XG5cbiAgICBfcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuaW5uZXJUZXh0ID0gdGhpcy5idWZmZXIuam9pbih0aGlzLmxpbmVTZXBlcmF0b3IpO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG5cbiAgICBDbGVhcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxufVxuXG5leHBvcnQge0xvZ2dlcn07IiwiaW1wb3J0IHtDcnlwdG99IGZyb20gJy4vQ3J5cHRvJztcblxuLy8gPHN1bW1hcnk+XG4vLyBFdmVudHMgc3RhdGljYWxseSBkZWNsYXJlcyB0aGUgdmFyaW91cyBldmVudCBuYW1lcyBpbiBtZXNzYWdlcy5cbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjb25zdCBFdmVudHMgPSB7XG4gICAgIFBhaXJSZXF1ZXN0IDogXCJwYWlyX3JlcXVlc3RcIixcbiAgICAgS2V5UmVxdWVzdCA6IFwia2V5X3JlcXVlc3RcIixcbiAgICAgS2V5UmVzcG9uc2UgOiBcImtleV9yZXNwb25zZVwiLFxuICAgICBLZXlDaGVjayA6IFwia2V5X2NoZWNrXCIsXG4gICAgIFBhaXJSZXNwb25zZSA6IFwicGFpcl9yZXNwb25zZVwiLFxuICAgICBEcm9wS2V5c0FkdmljZSA6IFwiZHJvcF9rZXlzXCIsXG5cbiAgICAgTG9naW5SZXF1ZXN0IDogXCJsb2dpbl9yZXF1ZXN0XCIsXG4gICAgIExvZ2luUmVzcG9uc2UgOiBcImxvZ2luX3Jlc3BvbnNlXCIsXG5cbiAgICAgUGluZyA6IFwicGluZ1wiLFxuICAgICBQb25nIDogXCJwb25nXCIsXG5cbiAgICAgUHVyY2hhc2VSZXF1ZXN0IDogXCJwdXJjaGFzZVwiLFxuICAgICBQdXJjaGFzZVJlc3BvbnNlIDogXCJwdXJjaGFzZV9yZXNwb25zZVwiLFxuICAgICBDYW5jZWxUcmFuc2FjdGlvblJlcXVlc3QgOiBcImNhbmNlbF90cmFuc2FjdGlvblwiLFxuICAgICBDYW5jZWxUcmFuc2FjdGlvblJlc3BvbnNlIDogXCJjYW5jZWxfcmVzcG9uc2VcIixcbiAgICAgR2V0TGFzdFRyYW5zYWN0aW9uUmVxdWVzdCA6IFwiZ2V0X2xhc3RfdHJhbnNhY3Rpb25cIixcbiAgICAgR2V0TGFzdFRyYW5zYWN0aW9uUmVzcG9uc2UgOiBcImxhc3RfdHJhbnNhY3Rpb25cIixcbiAgICAgUmVmdW5kUmVxdWVzdCA6IFwicmVmdW5kXCIsXG4gICAgIFJlZnVuZFJlc3BvbnNlIDogXCJyZWZ1bmRfcmVzcG9uc2VcIixcbiAgICAgU2lnbmF0dXJlUmVxdWlyZWQgOiBcInNpZ25hdHVyZV9yZXF1aXJlZFwiLFxuICAgICBTaWduYXR1cmVEZWNsaW5lZCA6IFwic2lnbmF0dXJlX2RlY2xpbmVcIixcbiAgICAgU2lnbmF0dXJlQWNjZXB0ZWQgOiBcInNpZ25hdHVyZV9hY2NlcHRcIixcbiAgICAgQXV0aENvZGVSZXF1aXJlZCA6IFwiYXV0aG9yaXNhdGlvbl9jb2RlX3JlcXVpcmVkXCIsXG4gICAgIEF1dGhDb2RlQWR2aWNlIDogXCJhdXRob3Jpc2F0aW9uX2NvZGVfYWR2aWNlXCIsXG5cbiAgICAgQ2FzaG91dE9ubHlSZXF1ZXN0IDogXCJjYXNoXCIsXG4gICAgIENhc2hvdXRPbmx5UmVzcG9uc2UgOiBcImNhc2hfcmVzcG9uc2VcIixcblxuICAgICBNb3RvUHVyY2hhc2VSZXF1ZXN0IDogXCJtb3RvX3B1cmNoYXNlXCIsXG4gICAgIE1vdG9QdXJjaGFzZVJlc3BvbnNlIDogXCJtb3RvX3B1cmNoYXNlX3Jlc3BvbnNlXCIsXG5cbiAgICAgU2V0dGxlUmVxdWVzdCA6IFwic2V0dGxlXCIsXG4gICAgIFNldHRsZVJlc3BvbnNlIDogXCJzZXR0bGVfcmVzcG9uc2VcIixcbiAgICAgU2V0dGxlbWVudEVucXVpcnlSZXF1ZXN0IDogXCJzZXR0bGVtZW50X2VucXVpcnlcIixcbiAgICAgU2V0dGxlbWVudEVucXVpcnlSZXNwb25zZSA6IFwic2V0dGxlbWVudF9lbnF1aXJ5X3Jlc3BvbnNlXCIsXG5cbiAgICAgU2V0UG9zSW5mb1JlcXVlc3QgOiBcInNldF9wb3NfaW5mb1wiLFxuICAgICBTZXRQb3NJbmZvUmVzcG9uc2UgOiBcInNldF9wb3NfaW5mb19yZXNwb25zZVwiLFxuXG4gICAgIEtleVJvbGxSZXF1ZXN0IDogXCJyZXF1ZXN0X3VzZV9uZXh0X2tleXNcIixcbiAgICAgS2V5Um9sbFJlc3BvbnNlIDogXCJyZXNwb25zZV91c2VfbmV4dF9rZXlzXCIsXG5cbiAgICAgRXJyb3IgOiBcImVycm9yXCIsXG4gICAgXG4gICAgIEludmFsaWRIbWFjU2lnbmF0dXJlIDogXCJfSU5WQUxJRF9TSUdOQVRVUkVfXCIsXG5cbiAgICAvLyBQYXkgQXQgVGFibGUgUmVsYXRlZCBNZXNzYWdlc1xuICAgIFBheUF0VGFibGVHZXRUYWJsZUNvbmZpZyA6IFwiZ2V0X3RhYmxlX2NvbmZpZ1wiLCAvLyBpbmNvbWluZy4gV2hlbiBlZnRwb3Mgd2FudHMgdG8gYXNrIHVzIGZvciBQQFQgY29uZmlndXJhdGlvbi5cbiAgICBQYXlBdFRhYmxlU2V0VGFibGVDb25maWcgOiBcInNldF90YWJsZV9jb25maWdcIiwgLy8gb3V0Z29pbmcuIFdoZW4gd2Ugd2FudCB0byBpbnN0cnVjdCBlZnRwb3Mgd2l0aCB0aGUgUEBUIGNvbmZpZ3VyYXRpb24uXG4gICAgUGF5QXRUYWJsZUdldEJpbGxEZXRhaWxzIDogXCJnZXRfYmlsbF9kZXRhaWxzXCIsIC8vIGluY29taW5nLiBXaGVuIGVmdHBvcyB3YW50cyB0byBhcmV0cmlldmUgdGhlIGJpbGwgZm9yIGEgdGFibGUuXG4gICAgUGF5QXRUYWJsZUJpbGxEZXRhaWxzIDogXCJiaWxsX2RldGFpbHNcIiwgICAgICAgIC8vIG91dGdvaW5nLiBXZSByZXBseSB3aXRoIHRoaXMgd2hlbiBlZnRwb3MgcmVxdWVzdHMgdG8gdXMgZ2V0X2JpbGxfZGV0YWlscy5cbiAgICBQYXlBdFRhYmxlQmlsbFBheW1lbnQgOiBcImJpbGxfcGF5bWVudFwiLCAgICAgICAgLy8gaW5jb21pbmcuIFdoZW4gdGhlIGVmdHBvcyBhZHZpY2VzIFxuXG4gICAgUHJpbnRpbmdSZXF1ZXN0IDogXCJwcmludFwiLFxuICAgIFByaW50aW5nUmVzcG9uc2UgOiBcInByaW50X3Jlc3BvbnNlXCIsXG5cbiAgICBUZXJtaW5hbFN0YXR1c1JlcXVlc3QgOiBcImdldF90ZXJtaW5hbF9zdGF0dXNcIixcbiAgICBUZXJtaW5hbFN0YXR1c1Jlc3BvbnNlIDogXCJ0ZXJtaW5hbF9zdGF0dXNcIixcblxuICAgIEJhdHRlcnlMZXZlbENoYW5nZWQgOiBcImJhdHRlcnlfbGV2ZWxfY2hhbmdlZFwiLFxuXG4gICAgUGF5QXRUYWJsZUdldE9wZW5UYWJsZXM6IFwiZ2V0X29wZW5fdGFibGVzXCIsXG4gICAgUGF5QXRUYWJsZU9wZW5UYWJsZXM6IFwib3Blbl90YWJsZXNcIixcblxuICAgIFBheUF0VGFibGVCaWxsUGF5bWVudEZsb3dFbmRlZDogXCJiaWxsX3BheW1lbnRfZmxvd19lbmRlZFwiXG59O1xuXG5leHBvcnQgY29uc3QgU3VjY2Vzc1N0YXRlID0ge1xuICAgIFVua25vd246ICdVbmtub3duJywgU3VjY2VzczogJ1N1Y2Nlc3MnLCBGYWlsZWQ6ICdGYWlsZWQnXG59O1xuXG4vLyA8c3VtbWFyeT5cbi8vIE1lc3NhZ2VTdGFtcCByZXByZXNlbnRzIHdoYXQgaXMgcmVxdWlyZWQgdG8gdHVybiBhbiBvdXRnb2luZyBNZXNzYWdlIGludG8gSnNvblxuLy8gaW5jbHVkaW5nIGVuY3J5cHRpb24gYW5kIGRhdGUgc2V0dGluZy5cbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBNZXNzYWdlU3RhbXAge1xuICAgIGNvbnN0cnVjdG9yKHBvc0lkLCBzZWNyZXRzLCBzZXJ2ZXJUaW1lRGVsdGEpIHtcbiAgICAgICAgdGhpcy5Qb3NJZCA9IHBvc0lkO1xuICAgICAgICB0aGlzLlNlY3JldHMgPSBzZWNyZXRzO1xuICAgICAgICB0aGlzLlNlcnZlclRpbWVEZWx0YSA9IHNlcnZlclRpbWVEZWx0YTtcbiAgICB9XG59XG5cbi8vIDxzdW1tYXJ5PlxuLy8gTWVzc2FnZUVudmVsb3BlIHJlcHJlc2VudHMgdGhlIG91dGVyIHN0cnVjdHVyZSBvZiBhbnkgbWVzc2FnZSB0aGF0IGlzIGV4Y2hhbmdlZFxuLy8gYmV0d2VlbiB0aGUgUG9zIGFuZCB0aGUgUGluUGFkIGFuZCB2aWNlLXZlcnNhLlxuLy8gU2VlIGh0dHA6Ly93d3cuc2ltcGxlcGF5bWVudGFwaS5jb20vIy9hcGkvbWVzc2FnZS1lbmNyeXB0aW9uXG4vLyA8L3N1bW1hcnk+XG5leHBvcnQgY2xhc3MgTWVzc2FnZUVudmVsb3BlIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBlbmMsIGhtYWMsIHBvc0lkKSB7XG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgTWVzc2FnZSBmaWVsZCBpcyBzZXQgb25seSB3aGVuIGluIFVuLWVuY3J5cHRlZCBmb3JtLlxuICAgICAgICAvLyBJbiBmYWN0IGl0IGlzIHRoZSBvbmx5IGZpZWxkIGluIGFuIGVudmVsb3BlIGluIHRoZSBVbi1FbmNyeXB0ZWQgZm9ybS5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLk1lc3NhZ2UgPSBtZXNzYWdlO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgZW5jIGZpZWxkIGlzIHNldCBvbmx5IHdoZW4gaW4gRW5jcnlwdGVkIGZvcm0uXG4gICAgICAgIC8vIEl0IGNvbnRhaW5zIHRoZSBlbmNyeXB0ZWQgSnNvbiBvZiBhbm90aGVyIE1lc3NhZ2VFbnZlbG9wZSBcbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkVuYyA9IGVuYztcblxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gVGhlIGhtYWMgZmllbGQgaXMgc2V0IG9ubHkgd2hlbiBpbiBFbmNyeXB0ZWQgZm9ybS5cbiAgICAgICAgLy8gSXQgaXMgdGhlIHNpZ25hdHVyZSBvZiB0aGUgXCJlbmNcIiBmaWVsZC5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkhtYWMgPSBobWFjO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgcG9zX2lkIGZpZWxkIGlzIG9ubHkgZmlsbGVkIGZvciBvdXRnb2luZyBFbmNyeXB0ZWQgbWVzc2FnZXMuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5Qb3NJZCA9IHBvc0lkO1xuICAgIH1cblxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuTWVzc2FnZSxcbiAgICAgICAgICAgIGVuYzogdGhpcy5FbmMsXG4gICAgICAgICAgICBobWFjOiB0aGlzLkhtYWMsXG4gICAgICAgICAgICBwb3NfaWQ6IHRoaXMuUG9zSWRcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gPHN1bW1hcnk+XG4vLyBNZXNzYWdlIHJlcHJlc2VudHMgdGhlIGNvbnRlbnRzIG9mIGEgTWVzc2FnZS5cbi8vIFNlZSBodHRwOi8vd3d3LnNpbXBsZXBheW1lbnRhcGkuY29tLyMvYXBpL21lc3NhZ2UtZW5jcnlwdGlvblxuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNsYXNzIE1lc3NhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGlkLCBldmVudE5hbWUsIGRhdGEsIG5lZWRzRW5jcnlwdGlvbikge1xuICAgICAgICB0aGlzLklkID0gaWQ7XG4gICAgICAgIHRoaXMuRXZlbnROYW1lID0gZXZlbnROYW1lO1xuICAgICAgICB0aGlzLkRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLkRhdGVUaW1lU3RhbXAgPSAnJztcbiAgICAgICAgdGhpcy5Qb3NJZCA9ICcnOyAvLyBQb3NfaWQgaXMgc2V0IGhlcmUgb25seSBmb3Igb3V0Z29pbmcgVW4tZW5jcnlwdGVkIG1lc3NhZ2VzLiBcbiAgICAgICAgdGhpcy5JbmNvbW1pbmdIbWFjID0gJyc7IC8vIFNvbWV0aW1lcyB0aGUgbG9naWMgYXJvdW5kIHRoZSBpbmNvbWluZyBtZXNzYWdlIG1pZ2h0IG5lZWQgYWNjZXNzIHRvIHRoZSBzdWduYXR1cmUsIGZvciBleGFtcGxlIGluIHRoZSBrZXlfY2hlY2suXG4gICAgICAgIHRoaXMuX25lZWRzRW5jcnlwdGlvbiA9IG5lZWRzRW5jcnlwdGlvbjsgLy8gRGVub3RlcyB3aGV0aGVyIGFuIG91dGdvaW5nIG1lc3NhZ2UgbmVlZHMgdG8gYmUgZW5jcnlwdGVkIGluIFRvSnNvbigpXG4gICAgICAgIHRoaXMuRGVjcnlwdGVkSnNvbiA9ICcnOyAvLyBTZXQgb24gYW4gaW5jb21pbmcgbWVzc2FnZSBqdXN0IHNvIHlvdSBjYW4gaGF2ZSBhIGxvb2sgYXQgd2hhdCBpdCBsb29rZWQgbGlrZSBpbiBpdHMganNvbiBmb3JtLlxuICAgIH1cblxuICAgIEdldFN1Y2Nlc3NTdGF0ZSgpIHtcbiAgICAgICAgaWYoIXRoaXMuRGF0YSB8fCB0eXBlb2YgdGhpcy5EYXRhLnN1Y2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBTdWNjZXNzU3RhdGUuVW5rbm93bjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLkRhdGEuc3VjY2VzcyA/IFN1Y2Nlc3NTdGF0ZS5TdWNjZXNzIDogU3VjY2Vzc1N0YXRlLkZhaWxlZDtcbiAgICB9XG5cbiAgICBHZXRFcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRGF0YS5lcnJvcl9yZWFzb24gPyB0aGlzLkRhdGEuZXJyb3JfcmVhc29uIDogXCJcIjtcbiAgICB9XG5cbiAgICBHZXRFcnJvckRldGFpbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRGF0YS5lcnJvcl9kZXRhaWw7XG4gICAgfVxuXG4gICAgR2V0U2VydmVyVGltZURlbHRhKClcbiAgICB7XG4gICAgICAgIGxldCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgLy8gU3RhbXAgZm9ybWF0OiAyMDE4LTA0LTE5VDAxOjQyOjM4LjI3OVxuICAgICAgICBsZXQgZHRzID0gdGhpcy5EYXRlVGltZVN0YW1wLnNwbGl0KC9bXFwtXFwrXFwuIDpUXS8pO1xuICAgICAgICBsZXQgbXNnVGltZSA9IG5ldyBEYXRlKFxuICAgICAgICAgICAgLy8geWVhciwgbW9udGgsIGRhdGVcbiAgICAgICAgICAgIGR0c1swXSwgZHRzWzFdIC0gMSwgZHRzWzJdLFxuICAgICAgICAgICAgLy8gaG91ciwgbWludXRlLCBzZWNvbmQsIG1pbGxpc1xuICAgICAgICAgICAgZHRzWzNdLCBkdHNbNF0sIGR0c1s1XSwgZHRzWzZdXG4gICAgICAgICkuZ2V0VGltZSgpOyAvLyBMb2NhbCB0aW1lIHpvbmVcblxuICAgICAgICByZXR1cm4gbXNnVGltZSAtIG5vdztcbiAgICB9XG5cbiAgICAvLyBIZWxwZXIgbWV0aG9kIHRvIHBhcnNlIGJhbmsgZGF0ZSBmb3JtYXQgMjAwNDIwMTggKGRkTU15eXl5KVxuICAgIHN0YXRpYyBQYXJzZUJhbmtEYXRlKGJhbmtEYXRlKSB7XG4gICAgICAgIGlmKGJhbmtEYXRlLmxlbmd0aCAhPT0gOCkgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGAke2JhbmtEYXRlLnN1YnN0cig0LDQpfS0ke2JhbmtEYXRlLnN1YnN0cigyLDIpfS0ke2JhbmtEYXRlLnN1YnN0cigwLDIpfWApO1xuICAgIH1cblxuICAgIC8vIFBhcnNlcyBhIGJhbmsgZGF0ZSAmIHRpbWUgc3RyIGZyb20gXCIwNU9jdDE3XCIgLyBcIjA1OjAwXCIgKFwiZGRNTU15eS9ISDptbVwiKSBpbnRvIGRhdGUgb2JqXG4gICAgc3RhdGljIFBhcnNlQmFua0RhdGVUaW1lU3RyKGRhdGUsIHRpbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGAke2RhdGUuc3Vic3RyKDAsMil9ICR7ZGF0ZS5zdWJzdHIoMiwzKX0gJHtkYXRlLnN1YnN0cig1LDIpfSAke3RpbWV9YCk7XG4gICAgfVxuXG4gICAgc3RhdGljIEZyb21Kc29uKG1zZ0pzb24sIHNlY3JldHMpIHtcbiAgICAgICAgbGV0IGVudiA9IEpTT04ucGFyc2UobXNnSnNvbik7XG5cbiAgICAgICAgaWYoZW52Lm1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZShlbnYubWVzc2FnZS5pZCwgZW52Lm1lc3NhZ2UuZXZlbnQsIGVudi5tZXNzYWdlLmRhdGEsIGZhbHNlKTtcbiAgICAgICAgICAgIG1lc3NhZ2UuRGVjcnlwdGVkSnNvbiA9IG1zZ0pzb247XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWNyZXRzID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRoaXMgbWF5IGhhcHBlbiBpZiB3ZSBzb21laG93IHJlY2VpdmVkIGFuIGVuY3J5cHRlZCBtZXNzYWdlIGZyb20gZWZ0cG9zIGJ1dCB3ZSdyZSBub3QgY29uZmlnZXJlZCB3aXRoIHNlY3JldHMuXG4gICAgICAgICAgICAvLyBGb3IgZXhhbXBsZSwgaWYgd2UgY2FuY2VsIHRoZSBwYWlyaW5nIHByb2Nlc3MgYSBsaXR0bGUgbGF0ZSBpbiB0aGUgZ2FtZSBhbmQgd2UgZ2V0IGFuIGVuY3J5cHRlZCBrZXlfY2hlY2sgbWVzc2FnZSBhZnRlciB3ZSd2ZSBkcm9wcGVkIHRoZSBrZXlzLlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFwiVU5LTk9XTlwiLCBcIk5PU0VDUkVUU1wiLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJdHMgZW5jcnlwdGVkLCB2ZXJpZnkgc2lnXG4gICAgICAgIGxldCBzaWcgPSBDcnlwdG8uSG1hY1NpZ25hdHVyZShzZWNyZXRzLkhtYWNLZXksIGVudi5lbmMpO1xuICAgICAgICBpZiAoc2lnLnRvVXBwZXJDYXNlKCkgIT0gZW52LmhtYWMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShcIl9cIiwgRXZlbnRzLkludmFsaWRIbWFjU2lnbmF0dXJlLCBudWxsLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGVjcnlwdGVkSnNvbiA9IENyeXB0by5BZXNEZWNyeXB0KHNlY3JldHMuRW5jS2V5LCBlbnYuZW5jKTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGRlY3J5cHRlZE1zZyA9IEpTT04ucGFyc2UoZGVjcnlwdGVkSnNvbik7XG5cbiAgICAgICAgICAgIGxldCBtZXNzYWdlID0gbmV3IE1lc3NhZ2UoZGVjcnlwdGVkTXNnLm1lc3NhZ2UuaWQsIGRlY3J5cHRlZE1zZy5tZXNzYWdlLmV2ZW50LCBkZWNyeXB0ZWRNc2cubWVzc2FnZS5kYXRhLCB0cnVlKTtcblxuICAgICAgICAgICAgbWVzc2FnZS5EYXRlVGltZVN0YW1wID0gZGVjcnlwdGVkTXNnLm1lc3NhZ2UuZGF0ZXRpbWU7XG4gICAgICAgICAgICBtZXNzYWdlLlBvc0lkID0gZGVjcnlwdGVkTXNnLm1lc3NhZ2UucG9zX2lkO1xuICAgICAgICAgICAgbWVzc2FnZS5JbmNvbWluZ0htYWMgPSBlbnYuaG1hYzsgXG4gICAgICAgICAgICBtZXNzYWdlLkRlY3J5cHRlZEpzb24gPSBkZWNyeXB0ZWRKc29uO1xuXG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcblxuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShcIlVOS05PV05cIiwgXCJVTlBBUlNFQUJMRVwiLCB7XCJtc2dcIjogZGVjcnlwdGVkSnNvbn0sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIFRvSnNvbihzdGFtcCkge1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgbGV0IHR6b2Zmc2V0ID0gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwO1xuICAgICAgICBsZXQgYWRqdXN0ZWRUaW1lID0gbmV3IERhdGUobm93IC0gdHpvZmZzZXQgKyBzdGFtcC5TZXJ2ZXJUaW1lRGVsdGEpO1xuXG4gICAgICAgIC8vIEZvcm1hdCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3MuZmZmXCJcbiAgICAgICAgdGhpcy5EYXRlVGltZVN0YW1wID0gYWRqdXN0ZWRUaW1lLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwtMSk7XG4gICAgICAgIHRoaXMuUG9zSWQgPSBzdGFtcC5Qb3NJZDtcbiAgICAgICAgXG4gICAgICAgIHZhciBlbnZlbG9wZSA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5JZCxcbiAgICAgICAgICAgICAgICBldmVudDogdGhpcy5FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZGF0YTogdGhpcy5EYXRhLFxuICAgICAgICAgICAgICAgIGRhdGV0aW1lOiB0aGlzLkRhdGVUaW1lU3RhbXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoIXRoaXMuX25lZWRzRW5jcnlwdGlvbikge1xuICAgICAgICAgICAgLy8gVW5lbmNyeXB0ZWQgTWVzc2FnZXMgbmVlZCBQb3NJRCBpbnNpZGUgdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgIGVudmVsb3BlLm1lc3NhZ2UucG9zX2lkID0gdGhpcy5Qb3NJZFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuRGVjcnlwdGVkSnNvbiA9IEpTT04uc3RyaW5naWZ5KGVudmVsb3BlKTtcblxuICAgICAgICBpZiAoIXRoaXMuX25lZWRzRW5jcnlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuRGVjcnlwdGVkSnNvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBlbmNNc2cgPSBDcnlwdG8uQWVzRW5jcnlwdChzdGFtcC5TZWNyZXRzLkVuY0tleSwgdGhpcy5EZWNyeXB0ZWRKc29uKTtcbiAgICAgICAgbGV0IGhtYWNTaWcgPSBDcnlwdG8uSG1hY1NpZ25hdHVyZShzdGFtcC5TZWNyZXRzLkhtYWNLZXksIGVuY01zZyk7XG4gICAgICAgIGxldCBlbmNyTWVzc2FnZUVudmVsb3BlID0ge2VuYzogZW5jTXNnLCBobWFjOiBobWFjU2lnLnRvVXBwZXJDYXNlKCksIHBvc19pZDogc3RhbXAuUG9zSWR9O1xuXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlbmNyTWVzc2FnZUVudmVsb3BlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge0V2ZW50cywgTWVzc2FnZX0gZnJvbSAnLi9NZXNzYWdlcyc7XG5pbXBvcnQge1JlcXVlc3RJZEhlbHBlcn0gZnJvbSAnLi9SZXF1ZXN0SWRIZWxwZXInO1xuXG4vLyA8c3VtbWFyeT5cbi8vIFBhaXJpbmcgSW50ZXJhY3Rpb24gMTogT3V0Z29pbmdcbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBQYWlyUmVxdWVzdCB7XG4gICAgVG9NZXNzYWdlKCkge1xuICAgICAgICBsZXQgZGF0YSA9IHtwYWRkaW5nOiB0cnVlfTtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInByXCIpLCBFdmVudHMuUGFpclJlcXVlc3QsIGRhdGEsIGZhbHNlKTtcbiAgICB9XG59XG5cbi8vIFBhaXJpbmcgSW50ZXJhY3Rpb24gMjogSW5jb21pbmdcbmV4cG9ydCBjbGFzcyBLZXlSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3RvcihtKSB7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gbS5JZDtcbiAgICAgICAgdGhpcy5BZW5jID0gbS5EYXRhLmVuYy5BO1xuICAgICAgICB0aGlzLkFobWFjID0gbS5EYXRhLmhtYWMuQTtcbiAgICB9XG59XG5cbi8vIFBhaXJpbmcgSW50ZXJhY3Rpb24gMzogT3V0Z29pbmdcbmV4cG9ydCBjbGFzcyBLZXlSZXNwb25zZSB7XG4gICAgY29uc3RydWN0b3IocmVxdWVzdElkLCBCZW5jLCBCaG1hYykge1xuICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IHJlcXVlc3RJZDtcbiAgICAgICAgdGhpcy5CZW5jID0gQmVuYztcbiAgICAgICAgdGhpcy5CaG1hYyA9IEJobWFjO1xuICAgIH1cblxuICAgIFRvTWVzc2FnZSgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICBlbmM6IHtcbiAgICAgICAgICAgICAgICBCOiB0aGlzLkJlbmNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBobWFjOiB7XG4gICAgICAgICAgICAgICAgQjogdGhpcy5CaG1hY1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZSh0aGlzLlJlcXVlc3RJZCwgRXZlbnRzLktleVJlc3BvbnNlLCBkYXRhLCBmYWxzZSk7XG4gICAgfVxufVxuXG4vLyBQYWlyaW5nIEludGVyYWN0aW9uIDQ6IEluY29taW5nXG5leHBvcnQgY2xhc3MgS2V5Q2hlY2sge1xuICAgIGNvbnN0cnVjdG9yKG0pIHtcbiAgICAgICAgdGhpcy5Db25maXJtYXRpb25Db2RlID0gbS5JbmNvbWluZ0htYWMuc3Vic3RyaW5nKDAsNik7XG4gICAgfVxufVxuXG4vLyBQYWlyaW5nIEludGVyYWN0aW9uIDU6IEluY29taW5nXG5leHBvcnQgY2xhc3MgUGFpclJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihtKSB7XG4gICAgICAgIHRoaXMuU3VjY2VzcyA9IG0uRGF0YS5zdWNjZXNzO1xuICAgIH1cbn1cblxuLy8gSG9sZGVyIGNsYXNzIGZvciBTZWNyZXRzIGFuZCBLZXlSZXNwb25zZSwgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gdG9nZXRoZXIgaW4gbWV0aG9kIHNpZ25hdHVyZXMuXG5leHBvcnQgY2xhc3MgU2VjcmV0c0FuZEtleVJlc3BvbnNlIHtcbiAgICBjb25zdHJ1Y3RvcihzZWNyZXRzLCBrZXlSZXNwb25zZSkge1xuICAgICAgICB0aGlzLlNlY3JldHMgPSBzZWNyZXRzO1xuICAgICAgICB0aGlzLktleVJlc3BvbnNlID0ga2V5UmVzcG9uc2U7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRHJvcEtleXNSZXF1ZXN0XG57XG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJkcnBreXNcIiksIEV2ZW50cy5Ecm9wS2V5c0FkdmljZSwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxufSIsImltcG9ydCB7UGFpclJlcXVlc3QsIEtleVJlc3BvbnNlLCBTZWNyZXRzQW5kS2V5UmVzcG9uc2V9IGZyb20gJy4vUGFpcmluZyc7XG5pbXBvcnQge1NlY3JldHN9IGZyb20gJy4vU2VjcmV0cyc7XG5pbXBvcnQge0NyeXB0b30gZnJvbSAnLi9DcnlwdG8nO1xuaW1wb3J0IHtEaWZmaWVIZWxsbWFufSBmcm9tICcuL0RpZmZpZUhlbGxtYW4nO1xuXG4vLyBUaGlzIGlzIHRoZSBnZW5lcmF0b3IgdXNlZCBmb3IgZGlmZmllLWhlbGxtYW4gaW4gMjA0OC1iaXQgTU9EUCBHcm91cCAxNCBhcyBwZXIgKGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNTI2I3NlY3Rpb24tMylcbmV4cG9ydCBjb25zdCBHRU5FUkFUT1IgPSAyO1xuXG4vLyBUaGlzIGlzIHRoZSBwcmltZSB1c2VkIGZvciBkaWZmaWUtaGVsbG1hbiB1c2luZyAyMDQ4LWJpdCBNT0RQIEdyb3VwIDE0IGFzIHBlciAoaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM1MjYjc2VjdGlvbi0zKVxuZXhwb3J0IGNvbnN0IEdST1VQMTRfMjA0OF9CSVRfTU9EUCA9ICdGRkZGRkZGRkZGRkZGRkZGQzkwRkRBQTIyMTY4QzIzNEM0QzY2MjhCODBEQzFDRDEyOTAyNEUwODhBNjdDQzc0MDIwQkJFQTYzQjEzOUIyMjUxNEEwODc5OEUzNDA0RERFRjk1MTlCM0NEM0E0MzFCMzAyQjBBNkRGMjVGMTQzNzRGRTEzNTZENkQ1MUMyNDVFNDg1QjU3NjYyNUU3RUM2RjQ0QzQyRTlBNjM3RUQ2QjBCRkY1Q0I2RjQwNkI3RURFRTM4NkJGQjVBODk5RkE1QUU5RjI0MTE3QzRCMUZFNjQ5Mjg2NjUxRUNFNDVCM0RDMjAwN0NCOEExNjNCRjA1OThEQTQ4MzYxQzU1RDM5QTY5MTYzRkE4RkQyNENGNUY4MzY1NUQyM0RDQTNBRDk2MUM2MkYzNTYyMDg1NTJCQjlFRDUyOTA3NzA5Njk2NkQ2NzBDMzU0RTRBQkM5ODA0RjE3NDZDMDhDQTE4MjE3QzMyOTA1RTQ2MkUzNkNFM0JFMzlFNzcyQzE4MEU4NjAzOUIyNzgzQTJFQzA3QTI4RkI1QzU1REYwNkY0QzUyQzlERTJCQ0JGNjk1NTgxNzE4Mzk5NTQ5N0NFQTk1NkFFNTE1RDIyNjE4OThGQTA1MTAxNTcyOEU1QThBQUNBQTY4RkZGRkZGRkZGRkZGRkZGRic7XG5cbi8vIDxzdW1tYXJ5PlxuLy8gVGhpcyBzdGF0aWMgY2xhc3MgaGVscHMgeW91IHdpdGggdGhlIHBhaXJpbmcgcHJvY2VzcyBhcyBkb2N1bWVudGVkIGhlcmU6XG4vLyBodHRwOi8vd3d3LnNpbXBsZXBheW1lbnRhcGkuY29tLyMvYXBpL3BhaXJpbmctcHJvY2Vzc1xuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNsYXNzIFBhaXJpbmdIZWxwZXIge1xuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEdlbmVyYXRlcyBhIHBhaXJpbmcgUmVxdWVzdC5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHJldHVybnM+TmV3IFBhaXJSZXF1ZXN0PC9yZXR1cm5zPlxuICAgIHN0YXRpYyBOZXdQYWlyUmVxdWVzdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYWlyUmVxdWVzdCgpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGN1bGF0ZXMvR2VuZXJhdGVzIFNlY3JldHMgYW5kIEtleVJlc3BvbnNlIGdpdmVuIGFuIGluY29taW5nIEtleVJlcXVlc3QuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwia2V5UmVxdWVzdFwiPjwvcGFyYW0+XG4gICAgLy8gPHJldHVybnM+U2VjcmV0cyBhbmQgS2V5UmVzcG9uc2UgdG8gc2VuZCBiYWNrLjwvcmV0dXJucz5cbiAgICBHZW5lcmF0ZVNlY3JldHNBbmRLZXlSZXNwb25zZShrZXlSZXF1ZXN0KSB7XG4gICAgICAgIGxldCBlbmNQdWJBbmRTZWMgPSB0aGlzLl9jYWxjdWxhdGVNeVB1YmxpY0tleUFuZFNlY3JldChrZXlSZXF1ZXN0LkFlbmMpO1xuICAgICAgICBsZXQgQmVuYyA9IGVuY1B1YkFuZFNlYy5NeVB1YmxpY0tleTtcbiAgICAgICAgbGV0IFNlbmMgPSBlbmNQdWJBbmRTZWMuU2hhcmVkU2VjcmV0S2V5O1xuXG4gICAgICAgIGxldCBobWFjUHViQW5kU2VjID0gdGhpcy5fY2FsY3VsYXRlTXlQdWJsaWNLZXlBbmRTZWNyZXQoa2V5UmVxdWVzdC5BaG1hYyk7XG4gICAgICAgIGxldCBCaG1hYyA9IGhtYWNQdWJBbmRTZWMuTXlQdWJsaWNLZXk7XG4gICAgICAgIGxldCBTaG1hYyA9IGhtYWNQdWJBbmRTZWMuU2hhcmVkU2VjcmV0S2V5O1xuICAgICAgICBcbiAgICAgICAgbGV0IHNlY3JldHMgPSBuZXcgU2VjcmV0cyhTZW5jLCBTaG1hYyk7XG4gICAgICAgIGxldCBrZXlSZXNwb25zZSA9IG5ldyBLZXlSZXNwb25zZShrZXlSZXF1ZXN0LlJlcXVlc3RJZCwgQmVuYywgQmhtYWMpO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2VjcmV0c0FuZEtleVJlc3BvbnNlKHNlY3JldHMsIGtleVJlc3BvbnNlKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUdXJucyBhbiBpbmNvbWluZyBcIkFcIiB2YWx1ZSBmcm9tIHRoZSBQaW5QYWQgaW50byB0aGUgb3V0Z29pbmcgXCJCXCIgdmFsdWUgXG4gICAgLy8gYW5kIHRoZSBzZWNyZXQgdmFsdWUgdXNpbmcgRGlmZmllSGVsbW1hbiBoZWxwZXIuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwidGhlaXJQdWJsaWNLZXlcIj5UaGUgaW5jb21pbmcgQSB2YWx1ZTwvcGFyYW0+XG4gICAgLy8gPHJldHVybnM+WW91ciBCIHZhbHVlIGFuZCB0aGUgU2VjcmV0PC9yZXR1cm5zPlxuICAgIF9jYWxjdWxhdGVNeVB1YmxpY0tleUFuZFNlY3JldCh0aGVpclB1YmxpY0tleSkge1xuXG4gICAgICAgIGxldCBkaWZmaWVIZWxsbWFuID0gbmV3IERpZmZpZUhlbGxtYW4oKTtcbiAgICAgICAgbGV0IG15UHJpdmF0ZUJJID0gZGlmZmllSGVsbG1hbi5SYW5kb21Qcml2YXRlS2V5KEdST1VQMTRfMjA0OF9CSVRfTU9EUCk7XG4gICAgICAgIGxldCBteVB1YmxpY0JJID0gZGlmZmllSGVsbG1hbi5QdWJsaWNLZXkoR1JPVVAxNF8yMDQ4X0JJVF9NT0RQLCBHRU5FUkFUT1IsIG15UHJpdmF0ZUJJKTtcbiAgICAgICAgbGV0IHNlY3JldEJJID0gZGlmZmllSGVsbG1hbi5TZWNyZXQoR1JPVVAxNF8yMDQ4X0JJVF9NT0RQLCB0aGVpclB1YmxpY0tleSwgbXlQcml2YXRlQkkpO1xuXG4gICAgICAgIGxldCBzZWNyZXQgPSB0aGlzLkRIU2VjcmV0VG9TUElTZWNyZXQoc2VjcmV0QkkpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHVibGljS2V5QW5kU2VjcmV0KG15UHVibGljQkksIHNlY3JldCk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gQ29udmVydHMgdGhlIERIIHNlY3JldCBCaWdJbnRlZ2VyIGludG8gdGhlIGhleC1zdHJpbmcgdG8gYmUgdXNlZCBhcyB0aGUgc2VjcmV0LlxuICAgIC8vIFRoZXJlIGFyZSBzb21lIFwiZ290Y2h5YXNcIiBoZXJlIHdoaWNoIGlzIHdoeSB0aGlzIHBpZWNlIG9mIHdvcmsgaXMgYWJzdHJhY3RlZCBzbyBpdCBjYW4gYmUgdGVzdGVkIHNlcGFyYXRlbHkuXG4gICAgLy8gU2VlOiBodHRwOi8vd3d3LnNpbXBsZXBheW1lbnRhcGkuY29tLyMvYXBpL3BhaXJpbmctcHJvY2Vzc1xuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInNlY3JldEJJXCI+U2VjcmV0IGFzIEJpZ0ludGVnZXI8L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPlNlY3JldCBhcyBIZXgtU3RyaW5nPC9yZXR1cm5zPlxuICAgIERIU2VjcmV0VG9TUElTZWNyZXQoc2VjcmV0KVxuICAgIHsgICAgICBcbiAgICAgICAgLy8gSWYgdGhlIGNhbGN1bGF0ZWQgaGV4YWRlY2ltYWwgc2VjcmV0IGRvZXNuJ3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZiBjaGFyYWN0ZXJzLCB3ZSBhZGQgYW4gZXh0cmEgMCB0byB0aGUgc3RhcnQuIFRoaXMgYWxsb3dzIFNIQS0yNTYgdG8gb3BlcmF0ZSBvbiB0aGUgaGV4YWRlY2ltYWwgc2VjcmV0IGFzIGlmIGl0IHdlcmUgYSBoZXhhZGVjaW1hbCByZXByZXNlbnRhdGlvbiBvZiBhIHN0cmluZy5cbiAgICAgICAgaWYgKHNlY3JldC5sZW5ndGggJSAyID09PSAxKXtcbiAgICAgICAgICAgIHNlY3JldCA9ICcwJyArIHNlY3JldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlY3JldCA9IHNlY3JldC5wYWRTdGFydCg1MTIsICcwJyk7XG5cbiAgICAgICAgLy8gV2Ugc2hhMjU2IHRoYXQgYnl0ZSBhcnJheSBhbmQgcmV0dXJuIHRoZSBoZXggc3RyaW5nIHJlc3VsdFxuICAgICAgICByZXR1cm4gQ3J5cHRvLkdlbmVyYXRlSGFzaChzZWNyZXQpO1xuICAgIH1cbn1cblxuLy8gPHN1bW1hcnk+XG4vLyBJbnRlcm5hbCBIb2xkZXIgY2xhc3MgZm9yIFB1YmxpYyBhbmQgU2VjcmV0LCBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSB0b2dldGhlciBpbiBtZXRob2Qgc2lnbmF0dXJlcy4gXG4vLyA8L3N1bW1hcnk+XG5leHBvcnQgY2xhc3MgUHVibGljS2V5QW5kU2VjcmV0IHtcbiAgICBjb25zdHJ1Y3RvcihteVB1YmxpY0tleSwgc2hhcmVkU2VjcmV0S2V5KSB7XG4gICAgICAgIHRoaXMuTXlQdWJsaWNLZXkgPSBteVB1YmxpY0tleTtcbiAgICAgICAgdGhpcy5TaGFyZWRTZWNyZXRLZXkgPSBzaGFyZWRTZWNyZXRLZXk7XG4gICAgfVxufSIsImltcG9ydCB7RXZlbnRzLCBNZXNzYWdlfSBmcm9tICcuL01lc3NhZ2VzJztcbmltcG9ydCB7UHVyY2hhc2VSZXNwb25zZX0gZnJvbSAnLi9QdXJjaGFzZSc7XG5cbi8vIDxzdW1tYXJ5PlxuLy8gVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBCaWxsRGV0YWlscyB0aGF0IHRoZSBQT1Mgd2lsbCBiZSBhc2tlZCBmb3IgdGhyb3VnaG91dCBhIFBheUF0VGFibGUgZmxvdy5cbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBCaWxsU3RhdHVzUmVzcG9uc2VcbntcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFNldCB0aGlzIEVycm9yIGFjY29yZGluZ2x5IGlmIHlvdSBhcmUgbm90IGFibGUgdG8gcmV0dXJuIHRoZSBCaWxsRGV0YWlscyB0aGF0IHdlcmUgYXNrZWQgZnJvbSB5b3UuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5SZXN1bHQgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoaXMgaXMgYSB1bmlxdWUgaWRlbnRpZmllciB0aGF0IHlvdSBhc3NpZ24gdG8gZWFjaCBiaWxsLlxuICAgICAgICAvLyBJdCBtaWd0IGJlIGZvciBleGFtcGxlLCB0aGUgdGltZXN0YW1wIG9mIHdoZW4gdGhlIGNvdmVyIHdhcyBvcGVuZWQuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5CaWxsSWQgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHRhYmxlIGlkIHRoYXQgdGhpcyBiaWxsIHdhcyBmb3IuXG4gICAgICAgIC8vIFRoZSB3YWl0ZXIgd2lsbCBlbnRlciBpdCBvbiB0aGUgRWZ0cG9zIGF0IHRoZSBzdGFydCBvZiB0aGUgUGF5QXRUYWJsZSBmbG93IGFuZCB0aGUgRWZ0cG9zIHdpbGwgXG4gICAgICAgIC8vIHJldHJpZXZlIHRoZSBiaWxsIHVzaW5nIHRoZSB0YWJsZSBpZC4gXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5UYWJsZUlkID0gbnVsbDtcblxuICAgICAgICB0aGlzLk9wZXJhdG9ySWQgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoZSBUb3RhbCBBbW91bnQgb24gdGhpcyBiaWxsLCBpbiBjZW50cy5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLlRvdGFsQW1vdW50ID0gMDtcbiAgICAgICAgXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgY3VycmVudGx5IG91dHNhbmRpbmcgYW1vdW50IG9uIHRoaXMgYmlsbCwgaW4gY2VudHMuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5PdXRzdGFuZGluZ0Ftb3VudCA9IDA7XG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFlvdXIgUE9TIGlzIHJlcXVpcmVkIHRvIHBlcnNpc3Qgc29tZSBzdGF0ZSBvbiBiZWhhbGYgb2YgdGhlIEVmdHBvcyBzbyB0aGUgRWZ0cG9zIGNhbiByZWNvdmVyIHN0YXRlLlxuICAgICAgICAvLyBJdCBpcyBqdXN0IGEgcGllY2Ugb2Ygc3RyaW5nIHRoYXQgeW91IHNhdmUgYWdhaW5zdCB5b3VyIGJpbGxJZC5cbiAgICAgICAgLy8gV0hlbmV2ZXIgeW91J3JlIGFza2VkIGZvciBCaWxsRGV0YWlscywgbWFrZSBzdXJlIHlvdSByZXR1cm4gdGhpcyBwaWVjZSBvZiBkYXRhIGlmIHlvdSBoYXZlIGl0LlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuQmlsbERhdGEgPSBcIlwiO1xuICAgIH1cblxuICAgIGdldEJpbGxQYXltZW50SGlzdG9yeSgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuQmlsbERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbGV0IGJpbGxQYXltZW50SGlzdG9yeSA9IFtdO1xuICAgICAgICBsZXQgc2F2ZWRCaWxsRGF0YSA9IEpTT04ucGFyc2UodGhpcy5CaWxsRGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIHNhdmVkQmlsbERhdGEubWFwKChiaWxsKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBheW1lbnRIaXN0b3J5RW50cnkoYmlsbC5wYXltZW50X3R5cGUsIGJpbGwucGF5bWVudF9zdW1tYXJ5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc3RhdGljIFRvQmlsbERhdGEocGgpXG4gICAge1xuICAgICAgICBpZiAocGgubGVuZ3RoIDwgMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocGgpO1xuICAgIH1cbiAgICBcbiAgICBUb01lc3NhZ2UobWVzc2FnZUlkKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogdGhpcy5SZXN1bHQ9PUJpbGxSZXRyaWV2YWxSZXN1bHQuU1VDQ0VTU1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuQmlsbElkKSBkYXRhLmJpbGxfaWQgPSB0aGlzLkJpbGxJZDtcbiAgICAgICAgaWYgKHRoaXMuVGFibGVJZCkgZGF0YS50YWJsZV9pZCA9IHRoaXMuVGFibGVJZDtcblxuICAgICAgICBpZiAodGhpcy5SZXN1bHQgPT0gQmlsbFJldHJpZXZhbFJlc3VsdC5TVUNDRVNTKVxuICAgICAgICB7XG4gICAgICAgICAgICBkYXRhLmJpbGxfdG90YWxfYW1vdW50ID0gdGhpcy5Ub3RhbEFtb3VudDtcbiAgICAgICAgICAgIGRhdGEuYmlsbF9vdXRzdGFuZGluZ19hbW91bnQgPSB0aGlzLk91dHN0YW5kaW5nQW1vdW50O1xuICAgICAgICAgICAgZGF0YS5iaWxsX3BheW1lbnRfaGlzdG9yeSA9IHRoaXMuZ2V0QmlsbFBheW1lbnRIaXN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBkYXRhLmVycm9yX3JlYXNvbiA9IHRoaXMuUmVzdWx0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBkYXRhLmVycm9yX2RldGFpbCA9IHRoaXMuUmVzdWx0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UobWVzc2FnZUlkLCBFdmVudHMuUGF5QXRUYWJsZUJpbGxEZXRhaWxzLCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBCaWxsUmV0cmlldmFsUmVzdWx0ID0gXG57XG4gICAgU1VDQ0VTUzogJ1NVQ0NFU1MnLFxuICAgIElOVkFMSURfVEFCTEVfSUQ6ICdJTlZBTElEX1RBQkxFX0lEJyxcbiAgICBJTlZBTElEX0JJTExfSUQ6ICdJTlZBTElEX0JJTExfSUQnLFxuICAgIElOVkFMSURfT1BFUkFUT1JfSUQ6ICdJTlZBTElEX09QRVJBVE9SX0lEJ1xufTtcblxuZXhwb3J0IGNvbnN0IFBheW1lbnRUeXBlID0gXG57XG4gICAgQ0FSRDogJ0NBUkQnLFxuICAgIENBU0g6ICdDQVNIJyBcbn07XG5cbmV4cG9ydCBjbGFzcyBCaWxsUGF5bWVudFxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLl9pbmNvbWluZ0FkdmljZSA9IG07XG4gICAgICAgIHRoaXMuQmlsbElkID0gdGhpcy5faW5jb21pbmdBZHZpY2UuRGF0YVtcImJpbGxfaWRcIl07XG4gICAgICAgIHRoaXMuVGFibGVJZCA9IHRoaXMuX2luY29taW5nQWR2aWNlLkRhdGFbXCJ0YWJsZV9pZFwiXTtcbiAgICAgICAgdGhpcy5PcGVyYXRvcklkID0gdGhpcy5faW5jb21pbmdBZHZpY2UuRGF0YVtcIm9wZXJhdG9yX2lkXCJdO1xuICAgICAgICB0aGlzLlBheW1lbnRGbG93U3RhcnRlZCA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICB2YXIgcHQgPSB0aGlzLl9pbmNvbWluZ0FkdmljZS5EYXRhW1wicGF5bWVudF90eXBlXCJdO1xuICAgICAgICB0aGlzLlBheW1lbnRUeXBlID0gcHQ7XG4gICAgICAgIFxuICAgICAgICAvLyB0aGlzIGlzIHdoZW4gd2UgcGx5IHRoZSBzdWIgb2JqZWN0IFwicGF5bWVudF9kZXRhaWxzXCIgaW50byBhIHB1cmNoYXNlIHJlc3BvbnNlIGZvciBjb252ZW5pZW5jZS5cbiAgICAgICAgdmFyIHB1cmNoYXNlTXNnID0gbmV3IE1lc3NhZ2UobS5JZCwgXCJwYXltZW50X2RldGFpbHNcIiwgbS5EYXRhW1wicGF5bWVudF9kZXRhaWxzXCJdLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuUHVyY2hhc2VSZXNwb25zZSA9IG5ldyBQdXJjaGFzZVJlc3BvbnNlKHB1cmNoYXNlTXNnKTtcblxuICAgICAgICB0aGlzLlB1cmNoYXNlQW1vdW50ID0gdGhpcy5QdXJjaGFzZVJlc3BvbnNlLkdldFB1cmNoYXNlQW1vdW50KCk7XG4gICAgICAgIHRoaXMuVGlwQW1vdW50ID0gdGhpcy5QdXJjaGFzZVJlc3BvbnNlLkdldFRpcEFtb3VudCgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBheW1lbnRIaXN0b3J5RW50cnlcbntcbiAgICBjb25zdHJ1Y3RvcihwYXltZW50VHlwZSwgcGF5bWVudFN1bW1hcnkpXG4gICAge1xuICAgICAgICB0aGlzLlBheW1lbnRUeXBlID0gcGF5bWVudFR5cGU7XG4gICAgICAgIHRoaXMuUGF5bWVudFN1bW1hcnkgPSBwYXltZW50U3VtbWFyeTtcbiAgICB9XG5cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXltZW50X3R5cGU6IHRoaXMuUGF5bWVudFR5cGUsXG4gICAgICAgICAgICBwYXltZW50X3N1bW1hcnk6IHRoaXMuUGF5bWVudFN1bW1hcnlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgXG4gICAgR2V0VGVybWluYWxSZWZJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5QYXltZW50U3VtbWFyeVtcInRlcm1pbmFsX3JlZl9pZFwiXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQYXlBdFRhYmxlQ29uZmlnXG57XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuUGF5QXRUYWJsZWRFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuT3BlcmF0b3JJZEVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5TcGxpdEJ5QW1vdW50RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLkVxdWFsU3BsaXRFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuVGFibGVSZXRyaWV2YWxFbmFibGVkID0gZmFsc2U7XG4gICAgIFxuICAgICAgICB0aGlzLlRpcHBpbmdFbmFibGVkID0gZmFsc2U7XG4gICAgXG4gICAgICAgIHRoaXMuU3VtbWFyeVJlcG9ydEVuYWJsZWQgPSBmYWxzZTtcbiAgICBcbiAgICAgICAgdGhpcy5MYWJlbFBheUJ1dHRvbiA9ICcnO1xuICAgICAgICB0aGlzLkxhYmVsT3BlcmF0b3JJZCA9ICcnO1xuICAgICAgICB0aGlzLkxhYmVsVGFibGVJZCA9ICcnO1xuICAgIFxuICAgICAgICAvLyBcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIEZpbGwgaW4gd2l0aCBvcGVyYXRvciBpZHMgdGhhdCB0aGUgZWZ0cG9zIHRlcm1pbmFsIHdpbGwgdmFsaWRhdGUgYWdhaW5zdC4gXG4gICAgICAgIC8vIExlYXZlIEVtcHR5IHRvIGFsbG93IGFueSBvcGVyYXRvcl9pZCB0aHJvdWdoLiBcbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgIHRoaXMuQWxsb3dlZE9wZXJhdG9ySWRzID0gW107XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKG1lc3NhZ2VJZClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgXCJwYXlfYXRfdGFibGVfZW5hYmxlZFwiOiB0aGlzLlBheUF0VGFibGVkRW5hYmxlZCxcbiAgICAgICAgICAgIFwib3BlcmF0b3JfaWRfZW5hYmxlZFwiOiB0aGlzLk9wZXJhdG9ySWRFbmFibGVkLFxuICAgICAgICAgICAgXCJzcGxpdF9ieV9hbW91bnRfZW5hYmxlZFwiOiB0aGlzLlNwbGl0QnlBbW91bnRFbmFibGVkLFxuICAgICAgICAgICAgXCJlcXVhbF9zcGxpdF9lbmFibGVkXCI6IHRoaXMuRXF1YWxTcGxpdEVuYWJsZWQsXG4gICAgICAgICAgICBcInRpcHBpbmdfZW5hYmxlZFwiOiB0aGlzLlRpcHBpbmdFbmFibGVkLFxuICAgICAgICAgICAgXCJzdW1tYXJ5X3JlcG9ydF9lbmFibGVkXCI6IHRoaXMuU3VtbWFyeVJlcG9ydEVuYWJsZWQsXG4gICAgICAgICAgICBcInBheV9idXR0b25fbGFiZWxcIjogdGhpcy5MYWJlbFBheUJ1dHRvbixcbiAgICAgICAgICAgIFwib3BlcmF0b3JfaWRfbGFiZWxcIjogdGhpcy5MYWJlbE9wZXJhdG9ySWQsXG4gICAgICAgICAgICBcInRhYmxlX2lkX2xhYmVsXCI6IHRoaXMuTGFiZWxUYWJsZUlkLFxuICAgICAgICAgICAgXCJvcGVyYXRvcl9pZF9saXN0XCI6IHRoaXMuQWxsb3dlZE9wZXJhdG9ySWRzLFxuICAgICAgICAgICAgXCJ0YWJsZV9yZXRyaWV2YWxfZW5hYmxlZFwiOiB0aGlzLlRhYmxlUmV0cmlldmFsRW5hYmxlZCxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UobWVzc2FnZUlkLCBFdmVudHMuUGF5QXRUYWJsZVNldFRhYmxlQ29uZmlnLCBkYXRhLCB0cnVlKTtcbiAgICB9XG4gICAgXG4gICAgc3RhdGljIEZlYXR1cmVEaXNhYmxlTWVzc2FnZShtZXNzYWdlSWQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBcInBheV9hdF90YWJsZV9lbmFibGVkXCI6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShtZXNzYWdlSWQsIEV2ZW50cy5QYXlBdFRhYmxlU2V0VGFibGVDb25maWcsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuLy8gPHN1bW1hcnk+XG4vLyBUaGVzZSBhdHRyaWJ1dGVzIHdvcmsgZm9yIENPTSBpbnRlcm9wLlxuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNsYXNzIEdldE9wZW5UYWJsZXNSZXNwb25zZVxue1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vLyBZb3VyIFBPUyBpcyByZXF1aXJlZCB0byBwZXJzaXN0IHNvbWUgc3RhdGUgb24gYmVoYWxmIG9mIHRoZSBFZnRwb3Mgc28gdGhlIEVmdHBvcyBjYW4gcmVjb3ZlciBzdGF0ZS5cbiAgICAgICAgLy8vIEl0IGlzIGp1c3QgYSBwaWVjZSBvZiBzdHJpbmcgdGhhdCB5b3Ugc2F2ZSBhZ2FpbnN0IHlvdXIgb3BlcmF0b3JJZC5cbiAgICAgICAgLy8vIFdoZW5ldmVyIHlvdSdyZSBhc2tlZCBmb3IgT3BlblRhYmxlcywgbWFrZSBzdXJlIHlvdSByZXR1cm4gdGhpcyBwaWVjZSBvZiBkYXRhIGlmIHlvdSBoYXZlIGl0LlxuICAgICAgICAvLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLlRhYmxlRGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgR2V0T3BlblRhYmxlcygpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuVGFibGVEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh0aGlzLlRhYmxlRGF0YSk7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKG1lc3NhZ2VJZClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgdGFibGVzOiB0aGlzLkdldE9wZW5UYWJsZXMoKVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShtZXNzYWdlSWQsIEV2ZW50cy5QYXlBdFRhYmxlT3BlblRhYmxlcywgZGF0YSwgdHJ1ZSk7XG4gICAgfVxufVxuXG4vLyA8c3VtbWFyeT5cbi8vIFRoZXNlIGF0dHJpYnV0ZXMgd29yayBmb3IgQ09NIGludGVyb3AuXG4vLyA8L3N1bW1hcnk+XG5leHBvcnQgY2xhc3MgT3BlblRhYmxlc0VudHJ5XG57XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuVGFibGVJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuTGFiZWwgPSBudWxsO1xuICAgICAgICB0aGlzLkJpbGxPdXRzdGFuZGluZ0Ftb3VudCA9IG51bGw7XG4gICAgfVxufVxuXG4vLy8gPHN1bW1hcnk+XG4vLy8gVGhlc2UgYXR0cmlidXRlcyB3b3JrIGZvciBDT00gaW50ZXJvcC5cbi8vLyA8L3N1bW1hcnk+XG5cbmV4cG9ydCBjbGFzcyBCaWxsUGF5bWVudEZsb3dFbmRlZFJlc3BvbnNlXG57XG4gICAgY29uc3RydWN0b3IobSlcbiAgICB7XG4gICAgICAgIHRoaXMuQmlsbElkID0gbS5EYXRhLmJpbGxfaWQ7XG4gICAgICAgIHRoaXMuQmlsbE91dHN0YW5kaW5nQW1vdW50ID0gbS5EYXRhLmJpbGxfb3V0c3RhbmRpbmdfYW1vdW50O1xuICAgICAgICB0aGlzLkJpbGxUb3RhbEFtb3VudCA9IG0uRGF0YS5iaWxsX3RvdGFsX2Ftb3VudDtcbiAgICAgICAgdGhpcy5PcGVyYXRvcklkID0gbS5EYXRhLm9wZXJhdG9yX2lkO1xuICAgICAgICB0aGlzLlRhYmxlSWQgPSBtLkRhdGEudGFibGVfaWQ7XG4gICAgICAgIHRoaXMuQ2FyZFRvdGFsQ291bnQgPSBtLkRhdGEuY2FyZF90b3RhbF9jb3VudDtcbiAgICAgICAgdGhpcy5DYXJkVG90YWxBbW91bnQgPSBtLkRhdGEuY2FyZF90b3RhbF9hbW91bnQ7XG4gICAgICAgIHRoaXMuQ2FzaFRvdGFsQ291bnQgPSBtLkRhdGEuY2FzaF90b3RhbF9jb3VudDtcbiAgICAgICAgdGhpcy5DYXNoVG90YWxBbW91bnQgPSBtLkRhdGEuY2FzaF90b3RhbF9hbW91bnQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtSZXF1ZXN0SWRIZWxwZXJ9IGZyb20gJy4vUmVxdWVzdElkSGVscGVyJztcbmltcG9ydCB7RXZlbnRzLCBNZXNzYWdlfSBmcm9tICcuL01lc3NhZ2VzJztcblxuZXhwb3J0IGNsYXNzIFBvbmdIZWxwZXJcbntcbiAgICBzdGF0aWMgR2VuZXJhdGVQb25nUmVzc3BvbnNlKHBpbmcpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UocGluZy5JZCwgRXZlbnRzLlBvbmcsIG51bGwsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBpbmdIZWxwZXJcbntcbiAgICBzdGF0aWMgR2VuZXJhdGVQaW5nUmVxdWVzdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicGluZ1wiKSwgRXZlbnRzLlBpbmcsIG51bGwsIHRydWUpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7TWVzc2FnZSwgRXZlbnRzLCBTdWNjZXNzU3RhdGV9IGZyb20gJy4vTWVzc2FnZXMnO1xuaW1wb3J0IHtSZXF1ZXN0SWRIZWxwZXJ9IGZyb20gJy4vUmVxdWVzdElkSGVscGVyJztcblxuZXhwb3J0IGNsYXNzIFNldFBvc0luZm9SZXF1ZXN0XG57XG4gICAgY29uc3RydWN0b3IodmVyc2lvbiwgdmVuZG9ySWQsIGxpYnJhcnlMYW5ndWFnZSwgbGlicmFyeVZlcnNpb24sIG90aGVySW5mbylcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgICB0aGlzLl92ZW5kb3JJZCA9IHZlbmRvcklkO1xuICAgICAgICB0aGlzLl9saWJyYXJ5TGFuZ3VhZ2UgPSBsaWJyYXJ5TGFuZ3VhZ2U7XG4gICAgICAgIHRoaXMuX2xpYnJhcnlWZXJzaW9uID0gbGlicmFyeVZlcnNpb247XG4gICAgICAgIHRoaXMuX290aGVySW5mbyA9IG90aGVySW5mbztcbiAgICB9XG5cbiAgICB0b01lc3NhZ2UoKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBwb3NfdmVyc2lvbjogdGhpcy5fdmVyc2lvbixcbiAgICAgICAgICAgIHBvc192ZW5kb3JfaWQ6IHRoaXMuX3ZlbmRvcklkLFxuICAgICAgICAgICAgbGlicmFyeV9sYW5ndWFnZTogdGhpcy5fbGlicmFyeUxhbmd1YWdlLFxuICAgICAgICAgICAgbGlicmFyeV92ZXJzaW9uOiB0aGlzLl9saWJyYXJ5VmVyc2lvbixcbiAgICAgICAgICAgIG90aGVyX2luZm86IHRoaXMuX290aGVySW5mb1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJwcmF2XCIpLCBFdmVudHMuU2V0UG9zSW5mb1JlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldFBvc0luZm9SZXNwb25zZVxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLl9zdWNjZXNzID0gbS5HZXRTdWNjZXNzU3RhdGUoKSA9PSBTdWNjZXNzU3RhdGUuU3VjY2VzcztcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgfVxuICAgIGlzU3VjY2VzcygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3VjY2VzcztcbiAgICB9XG4gICAgZ2V0RXJyb3JSZWFzb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5lcnJvcl9yZWFzb247XG4gICAgfVxuICAgIGdldEVycm9yRGV0YWlsKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuZXJyb3JfZGV0YWlsO1xuICAgIH1cbiAgICBnZXRSZXNwb25zZVZhbHVlV2l0aEF0dHJpYnV0ZShhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW2F0dHJpYnV0ZV07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGV2aWNlSW5mb1xue1xuICAgIHN0YXRpYyBHZXRBcHBEZXZpY2VJbmZvKClcbiAgICB7XG4gICAgICAgIHZhciBkZXZpY2VJbmZvID0ge307XG4gICAgICAgIGRldmljZUluZm9bJ2RldmljZV9zeXN0ZW0nXSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIC8vIGRldmljZUluZm8uQWRkKFwiZGV2aWNlX3N5c3RlbVwiLCBFbnZpcm9ubWVudC5PU1ZlcnNpb24uUGxhdGZvcm0uVG9TdHJpbmcoKSArIFwiIFwiICsgRW52aXJvbm1lbnQuT1NWZXJzaW9uLlZlcnNpb24uVG9TdHJpbmcoKSk7XG4gICAgICAgIHJldHVybiBkZXZpY2VJbmZvO1xuICAgIH1cbn1cbiIsImltcG9ydCB7UmVxdWVzdElkSGVscGVyfSBmcm9tICcuL1JlcXVlc3RJZEhlbHBlcic7XG5pbXBvcnQge01lc3NhZ2V9IGZyb20gJy4vTWVzc2FnZXMnO1xuaW1wb3J0IHtQdXJjaGFzZVJlc3BvbnNlfSBmcm9tICcuL1B1cmNoYXNlJztcbmltcG9ydCB7U3BpQ29uZmlnLCBUcmFuc2FjdGlvbk9wdGlvbnN9IGZyb20gJy4vU3BpTW9kZWxzJztcblxuZXhwb3J0IGNvbnN0IFByZWF1dGhFdmVudHMgPSBcbntcbiAgICBBY2NvdW50VmVyaWZ5UmVxdWVzdDogXCJhY2NvdW50X3ZlcmlmeVwiLFxuICAgIEFjY291bnRWZXJpZnlSZXNwb25zZTogXCJhY2NvdW50X3ZlcmlmeV9yZXNwb25zZVwiLFxuICAgIFxuICAgIFByZWF1dGhPcGVuUmVxdWVzdCA6IFwicHJlYXV0aFwiLFxuICAgIFByZWF1dGhPcGVuUmVzcG9uc2UgOiBcInByZWF1dGhfcmVzcG9uc2VcIixcblxuICAgIFByZWF1dGhUb3B1cFJlcXVlc3Q6IFwicHJlYXV0aF90b3B1cFwiLFxuICAgIFByZWF1dGhUb3B1cFJlc3BvbnNlOiBcInByZWF1dGhfdG9wdXBfcmVzcG9uc2VcIixcblxuICAgIFByZWF1dGhFeHRlbmRSZXF1ZXN0OiBcInByZWF1dGhfZXh0ZW5kXCIsXG4gICAgUHJlYXV0aEV4dGVuZFJlc3BvbnNlOiBcInByZWF1dGhfZXh0ZW5kX3Jlc3BvbnNlXCIsXG5cbiAgICBQcmVhdXRoUGFydGlhbENhbmNlbGxhdGlvblJlcXVlc3QgOiBcInByZWF1dGhfcGFydGlhbF9jYW5jZWxsYXRpb25cIixcbiAgICBQcmVhdXRoUGFydGlhbENhbmNlbGxhdGlvblJlc3BvbnNlIDogXCJwcmVhdXRoX3BhcnRpYWxfY2FuY2VsbGF0aW9uX3Jlc3BvbnNlXCIsXG4gICAgXG4gICAgUHJlYXV0aENhbmNlbGxhdGlvblJlcXVlc3QgOiBcInByZWF1dGhfY2FuY2VsbGF0aW9uXCIsXG4gICAgUHJlYXV0aENhbmNlbGxhdGlvblJlc3BvbnNlIDogXCJwcmVhdXRoX2NhbmNlbGxhdGlvbl9yZXNwb25zZVwiLFxuXG4gICAgUHJlYXV0aENvbXBsZXRlUmVxdWVzdCA6IFwiY29tcGxldGlvblwiLFxuICAgIFByZWF1dGhDb21wbGV0ZVJlc3BvbnNlIDogXCJjb21wbGV0aW9uX3Jlc3BvbnNlXCJcbn07XG5cbmV4cG9ydCBjbGFzcyBBY2NvdW50VmVyaWZ5UmVxdWVzdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgIH1cblxuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIFwicG9zX3JlZl9pZFwiOiB0aGlzLlBvc1JlZklkXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInByYXZcIiksIFByZWF1dGhFdmVudHMuQWNjb3VudFZlcmlmeVJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFjY291bnRWZXJpZnlSZXNwb25zZVxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLkRldGFpbHMgPSBuZXcgUHVyY2hhc2VSZXNwb25zZShtKTtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHRoaXMuRGV0YWlscy5Qb3NSZWZJZDtcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlYXV0aE9wZW5SZXF1ZXN0XG57XG4gICAgY29uc3RydWN0b3IoYW1vdW50Q2VudHMsIHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgICAgICB0aGlzLlByZWF1dGhBbW91bnQgPSBhbW91bnRDZW50cztcbiAgICAgICAgdGhpcy5Db25maWcgPSBuZXcgU3BpQ29uZmlnKCk7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICBUb01lc3NhZ2UoKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBcInBvc19yZWZfaWRcIjogdGhpcy5Qb3NSZWZJZCxcbiAgICAgICAgICAgIFwicHJlYXV0aF9hbW91bnRcIjogdGhpcy5QcmVhdXRoQW1vdW50XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByaW50TWVyY2hhbnRDb3B5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFNpZ25hdHVyZUZsb3dPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicHJhY1wiKSwgUHJlYXV0aEV2ZW50cy5QcmVhdXRoT3BlblJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByZWF1dGhUb3B1cFJlcXVlc3RcbntcbiAgICBjb25zdHJ1Y3RvcihwcmVhdXRoSWQsIHRvcHVwQW1vdW50Q2VudHMsIHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5QcmVhdXRoSWQgPSBwcmVhdXRoSWQ7XG4gICAgICAgIHRoaXMuVG9wdXBBbW91bnQgPSB0b3B1cEFtb3VudENlbnRzO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgXCJwb3NfcmVmX2lkXCI6IHRoaXMuUG9zUmVmSWQsXG4gICAgICAgICAgICBcInByZWF1dGhfaWRcIjogdGhpcy5QcmVhdXRoSWQsXG4gICAgICAgICAgICBcInRvcHVwX2Ftb3VudFwiOiB0aGlzLlRvcHVwQW1vdW50XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByaW50TWVyY2hhbnRDb3B5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFNpZ25hdHVyZUZsb3dPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicHJ0dVwiKSwgUHJlYXV0aEV2ZW50cy5QcmVhdXRoVG9wdXBSZXF1ZXN0LCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVhdXRoUGFydGlhbENhbmNlbGxhdGlvblJlcXVlc3RcbntcbiAgICBjb25zdHJ1Y3RvcihwcmVhdXRoSWQsIHBhcnRpYWxDYW5jZWxsYXRpb25BbW91bnRDZW50cywgcG9zUmVmSWQpXG4gICAge1xuICAgICAgICB0aGlzLlByZWF1dGhJZCA9IHByZWF1dGhJZDtcbiAgICAgICAgdGhpcy5QYXJ0aWFsQ2FuY2VsbGF0aW9uQW1vdW50ID0gcGFydGlhbENhbmNlbGxhdGlvbkFtb3VudENlbnRzO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgXCJwb3NfcmVmX2lkXCI6IHRoaXMuUG9zUmVmSWQsXG4gICAgICAgICAgICBcInByZWF1dGhfaWRcIjogdGhpcy5QcmVhdXRoSWQsXG4gICAgICAgICAgICBcInByZWF1dGhfY2FuY2VsX2Ftb3VudFwiOiB0aGlzLlBhcnRpYWxDYW5jZWxsYXRpb25BbW91bnRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJpbnRNZXJjaGFudENvcHkgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJvbXB0Rm9yQ3VzdG9tZXJDb3B5T25FZnRwb3MgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuQWRkUmVjZWlwdENvbmZpZyhkYXRhKTtcbiAgICAgICAgdGhpcy5PcHRpb25zLkFkZE9wdGlvbnMoZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJwcnBjXCIpLCBQcmVhdXRoRXZlbnRzLlByZWF1dGhQYXJ0aWFsQ2FuY2VsbGF0aW9uUmVxdWVzdCwgZGF0YSwgdHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlYXV0aEV4dGVuZFJlcXVlc3RcbntcbiAgICBjb25zdHJ1Y3RvcihwcmVhdXRoSWQsIHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5QcmVhdXRoSWQgPSBwcmVhdXRoSWQ7XG4gICAgICAgIHRoaXMuUG9zUmVmSWQgPSBwb3NSZWZJZDtcbiAgICAgICAgdGhpcy5Db25maWcgPSBuZXcgU3BpQ29uZmlnKCk7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKTtcbiAgICB9XG5cbiAgICBUb01lc3NhZ2UoKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBcInBvc19yZWZfaWRcIjogdGhpcy5Qb3NSZWZJZCxcbiAgICAgICAgICAgIFwicHJlYXV0aF9pZFwiOiB0aGlzLlByZWF1dGhJZFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcmludE1lcmNoYW50Q29weSA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRTaWduYXR1cmVGbG93T25FZnRwb3MgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5BZGRSZWNlaXB0Q29uZmlnKGRhdGEpO1xuICAgICAgICB0aGlzLk9wdGlvbnMuQWRkT3B0aW9ucyhkYXRhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInByZXh0XCIpLCBQcmVhdXRoRXZlbnRzLlByZWF1dGhFeHRlbmRSZXF1ZXN0LCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcmVhdXRoQ2FuY2VsUmVxdWVzdFxue1xuICAgIGNvbnN0cnVjdG9yKHByZWF1dGhJZCwgcG9zUmVmSWQpXG4gICAge1xuICAgICAgICB0aGlzLlByZWF1dGhJZCA9IHByZWF1dGhJZDtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgICAgICB0aGlzLkNvbmZpZyA9IG5ldyBTcGlDb25maWcoKTtcbiAgICAgICAgdGhpcy5PcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpO1xuICAgIH1cblxuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIFwicG9zX3JlZl9pZFwiOiB0aGlzLlBvc1JlZklkLFxuICAgICAgICAgICAgXCJwcmVhdXRoX2lkXCI6IHRoaXMuUHJlYXV0aElkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByaW50TWVyY2hhbnRDb3B5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFNpZ25hdHVyZUZsb3dPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicHJhY1wiKSwgUHJlYXV0aEV2ZW50cy5QcmVhdXRoQ2FuY2VsbGF0aW9uUmVxdWVzdCwgZGF0YSwgdHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJlYXV0aENvbXBsZXRpb25SZXF1ZXN0XG57XG4gICAgY29uc3RydWN0b3IocHJlYXV0aElkLCBjb21wbGV0aW9uQW1vdW50Q2VudHMsIHBvc1JlZklkLCBzdXJjaGFyZ2VBbW91bnQpXG4gICAge1xuICAgICAgICB0aGlzLlByZWF1dGhJZCA9IHByZWF1dGhJZDtcbiAgICAgICAgdGhpcy5Db21wbGV0aW9uQW1vdW50ID0gY29tcGxldGlvbkFtb3VudENlbnRzO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuU3VyY2hhcmdlQW1vdW50ID0gc3VyY2hhcmdlQW1vdW50O1xuICAgICAgICB0aGlzLkNvbmZpZyA9IG5ldyBTcGlDb25maWcoKTtcbiAgICAgICAgdGhpcy5PcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpO1xuICAgIH1cblxuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIFwicG9zX3JlZl9pZFwiOiB0aGlzLlBvc1JlZklkLFxuICAgICAgICAgICAgXCJwcmVhdXRoX2lkXCI6IHRoaXMuUHJlYXV0aElkLFxuICAgICAgICAgICAgXCJjb21wbGV0aW9uX2Ftb3VudFwiOiB0aGlzLkNvbXBsZXRpb25BbW91bnQsXG4gICAgICAgICAgICBcInN1cmNoYXJnZV9hbW91bnRcIjogdGhpcy5TdXJjaGFyZ2VBbW91bnRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJpbnRNZXJjaGFudENvcHkgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJvbXB0Rm9yQ3VzdG9tZXJDb3B5T25FZnRwb3MgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuQWRkUmVjZWlwdENvbmZpZyhkYXRhKTtcbiAgICAgICAgdGhpcy5PcHRpb25zLkFkZE9wdGlvbnMoZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJwcmFjXCIpLCBQcmVhdXRoRXZlbnRzLlByZWF1dGhDb21wbGV0ZVJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByZWF1dGhSZXNwb25zZVxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLlByZWF1dGhJZCA9IG0uRGF0YVtcInByZWF1dGhfaWRcIl07XG4gICAgICAgIHRoaXMuRGV0YWlscyA9IG5ldyBQdXJjaGFzZVJlc3BvbnNlKG0pO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gdGhpcy5EZXRhaWxzLlBvc1JlZklkO1xuICAgICAgICB0aGlzLl9tID0gbTtcbiAgICB9XG5cbiAgICBHZXRCYWxhbmNlQW1vdW50KClcbiAgICB7XG4gICAgICAgIHZhciB0eFR5cGUgPSB0aGlzLl9tLkRhdGFbXCJ0cmFuc2FjdGlvbl90eXBlXCJdO1xuICAgICAgICBzd2l0Y2ggKHR4VHlwZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBcIlBSRS1BVVRIXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcInByZWF1dGhfYW1vdW50XCJdO1xuICAgICAgICAgICAgY2FzZSBcIlRPUFVQXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImJhbGFuY2VfYW1vdW50XCJdO1xuICAgICAgICAgICAgY2FzZSBcIkNBTkNFTFwiOiAvLyBQQVJUSUFMIENBTkNFTExBVElPTlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJiYWxhbmNlX2Ftb3VudFwiXTtcbiAgICAgICAgICAgIGNhc2UgXCJQUkUtQVVUSCBFWFRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wiYmFsYW5jZV9hbW91bnRcIl07XG4gICAgICAgICAgICBjYXNlIFwiUENPTVBcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMDsgLy8gQmFsYW5jZSBpcyAwIGFmdGVyIGNvbXBsZXRpb25cbiAgICAgICAgICAgIGNhc2UgXCJQUkUtQVVUSCBDQU5DRUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMDsgLy8gQmFsYW5jZSBpcyAwIGFmdGVyIGNhbmNlbGxhdGlvblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEdldFByZXZpb3VzQmFsYW5jZUFtb3VudCgpXG4gICAge1xuICAgICAgICB2YXIgdHhUeXBlID0gdGhpcy5fbS5EYXRhW1widHJhbnNhY3Rpb25fdHlwZVwiXTtcbiAgICAgICAgc3dpdGNoICh0eFR5cGUpXG4gICAgICAgIHsgICBcbiAgICAgICAgICAgIGNhc2UgXCJQUkUtQVVUSFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSBcIlRPUFVQXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YVtcImV4aXN0aW5nX3ByZWF1dGhfYW1vdW50XCJdO1xuICAgICAgICAgICAgY2FzZSBcIkNBTkNFTFwiOiAvLyBQQVJUSUFMIENBTkNFTExBVElPTlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJleGlzdGluZ19wcmVhdXRoX2Ftb3VudFwiXTtcbiAgICAgICAgICAgIGNhc2UgXCJQUkUtQVVUSCBFWFRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wiZXhpc3RpbmdfcHJlYXV0aF9hbW91bnRcIl07XG4gICAgICAgICAgICBjYXNlIFwiUENPTVBcIjpcbiAgICAgICAgICAgICAgICAvLyBUSElTIElTIFRFQ0hOSUNBTExZIE5PVCBDT1JSRUNUIFdIRU4gQ09NUExFVElPTiBIQVBQRU5TIEZPUiBBIFBBUlRJQUwgQU1PVU5ULlxuICAgICAgICAgICAgICAgIC8vIEJVVCBVTkZPUlRVTkFURUxZLCBUSElTIFJFU1BPTlNFIERPRVMgTk9UIENPTlRBSU4gXCJleGlzdGluZ19wcmVhdXRoX2Ftb3VudFwiLlxuICAgICAgICAgICAgICAgIC8vIFNPIFwiY29tcGxldGlvbl9hbW91bnRcIiBJUyBUSEUgQ0xPU0VTVCBXRSBIQVZFLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJjb21wbGV0aW9uX2Ftb3VudFwiXTtcbiAgICAgICAgICAgIGNhc2UgXCJQUkUtQVVUSCBDQU5DRUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wicHJlYXV0aF9hbW91bnRcIl07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIEdldENvbXBsZXRpb25BbW91bnQoKVxuICAgIHtcbiAgICAgICAgdmFyIHR4VHlwZSA9IHRoaXMuX20uRGF0YVtcInRyYW5zYWN0aW9uX3R5cGVcIl07XG4gICAgICAgIHN3aXRjaCAodHhUeXBlKVxuICAgICAgICB7ICAgXG4gICAgICAgICAgICBjYXNlIFwiUENPTVBcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wiY29tcGxldGlvbl9hbW91bnRcIl07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBHZXRTdXJjaGFyZ2VBbW91bnQoKVxuICAgIHtcbiAgICAgICAgdmFyIHR4VHlwZSA9IHRoaXMuX20uRGF0YVtcInRyYW5zYWN0aW9uX3R5cGVcIl07XG4gICAgICAgIHN3aXRjaCAodHhUeXBlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIFwiUENPTVBcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wic3VyY2hhcmdlX2Ftb3VudFwiXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBXYXNNZXJjaGFudFJlY2VpcHRQcmludGVkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbXCJtZXJjaGFudF9yZWNlaXB0X3ByaW50ZWRcIl07XG4gICAgfVxuXG4gICAgV2FzQ3VzdG9tZXJSZWNlaXB0UHJpbnRlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW1wiY3VzdG9tZXJfcmVjZWlwdF9wcmludGVkXCJdO1xuICAgIH1cbn0iLCJpbXBvcnQge0V2ZW50cywgTWVzc2FnZSwgU3VjY2Vzc1N0YXRlfSBmcm9tICcuL01lc3NhZ2VzJztcbmltcG9ydCB7UmVxdWVzdElkSGVscGVyfSBmcm9tICcuL1JlcXVlc3RJZEhlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBQcmludGluZ1JlcXVlc3RcbntcbiAgICBjb25zdHJ1Y3RvcihrZXksIHBheWxvYWQpXG4gICAge1xuICAgICAgICB0aGlzLl9rZXkgPSBrZXk7XG4gICAgICAgIHRoaXMuX3BheWxvYWQgPSBwYXlsb2FkO1xuICAgIH1cblxuICAgIHRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIFwia2V5XCI6IHRoaXMuX2tleSxcbiAgICAgICAgICAgIFwicGF5bG9hZFwiOiB0aGlzLl9wYXlsb2FkXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInByaW50XCIpLCBFdmVudHMuUHJpbnRpbmdSZXF1ZXN0LCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcmludGluZ1Jlc3BvbnNlXG57XG4gICAgY29uc3RydWN0b3IobSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3N1Y2Nlc3MgPSBtLkdldFN1Y2Nlc3NTdGF0ZSgpID09IFN1Y2Nlc3NTdGF0ZS5TdWNjZXNzO1xuICAgICAgICB0aGlzLl9tID0gbTtcbiAgICB9XG4gICAgaXNTdWNjZXNzKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdWNjZXNzO1xuICAgIH1cbiAgICBnZXRFcnJvclJlYXNvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmVycm9yX3JlYXNvbjtcbiAgICB9XG4gICAgZ2V0RXJyb3JEZXRhaWwoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5lcnJvcl9kZXRhaWw7XG4gICAgfVxuICAgIGdldFJlc3BvbnNlVmFsdWVXaXRoQXR0cmlidXRlKGF0dHJpYnV0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGFbYXR0cmlidXRlXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhIG1vY2sgcHJpbnRlciBmb3IgdGhlIHRlcm1pbmFsIHRvIHByaW50IFJlY2VpcHRzXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmludGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuYnVmZmVyICAgICA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnQgICAgPSBlbGVtZW50O1xuICAgIH1cblxuICAgIHByaW50KC4uLmFyZ3MpIHtcbiAgICAgICAgdGhpcy5idWZmZXIucHVzaChhcmdzLmpvaW4oJyAnKSk7XG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIF9yZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmJ1ZmZlci5qb2luKGBcXG5cXG4gXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvXFxcXC9cXFxcL1xcXFwvIFxcblxcbmApO1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wID0gdGhpcy5lbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICB9XG5cbiAgICBDbGVhcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxufSIsImltcG9ydCB7RXZlbnRzLCBTdWNjZXNzU3RhdGUsIE1lc3NhZ2V9IGZyb20gJy4vTWVzc2FnZXMnO1xuaW1wb3J0IHtSZXF1ZXN0SWRIZWxwZXJ9IGZyb20gJy4vUmVxdWVzdElkSGVscGVyJztcbmltcG9ydCB7U3BpQ29uZmlnLCBUcmFuc2FjdGlvbk9wdGlvbnN9IGZyb20gJy4vU3BpTW9kZWxzJztcblxuZXhwb3J0IGNsYXNzIFB1cmNoYXNlUmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3IoYW1vdW50Q2VudHMsIHBvc1JlZklkKSB7XG4gICAgICAgIHRoaXMuUG9zUmVmSWQgPSBwb3NSZWZJZDtcbiAgICAgICAgdGhpcy5QdXJjaGFzZUFtb3VudCA9IGFtb3VudENlbnRzO1xuICAgICAgICB0aGlzLlRpcEFtb3VudCA9IDA7XG4gICAgICAgIHRoaXMuQ2FzaG91dEFtb3VudCA9IDA7XG4gICAgICAgIHRoaXMuUHJvbXB0Rm9yQ2FzaG91dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLlN1cmNoYXJnZUFtb3VudCA9IDA7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG5cbiAgICAgICAgLy8gTGlicmFyeSBCYWNrd2FyZHMgQ29tcGF0aWJpbGl0eVxuICAgICAgICB0aGlzLklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuQW1vdW50Q2VudHMgPSBhbW91bnRDZW50cztcbiAgICB9XG5cbiAgICBBbW91bnRTdW1tYXJ5KClcbiAgICB7XG4gICAgICAgIHJldHVybiBgUHVyY2hhc2U6ICR7KHRoaXMuUHVyY2hhc2VBbW91bnQgLyAxMDAuMCkudG9GaXhlZCgyKX07IFxuICAgICAgICAgICAgVGlwOiAkeyh0aGlzLlRpcEFtb3VudCAvIDEwMC4wKS50b0ZpeGVkKDIpfTsgXG4gICAgICAgICAgICBDYXNob3V0OiAkeyh0aGlzLkNhc2hvdXRBbW91bnQgLyAxMDAuMCkudG9GaXhlZCgyKX07YDtcbiAgICB9XG5cbiAgICBUb01lc3NhZ2UoKSB7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgcG9zX3JlZl9pZDogdGhpcy5Qb3NSZWZJZCxcbiAgICAgICAgICAgIHB1cmNoYXNlX2Ftb3VudDogdGhpcy5QdXJjaGFzZUFtb3VudCxcbiAgICAgICAgICAgIHRpcF9hbW91bnQ6IHRoaXMuVGlwQW1vdW50LFxuICAgICAgICAgICAgY2FzaF9hbW91bnQ6IHRoaXMuQ2FzaG91dEFtb3VudCxcbiAgICAgICAgICAgIHByb21wdF9mb3JfY2FzaG91dDogdGhpcy5Qcm9tcHRGb3JDYXNob3V0LCBcbiAgICAgICAgICAgIHN1cmNoYXJnZV9hbW91bnQ6IHRoaXMuU3VyY2hhcmdlQW1vdW50XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByaW50TWVyY2hhbnRDb3B5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFNpZ25hdHVyZUZsb3dPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicHJjaHNcIiksIEV2ZW50cy5QdXJjaGFzZVJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFB1cmNoYXNlUmVzcG9uc2VcbntcbiAgICBjb25zdHJ1Y3RvcihtKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gbS5JZDtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IG0uRGF0YS5wb3NfcmVmX2lkO1xuICAgICAgICB0aGlzLlNjaGVtZU5hbWUgPSBtLkRhdGEuc2NoZW1lX25hbWU7XG4gICAgICAgIHRoaXMuU2NoZW1lQXBwTmFtZSA9IG0uRGF0YS5zY2hlbWVfbmFtZTtcbiAgICAgICAgdGhpcy5TdWNjZXNzID0gbS5HZXRTdWNjZXNzU3RhdGUoKSA9PSBTdWNjZXNzU3RhdGUuU3VjY2VzcztcbiAgICB9XG5cbiAgICBHZXRSUk4oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5ycm47XG4gICAgfVxuXG4gICAgR2V0UHVyY2hhc2VBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5wdXJjaGFzZV9hbW91bnQ7XG4gICAgfVxuXG4gICAgR2V0VGlwQW1vdW50KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEudGlwX2Ftb3VudDtcbiAgICB9XG5cbiAgICBHZXRTdXJjaGFyZ2VBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5zdXJjaGFyZ2VfYW1vdW50O1xuICAgIH1cblxuICAgIEdldENhc2hvdXRBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5jYXNoX2Ftb3VudDtcbiAgICB9XG5cbiAgICBHZXRCYW5rTm9uQ2FzaEFtb3VudCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmJhbmtfbm9uY2FzaF9hbW91bnQ7XG4gICAgfVxuXG4gICAgR2V0QmFua0Nhc2hBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5iYW5rX2Nhc2hfYW1vdW50O1xuICAgIH1cblxuICAgIEdldEN1c3RvbWVyUmVjZWlwdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmN1c3RvbWVyX3JlY2VpcHQgfHwgXCJcIjtcbiAgICB9XG5cbiAgICBHZXRNZXJjaGFudFJlY2VpcHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5tZXJjaGFudF9yZWNlaXB0IHx8IFwiXCI7XG4gICAgfVxuXG4gICAgR2V0UmVzcG9uc2VUZXh0KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuaG9zdF9yZXNwb25zZV90ZXh0IHx8IFwiXCI7XG4gICAgfVxuXG4gICAgR2V0UmVzcG9uc2VDb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuaG9zdF9yZXNwb25zZV9jb2RlO1xuICAgIH1cbiAgICBcbiAgICBHZXRUZXJtaW5hbFJlZmVyZW5jZUlkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEudGVybWluYWxfcmVmX2lkO1xuICAgIH1cblxuICAgIEdldENhcmRFbnRyeSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmNhcmRfZW50cnk7XG4gICAgfVxuICAgIFxuICAgIEdldEFjY291bnRUeXBlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYWNjb3VudF90eXBlO1xuICAgIH1cblxuICAgIEdldEF1dGhDb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYXV0aF9jb2RlO1xuICAgIH1cblxuICAgIEdldEJhbmtEYXRlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYmFua19kYXRlO1xuICAgIH1cblxuICAgIEdldEJhbmtUaW1lKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYmFua190aW1lO1xuICAgIH1cbiAgICBcbiAgICBHZXRNYXNrZWRQYW4oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5tYXNrZWRfcGFuO1xuICAgIH1cbiAgICBcbiAgICBHZXRUZXJtaW5hbElkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEudGVybWluYWxfaWQ7XG4gICAgfVxuXG4gICAgV2FzTWVyY2hhbnRSZWNlaXB0UHJpbnRlZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLm1lcmNoYW50X3JlY2VpcHRfcHJpbnRlZDtcbiAgICB9XG5cbiAgICBXYXNDdXN0b21lclJlY2VpcHRQcmludGVkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuY3VzdG9tZXJfcmVjZWlwdF9wcmludGVkO1xuICAgIH1cbiAgICBcbiAgICBHZXRTZXR0bGVtZW50RGF0ZSgpXG4gICAge1xuICAgICAgICAvL1wiYmFua19zZXR0bGVtZW50X2RhdGVcIjpcIjIwMDQyMDE4XCJcbiAgICAgICAgdmFyIGRhdGVTdHIgPSB0aGlzLl9tLkRhdGEuYmFua19zZXR0bGVtZW50X2RhdGU7XG4gICAgICAgIGlmICghZGF0ZVN0cikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBNZXNzYWdlLlBhcnNlQmFua0RhdGUoZGF0ZVN0cik7XG4gICAgfVxuXG4gICAgR2V0UmVzcG9uc2VWYWx1ZShhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW2F0dHJpYnV0ZV07XG4gICAgfVxuXG4gICAgVG9QYXltZW50U3VtbWFyeSgpXG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWNjb3VudF90eXBlOiB0aGlzLkdldEFjY291bnRUeXBlKCksXG4gICAgICAgICAgICBhdXRoX2NvZGU6IHRoaXMuR2V0QXV0aENvZGUoKSxcbiAgICAgICAgICAgIGJhbmtfZGF0ZTogdGhpcy5HZXRCYW5rRGF0ZSgpLFxuICAgICAgICAgICAgYmFua190aW1lOiB0aGlzLkdldEJhbmtUaW1lKCksXG4gICAgICAgICAgICBob3N0X3Jlc3BvbnNlX2NvZGU6IHRoaXMuR2V0UmVzcG9uc2VDb2RlKCksXG4gICAgICAgICAgICBob3N0X3Jlc3BvbnNlX3RleHQ6IHRoaXMuR2V0UmVzcG9uc2VUZXh0KCksXG4gICAgICAgICAgICBtYXNrZWRfcGFuOiB0aGlzLkdldE1hc2tlZFBhbigpLFxuICAgICAgICAgICAgcHVyY2hhc2VfYW1vdW50OiB0aGlzLkdldFB1cmNoYXNlQW1vdW50KCksXG4gICAgICAgICAgICBycm46IHRoaXMuR2V0UlJOKCksXG4gICAgICAgICAgICBzY2hlbWVfbmFtZTogdGhpcy5TY2hlbWVOYW1lLFxuICAgICAgICAgICAgdGVybWluYWxfaWQ6IHRoaXMuR2V0VGVybWluYWxJZCgpLFxuICAgICAgICAgICAgdGVybWluYWxfcmVmX2lkOiB0aGlzLkdldFRlcm1pbmFsUmVmZXJlbmNlSWQoKSxcbiAgICAgICAgICAgIHRpcF9hbW91bnQ6IHRoaXMuR2V0VGlwQW1vdW50KCksXG4gICAgICAgICAgICBzdXJjaGFyZ2VfYW1vdW50OiB0aGlzLkdldFN1cmNoYXJnZUFtb3VudCgpXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ2FuY2VsVHJhbnNhY3Rpb25SZXF1ZXN0XG57XG4gICAgXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJjdHhcIiksIEV2ZW50cy5DYW5jZWxUcmFuc2FjdGlvblJlcXVlc3QsIG51bGwsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhbmNlbFRyYW5zYWN0aW9uUmVzcG9uc2VcbntcbiAgICBjb25zdHJ1Y3RvcihtKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgICAgIHRoaXMuUG9zUmVmSWQgPSB0aGlzLl9tLkRhdGEucG9zX3JlZl9pZDtcbiAgICAgICAgdGhpcy5TdWNjZXNzID0gdGhpcy5fbS5HZXRTdWNjZXNzU3RhdGUoKSA9PSBTdWNjZXNzU3RhdGUuU3VjY2VzcztcbiAgICB9XG5cbiAgICBHZXRFcnJvclJlYXNvbigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmVycm9yX3JlYXNvbjtcbiAgICB9XG5cbiAgICBHZXRFcnJvckRldGFpbCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmVycm9yX2RldGFpbDtcbiAgICB9XG5cbiAgICBHZXRSZXNwb25zZVZhbHVlV2l0aEF0dHJpYnV0ZShhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW2F0dHJpYnV0ZV07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0TGFzdFRyYW5zYWN0aW9uUmVxdWVzdFxue1xuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwiZ2x0XCIpLCBFdmVudHMuR2V0TGFzdFRyYW5zYWN0aW9uUmVxdWVzdCwgbnVsbCwgdHJ1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0TGFzdFRyYW5zYWN0aW9uUmVzcG9uc2VcbntcbiAgICBjb25zdHJ1Y3RvcihtKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgfVxuXG4gICAgV2FzUmV0cmlldmVkU3VjY2Vzc2Z1bGx5KClcbiAgICB7XG4gICAgICAgIC8vIFdlIGNhbid0IHJlbHkgb24gY2hlY2tpbmcgXCJzdWNjZXNzXCIgZmxhZyBvciBcImVycm9yXCIgZmllbGRzIGhlcmUsXG4gICAgICAgIC8vIGFzIHJldHJpZXZhbCBtYXkgYmUgc3VjY2Vzc2Z1bCwgYnV0IHRoZSByZXRyaWV2ZWQgdHJhbnNhY3Rpb24gd2FzIGEgZmFpbC5cbiAgICAgICAgLy8gU28gd2UgY2hlY2sgaWYgd2UgZ290IGJhY2sgYW4gUmVzcG9uc2VDb2RlLlxuICAgICAgICAvLyAoYXMgb3Bwb3NlZCB0byBzYXkgYW4gb3BlcmF0aW9uX2luX3Byb2dyZXNzX2Vycm9yKVxuICAgICAgICByZXR1cm4gISF0aGlzLkdldFJlc3BvbnNlQ29kZSgpO1xuICAgIH1cblxuICAgIFdhc1RpbWVPdXRPZlN5bmNFcnJvcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5HZXRFcnJvcigpLnN0YXJ0c1dpdGgoXCJUSU1FX09VVF9PRl9TWU5DXCIpO1xuICAgIH1cblxuICAgIFdhc09wZXJhdGlvbkluUHJvZ3Jlc3NFcnJvcigpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5HZXRFcnJvcigpLnN0YXJ0c1dpdGgoXCJPUEVSQVRJT05fSU5fUFJPR1JFU1NcIik7XG4gICAgfVxuXG4gICAgSXNXYWl0aW5nRm9yU2lnbmF0dXJlUmVzcG9uc2UoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uR2V0RXJyb3IoKS5zdGFydHNXaXRoKFwiT1BFUkFUSU9OX0lOX1BST0dSRVNTX0FXQUlUSU5HX1NJR05BVFVSRVwiKTtcbiAgICB9XG5cbiAgICBJc1dhaXRpbmdGb3JBdXRoQ29kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5HZXRFcnJvcigpLnN0YXJ0c1dpdGgoXCJPUEVSQVRJT05fSU5fUFJPR1JFU1NfQVdBSVRJTkdfUEhPTkVfQVVUSF9DT0RFXCIpO1xuICAgIH1cbiAgICBcbiAgICBJc1N0aWxsSW5Qcm9ncmVzcyhwb3NSZWZJZClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLldhc09wZXJhdGlvbkluUHJvZ3Jlc3NFcnJvcigpICYmICh0aGlzLkdldFBvc1JlZklkKCkgPT0gcG9zUmVmSWQgfHwgdGhpcy5HZXRQb3NSZWZJZCgpID09IG51bGwpO1xuICAgIH1cblxuICAgIEdldFN1Y2Nlc3NTdGF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5HZXRTdWNjZXNzU3RhdGUoKTtcbiAgICB9XG5cbiAgICBXYXNTdWNjZXNzZnVsVHgoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uR2V0U3VjY2Vzc1N0YXRlKCkgPT0gU3VjY2Vzc1N0YXRlLlN1Y2Nlc3M7XG4gICAgfVxuXG4gICAgR2V0VHhUeXBlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEudHJhbnNhY3Rpb25fdHlwZTtcbiAgICB9XG5cbiAgICBHZXRQb3NSZWZJZCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgfVxuXG4gICAgR2V0QmFua05vbkNhc2hBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5iYW5rX25vbmNhc2hfYW1vdW50O1xuICAgIH1cblxuICAgIEdldFNjaGVtZUFwcCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLnNjaGVtZV9uYW1lO1xuICAgIH1cblxuICAgIEdldFNjaGVtZU5hbWUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5zY2hlbWVfbmFtZTtcbiAgICB9XG5cbiAgICBHZXRBbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5hbW91bnRfcHVyY2hhc2U7XG4gICAgfVxuXG4gICAgR2V0VHJhbnNhY3Rpb25BbW91bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5hbW91bnRfdHJhbnNhY3Rpb25fdHlwZTtcbiAgICB9XG5cbiAgICBHZXRCYW5rRGF0ZVRpbWVTdHJpbmcoKVxuICAgIHtcbiAgICAgICAgdmFyIGRzID0gdGhpcy5fbS5EYXRhLmJhbmtfZGF0ZSArIHRoaXMuX20uRGF0YS5iYW5rX3RpbWU7XG4gICAgICAgIHJldHVybiBkcztcbiAgICB9XG5cbiAgICBHZXRSUk4oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5ycm47XG4gICAgfVxuICAgIFxuICAgIEdldFJlc3BvbnNlVGV4dCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmhvc3RfcmVzcG9uc2VfdGV4dCB8IFwiXCI7XG4gICAgfVxuXG4gICAgR2V0UmVzcG9uc2VDb2RlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuaG9zdF9yZXNwb25zZV9jb2RlO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFRoZXJlIGlzIGEgYnVnLCBWU1YtOTIwLCB3aGVyZWJ5IHRoZSBjdXN0b21lcl9yZWNlaXB0IGlzIG1pc3NpbmcgZnJvbSBhIGdsdCByZXNwb25zZS5cbiAgICAvLyBUaGUgY3VycmVudCByZWNvbW1lbmRhdGlvbiBpcyB0byB1c2UgdGhlIG1lcmNoYW50IHJlY2VpcHQgaW4gcGxhY2Ugb2YgaXQgaWYgcmVxdWlyZWQuXG4gICAgLy8gVGhpcyBtZXRob2QgbW9kaWZpZXMgdGhlIHVuZGVybHlpbmcgaW5jb21pbmcgbWVzc2FnZSBkYXRhIGJ5IGNvcHlpbmdcbiAgICAvLyB0aGUgbWVyY2hhbnQgcmVjZWlwdCBpbnRvIHRoZSBjdXN0b21lciByZWNlaXB0IG9ubHkgaWYgdGhlcmUgXG4gICAgLy8gaXMgYSBtZXJjaGFudF9yZWNlaXB0IGFuZCB0aGVyZSBpcyBub3QgYSBjdXN0b21lcl9yZWNlaXB0LiAgIFxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBDb3B5TWVyY2hhbnRSZWNlaXB0VG9DdXN0b21lclJlY2VpcHQoKVxuICAgIHtcbiAgICAgICAgdmFyIGNyID0gdGhpcy5fbS5EYXRhLmN1c3RvbWVyX3JlY2VpcHQ7XG4gICAgICAgIHZhciBtciA9IHRoaXMuX20uRGF0YS5tZXJjaGFudF9yZWNlaXB0O1xuICAgICAgICBpZiAobXIgIT0gXCJcIiAmJiAhKGNyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbS5EYXRhLmN1c3RvbWVyX3JlY2VpcHQgPSBtcjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlZnVuZFJlcXVlc3RcbntcbiAgICBjb25zdHJ1Y3RvcihhbW91bnRDZW50cywgcG9zUmVmSWQsIHN1cHByZXNzTWVyY2hhbnRQYXNzd29yZClcbiAgICB7XG4gICAgICAgIHRoaXMuQW1vdW50Q2VudHMgPSBhbW91bnRDZW50cztcbiAgICAgICAgdGhpcy5JZCA9IFJlcXVlc3RJZEhlbHBlci5JZChcInJlZnVuZFwiKTtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgICAgICB0aGlzLlN1cHByZXNzTWVyY2hhbnRQYXNzd29yZCA9IHN1cHByZXNzTWVyY2hhbnRQYXNzd29yZDtcbiAgICAgICAgdGhpcy5Db25maWcgPSBuZXcgU3BpQ29uZmlnKCk7XG4gICAgICAgIHRoaXMuT3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKTtcbiAgICB9XG4gICAgXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIGxldCBkYXRhID0ge1xuICAgICAgICAgICAgcmVmdW5kX2Ftb3VudDogdGhpcy5BbW91bnRDZW50cywgXG4gICAgICAgICAgICBwb3NfcmVmX2lkOiB0aGlzLlBvc1JlZklkLFxuICAgICAgICAgICAgc3VwcHJlc3NfbWVyY2hhbnRfcGFzc3dvcmQ6IHRoaXMuU3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJpbnRNZXJjaGFudENvcHkgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkUHJvbXB0Rm9yQ3VzdG9tZXJDb3B5T25FZnRwb3MgPSB0cnVlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuQWRkUmVjZWlwdENvbmZpZyhkYXRhKTtcbiAgICAgICAgdGhpcy5PcHRpb25zLkFkZE9wdGlvbnMoZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgTWVzc2FnZShSZXF1ZXN0SWRIZWxwZXIuSWQoXCJyZWZ1bmRcIiksIEV2ZW50cy5SZWZ1bmRSZXF1ZXN0LCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWZ1bmRSZXNwb25zZVxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLl9tID0gbTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBtLklkO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgIHRoaXMuU2NoZW1lTmFtZSA9IG0uRGF0YS5zY2hlbWVfbmFtZTtcbiAgICAgICAgdGhpcy5TY2hlbWVBcHBOYW1lID0gbS5EYXRhLnNjaGVtZV9uYW1lO1xuICAgICAgICB0aGlzLlN1Y2Nlc3MgPSBtLkdldFN1Y2Nlc3NTdGF0ZSgpID09IFN1Y2Nlc3NTdGF0ZS5TdWNjZXNzO1xuICAgIH1cblxuICAgIEdldFJlZnVuZEFtb3VudCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLnJlZnVuZF9hbW91bnQ7XG4gICAgfVxuXG4gICAgR2V0UlJOKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEucnJuO1xuICAgIH1cblxuICAgIEdldEN1c3RvbWVyUmVjZWlwdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmN1c3RvbWVyX3JlY2VpcHQgfHwgXCJcIjtcbiAgICB9XG5cbiAgICBHZXRNZXJjaGFudFJlY2VpcHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5tZXJjaGFudF9yZWNlaXB0O1xuICAgIH1cbiAgICBcbiAgICBHZXRSZXNwb25zZVRleHQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5ob3N0X3Jlc3BvbnNlX3RleHQgfHwgXCJcIjtcbiAgICB9XG5cbiAgICBHZXRSZXNwb25zZUNvZGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5ob3N0X3Jlc3BvbnNlX2NvZGUgfHwgXCJcIjtcbiAgICB9XG5cblxuICAgIEdldFRlcm1pbmFsUmVmZXJlbmNlSWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS50ZXJtaW5hbF9yZWZfaWQgfHwgXCJcIjtcbiAgICB9XG4gICAgR2V0Q2FyZEVudHJ5KClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuY2FyZF9lbnRyeSB8fCBcIlwiO1xuICAgIH1cbiAgICBHZXRBY2NvdW50VHlwZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmFjY291bnRfdHlwZSB8fCBcIlwiO1xuICAgIH1cbiAgICBHZXRBdXRoQ29kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmF1dGhfY29kZSB8fCBcIlwiO1xuICAgIH1cbiAgICBHZXRCYW5rRGF0ZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmJhbmtfZGF0ZSB8fCBcIlwiO1xuICAgIH1cbiAgICBHZXRCYW5rVGltZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmJhbmtfdGltZSB8fCBcIlwiO1xuICAgIH1cbiAgICBHZXRNYXNrZWRQYW4oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5tYXNrZWRfcGFuIHx8IFwiXCI7XG4gICAgfVxuICAgIEdldFRlcm1pbmFsSWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS50ZXJtaW5hbF9pZCB8fCBcIlwiO1xuICAgIH1cbiAgICBXYXNNZXJjaGFudFJlY2VpcHRQcmludGVkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEubWVyY2hhbnRfcmVjZWlwdF9wcmludGVkO1xuICAgIH1cbiAgICBXYXNDdXN0b21lclJlY2VpcHRQcmludGVkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuY3VzdG9tZXJfcmVjZWlwdF9wcmludGVkO1xuICAgIH1cbiAgICBHZXRTZXR0bGVtZW50RGF0ZSgpXG4gICAge1xuICAgICAgICAvL1wiYmFua19zZXR0bGVtZW50X2RhdGVcIjpcIjIwMDQyMDE4XCJcbiAgICAgICAgdmFyIGRhdGVTdHIgPSB0aGlzLl9tLkRhdGEuYmFua19zZXR0bGVtZW50X2RhdGU7XG4gICAgICAgIGlmICghZGF0ZVN0cikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBNZXNzYWdlLlBhcnNlQmFua0RhdGUoZGF0ZVN0cik7XG4gICAgfVxuXG4gICAgR2V0UmVzcG9uc2VWYWx1ZShhdHRyaWJ1dGUpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhW2F0dHJpYnV0ZV07XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2lnbmF0dXJlUmVxdWlyZWRcbntcbiAgICBjb25zdHJ1Y3RvcihtKVxuICAgIHtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBtLklkO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgIHRoaXMuX3JlY2VpcHRUb1NpZ24gPSBtLkRhdGEubWVyY2hhbnRfcmVjZWlwdDtcbiAgICB9XG4gICAgXG4gICAgU2lnbmF0dXJlUmVxdWlyZWQocG9zUmVmSWQsIHJlcXVlc3RJZCwgcmVjZWlwdFRvU2lnbilcbiAgICB7XG4gICAgICAgIHRoaXMuUmVxdWVzdElkID0gcmVxdWVzdElkO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuX3JlY2VpcHRUb1NpZ24gPSByZWNlaXB0VG9TaWduO1xuICAgIH1cblxuICAgIEdldE1lcmNoYW50UmVjZWlwdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVjZWlwdFRvU2lnbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTaWduYXR1cmVEZWNsaW5lXG57XG4gICAgY29uc3RydWN0b3IocG9zUmVmSWQpXG4gICAge1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgcG9zX3JlZl9pZDogdGhpcy5Qb3NSZWZJZFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwic2lnZGVjXCIpLCBFdmVudHMuU2lnbmF0dXJlRGVjbGluZWQsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNpZ25hdHVyZUFjY2VwdFxue1xuICAgIGNvbnN0cnVjdG9yKHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgIH1cblxuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHtcbiAgICAgICAgICAgIHBvc19yZWZfaWQ6IHRoaXMuUG9zUmVmSWRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBNZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInNpZ2FjY1wiKSwgRXZlbnRzLlNpZ25hdHVyZUFjY2VwdGVkLCBkYXRhLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNb3RvUHVyY2hhc2VSZXF1ZXN0XG57XG4gICAgY29uc3RydWN0b3IoYW1vdW50Q2VudHMsIHBvc1JlZklkLCBzdXJjaGFyZ2VBbW91bnQpXG4gICAge1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gcG9zUmVmSWQ7XG4gICAgICAgIHRoaXMuUHVyY2hhc2VBbW91bnQgPSBhbW91bnRDZW50cztcbiAgICAgICAgdGhpcy5TdXJjaGFyZ2VBbW91bnQgPSBzdXJjaGFyZ2VBbW91bnQ7XG4gICAgICAgIHRoaXMuU3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgcG9zX3JlZl9pZDogdGhpcy5Qb3NSZWZJZCxcbiAgICAgICAgICAgIHB1cmNoYXNlX2Ftb3VudDogdGhpcy5QdXJjaGFzZUFtb3VudCxcbiAgICAgICAgICAgIHN1cmNoYXJnZV9hbW91bnQ6IHRoaXMuU3VyY2hhcmdlQW1vdW50LFxuICAgICAgICAgICAgc3VwcHJlc3NfbWVyY2hhbnRfcGFzc3dvcmQ6IHRoaXMuU3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByaW50TWVyY2hhbnRDb3B5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5Db25maWcuRW5hYmxlZFNpZ25hdHVyZUZsb3dPbkVmdHBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwibW90b1wiKSwgRXZlbnRzLk1vdG9QdXJjaGFzZVJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vdG9QdXJjaGFzZVJlc3BvbnNlXG57XG4gICAgY29uc3RydWN0b3IobSlcbiAgICB7XG4gICAgICAgIHRoaXMuUHVyY2hhc2VSZXNwb25zZSA9IG5ldyBQdXJjaGFzZVJlc3BvbnNlKG0pO1xuICAgICAgICB0aGlzLlBvc1JlZklkID0gUHVyY2hhc2VSZXNwb25zZS5Qb3NSZWZJZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQaG9uZUZvckF1dGhSZXF1aXJlZFxue1xuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpXG4gICAge1xuICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IGFyZ3NbMF07XG4gICAgICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IGFyZ3NbMV07XG4gICAgICAgICAgICB0aGlzLl9waG9uZU51bWJlciA9IGFyZ3NbMl07XG4gICAgICAgICAgICB0aGlzLl9tZXJjaGFudElkID0gYXJnc1szXTtcbiAgICAgICAgfSBlbHNlIGlmKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLlJlcXVlc3RJZCA9IGFyZ3NbMF0uSWQ7XG4gICAgICAgICAgICB0aGlzLlBvc1JlZklkID0gYXJnc1swXS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgICAgICB0aGlzLl9waG9uZU51bWJlciA9IGFyZ3NbMF0uRGF0YS5hdXRoX2NlbnRyZV9waG9uZV9udW1iZXI7XG4gICAgICAgICAgICB0aGlzLl9tZXJjaGFudElkID0gYXJnc1swXS5EYXRhLm1lcmNoYW50X2lkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNhbGwgc2lnIGZvciBQaG9uZSBhdXRoIHJlcXVpcmVkIGNsYXNzJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgR2V0UGhvbmVOdW1iZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bob25lTnVtYmVyO1xuICAgIH1cbiAgICBcbiAgICBHZXRNZXJjaGFudElkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJjaGFudElkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF1dGhDb2RlQWR2aWNlXG57XG4gICAgY29uc3RydWN0b3IocG9zUmVmSWQsIGF1dGhDb2RlKVxuICAgIHtcbiAgICAgICAgdGhpcy5Qb3NSZWZJZCA9IHBvc1JlZklkO1xuICAgICAgICB0aGlzLkF1dGhDb2RlID0gYXV0aENvZGU7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgcG9zX3JlZl9pZDogdGhpcy5Qb3NSZWZJZCxcbiAgICAgICAgICAgIGF1dGhfY29kZTogdGhpcy5BdXRoQ29kZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwiYXV0aGFkXCIpLCBFdmVudHMuQXV0aENvZGVBZHZpY2UsIGRhdGEsIHRydWUpO1xuICAgIH1cbn0iLCJpbXBvcnQge1B1cmNoYXNlUmVxdWVzdCwgUmVmdW5kUmVxdWVzdH0gZnJvbSAnLi9QdXJjaGFzZSc7XG5cbmV4cG9ydCBjbGFzcyBQdXJjaGFzZUhlbHBlclxue1xuICAgIHN0YXRpYyBDcmVhdGVQdXJjaGFzZVJlcXVlc3QoYW1vdW50Q2VudHMsIHB1cmNoYXNlSWQpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFB1cmNoYXNlUmVxdWVzdChhbW91bnRDZW50cywgcHVyY2hhc2VJZCk7XG4gICAgfVxuICAgIFxuICAgIHN0YXRpYyBDcmVhdGVQdXJjaGFzZVJlcXVlc3RWMihwb3NSZWZJZCwgcHVyY2hhc2VBbW91bnQsIHRpcEFtb3VudCwgY2FzaG91dEFtb3VudCwgcHJvbXB0Rm9yQ2FzaG91dCwgc3VyY2hhcmdlQW1vdW50KVxuICAgIHtcbiAgICAgICAgdmFyIHByID0gT2JqZWN0LmFzc2lnbihuZXcgUHVyY2hhc2VSZXF1ZXN0KHB1cmNoYXNlQW1vdW50LCBwb3NSZWZJZCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIENhc2hvdXRBbW91bnQ6IGNhc2hvdXRBbW91bnQsXG4gICAgICAgICAgICBUaXBBbW91bnQ6IHRpcEFtb3VudCxcbiAgICAgICAgICAgIFByb21wdEZvckNhc2hvdXQ6IHByb21wdEZvckNhc2hvdXQsXG4gICAgICAgICAgICBTdXJjaGFyZ2VBbW91bnQ6IHN1cmNoYXJnZUFtb3VudFxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHI7XG4gICAgfVxuXG4gICAgc3RhdGljIENyZWF0ZVJlZnVuZFJlcXVlc3QoYW1vdW50Q2VudHMsIHB1cmNoYXNlSWQsIHN1cHByZXNzTWVyY2hhbnRQYXNzd29yZClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUmVmdW5kUmVxdWVzdChhbW91bnRDZW50cywgcHVyY2hhc2VJZCwgc3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkKTtcbiAgICB9XG5cbn1cbiIsImxldCBfX1JlcXVlc3RJZEhlbHBlckNvdW50ZXIgPSAxO1xuXG5leHBvcnQgY2xhc3MgUmVxdWVzdElkSGVscGVyIHtcbiAgICBzdGF0aWMgSWQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyBfX1JlcXVlc3RJZEhlbHBlckNvdW50ZXIrKztcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgU2VjcmV0cyB7XG4gICAgY29uc3RydWN0b3IoZW5jS2V5LCBobWFjS2V5KSB7XG4gICAgICAgIHRoaXMuRW5jS2V5ICAgICA9IGVuY0tleTtcbiAgICAgICAgdGhpcy5IbWFjS2V5ICAgID0gaG1hY0tleTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2F2ZShFbmNLZXksIEhtYWNLZXkpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0VuY0tleScsIEVuY0tleSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdIbWFjS2V5JywgSG1hY0tleSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlc3RvcmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VjcmV0cyhsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnRW5jS2V5JyksIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdIbWFjS2V5JykpO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc1NhdmVkKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ0VuY0tleScpICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdIbWFjS2V5Jyk7XG4gICAgfVxuXG4gICAgc3RhdGljIFJlc2V0KCkge1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnRW5jS2V5Jyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdIbWFjS2V5Jyk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIERldmljZUFkZHJlc3NTdGF0dXNcbntcbiAgICBnZXQgQWRkcmVzcygpXG4gICAge1xuICAgICAgICBpZih0aGlzLlVzZVNlY3VyZVdlYlNvY2tldHMpIFxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5mcWRuO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0IEFkZHJlc3MoYWRkcmVzcylcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuVXNlU2VjdXJlV2ViU29ja2V0cykgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZnFkbiA9IGFkZHJlc2VzO1xuICAgICAgICB9IFxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaXAgPSBhZGRyZXNzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IodXNlU2VjdXJlV2ViU29ja2V0cykgXG4gICAge1xuICAgICAgICB0aGlzLlVzZVNlY3VyZVdlYlNvY2tldHMgPSB1c2VTZWN1cmVXZWJTb2NrZXRzO1xuXG4gICAgICAgIHRoaXMuaXAgPSBudWxsO1xuICAgICAgICB0aGlzLmZxZG4gPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RfdXBkYXRlZCA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGV2aWNlQWRkcmVzc1NlcnZpY2VcbntcbiAgICAvLyBSZXRyaWV2ZVNlcnZpY2Uoc2VyaWFsTnVtYmVyLCBhcGlLZXkgPSAnc3BpLXNhbXBsZS1wb3MxJywgYWNxdWlyZXJDb2RlLCB1c2VTZWN1cmVXZWJTb2NrZXRzLCBpc1Rlc3RNb2RlKVxuICAgIFJldHJpZXZlU2VydmljZShzZXJpYWxOdW1iZXIsIGFwaUtleSA9ICdzcGktc2FtcGxlLXBvczEnLCBhY3F1aXJlckNvZGUsIGlzU2VjdXJlQ29ubmVjdGlvbiwgaXNUZXN0TW9kZSwgbG9nKSAgICBcbiAgICB7XG4gICAgICAgIHZhciBwYXRoID0gaXNTZWN1cmVDb25uZWN0aW9uID8gJ2ZxZG4nIDogJ2lwJztcbiAgICAgICAgdmFyIGRldmljZUFkZHJlc3NVcmkgPSBpc1Rlc3RNb2RlID8gYGh0dHBzOi8vZGV2aWNlLWFkZHJlc3MtYXBpLXNiLiR7YWNxdWlyZXJDb2RlfS5tc3AuYXNzZW1ibHlwYXltZW50cy5jb20vdjEvJHtzZXJpYWxOdW1iZXJ9LyR7cGF0aH1gIDogYGh0dHBzOi8vZGV2aWNlLWFkZHJlc3MtYXBpLiR7YWNxdWlyZXJDb2RlfS5tc3AuYXNzZW1ibHlwYXltZW50cy5jb20vdjEvJHtzZXJpYWxOdW1iZXJ9LyR7cGF0aH1gO1xuXG4gICAgICAgIGxvZy5pbmZvKCdkZXZpY2UgYWRkcmVzcyB1cmknLCBkZXZpY2VBZGRyZXNzVXJpKVxuICAgICAgICByZXR1cm4gZmV0Y2goZGV2aWNlQWRkcmVzc1VyaSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIkFTTS1NU1AtREVWSUNFLUFERFJFU1MtQVBJLUtFWVwiOiBhcGlLZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAuY2F0Y2goKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBsb2cuZXJyb3IoYFN0YXR1cyBjb2RlICR7cmVzcG9uc2UuU3RhdHVzQ29kZX0gcmVjZWl2ZWQgZnJvbSAke2RldmljZUFkZHJlc3NVcml9IC0gRXhjZXB0aW9uICR7cmVzcG9uc2UuZXJyb3J9YCk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuIiwiaW1wb3J0IHtFdmVudHMsIFN1Y2Nlc3NTdGF0ZSwgTWVzc2FnZX0gZnJvbSAnLi9NZXNzYWdlcyc7XG5pbXBvcnQge1NwaUNvbmZpZywgVHJhbnNhY3Rpb25PcHRpb25zfSBmcm9tICcuL1NwaU1vZGVscyc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0bGVSZXF1ZXN0IHtcbiAgICBjb25zdHJ1Y3RvcihpZCkge1xuICAgICAgICB0aGlzLklkID0gaWQ7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuXG4gICAgVG9NZXNzYWdlKCkge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcmludE1lcmNoYW50Q29weSA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UodGhpcy5JZCwgRXZlbnRzLlNldHRsZVJlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNldHRsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKG0pIHtcbiAgICAgICAgdGhpcy5SZXF1ZXN0SWQgPSBtLklkO1xuICAgICAgICB0aGlzLl9tID0gbTtcbiAgICAgICAgdGhpcy5TdWNjZXNzID0gbS5HZXRTdWNjZXNzU3RhdGUoKSA9PSBTdWNjZXNzU3RhdGUuU3VjY2VzcztcbiAgICB9XG5cbiAgICBHZXRTZXR0bGVCeUFjcXVpcmVyQ291bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5hY2N1bXVsYXRlZF9zZXR0bGVfYnlfYWNxdWlyZXJfY291bnQ7XG4gICAgfVxuXG4gICAgR2V0U2V0dGxlQnlBY3F1aXJlclZhbHVlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYWNjdW11bGF0ZWRfc2V0dGxlX2J5X2FjcXVpcmVyX3ZhbHVlO1xuICAgIH1cblxuICAgIEdldFRvdGFsQ291bnQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS5hY2N1bXVsYXRlZF90b3RhbF9jb3VudDtcbiAgICB9XG5cbiAgICBHZXRUb3RhbFZhbHVlKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEuYWNjdW11bGF0ZWRfdG90YWxfdmFsdWU7XG4gICAgfVxuXG4gICAgR2V0UGVyaW9kU3RhcnRUaW1lKClcbiAgICB7XG4gICAgICAgIHZhciB0aW1lU3RyID0gdGhpcy5fbS5EYXRhLnNldHRsZW1lbnRfcGVyaW9kX3N0YXJ0X3RpbWU7IC8vIFwiMDU6MDBcIlxuICAgICAgICB2YXIgZGF0ZVN0ciA9IHRoaXMuX20uRGF0YS5zZXR0bGVtZW50X3BlcmlvZF9zdGFydF9kYXRlOyAvLyBcIjA1T2N0MTdcIlxuICAgICAgICByZXR1cm4gTWVzc2FnZS5QYXJzZUJhbmtEYXRlVGltZVN0cihkYXRlU3RyLCB0aW1lU3RyKTtcbiAgICB9XG5cbiAgICBHZXRQZXJpb2RFbmRUaW1lKClcbiAgICB7XG4gICAgICAgIHZhciB0aW1lU3RyID0gdGhpcy5fbS5EYXRhLnNldHRsZW1lbnRfcGVyaW9kX2VuZF90aW1lOyAvLyBcIjA1OjAwXCJcbiAgICAgICAgdmFyIGRhdGVTdHIgPSB0aGlzLl9tLkRhdGEuc2V0dGxlbWVudF9wZXJpb2RfZW5kX2RhdGU7IC8vIFwiMDVPY3QxN1wiXG4gICAgICAgIHJldHVybiBNZXNzYWdlLlBhcnNlQmFua0RhdGVUaW1lU3RyKGRhdGVTdHIsIHRpbWVTdHIpO1xuICAgIH1cblxuICAgIEdldFRyaWdnZXJlZFRpbWUoKVxuICAgIHtcbiAgICAgICAgdmFyIHRpbWVTdHIgPSB0aGlzLl9tLkRhdGEuc2V0dGxlbWVudF90cmlnZ2VyZWRfdGltZTsgLy8gXCIwNTowMDo0NVwiXG4gICAgICAgIHZhciBkYXRlU3RyID0gdGhpcy5fbS5EYXRhLnNldHRsZW1lbnRfdHJpZ2dlcmVkX2RhdGU7IC8vIFwiMDVPY3QxN1wiXG4gICAgICAgIHJldHVybiBNZXNzYWdlLlBhcnNlQmFua0RhdGVUaW1lU3RyKGRhdGVTdHIsIHRpbWVTdHIpO1xuICAgIH1cblxuICAgIEdldFJlc3BvbnNlVGV4dCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLmhvc3RfcmVzcG9uc2VfdGV4dDtcbiAgICB9XG4gICAgXG4gICAgR2V0UmVjZWlwdCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLm1lcmNoYW50X3JlY2VpcHQ7XG4gICAgfVxuXG4gICAgR2V0VHJhbnNhY3Rpb25SYW5nZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLnRyYW5zYWN0aW9uX3JhbmdlO1xuICAgIH1cblxuICAgIEdldFRlcm1pbmFsSWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20uRGF0YS50ZXJtaW5hbF9pZDtcbiAgICB9XG5cbiAgICBXYXNNZXJjaGFudFJlY2VpcHRQcmludGVkKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tLkRhdGEubWVyY2hhbnRfcmVjZWlwdF9wcmludGVkO1xuICAgIH1cblxuICAgIEdldFNjaGVtZVNldHRsZW1lbnRFbnRyaWVzKClcbiAgICB7XG4gICAgICAgIHZhciBzY2hlbWVzID0gdGhpcy5fbS5EYXRhLnNjaGVtZXM7XG4gICAgICAgIGlmICghc2NoZW1lcykgcmV0dXJuIFtdO1xuXG4gICAgICAgIHJldHVybiBzY2hlbWVzLm1hcCgoc2NoZW1lKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNjaGVtZVNldHRsZW1lbnRFbnRyeShzY2hlbWUpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTY2hlbWVTZXR0bGVtZW50RW50cnlcbntcbiAgICAvLyBTY2hlbWVTZXR0bGVtZW50RW50cnkoc3RyaW5nIHNjaGVtZU5hbWUsIGJvb2wgc2V0dGxlQnlBY3F1aXJlciwgaW50IHRvdGFsQ291bnQsIGludCB0b3RhbFZhbHVlKVxuICAgIC8vIFNjaGVtZVNldHRsZW1lbnRFbnRyeShPYmplY3Qgc2NoZW1lT2JqKVxuICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpXG4gICAge1xuICAgICAgICBpZihhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5TY2hlbWVOYW1lID0gYXJnc1swXS5zY2hlbWVfbmFtZTtcbiAgICAgICAgICAgIHRoaXMuU2V0dGxlQnlBY3F1aXJlciA9IGFyZ3NbMF0uc2V0dGxlX2J5X2FjcXVpcmVyLnRvTG93ZXJDYXNlKCkgPT0gXCJ5ZXNcIjtcbiAgICAgICAgICAgIHRoaXMuVG90YWxWYWx1ZSA9IHBhcnNlSW50KGFyZ3NbMF0udG90YWxfdmFsdWUsMTApO1xuICAgICAgICAgICAgdGhpcy5Ub3RhbENvdW50ID0gcGFyc2VJbnQoYXJnc1swXS50b3RhbF9jb3VudCwxMCk7XG4gICAgICAgIH0gZWxzZSBpZihhcmdzLmxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5TY2hlbWVOYW1lID0gYXJnc1swXTtcbiAgICAgICAgICAgIHRoaXMuU2V0dGxlQnlBY3F1aXJlciA9IGFyZ3NbMV07XG4gICAgICAgICAgICB0aGlzLlRvdGFsQ291bnQgPSBhcmdzWzJdO1xuICAgICAgICAgICAgdGhpcy5Ub3RhbFZhbHVlID0gYXJnc1szXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBUb1N0cmluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gYFNjaGVtZU5hbWU6ICR7dGhpcy5TY2hlbWVOYW1lfSwgU2V0dGxlQnlBY3F1aXJlcjogJHt0aGlzLlNldHRsZUJ5QWNxdWlyZXJ9LCBUb3RhbENvdW50OiAke3RoaXMuVG90YWxDb3VudH0sIFRvdGFsVmFsdWU6ICR7dGhpcy5Ub3RhbFZhbHVlfWA7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2V0dGxlbWVudEVucXVpcnlSZXF1ZXN0XG57XG4gICAgY29uc3RydWN0b3IoaWQpXG4gICAge1xuICAgICAgICB0aGlzLklkID0gaWQ7XG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgICAgICB0aGlzLk9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCk7XG4gICAgfVxuICAgIFxuICAgIFRvTWVzc2FnZSgpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcmludE1lcmNoYW50Q29weSA9IHRydWU7XG4gICAgICAgIHRoaXMuQ29uZmlnLkVuYWJsZWRQcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLkNvbmZpZy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQ29uZmlnLkFkZFJlY2VpcHRDb25maWcoZGF0YSk7XG4gICAgICAgIHRoaXMuT3B0aW9ucy5BZGRPcHRpb25zKGRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UodGhpcy5JZCwgRXZlbnRzLlNldHRsZW1lbnRFbnF1aXJ5UmVxdWVzdCwgZGF0YSwgdHJ1ZSk7XG4gICAgfVxufSIsImltcG9ydCB7TWVzc2FnZSwgTWVzc2FnZVN0YW1wLCBFdmVudHMsIFN1Y2Nlc3NTdGF0ZX0gZnJvbSAnLi9NZXNzYWdlcyc7XG5pbXBvcnQge1NwaUNvbmZpZywgU3BpRmxvdywgU3BpU3RhdHVzLCBQYWlyaW5nRmxvd1N0YXRlLCBUcmFuc2FjdGlvbkZsb3dTdGF0ZSwgVHJhbnNhY3Rpb25UeXBlLCBJbml0aWF0ZVR4UmVzdWx0LCBNaWRUeFJlc3VsdCwgU3VibWl0QXV0aENvZGVSZXN1bHQsIFRyYW5zYWN0aW9uT3B0aW9uc30gZnJvbSAnLi9TcGlNb2RlbHMnO1xuaW1wb3J0IHtSZXF1ZXN0SWRIZWxwZXJ9IGZyb20gJy4vUmVxdWVzdElkSGVscGVyJztcbmltcG9ydCB7UGFpcmluZ0hlbHBlcn0gZnJvbSAnLi9QYWlyaW5nSGVscGVyJztcbmltcG9ydCB7Q29ubmVjdGlvbiwgQ29ubmVjdGlvblN0YXRlfSBmcm9tICcuL0Nvbm5lY3Rpb24nO1xuaW1wb3J0IHtTcGlQYXlBdFRhYmxlfSBmcm9tICcuL1NwaVBheUF0VGFibGUnO1xuaW1wb3J0IHtQYXlBdFRhYmxlQ29uZmlnfSBmcm9tICcuL1BheUF0VGFibGUnO1xuaW1wb3J0IHtTcGlQcmVhdXRofSBmcm9tICcuL1NwaVByZWF1dGgnO1xuaW1wb3J0IHtDYXNob3V0T25seVJlcXVlc3R9IGZyb20gJy4vQ2FzaG91dCc7XG5pbXBvcnQge1NldHRsZVJlcXVlc3QsIFNldHRsZW1lbnRFbnF1aXJ5UmVxdWVzdH0gZnJvbSAnLi9TZXR0bGVtZW50JztcbmltcG9ydCB7RHJvcEtleXNSZXF1ZXN0LCBLZXlSZXF1ZXN0LCBLZXlDaGVjaywgUGFpclJlc3BvbnNlfSBmcm9tICcuL1BhaXJpbmcnO1xuaW1wb3J0IHtTZXRQb3NJbmZvUmVxdWVzdCwgU2V0UG9zSW5mb1Jlc3BvbnNlLCBEZXZpY2VJbmZvfSBmcm9tICcuL1Bvc0luZm8nO1xuaW1wb3J0IHtQdXJjaGFzZUhlbHBlcn0gZnJvbSAnLi9QdXJjaGFzZUhlbHBlcic7XG5pbXBvcnQge0tleVJvbGxpbmdIZWxwZXJ9IGZyb20gJy4vS2V5Um9sbGluZ0hlbHBlcic7XG5pbXBvcnQge1BpbmdIZWxwZXIsIFBvbmdIZWxwZXJ9IGZyb20gJy4vUGluZ0hlbHBlcic7XG5pbXBvcnQge0dldExhc3RUcmFuc2FjdGlvblJlcXVlc3QsIEdldExhc3RUcmFuc2FjdGlvblJlc3BvbnNlLCBTaWduYXR1cmVBY2NlcHQsIFNpZ25hdHVyZURlY2xpbmUsIE1vdG9QdXJjaGFzZVJlcXVlc3QsIEF1dGhDb2RlQWR2aWNlLCBDYW5jZWxUcmFuc2FjdGlvblJlcXVlc3QsIFNpZ25hdHVyZVJlcXVpcmVkLCBDYW5jZWxUcmFuc2FjdGlvblJlc3BvbnNlLCBQaG9uZUZvckF1dGhSZXF1aXJlZH0gZnJvbSAnLi9QdXJjaGFzZSc7XG5pbXBvcnQge0RldmljZUFkZHJlc3NTZXJ2aWNlLCBEZXZpY2VBZGRyZXNzU3RhdHVzfSBmcm9tICcuL1NlcnZpY2UvRGV2aWNlU2VydmljZSc7XG5pbXBvcnQge1ByaW50aW5nUmVxdWVzdH0gZnJvbSAnLi9QcmludGluZyc7XG5pbXBvcnQge1Rlcm1pbmFsU3RhdHVzUmVxdWVzdH0gZnJvbSAnLi9UZXJtaW5hbFN0YXR1cyc7XG5cbmV4cG9ydCBjb25zdCBTUElfVkVSU0lPTiA9ICcyLjQuMCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNwaSB7XG5cbiAgICBnZXQgQ3VycmVudFN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnRTdGF0dXM7XG4gICAgfVxuXG4gICAgc2V0IEN1cnJlbnRTdGF0dXModmFsdWUpIHtcbiAgICAgICAgaWYodGhpcy5fY3VycmVudFN0YXR1cyA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdGF0dXMgPSB2YWx1ZTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1N0YXR1c0NoYW5nZWQnLCB7ZGV0YWlsOiB2YWx1ZX0pKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwb3NJZCwgc2VyaWFsTnVtYmVyLCBlZnRwb3NBZGRyZXNzLCBzZWNyZXRzKSBcbiAgICB7XG4gICAgICAgIHRoaXMuX3Bvc0lkID0gcG9zSWQ7XG4gICAgICAgIHRoaXMuX3NlcmlhbE51bWJlciA9IHNlcmlhbE51bWJlcjtcbiAgICAgICAgdGhpcy5fc2VjcmV0cyA9IHNlY3JldHM7XG4gICAgICAgIHRoaXMuX2ZvcmNlU2VjdXJlV2ViU29ja2V0cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9lZnRwb3NBZGRyZXNzID0gXCJ3czovL1wiICsgZWZ0cG9zQWRkcmVzcztcbiAgICAgICAgdGhpcy5fbG9nID0gY29uc29sZTtcbiAgICAgICAgdGhpcy5Db25maWcgPSBuZXcgU3BpQ29uZmlnKCk7XG4gICAgICAgIHRoaXMuX2Nvbm4gPSBuZXcgQ29ubmVjdGlvbigpO1xuXG4gICAgICAgIHRoaXMuQ3VycmVudERldmljZVN0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RldmljZUFwaUtleSAgPSBudWxsO1xuICAgICAgICB0aGlzLl9hY3F1aXJlckNvZGUgID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW5UZXN0TW9kZSAgICA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gT3VyIHN0YW1wIGZvciBzaWduaW5nIG91dGdvaW5nIG1lc3NhZ2VzXG4gICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcCA9IG5ldyBNZXNzYWdlU3RhbXAodGhpcy5fcG9zSWQsIHRoaXMuX3NlY3JldHMsIDApO1xuXG4gICAgICAgIHRoaXMuX3Bvc1ZlbmRvcklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcG9zVmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hhc1NldEluZm8gPSBudWxsO1xuXG4gICAgICAgIC8vIFdlIHdpbGwgbWFpbnRhaW4gc29tZSBzdGF0ZVxuICAgICAgICB0aGlzLl9tb3N0UmVjZW50UGluZ1NlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9tb3N0UmVjZW50UG9uZ1JlY2VpdmVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWlzc2VkUG9uZ3NDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuX3JldHJpZXNTaW5jZUxhc3REZXZpY2VBZGRyZXNzUmVzb2x1dGlvbiA9IDA7XG4gICAgICAgIHRoaXMuX21vc3RSZWNlbnRMb2dpblJlc3BvbnNlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9wb25nVGltZW91dCA9IDUwMDA7XG4gICAgICAgIHRoaXMuX3BpbmdGcmVxdWVuY3kgPSAxODAwMDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX3JlYWR5VG9UcmFuc2FjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlcmlvZGljUGluZ1RocmVhZCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdHhNb25pdG9yQ2hlY2tGcmVxdWVuY3kgPSAxMDAwO1xuICAgICAgICB0aGlzLl9jaGVja09uVHhGcmVxdWVuY3kgPSAyMDAwMDtcbiAgICAgICAgdGhpcy5fbWF4V2FpdEZvckNhbmNlbFR4ID0gMTAwMDA7XG4gICAgICAgIHRoaXMuX3NsZWVwQmVmb3JlUmVjb25uZWN0TXMgPSAzMDAwO1xuICAgICAgICB0aGlzLl9taXNzZWRQb25nc1RvRGlzY29ubmVjdCA9IDI7XG4gICAgICAgIHRoaXMuX3JldHJpZXNCZWZvcmVSZXNvbHZpbmdEZXZpY2VBZGRyZXNzID0gNTtcblxuICAgICAgICB0aGlzLkN1cnJlbnRGbG93ICAgICAgICAgICAgICAgID0gbnVsbDtcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZSAgICA9IG51bGw7XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlICAgICAgICAgPSBudWxsO1xuICAgIH1cblxuICAgIEVuYWJsZVBheUF0VGFibGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3BpUGF0ID0gbmV3IFNwaVBheUF0VGFibGUodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGlQYXQ7XG4gICAgfVxuXG4gICAgRGlzYWJsZVBheUF0VGFibGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3BpUGF0ID0gbmV3IFNwaVBheUF0VGFibGUodGhpcyk7XG4gICAgICAgIHRoaXMuX3NwaVBhdC5Db25maWcuUGF5QXRUYWJsZWRFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGlQYXQ7XG4gICAgfVxuXG4gICAgRW5hYmxlUHJlYXV0aCgpXG4gICAge1xuICAgICAgICB0aGlzLl9zcGlQcmVhdXRoID0gbmV3IFNwaVByZWF1dGgodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGlQcmVhdXRoO1xuICAgIH1cblxuICAgIFN0YXJ0KCkge1xuXG4gICAgICAgIGlmICghdGhpcy5fcG9zVmVuZG9ySWQgfHwgIXRoaXMuX3Bvc1ZlcnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFBPUyBpbmZvcm1hdGlvbiBpcyBub3cgcmVxdWlyZWQgdG8gYmUgc2V0XG4gICAgICAgICAgICB0aGlzLl9sb2cud2FybihcIk1pc3NpbmcgUE9TIHZlbmRvciBJRCBhbmQgdmVyc2lvbi4gcG9zVmVuZG9ySWQgYW5kIHBvc1ZlcnNpb24gYXJlIHJlcXVpcmVkIGJlZm9yZSBzdGFydGluZ1wiKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgUE9TIHZlbmRvciBJRCBhbmQgdmVyc2lvbi4gcG9zVmVuZG9ySWQgYW5kIHBvc1ZlcnNpb24gYXJlIHJlcXVpcmVkIGJlZm9yZSBzdGFydGluZ1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Jlc2V0Q29ubigpO1xuICAgICAgICB0aGlzLl9zdGFydFRyYW5zYWN0aW9uTW9uaXRvcmluZ1RocmVhZCgpO1xuXG4gICAgICAgIHRoaXMuQ3VycmVudEZsb3cgPSBTcGlGbG93LklkbGU7XG4gICAgICAgIGlmICh0aGlzLl9zZWNyZXRzICE9IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiU3RhcnRpbmcgaW4gUGFpcmVkIFN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0YXR1cyA9IFNwaVN0YXR1cy5QYWlyZWRDb25uZWN0aW5nO1xuICAgICAgICAgICAgdGhpcy5fY29ubi5Db25uZWN0KCk7IC8vIFRoaXMgaXMgbm9uLWJsb2NraW5nXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIlN0YXJ0aW5nIGluIFVucGFpcmVkIFN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudFN0YXR1cyA9IFNwaVN0YXR1cy5VbnBhaXJlZDtcbiAgICAgICAgfSBcbiAgICB9XG5cbiAgICAvLy8gPHN1bW1hcnk+XG4gICAgLy8vIFNldCB0aGUgYWNxdWlyZXIgY29kZSBvZiB5b3VyIGJhbmssIHBsZWFzZSBjb250YWN0IEFzc2VtYmx5J3MgSW50ZWdyYXRpb24gRW5naW5lZXJzIGZvciBhY3F1aXJlciBjb2RlLlxuICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgU2V0QWNxdWlyZXJDb2RlKGFjcXVpcmVyQ29kZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2FjcXVpcmVyQ29kZSA9IGFjcXVpcmVyQ29kZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8vIDxzdW1tYXJ5PlxuICAgIC8vLyBTZXQgdGhlIGFwaSBrZXkgdXNlZCBmb3IgYXV0byBhZGRyZXNzIGRpc2NvdmVyeSBmZWF0dXJlXG4gICAgLy8vIDwvc3VtbWFyeT5cbiAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPlxuICAgIFNldERldmljZUFwaUtleShkZXZpY2VBcGlLZXkpXG4gICAge1xuICAgICAgICB0aGlzLl9kZXZpY2VBcGlLZXkgPSBkZXZpY2VBcGlLZXk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vLyA8c3VtbWFyeT5cbiAgICAvLy8gQWxsb3dzIHlvdSB0byBzZXQgdGhlIHNlcmlhbCBudW1iZXIgb2YgdGhlIEVmdHBvc1xuICAgIC8vLyA8L3N1bW1hcnk+XG4gICAgU2V0U2VyaWFsTnVtYmVyKHNlcmlhbE51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgIT0gU3BpU3RhdHVzLlVucGFpcmVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHZhciB3YXMgPSB0aGlzLl9zZXJpYWxOdW1iZXI7XG4gICAgICAgIHRoaXMuX3NlcmlhbE51bWJlciA9IHNlcmlhbE51bWJlcjtcbiAgICAgICAgaWYgKHRoaXMuSGFzU2VyaWFsTnVtYmVyQ2hhbmdlZCh3YXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvUmVzb2x2ZUVmdHBvc0FkZHJlc3MoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vLyA8c3VtbWFyeT5cbiAgICAvLy8gQWxsb3dzIHlvdSB0byBzZXQgdGhlIGF1dG8gYWRkcmVzcyBkaXNjb3ZlcnkgZmVhdHVyZS4gXG4gICAgLy8vIDwvc3VtbWFyeT5cbiAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPlxuICAgIFNldEF1dG9BZGRyZXNzUmVzb2x1dGlvbihhdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50U3RhdHVzID09IFNwaVN0YXR1cy5QYWlyZWRDb25uZWN0ZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIHdhcyA9IHRoaXMuX2F1dG9BZGRyZXNzUmVzb2x1dGlvbkVuYWJsZWQ7XG4gICAgICAgIHRoaXMuX2F1dG9BZGRyZXNzUmVzb2x1dGlvbkVuYWJsZWQgPSBhdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGU7XG4gICAgICAgIGlmIChhdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGUgJiYgIXdhcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gd2UncmUgdHVybmluZyBpdCBvblxuICAgICAgICAgICAgdGhpcy5fYXV0b1Jlc29sdmVFZnRwb3NBZGRyZXNzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLy8gPHN1bW1hcnk+XG4gICAgLy8vIENhbGwgdGhpcyBtZXRob2QgdG8gc2V0IHRoZSBjbGllbnQgbGlicmFyeSB0ZXN0IG1vZGUuXG4gICAgLy8vIFNldCBpdCB0byB0cnVlIG9ubHkgd2hpbGUgeW91IGFyZSBkZXZlbG9waW5nIHRoZSBpbnRlZ3JhdGlvbi4gXG4gICAgLy8vIEl0IGRlZmF1bHRzIHRvIGZhbHNlLiBGb3IgYSByZWFsIG1lcmNoYW50LCBhbHdheXMgbGVhdmUgaXQgc2V0IHRvIGZhbHNlLiBcbiAgICAvLy8gPC9zdW1tYXJ5PlxuICAgIC8vLyA8cGFyYW0gbmFtZT1cInRlc3RNb2RlXCI+PC9wYXJhbT5cbiAgICAvLy8gPHJldHVybnM+PC9yZXR1cm5zPlxuICAgIFNldFRlc3RNb2RlKHRlc3RNb2RlKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudFN0YXR1cyAhPSBTcGlTdGF0dXMuVW5wYWlyZWQpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRlc3RNb2RlID09IHRoaXMuX2luVGVzdE1vZGUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvLyB3ZSdyZSBjaGFuZ2luZyBtb2RlXG4gICAgICAgIHRoaXMuX2luVGVzdE1vZGUgPSB0ZXN0TW9kZTtcbiAgICAgICAgdGhpcy5fYXV0b1Jlc29sdmVFZnRwb3NBZGRyZXNzKCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8vIDxzdW1tYXJ5PlxuICAgIC8vLyBTZXQgdGhlIGNsaWVudCBsaWJyYXJ5IHRvIHVzZSBzZWN1cmUgd2ViIHNvY2tldHMgVExTICh3c3MgcHJvdG9jb2wpXG4gICAgLy8vIDwvc3VtbWFyeT5cbiAgICAvLy8gPHBhcmFtIG5hbWU9XCJpc1NlY3VyZVwiPjwvcGFyYW0+XG4gICAgLy8vIDxyZXR1cm5zPjwvcmV0dXJucz5cbiAgICBTZXRTZWN1cmVXZWJTb2NrZXRzKHVzZVNlY3VyZVdlYlNvY2tldHMpXG4gICAge1xuICAgICAgICB0aGlzLl9mb3JjZVNlY3VyZVdlYlNvY2tldHMgPSB1c2VTZWN1cmVXZWJTb2NrZXRzO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEFsbG93cyB5b3UgdG8gc2V0IHRoZSBQb3NJZCB3aGljaCBpZGVudGlmaWVzIHRoaXMgaW5zdGFuY2Ugb2YgeW91ciBQT1MuXG4gICAgLy8gQ2FuIG9ubHkgYmUgY2FsbGVkIGluIHRoZ2UgVW5wYWlyZWQgc3RhdGUuIFxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBTZXRQb3NJZChwb3NJZClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgIT0gU3BpU3RhdHVzLlVucGFpcmVkKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3Bvc0lkID0gcG9zSWQ7XG4gICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcC5Qb3NJZCA9IHBvc0lkO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBBbGxvd3MgeW91IHRvIHNldCB0aGUgUGluUGFkIGFkZHJlc3MuIFNvbWV0aW1lcyB0aGUgUGluUGFkIG1pZ2h0IGNoYW5nZSBJUCBhZGRyZXNzIFxuICAgIC8vICh3ZSByZWNvbW1lbmQgcmVzZXJ2aW5nIHN0YXRpYyBJUHMgaWYgcG9zc2libGUpLlxuICAgIC8vIEVpdGhlciB3YXkgeW91IG5lZWQgdG8gYWxsb3cgeW91ciBVc2VyIHRvIGVudGVyIHRoZSBJUCBhZGRyZXNzIG9mIHRoZSBQaW5QYWQuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIFNldEVmdHBvc0FkZHJlc3MoYWRkcmVzcylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlBhaXJlZENvbm5lY3RlZCB8fCB0aGlzLl9hdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9lZnRwb3NBZGRyZXNzID0gXCJ3czovL1wiICsgYWRkcmVzcztcbiAgICAgICAgdGhpcy5fY29ubi5BZGRyZXNzID0gdGhpcy5fZWZ0cG9zQWRkcmVzcztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIEdldFZlcnNpb24oKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFNQSV9WRVJTSU9OO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdmFsdWVzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIFBPUyBzb2Z0d2FyZSB0byB0aGUgRUZUUE9TIHRlcm1pbmFsLlxuICAgICAqIE11c3QgYmUgc2V0IGJlZm9yZSBzdGFydGluZyFcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwb3NWZW5kb3JJZCBWZW5kb3IgaWRlbnRpZmllciBvZiB0aGUgUE9TIGl0c2VsZi5cbiAgICAgKiBAcGFyYW0gcG9zVmVyc2lvbiAgVmVyc2lvbiBzdHJpbmcgb2YgdGhlIFBPUyBpdHNlbGYuXG4gICAgICovXG4gICAgU2V0UG9zSW5mbyhwb3NWZW5kb3JJZCwgcG9zVmVyc2lvbilcbiAgICB7XG4gICAgICAgIHRoaXMuX3Bvc1ZlbmRvcklkID0gcG9zVmVuZG9ySWQ7XG4gICAgICAgIHRoaXMuX3Bvc1ZlcnNpb24gPSBwb3NWZXJzaW9uO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGwgdGhpcyBvbmUgd2hlbiBhIGZsb3cgaXMgZmluaXNoZWQgYW5kIHlvdSB3YW50IHRvIGdvIGJhY2sgdG8gaWRsZSBzdGF0ZS5cbiAgICAvLyBUeXBpY2FsbHkgd2hlbiB5b3VyIHVzZXIgY2xpY2tzIHRoZSBcIk9LXCIgYnVidHRvbiB0byBhY2tub3dsZGdlIHRoYXQgcGFpcmluZyBpc1xuICAgIC8vIGZpbmlzaGVkLCBvciB0aGF0IHRyYW5zYWN0aW9uIGlzIGZpbmlzaGVkLlxuICAgIC8vIFdoZW4gdHJ1ZSwgeW91IGNhbiBkaXNtaXNzIHRoZSBmbG93IHNjcmVlbiBhbmQgc2hvdyBiYWNrIHRoZSBpZGxlIHNjcmVlbi5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHJldHVybnM+dHJ1ZSBtZWFucyB3ZSBoYXZlIG1vdmVkIGJhY2sgdG8gdGhlIElkbGUgc3RhdGUuIGZhbHNlIG1lYW5zIGN1cnJlbnQgZmxvdyB3YXMgbm90IGZpbmlzaGVkIHlldC48L3JldHVybnM+XG4gICAgQWNrRmxvd0VuZGVkQW5kQmFja1RvSWRsZSgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyA9PSBTcGlGbG93LklkbGUpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gYWxyZWFkeSBpZGxlXG5cbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5QYWlyaW5nICYmIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuRmluaXNoZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudEZsb3cgPSBTcGlGbG93LklkbGU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5UcmFuc2FjdGlvbiAmJiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuSWRsZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIGVuZHJlZ2lvblxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhpcyB3aWxsIGNvbm5lY3QgdG8gdGhlIEVmdHBvcyBhbmQgc3RhcnQgdGhlIHBhaXJpbmcgcHJvY2Vzcy5cbiAgICAvLyBPbmx5IGNhbGwgdGhpcyBpZiB5b3UgYXJlIGluIHRoZSBVbnBhaXJlZCBzdGF0ZS5cbiAgICAvLyBTdWJzY3JpYmUgdG8gdGhlIFBhaXJpbmdGbG93U3RhdGVDaGFuZ2VkIGV2ZW50IHRvIGdldCB1cGRhdGVzIG9uIHRoZSBwYWlyaW5nIHByb2Nlc3MuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxyZXR1cm5zPldoZXRoZXIgcGFpcmluZyBoYXMgaW5pdGlhdGVkIG9yIG5vdDwvcmV0dXJucz5cbiAgICBQYWlyKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgIT0gU3BpU3RhdHVzLlVucGFpcmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2cud2FybihcIlRyaWVkIHRvIFBhaXIgYnV0IHdlJ3JlIGFscmVhZHkgc28uXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9wb3NJZCB8fCAhdGhpcy5fZWZ0cG9zQWRkcmVzcylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLndhcm4oXCJUcmllZCB0byBQYWlyIGJ1dCBtaXNzaW5nIHBvc0lkIG9yIHVwZGF0ZWRFZnRwb3NBZGRyZXNzXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuUGFpcmluZztcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZSA9IG5ldyBQYWlyaW5nRmxvd1N0YXRlXG4gICAgICAgICh7XG4gICAgICAgICAgICBTdWNjZXNzZnVsOiBmYWxzZSxcbiAgICAgICAgICAgIEZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICAgIE1lc3NhZ2U6IFwiQ29ubmVjdGluZy4uLlwiLFxuICAgICAgICAgICAgQXdhaXRpbmdDaGVja0Zyb21FZnRwb3M6IGZhbHNlLFxuICAgICAgICAgICAgQXdhaXRpbmdDaGVja0Zyb21Qb3M6IGZhbHNlLFxuICAgICAgICAgICAgQ29uZmlybWF0aW9uQ29kZTogXCJcIlxuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuICAgICAgICB0aGlzLl9jb25uLkNvbm5lY3QoKTsgLy8gTm9uLUJsb2NraW5nXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGwgdGhpcyB3aGVuIHlvdXIgdXNlciBjbGlja3MgeWVzIHRvIGNvbmZpcm0gdGhlIHBhaXJpbmcgY29kZSBvbiB5b3VyIFxuICAgIC8vIHNjcmVlbiBtYXRjaGVzIHRoZSBvbmUgb24gdGhlIEVmdHBvcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgUGFpcmluZ0NvbmZpcm1Db2RlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gV2Ugd2VyZW4ndCBleHBlY3RpbmcgdGhpc1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbUVmdHBvcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQnV0IHdlIGFyZSBzdGlsbCB3YWl0aW5nIGZvciBjb25maXJtYXRpb24gZnJvbSBFZnRwb3Mgc2lkZS5cbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiUGFpciBDb2RlIENvbmZpcm1lZCBmcm9tIFBPUyBzaWRlLCBidXQgYW0gc3RpbGwgd2FpdGluZyBmb3IgY29uZmlybWF0aW9uIGZyb20gRWZ0cG9zLlwiKTtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuTWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgXCJDbGljayBZRVMgb24gRUZUUE9TIGlmIGNvZGUgaXM6IFwiICsgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Db25maXJtYXRpb25Db2RlO1xuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1BhaXJpbmdGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZX0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFscmVhZHkgY29uZmlybWVkIGZyb20gRWZ0cG9zIC0gU28gYWxsIGdvb2Qgbm93LiBXZSdyZSBQYWlyZWQgYWxzbyBmcm9tIHRoZSBQT1MgcGVyc3BlY3RpdmUuXG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIlBhaXIgQ29kZSBDb25maXJtZWQgZnJvbSBQT1Mgc2lkZSwgYW5kIHdhcyBhbHJlYWR5IGNvbmZpcm1lZCBmcm9tIEVmdHBvcyBzaWRlLiBQYWlyaW5nIGZpbmFsaXNlZC5cIik7XG4gICAgICAgICAgICB0aGlzLl9vblBhaXJpbmdTdWNjZXNzKCk7XG4gICAgICAgICAgICB0aGlzLl9vblJlYWR5VG9UcmFuc2FjdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gQ2FsbCB0aGlzIGlmIHlvdXIgdXNlciBjbGlja3MgQ0FOQ0VMIG9yIE5PIGR1cmluZyB0aGUgcGFpcmluZyBwcm9jZXNzLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBQYWlyaW5nQ2FuY2VsKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuUGFpcmluZyB8fCB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLkZpbmlzaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcyAmJiAhdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbUVmdHBvcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IHRoZSBFZnRwb3MgYWxyZWFkeSB0aGlua3MgaXQncyBwYWlyZWQuXG4gICAgICAgICAgICAvLyBMZXQncyB0ZWxsIGl0IHRvIGRyb3Aga2V5c1xuICAgICAgICAgICAgdGhpcy5fc2VuZChuZXcgRHJvcEtleXNSZXF1ZXN0KCkuVG9NZXNzYWdlKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uUGFpcmluZ0ZhaWxlZCgpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIENhbGwgdGhpcyB3aGVuIHlvdXIgdXNlcyBjbGlja3MgdGhlIFVucGFpciBidXR0b24uXG4gICAgLy8gVGhpcyB3aWxsIGRpc2Nvbm5lY3QgZnJvbSB0aGUgRWZ0cG9zIGFuZCBmb3JnZXQgdGhlIHNlY3JldHMuXG4gICAgLy8gVGhlIEN1cnJlbnRTdGF0ZSBpcyB0aGVuIGNoYW5nZWQgdG8gVW5wYWlyZWQuXG4gICAgLy8gQ2FsbCB0aGlzIG9ubHkgaWYgeW91IGFyZSBub3QgeWV0IGluIHRoZSBVbnBhaXJlZCBzdGF0ZS5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgVW5wYWlyKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlVucGFpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LklkbGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQmVzdCBlZmZvcnQgbGV0dGluZyB0aGUgZWZ0cG9zIGtub3cgdGhhdCB3ZSdyZSBkcm9wcGluZyB0aGUga2V5cywgc28gaXQgY2FuIGRyb3AgdGhlbSBhcyB3ZWxsLlxuICAgICAgICB0aGlzLl9zZW5kKG5ldyBEcm9wS2V5c1JlcXVlc3QoKS5Ub01lc3NhZ2UoKSk7XG4gICAgICAgIHRoaXMuX2RvVW5wYWlyKCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIGVuZHJlZ2lvblxuXG4gICAgLy8gcmVnaW9uIFRyYW5zYWN0aW9uIE1ldGhvZHNcblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEluaXRpYXRlcyBhIHB1cmNoYXNlIHRyYW5zYWN0aW9uLiBCZSBzdWJzY3JpYmVkIHRvIFR4Rmxvd1N0YXRlQ2hhbmdlZCBldmVudCB0byBnZXQgdXBkYXRlcyBvbiB0aGUgcHJvY2Vzcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwb3NSZWZJZFwiPkFscGhhbnVtZXJpYyBJZGVudGlmaWVyIGZvciB5b3VyIHB1cmNoYXNlLjwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJhbW91bnRDZW50c1wiPkFtb3VudCBpbiBDZW50cyB0byBjaGFyZ2U8L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPkluaXRpYXRlVHhSZXN1bHQ8L3JldHVybnM+XG4gICAgSW5pdGlhdGVQdXJjaGFzZVR4KHBvc1JlZklkLCBhbW91bnRDZW50cylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlVucGFpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IFBhaXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHB1cmNoYXNlUmVxdWVzdCA9IFB1cmNoYXNlSGVscGVyLkNyZWF0ZVB1cmNoYXNlUmVxdWVzdChhbW91bnRDZW50cywgcG9zUmVmSWQpO1xuICAgICAgICBwdXJjaGFzZVJlcXVlc3QuQ29uZmlnID0gdGhpcy5Db25maWc7XG4gICAgICAgIHZhciBwdXJjaGFzZU1zZyA9IHB1cmNoYXNlUmVxdWVzdC5Ub01lc3NhZ2UoKTtcbiAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuVHJhbnNhY3Rpb247XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIFRyYW5zYWN0aW9uVHlwZS5QdXJjaGFzZSwgYW1vdW50Q2VudHMsIHB1cmNoYXNlTXNnLFxuICAgICAgICAgICAgYFdhaXRpbmcgZm9yIEVGVFBPUyBjb25uZWN0aW9uIHRvIG1ha2UgcGF5bWVudCByZXF1ZXN0IGZvciAke2Ftb3VudENlbnRzIC8gMTAwLjB9YCk7XG4gICAgICAgIGlmICh0aGlzLl9zZW5kKHB1cmNoYXNlTXNnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2VudChgQXNrZWQgRUZUUE9TIHRvIGFjY2VwdCBwYXltZW50IGZvciAke2Ftb3VudENlbnRzIC8gMTAwLjB9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KHRydWUsIFwiUHVyY2hhc2UgSW5pdGlhdGVkXCIpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEluaXRpYXRlcyBhIHB1cmNoYXNlIHRyYW5zYWN0aW9uLiBCZSBzdWJzY3JpYmVkIHRvIFR4Rmxvd1N0YXRlQ2hhbmdlZCBldmVudCB0byBnZXQgdXBkYXRlcyBvbiB0aGUgcHJvY2Vzcy5cbiAgICAvLyA8cGFyYT5UaXAgYW5kIGNhc2hvdXQgYXJlIG5vdCBhbGxvd2VkIHNpbXVsdGFuZW91c2x5LjwvcGFyYT5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwb3NSZWZJZFwiPkFuIFVuaXF1ZSBJZGVudGlmaWVyIGZvciB5b3VyIE9yZGVyL1B1cmNoYXNlPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInB1cmNoYXNlQW1vdW50XCI+VGhlIFB1cmNoYXNlIEFtb3VudCBpbiBDZW50cy48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwidGlwQW1vdW50XCI+VGhlIFRpcCBBbW91bnQgaW4gQ2VudHM8L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwiY2FzaG91dEFtb3VudFwiPlRoZSBDYXNob3V0IEFtb3VudCBpbiBDZW50czwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwcm9tcHRGb3JDYXNob3V0XCI+V2hldGhlciB0byBwcm9tcHQgeW91ciBjdXN0b21lciBmb3IgY2FzaG91dCBvbiB0aGUgRWZ0cG9zPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIj5UaGUgU2V0dGluZyB0byBzZXQgSGVhZGVyIGFuZCBGb290ZXIgZm9yIHRoZSBSZWNlaXB0PC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInN1cmNoYXJnZUFtb3VudFwiPlRoZSBTdXJjaGFyZ2UgQW1vdW50IGluIENlbnRzPC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5Jbml0aWF0ZVR4UmVzdWx0PC9yZXR1cm5zPlxuICAgIEluaXRpYXRlUHVyY2hhc2VUeFYyKHBvc1JlZklkLCBwdXJjaGFzZUFtb3VudCwgdGlwQW1vdW50LCBjYXNob3V0QW1vdW50LCBwcm9tcHRGb3JDYXNob3V0LCBvcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpLCBzdXJjaGFyZ2VBbW91bnQgPSAwKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudFN0YXR1cyA9PSBTcGlTdGF0dXMuVW5wYWlyZWQpIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdChmYWxzZSwgXCJOb3QgUGFpcmVkXCIpO1xuXG4gICAgICAgIGlmICh0aXBBbW91bnQgPiAwICYmIChjYXNob3V0QW1vdW50ID4gMCB8fCBwcm9tcHRGb3JDYXNob3V0KSkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIkNhbm5vdCBBY2NlcHQgVGlwcyBhbmQgQ2FzaG91dCBhdCB0aGUgc2FtZSB0aW1lLlwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuICAgICAgICB0aGlzLkN1cnJlbnRGbG93ID0gU3BpRmxvdy5UcmFuc2FjdGlvbjtcbiAgICAgICAgXG4gICAgICAgIHZhciBwdXJjaGFzZSA9IFB1cmNoYXNlSGVscGVyLkNyZWF0ZVB1cmNoYXNlUmVxdWVzdFYyKHBvc1JlZklkLCBwdXJjaGFzZUFtb3VudCwgdGlwQW1vdW50LCBjYXNob3V0QW1vdW50LCBwcm9tcHRGb3JDYXNob3V0LCBzdXJjaGFyZ2VBbW91bnQpO1xuICAgICAgICBwdXJjaGFzZS5Db25maWcgPSB0aGlzLkNvbmZpZztcbiAgICAgICAgcHVyY2hhc2UuT3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHZhciBwdXJjaGFzZU1zZyA9IHB1cmNoYXNlLlRvTWVzc2FnZSgpO1xuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZSA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUHVyY2hhc2UsIHB1cmNoYXNlQW1vdW50LCBwdXJjaGFzZU1zZyxcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHBheW1lbnQgcmVxdWVzdC4gJHtwdXJjaGFzZS5BbW91bnRTdW1tYXJ5KCl9YCk7XG4gICAgICAgIGlmICh0aGlzLl9zZW5kKHB1cmNoYXNlTXNnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2VudChgQXNrZWQgRUZUUE9TIHRvIGFjY2VwdCBwYXltZW50IGZvciAke3B1cmNoYXNlLkFtb3VudFN1bW1hcnkoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQodHJ1ZSwgXCJQdXJjaGFzZSBJbml0aWF0ZWRcIik7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gSW5pdGlhdGVzIGEgcmVmdW5kIHRyYW5zYWN0aW9uLiBCZSBzdWJzY3JpYmVkIHRvIFR4Rmxvd1N0YXRlQ2hhbmdlZCBldmVudCB0byBnZXQgdXBkYXRlcyBvbiB0aGUgcHJvY2Vzcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwb3NSZWZJZFwiPkFscGhhbnVtZXJpYyBJZGVudGlmaWVyIGZvciB5b3VyIHJlZnVuZC48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwiYW1vdW50Q2VudHNcIj5BbW91bnQgaW4gQ2VudHMgdG8gY2hhcmdlPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInN1cHByZXNzTWVyY2hhbnRQYXNzd29yZFwiPk1lcmNoYW50IFBhc3N3b3JkIGNvbnRyb2wgaW4gVkFBPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIj5UaGUgU2V0dGluZyB0byBzZXQgSGVhZGVyIGFuZCBGb290ZXIgZm9yIHRoZSBSZWNlaXB0PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5Jbml0aWF0ZVR4UmVzdWx0PC9yZXR1cm5zPlxuICAgIEluaXRpYXRlUmVmdW5kVHgocG9zUmVmSWQsIGFtb3VudENlbnRzLCBzdXBwcmVzc01lcmNoYW50UGFzc3dvcmQgPSBmYWxzZSwgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlVucGFpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IFBhaXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlZnVuZFJlcXVlc3QgPSBQdXJjaGFzZUhlbHBlci5DcmVhdGVSZWZ1bmRSZXF1ZXN0KGFtb3VudENlbnRzLCBwb3NSZWZJZCwgc3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkKTtcbiAgICAgICAgcmVmdW5kUmVxdWVzdC5Db25maWcgPSB0aGlzLkNvbmZpZztcbiAgICAgICAgcmVmdW5kUmVxdWVzdC5PcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdmFyIHJlZnVuZE1zZyA9IHJlZnVuZFJlcXVlc3QuVG9NZXNzYWdlKCk7XG4gICAgICAgIHRoaXMuQ3VycmVudEZsb3cgPSBTcGlGbG93LlRyYW5zYWN0aW9uO1xuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZSA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUmVmdW5kLCBhbW91bnRDZW50cywgcmVmdW5kTXNnLCBcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHJlZnVuZCByZXF1ZXN0IGZvciAkeyhhbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICBpZiAodGhpcy5fc2VuZChyZWZ1bmRNc2cpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5TZW50KGBBc2tlZCBFRlRQT1MgdG8gcmVmdW5kICR7KGFtb3VudENlbnRzIC8gMTAwLjApLnRvRml4ZWQoMil9YCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KHRydWUsIFwiUmVmdW5kIEluaXRpYXRlZFwiKTtcbiAgICB9XG4gICAgXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gTGV0IHRoZSBFRlRQT1Mga25vdyB3aGV0aGVyIG1lcmNoYW50IGFjY2VwdGVkIG9yIGRlY2xpbmVkIHRoZSBzaWduYXR1cmVcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJhY2NlcHRlZFwiPndoZXRoZXIgbWVyY2hhbnQgYWNjZXB0ZWQgdGhlIHNpZ25hdHVyZSBmcm9tIGN1c3RvbWVyIG9yIG5vdDwvcGFyYW0+XG4gICAgQWNjZXB0U2lnbmF0dXJlKGFjY2VwdGVkKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5UcmFuc2FjdGlvbiB8fCB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZCB8fCAhdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuQXdhaXRpbmdTaWduYXR1cmVDaGVjaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJBc2tlZCB0byBhY2NlcHQgc2lnbmF0dXJlIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWlkVHhSZXN1bHQoZmFsc2UsIFwiQXNrZWQgdG8gYWNjZXB0IHNpZ25hdHVyZSBidXQgSSB3YXMgbm90IHdhaXRpbmcgZm9yIG9uZS5cIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5TaWduYXR1cmVSZXNwb25kZWQoYWNjZXB0ZWQgPyBcIkFjY2VwdGluZyBTaWduYXR1cmUuLi5cIiA6IFwiRGVjbGluaW5nIFNpZ25hdHVyZS4uLlwiKTtcbiAgICAgICAgdmFyIHNpZ1JlcU1zZyA9IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlNpZ25hdHVyZVJlcXVpcmVkTWVzc2FnZTtcbiAgICAgICAgdGhpcy5fc2VuZChhY2NlcHRlZFxuICAgICAgICAgICAgPyBuZXcgU2lnbmF0dXJlQWNjZXB0KHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlBvc1JlZklkKS5Ub01lc3NhZ2UoKVxuICAgICAgICAgICAgOiBuZXcgU2lnbmF0dXJlRGVjbGluZSh0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCkuVG9NZXNzYWdlKCkpO1xuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgICAgICByZXR1cm4gbmV3IE1pZFR4UmVzdWx0KHRydWUsIFwiXCIpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFN1Ym1pdCB0aGUgQ29kZSBvYnRhaW5lZCBieSB5b3VyIHVzZXIgd2hlbiBwaG9uaW5nIGZvciBhdXRoLiBcbiAgICAvLyBJdCB3aWxsIHJldHVybiBpbW1lZGlhdGVseSB0byB0ZWxsIHlvdSB3aGV0aGVyIHRoZSBjb2RlIGhhcyBhIHZhbGlkIGZvcm1hdCBvciBub3QuIFxuICAgIC8vIElmIHZhbGlkPT10cnVlIGlzIHJldHVybmVkLCBubyBuZWVkIHRvIGRvIGFueXRoaW5nIGVsc2UuIEV4cGVjdCB1cGRhdGVzIHZpYSBzdGFuZGFyZCBjYWxsYmFjay5cbiAgICAvLyBJZiB2YWxpZD09ZmFsc2UgaXMgcmV0dXJuZWQsIHlvdSBjYW4gc2hvdyB5b3VyIHVzZXIgdGhlIGFjY29tcGFueWluZyBtZXNzYWdlLCBhbmQgaW52aXRlIHRoZW0gdG8gZW50ZXIgYW5vdGhlciBjb2RlLiBcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJhdXRoQ29kZVwiPlRoZSBjb2RlIG9idGFpbmVkIGJ5IHlvdXIgdXNlciBmcm9tIHRoZSBtZXJjaGFudCBjYWxsIGNlbnRyZS4gSXQgc2hvdWxkIGJlIGEgNi1jaGFyYWN0ZXIgYWxwaGEtbnVtZXJpYyB2YWx1ZS48L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPldoZXRoZXIgY29kZSBoYXMgYSB2YWxpZCBmb3JtYXQgb3Igbm90LjwvcmV0dXJucz5cbiAgICBTdWJtaXRBdXRoQ29kZShhdXRoQ29kZSlcbiAgICB7XG4gICAgICAgIGlmIChhdXRoQ29kZS5sZW5ndGggIT0gNilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdWJtaXRBdXRoQ29kZVJlc3VsdChmYWxzZSwgXCJOb3QgYSA2LWRpZ2l0IGNvZGUuXCIpOyAgICBcbiAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Bd2FpdGluZ1Bob25lRm9yQXV0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJBc2tlZCB0byBzZW5kIGF1dGggY29kZSBidXQgSSB3YXMgbm90IHdhaXRpbmcgZm9yIG9uZS5cIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN1Ym1pdEF1dGhDb2RlUmVzdWx0KGZhbHNlLCBcIldhcyBub3Qgd2FpdGluZyBmb3Igb25lLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkF1dGhDb2RlU2VudChgU3VibWl0dGluZyBBdXRoIENvZGUgJHthdXRoQ29kZX1gKTtcbiAgICAgICAgdGhpcy5fc2VuZChuZXcgQXV0aENvZGVBZHZpY2UodGhpcy5DdXJyZW50VHhGbG93U3RhdGUuUG9zUmVmSWQsIGF1dGhDb2RlKS5Ub01lc3NhZ2UoKSk7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgICAgIHJldHVybiBuZXcgU3VibWl0QXV0aENvZGVSZXN1bHQodHJ1ZSwgXCJWYWxpZCBDb2RlLlwiKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBBdHRlbXB0cyB0byBjYW5jZWwgYSBUcmFuc2FjdGlvbi4gXG4gICAgLy8gQmUgc3Vic2NyaWJlZCB0byBUeEZsb3dTdGF0ZUNoYW5nZWQgZXZlbnQgdG8gc2VlIGhvdyBpdCBnb2VzLlxuICAgIC8vIFdhaXQgZm9yIHRoZSB0cmFuc2FjdGlvbiB0byBiZSBmaW5pc2hlZCBhbmQgdGhlbiBzZWUgd2hldGhlciBjYW5jZWxsYXRpb24gd2FzIHN1Y2Nlc3NmdWwgb3Igbm90LlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cmV0dXJucz5NaWRUeFJlc3VsdCAtIGZhbHNlIG9ubHkgaWYgeW91IGNhbGxlZCBpdCBpbiB0aGUgd3Jvbmcgc3RhdGU8L3JldHVybnM+XG4gICAgQ2FuY2VsVHJhbnNhY3Rpb24oKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5UcmFuc2FjdGlvbiB8fCB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJBc2tlZCB0byBjYW5jZWwgdHJhbnNhY3Rpb24gYnV0IEkgd2FzIG5vdCBpbiB0aGUgbWlkZGxlIG9mIG9uZS5cIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1pZFR4UmVzdWx0KGZhbHNlLCBcIkFza2VkIHRvIGNhbmNlbCB0cmFuc2FjdGlvbiBidXQgSSB3YXMgbm90IGluIHRoZSBtaWRkbGUgb2Ygb25lLlwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRILTFDLCBUSC0zQyAtIE1lcmNoYW50IHByZXNzZWQgY2FuY2VsXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5SZXF1ZXN0U2VudClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGNhbmNlbFJlcSA9IG5ldyBDYW5jZWxUcmFuc2FjdGlvblJlcXVlc3QoKTtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkNhbmNlbGxpbmcoXCJBdHRlbXB0aW5nIHRvIENhbmNlbCBUcmFuc2FjdGlvbi4uLlwiKTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmQoY2FuY2VsUmVxLlRvTWVzc2FnZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFdlIEhhZCBOb3QgRXZlbiBTZW50IFJlcXVlc3QgWWV0LiBDb25zaWRlciBhcyBrbm93biBmYWlsZWQuXG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GYWlsZWQobnVsbCwgXCJUcmFuc2FjdGlvbiBDYW5jZWxsZWQuIFJlcXVlc3QgSGFkIG5vdCBldmVuIGJlZW4gc2VudCB5ZXQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgICAgIHJldHVybiBuZXcgTWlkVHhSZXN1bHQodHJ1ZSwgXCJcIik7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gSW5pdGlhdGVzIGEgY2FzaG91dCBvbmx5IHRyYW5zYWN0aW9uLiBCZSBzdWJzY3JpYmVkIHRvIFR4Rmxvd1N0YXRlQ2hhbmdlZCBldmVudCB0byBnZXQgdXBkYXRlcyBvbiB0aGUgcHJvY2Vzcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwb3NSZWZJZFwiPkFscGhhbnVtZXJpYyBJZGVudGlmaWVyIGZvciB5b3VyIHRyYW5zYWN0aW9uLjwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJhbW91bnRDZW50c1wiPkFtb3VudCBpbiBDZW50cyB0byBjYXNoIG91dDwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJzdXJjaGFyZ2VBbW91bnRcIj5UaGUgU3VyY2hhcmdlIEFtb3VudCBpbiBDZW50czwvcGFyYW0+XG4gICAgLy8gPHJldHVybnM+SW5pdGlhdGVUeFJlc3VsdDwvcmV0dXJucz5cbiAgICBJbml0aWF0ZUNhc2hvdXRPbmx5VHgocG9zUmVmSWQsIGFtb3VudENlbnRzLCBzdXJjaGFyZ2VBbW91bnQgPSAwLCBvcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudFN0YXR1cyA9PSBTcGlTdGF0dXMuVW5wYWlyZWQpIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdChmYWxzZSwgXCJOb3QgUGFpcmVkXCIpO1xuXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuXG4gICAgICAgIHZhciBjYXNob3V0TXNnID0gT2JqZWN0LmFzc2lnbihuZXcgQ2FzaG91dE9ubHlSZXF1ZXN0KGFtb3VudENlbnRzLCBwb3NSZWZJZCksIHtcbiAgICAgICAgICAgIFN1cmNoYXJnZUFtb3VudDogc3VyY2hhcmdlQW1vdW50LFxuICAgICAgICAgICAgT3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIENvbmZpZzogdGhpcy5Db25maWdcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuVHJhbnNhY3Rpb247XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIFRyYW5zYWN0aW9uVHlwZS5DYXNob3V0T25seSwgYW1vdW50Q2VudHMsIGNhc2hvdXRNc2csXG4gICAgICAgICAgICBgV2FpdGluZyBmb3IgRUZUUE9TIGNvbm5lY3Rpb24gdG8gc2VuZCBjYXNob3V0IHJlcXVlc3QgZm9yICR7KGFtb3VudENlbnRzIC8gMTAwKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICBpZiAodGhpcy5fc2VuZChjYXNob3V0TXNnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2VudChgQXNrZWQgRUZUUE9TIHRvIGRvIGNhc2hvdXQgZm9yICR7KGFtb3VudENlbnRzIC8gMTAwKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgICAgIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdCh0cnVlLCBcIkNhc2hvdXQgSW5pdGlhdGVkXCIpO1xuICAgIH0gICAgXG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBJbml0aWF0ZXMgYSBNYWlsIE9yZGVyIC8gVGVsZXBob25lIE9yZGVyIFB1cmNoYXNlIFRyYW5zYWN0aW9uXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwicG9zUmVmSWRcIj5BbHBoYW51bWVyaWMgSWRlbnRpZmllciBmb3IgeW91ciB0cmFuc2FjdGlvbi48L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwiYW1vdW50Q2VudHNcIj5BbW91bnQgaW4gQ2VudHM8L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwic3VyY2hhcmdlQW1vdW50XCI+VGhlIFN1cmNoYXJnZSBBbW91bnQgaW4gQ2VudHM8L3BhcmFtPlxuICAgIC8vIDxwYXJhbSBuYW1lPVwic3VwcHJlc3NNZXJjaGFudFBhc3N3b3JkXCI+Pk1lcmNoYW50IFBhc3N3b3JkIGNvbnRyb2wgaW4gVkFBPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm9wdGlvbnNcIj5UaGUgU2V0dGluZyB0byBzZXQgSGVhZGVyIGFuZCBGb290ZXIgZm9yIHRoZSBSZWNlaXB0PC9wYXJhbT5cbiAgICAvLyA8cmV0dXJucz5Jbml0aWF0ZVR4UmVzdWx0PC9yZXR1cm5zPlxuICAgIEluaXRpYXRlTW90b1B1cmNoYXNlVHgocG9zUmVmSWQsIGFtb3VudENlbnRzLCBzdXJjaGFyZ2VBbW91bnQgPSAwLCBzdXBwcmVzc01lcmNoYW50UGFzc3dvcmQgPSBmYWxzZSwgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlVucGFpcmVkKSByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IFBhaXJlZFwiKTtcblxuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LklkbGUpIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdChmYWxzZSwgXCJOb3QgSWRsZVwiKTtcbiAgICAgICAgdmFyIG1vdG9QdXJjaGFzZU1zZyA9IE9iamVjdC5hc3NpZ24obmV3IE1vdG9QdXJjaGFzZVJlcXVlc3QoYW1vdW50Q2VudHMsIHBvc1JlZklkKSxcbiAgICAgICAge1xuICAgICAgICAgICAgU3VyY2hhcmdlQW1vdW50OiBzdXJjaGFyZ2VBbW91bnQsXG4gICAgICAgICAgICBTdXBwcmVzc01lcmNoYW50UGFzc3dvcmQ6IHN1cHByZXNzTWVyY2hhbnRQYXNzd29yZCxcbiAgICAgICAgICAgIENvbmZpZzogdGhpcy5Db25maWcsXG4gICAgICAgICAgICBPcHRpb25zOiBvcHRpb25zXG4gICAgICAgIH0pLlRvTWVzc2FnZSgpO1xuXG4gICAgICAgIHRoaXMuQ3VycmVudEZsb3cgPSBTcGlGbG93LlRyYW5zYWN0aW9uO1xuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZSA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuTU9UTywgYW1vdW50Q2VudHMsIG1vdG9QdXJjaGFzZU1zZyxcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBzZW5kIE1PVE8gcmVxdWVzdCBmb3IgJHsoYW1vdW50Q2VudHMgLyAxMDApLnRvRml4ZWQoMil9YCk7XG4gICAgICAgIGlmICh0aGlzLl9zZW5kKG1vdG9QdXJjaGFzZU1zZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlNlbnQoYEFza2VkIEVGVFBPUyBkbyBNT1RPIGZvciAkeyhhbW91bnRDZW50cyAvIDEwMCkudG9GaXhlZCgyKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQodHJ1ZSwgXCJNT1RPIEluaXRpYXRlZFwiKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBJbml0aWF0ZXMgYSBzZXR0bGVtZW50IHRyYW5zYWN0aW9uLlxuICAgIC8vIEJlIHN1YnNjcmliZWQgdG8gVHhGbG93U3RhdGVDaGFuZ2VkIGV2ZW50IHRvIGdldCB1cGRhdGVzIG9uIHRoZSBwcm9jZXNzLlxuICAgIC8vIDxwYXJhbSBuYW1lPVwib3B0aW9uc1wiPlRoZSBTZXR0aW5nIHRvIHNldCBIZWFkZXIgYW5kIEZvb3RlciBmb3IgdGhlIFJlY2VpcHQ8L3BhcmFtPlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBJbml0aWF0ZVNldHRsZVR4KHBvc1JlZklkLCBvcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudFN0YXR1cyA9PSBTcGlTdGF0dXMuVW5wYWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdChmYWxzZSwgXCJOb3QgUGFpcmVkXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5JZGxlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IElkbGVcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2V0dGxlTXNnID0gT2JqZWN0LmFzc2lnbihuZXcgU2V0dGxlUmVxdWVzdChSZXF1ZXN0SWRIZWxwZXIuSWQoXCJzZXR0bGVcIikpLFxuICAgICAgICB7XG4gICAgICAgICAgICBDb25maWc6IHRoaXMuQ29uZmlnLFxuICAgICAgICAgICAgT3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9KS5Ub01lc3NhZ2UoKTtcblxuICAgICAgICB0aGlzLkN1cnJlbnRGbG93ID0gU3BpRmxvdy5UcmFuc2FjdGlvbjtcbiAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUgPSBuZXcgVHJhbnNhY3Rpb25GbG93U3RhdGUoXG4gICAgICAgICAgICBwb3NSZWZJZCwgVHJhbnNhY3Rpb25UeXBlLlNldHRsZSwgMCwgc2V0dGxlTXNnLCBcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIGEgc2V0dGxlIHJlcXVlc3RgKTtcblxuICAgICAgICBpZiAodGhpcy5fc2VuZChzZXR0bGVNc2cpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5TZW50KGBBc2tlZCBFRlRQT1MgdG8gc2V0dGxlLmApO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgICAgIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdCh0cnVlLCBcIlNldHRsZSBJbml0aWF0ZWRcIik7ICAgXG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJvcHRpb25zXCI+VGhlIFNldHRpbmcgdG8gc2V0IEhlYWRlciBhbmQgRm9vdGVyIGZvciB0aGUgUmVjZWlwdDwvcGFyYW0+XG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIEluaXRpYXRlU2V0dGxlbWVudEVucXVpcnkocG9zUmVmSWQsIG9wdGlvbnMgPSBuZXcgVHJhbnNhY3Rpb25PcHRpb25zKCkpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50U3RhdHVzID09IFNwaVN0YXR1cy5VbnBhaXJlZCkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBQYWlyZWRcIik7XG5cbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5JZGxlKSByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IElkbGVcIik7XG4gICAgICAgIHZhciBzdGxFbnFNc2cgPSBPYmplY3QuYXNzaWduKG5ldyBTZXR0bGVtZW50RW5xdWlyeVJlcXVlc3QoUmVxdWVzdElkSGVscGVyLklkKFwic3RsZW5xXCIpKSxcbiAgICAgICAge1xuICAgICAgICAgICAgQ29uZmlnOiB0aGlzLkNvbmZpZyxcbiAgICAgICAgICAgIE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuVHJhbnNhY3Rpb247XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIFRyYW5zYWN0aW9uVHlwZS5TZXR0bGVtZW50RW5xdWlyeSwgMCwgc3RsRW5xTXNnLFxuICAgICAgICAgICAgXCJXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIGEgc2V0dGxlbWVudCBlbnF1aXJ5XCIpO1xuICAgICAgICBpZiAodGhpcy5fc2VuZChzdGxFbnFNc2cpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5TZW50KFwiQXNrZWQgRUZUUE9TIHRvIG1ha2UgYSBzZXR0bGVtZW50IGVucXVpcnkuXCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgICAgIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdCh0cnVlLCBcIlNldHRsZSBJbml0aWF0ZWRcIik7ICAgXG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gSW5pdGlhdGVzIGEgR2V0IExhc3QgVHJhbnNhY3Rpb24uIFVzZSB0aGlzIHdoZW4geW91IHdhbnQgdG8gcmV0cmlldmUgdGhlIG1vc3QgcmVjZW50IHRyYW5zYWN0aW9uXG4gICAgLy8gdGhhdCB3YXMgcHJvY2Vzc2VkIGJ5IHRoZSBFZnRwb3MuXG4gICAgLy8gQmUgc3Vic2NyaWJlZCB0byBUeEZsb3dTdGF0ZUNoYW5nZWQgZXZlbnQgdG8gZ2V0IHVwZGF0ZXMgb24gdGhlIHByb2Nlc3MuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIEluaXRpYXRlR2V0TGFzdFR4KClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgPT0gU3BpU3RhdHVzLlVucGFpcmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IFBhaXJlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdsdFJlcXVlc3RNc2cgPSBuZXcgR2V0TGFzdFRyYW5zYWN0aW9uUmVxdWVzdCgpLlRvTWVzc2FnZSgpO1xuICAgICAgICB0aGlzLkN1cnJlbnRGbG93ID0gU3BpRmxvdy5UcmFuc2FjdGlvbjtcbiAgICAgICAgdmFyIHBvc1JlZklkID0gZ2x0UmVxdWVzdE1zZy5JZDsgLy8gR2V0TGFzdFR4IGlzIG5vdCB0cnlpbmcgdG8gZ2V0IGFueXRoaW5nIHNwZWNpZmljIGJhY2suIFNvIHdlIGp1c3QgdXNlIHRoZSBtZXNzYWdlIGlkLlxuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZSA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuR2V0TGFzdFRyYW5zYWN0aW9uLCAwLCBnbHRSZXF1ZXN0TXNnLCBcbiAgICAgICAgICAgIFwiV2FpdGluZyBmb3IgRUZUUE9TIGNvbm5lY3Rpb24gdG8gbWFrZSBhIEdldC1MYXN0LVRyYW5zYWN0aW9uIHJlcXVlc3QuXCIpO1xuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5DYWxsaW5nR2x0KGdsdFJlcXVlc3RNc2cuSWQpO1xuICAgICAgICBpZiAodGhpcy5fc2VuZChnbHRSZXF1ZXN0TXNnKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2VudChgQXNrZWQgRUZUUE9TIGZvciBsYXN0IHRyYW5zYWN0aW9uLmApO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KHRydWUsIFwiR0xUIEluaXRpYXRlZFwiKTsgICBcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGlzIGlzIHVzZWZ1bCB0byByZWNvdmVyIGZyb20geW91ciBQT1MgY3Jhc2hpbmcgaW4gdGhlIG1pZGRsZSBvZiBhIHRyYW5zYWN0aW9uLlxuICAgIC8vIFdoZW4geW91IHJlc3RhcnQgeW91ciBQT1MsIGlmIHlvdSBoYWQgc2F2ZWQgZW5vdWdoIHN0YXRlLCB5b3UgY2FuIGNhbGwgdGhpcyBtZXRob2QgdG8gcmVjb3ZlciB0aGUgY2xpZW50IGxpYnJhcnkgc3RhdGUuXG4gICAgLy8gWW91IG5lZWQgdG8gaGF2ZSB0aGUgcG9zUmVmSWQgdGhhdCB5b3UgcGFzc2VkIGluIHdpdGggdGhlIG9yaWdpbmFsIHRyYW5zYWN0aW9uLCBhbmQgdGhlIHRyYW5zYWN0aW9uIHR5cGUuXG4gICAgLy8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gaW1tZWRpYXRlbHkgd2hldGhlciByZWNvdmVyeSBoYXMgc3RhcnRlZCBvciBub3QuXG4gICAgLy8gSWYgcmVjb3ZlcnkgaGFzIHN0YXJ0ZWQsIHlvdSBuZWVkIHRvIGJyaW5nIHVwIHRoZSB0cmFuc2FjdGlvbiBtb2RhbCB0byB5b3VyIHVzZXIgYSBiZSBsaXN0ZW5pbmcgdG8gVHhGbG93U3RhdGVDaGFuZ2VkLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cInBvc1JlZklkXCI+VGhlIGlzIHRoYXQgeW91IGhhZCBhc3NpZ25lZCB0byB0aGUgdHJhbnNhY3Rpb24gdGhhdCB5b3UgYXJlIHRyeWluZyB0byByZWNvdmVyLjwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJ0eFR5cGVcIj5UaGUgdHJhbnNhY3Rpb24gdHlwZS48L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPjwvcmV0dXJucz5cbiAgICBJbml0aWF0ZVJlY292ZXJ5KHBvc1JlZklkLCB0eFR5cGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50U3RhdHVzID09IFNwaVN0YXR1cy5VbnBhaXJlZCkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBQYWlyZWRcIik7XG4gICAgXG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuSWRsZSkgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KGZhbHNlLCBcIk5vdCBJZGxlXCIpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5DdXJyZW50RmxvdyA9IFNwaUZsb3cuVHJhbnNhY3Rpb247XG4gICAgICAgIFxuICAgICAgICB2YXIgZ2x0UmVxdWVzdE1zZyA9IG5ldyBHZXRMYXN0VHJhbnNhY3Rpb25SZXF1ZXN0KCkuVG9NZXNzYWdlKCk7XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIHR4VHlwZSwgMCwgZ2x0UmVxdWVzdE1zZywgXG4gICAgICAgICAgICBcIldhaXRpbmcgZm9yIEVGVFBPUyBjb25uZWN0aW9uIHRvIGF0dGVtcHQgcmVjb3ZlcnkuXCIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3NlbmQoZ2x0UmVxdWVzdE1zZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlNlbnQoYEFza2VkIEVGVFBPUyB0byByZWNvdmVyIHN0YXRlLmApO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KHRydWUsIFwiUmVjb3ZlcnkgSW5pdGlhdGVkXCIpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEdsdE1hdGNoIGF0dGVtcHRzIHRvIGNvbmNsdWRlIHdoZXRoZXIgYSBnbHRSZXNwb25zZSBtYXRjaGVzIGFuIGV4cGVjdGVkIHRyYW5zYWN0aW9uIGFuZCByZXR1cm5zXG4gICAgLy8gdGhlIG91dGNvbWUuIFxuICAgIC8vIElmIFN1Y2Nlc3MvRmFpbGVkIGlzIHJldHVybmVkLCBpdCBtZWFucyB0aGF0IHRoZSBndGxSZXNwb25zZSBkaWQgbWF0Y2gsIGFuZCB0aGF0IHRyYW5zYWN0aW9uIHdhcyBzdWNjZXNmdWwvZmFpbGVkLlxuICAgIC8vIElmIFVua25vd24gaXMgcmV0dXJuZWQsIGl0IG1lYW5zIHRoYXQgdGhlIGdsdFJlc3BvbnNlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB0cmFuc2FjdGlvbi4gXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwiZ2x0UmVzcG9uc2VcIj5UaGUgR2V0TGFzdFRyYW5zYWN0aW9uUmVzcG9uc2UgbWVzc2FnZSB0byBjaGVjazwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJwb3NSZWZJZFwiPlRoZSBSZWZlcmVuY2UgSWQgdGhhdCB5b3UgcGFzc2VkIGluIHdpdGggdGhlIG9yaWdpbmFsIHJlcXVlc3QuPC9wYXJhbT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cImV4cGVjdGVkQW1vdW50XCI+VGhlIHRvdGFsIGFtb3VudCBpbiB0aGUgb3JpZ2luYWwgcmVxdWVzdDwvcGFyYW0+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJyZXF1ZXN0VGltZVwiPlRoZSByZXF1ZXN0IHRpbWU8L3BhcmFtPlxuICAgIC8vIDxyZXR1cm5zPjwvcmV0dXJucz5cbiAgICBHbHRNYXRjaChnbHRSZXNwb25zZSwgcG9zUmVmSWQsIGV4cGVjdGVkQW1vdW50LCByZXF1ZXN0VGltZSwgLi4uZGVwcmVjYXRlZEFyZ3MpIFxuICAgIHtcbiAgICAgICAgLy8gT2Jzb2xldGUgbWV0aG9kIGNhbGwgY2hlY2tcbiAgICAgICAgLy8gT2xkIGludGVyZmFjZTogR2x0TWF0Y2goR2V0TGFzdFRyYW5zYWN0aW9uUmVzcG9uc2UgZ2x0UmVzcG9uc2UsIFRyYW5zYWN0aW9uVHlwZSBleHBlY3RlZFR5cGUsIGludCBleHBlY3RlZEFtb3VudCwgRGF0ZVRpbWUgcmVxdWVzdFRpbWUsIHN0cmluZyBwb3NSZWZJZClcbiAgICAgICAgaWYoZGVwcmVjYXRlZEFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZihkZXByZWNhdGVkQXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIk9ic29sZXRlIG1ldGhvZCBjYWxsIGRldGVjdGVkOiBVc2UgR2x0TWF0Y2goZ2x0UmVzcG9uc2UsIHBvc1JlZklkKVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5HbHRNYXRjaChnbHRSZXNwb25zZSwgZGVwcmVjYXRlZEFyZ3NbMF0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPYnNvbGV0ZSBtZXRob2QgY2FsbCB3aXRoIHVua25vd24gYXJnczogVXNlIEdsdE1hdGNoKEdldExhc3RUcmFuc2FjdGlvblJlc3BvbnNlIGdsdFJlc3BvbnNlLCBzdHJpbmcgcG9zUmVmSWQpXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9nLmluZm8oYEdMVCBDSEVDSzogUG9zUmVmSWQ6ICR7cG9zUmVmSWR9LT4ke2dsdFJlc3BvbnNlLkdldFBvc1JlZklkKCl9YCk7XG5cbiAgICAgICAgdmFyIGdsdEJhbmtEYXRlVGltZVN0ciA9IGdsdFJlc3BvbnNlLkdldEJhbmtEYXRlVGltZVN0cmluZygpOyAvLyBkZE1NeXl5eUhIbW1zc1xuICAgICAgICB2YXIgZ2x0QmFua0RhdGVUaW1lID0gbmV3IERhdGUoYCR7Z2x0QmFua0RhdGVUaW1lU3RyLnN1YnN0cig0LDQpfS0ke2dsdEJhbmtEYXRlVGltZVN0ci5zdWJzdHIoMiwyKX0tJHtnbHRCYW5rRGF0ZVRpbWVTdHIuc3Vic3RyKDAsMil9ICR7Z2x0QmFua0RhdGVUaW1lU3RyLnN1YnN0cig4LDIpfToke2dsdEJhbmtEYXRlVGltZVN0ci5zdWJzdHIoMTAsMil9OiR7Z2x0QmFua0RhdGVUaW1lU3RyLnN1YnN0cigxMiwyKX1gKTtcbiAgICAgICAgdmFyIGNvbXBhcmUgPSByZXF1ZXN0VGltZS5nZXRUaW1lKCkgLSBnbHRCYW5rRGF0ZVRpbWUuZ2V0VGltZSgpO1xuXG4gICAgICAgIGlmICghcG9zUmVmSWQgPT0gZ2x0UmVzcG9uc2UuR2V0UG9zUmVmSWQoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFN1Y2Nlc3NTdGF0ZS5Vbmtub3duO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdsdFJlc3BvbnNlLkdldFR4VHlwZSgpLnRvVXBwZXJDYXNlKCkgPT0gXCJQVVJDSEFTRVwiICYmIGdsdFJlc3BvbnNlLkdldEJhbmtOb25DYXNoQW1vdW50KCkgIT0gZXhwZWN0ZWRBbW91bnQgJiYgY29tcGFyZSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNZXNzYWdlLlN1Y2Nlc3NTdGF0ZS5Vbmtub3duO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdsdFJlc3BvbnNlLkdldFN1Y2Nlc3NTdGF0ZSgpO1xuICAgIH1cbiAgICBcbiAgICBQcmludFJlY2VpcHQoa2V5LCBwYXlsb2FkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc2VuZChuZXcgUHJpbnRpbmdSZXF1ZXN0KGtleSwgcGF5bG9hZCkudG9NZXNzYWdlKCkpO1xuICAgIH1cblxuICAgIEdldFRlcm1pbmFsU3RhdHVzKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3NlbmQobmV3IFRlcm1pbmFsU3RhdHVzUmVxdWVzdCgpLlRvTWVzc2FnZSgpKTtcbiAgICB9XG5cbiAgICAvLyBlbmRyZWdpb25cbiAgICAgICAgXG4gICAgLy8gcmVnaW9uIEludGVybmFscyBmb3IgUGFpcmluZyBGbG93XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBIYW5kbGluZyB0aGUgMm5kIGludGVyYWN0aW9uIG9mIHRoZSBwYWlyaW5nIHByb2Nlc3MsIGkuZS4gYW4gaW5jb21pbmcgS2V5UmVxdWVzdC5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+aW5jb21pbmcgbWVzc2FnZTwvcGFyYW0+XG4gICAgX2hhbmRsZUtleVJlcXVlc3QobSlcbiAgICB7XG4gICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuTWVzc2FnZSA9IFwiTmVnb3RpYXRpbmcgUGFpcmluZy4uLlwiO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuXG4gICAgICAgIC8vIFVzZSB0aGUgaGVscGVyLiBJdCB0YWtlcyB0aGUgaW5jb21pbmcgcmVxdWVzdCwgYW5kIGdlbmVyYXRlcyB0aGUgc2VjcmV0cyBhbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICB2YXIgcGggICAgICA9IG5ldyBQYWlyaW5nSGVscGVyKCk7XG4gICAgICAgIHZhciByZXN1bHQgID0gcGguR2VuZXJhdGVTZWNyZXRzQW5kS2V5UmVzcG9uc2UobmV3IEtleVJlcXVlc3QobSkpO1xuICAgICAgICB0aGlzLl9zZWNyZXRzID0gcmVzdWx0LlNlY3JldHM7IC8vIHdlIG5vdyBoYXZlIHNlY3JldHMsIGFsdGhvdWdoIHBhaXJpbmcgaXMgbm90IGZ1bGx5IGZpbmlzaGVkIHlldC5cbiAgICAgICAgdGhpcy5fc3BpTWVzc2FnZVN0YW1wLlNlY3JldHMgPSB0aGlzLl9zZWNyZXRzOyAvLyB1cGRhdGluZyBvdXIgc3RhbXAgd2l0aCB0aGUgc2VjcmV0cyBzbyBjYW4gZW5jcnlwdCBtZXNzYWdlcyBsYXRlci5cbiAgICAgICAgdGhpcy5fc2VuZChyZXN1bHQuS2V5UmVzcG9uc2UuVG9NZXNzYWdlKCkpOyAvLyBzZW5kIHRoZSBrZXlfcmVzcG9uc2UsIGkuZS4gaW50ZXJhY3Rpb24gMyBvZiBwYWlyaW5nLlxuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEhhbmRsaW5nIHRoZSA0dGggaW50ZXJhY3Rpb24gb2YgdGhlIHBhaXJpbmcgcHJvY2VzcyBpLmUuIGFuIGluY29taW5nIEtleUNoZWNrLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1cIj48L3BhcmFtPlxuICAgIF9oYW5kbGVLZXlDaGVjayhtKVxuICAgIHtcbiAgICAgICAgdmFyIGtleUNoZWNrID0gbmV3IEtleUNoZWNrKG0pO1xuICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLkNvbmZpcm1hdGlvbkNvZGUgPSBrZXlDaGVjay5Db25maXJtYXRpb25Db2RlO1xuICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLkF3YWl0aW5nQ2hlY2tGcm9tRWZ0cG9zID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcyA9IHRydWU7XG4gICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuTWVzc2FnZSA9IFwiQ29uZmlybSB0aGF0IHRoZSBmb2xsb3dpbmcgQ29kZSBpcyBzaG93aW5nIG9uIHRoZSBUZXJtaW5hbFwiO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEhhbmRsaW5nIHRoZSA1dGggYW5kIGZpbmFsIGludGVyYWN0aW9uIG9mIHRoZSBwYWlyaW5nIHByb2Nlc3MsIGkuZS4gYW4gaW5jb21pbmcgUGFpclJlc3BvbnNlXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibVwiPjwvcGFyYW0+XG4gICAgX2hhbmRsZVBhaXJSZXNwb25zZShtKVxuICAgIHtcbiAgICAgICAgdmFyIHBhaXJSZXNwID0gbmV3IFBhaXJSZXNwb25zZShtKTtcblxuICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLkF3YWl0aW5nQ2hlY2tGcm9tRWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIGlmIChwYWlyUmVzcC5TdWNjZXNzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBTdGlsbCBXYWl0aW5nIGZvciBVc2VyIHRvIHNheSB5ZXMgb24gUE9TXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJHb3QgUGFpciBDb25maXJtIGZyb20gRWZ0cG9zLCBidXQgc3RpbGwgd2FpdGluZyBmb3IgdXNlIHRvIGNvbmZpcm0gZnJvbSBQT1MuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuTWVzc2FnZSA9IFwiQ29uZmlybSB0aGF0IHRoZSBmb2xsb3dpbmcgQ29kZSBpcyB3aGF0IHRoZSBFRlRQT1Mgc2hvd2VkXCI7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1BhaXJpbmdGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZX0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIkdvdCBQYWlyIENvbmZpcm0gZnJvbSBFZnRwb3MsIGFuZCBhbHJlYWR5IGhhZCBjb25maXJtIGZyb20gUE9TLiBOb3cganVzdCB3YWl0aW5nIGZvciBmaXJzdCBwb25nLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblBhaXJpbmdTdWNjZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJIG5lZWQgdG8gcGluZy9sb2dpbiBldmVuIGlmIHRoZSBwb3MgdXNlciBoYXMgbm90IHNhaWQgeWVzIHlldCwgXG4gICAgICAgICAgICAvLyBiZWNhdXNlIG90aGVyd2lzZSB3aXRoaW4gNSBzZWNvbmRzIGNvbm5lY3Rpb25nIHdpbGwgYmUgZHJvcHBlZCBieSBlZnRwb3MuXG4gICAgICAgICAgICB0aGlzLl9zdGFydFBlcmlvZGljUGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25QYWlyaW5nRmFpbGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFuZGxlRHJvcEtleXNBZHZpY2UobSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiRWZ0cG9zIHdhcyBVbnBhaXJlZC4gSSBzaGFsbCB1bnBhaXIgZnJvbSBteSBlbmQgYXMgd2VsbC5cIik7XG4gICAgICAgIHRoaXMuX2RvVW5wYWlyKCk7XG4gICAgfVxuXG4gICAgX29uUGFpcmluZ1N1Y2Nlc3MoKVxuICAgIHtcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5TdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5GaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuTWVzc2FnZSA9IFwiUGFpcmluZyBTdWNjZXNzZnVsIVwiO1xuICAgICAgICB0aGlzLkN1cnJlbnRTdGF0dXMgPSBTcGlTdGF0dXMuUGFpcmVkQ29ubmVjdGVkO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnU2VjcmV0c0NoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLl9zZWNyZXRzfSkpO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIF9vblBhaXJpbmdGYWlsZWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc2VjcmV0cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcC5TZWNyZXRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY29ubi5EaXNjb25uZWN0KCk7XG5cbiAgICAgICAgdGhpcy5DdXJyZW50U3RhdHVzID0gU3BpU3RhdHVzLlVucGFpcmVkO1xuICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLk1lc3NhZ2UgPSBcIlBhaXJpbmcgRmFpbGVkXCI7XG4gICAgICAgIHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGUuRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLlN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5Bd2FpdGluZ0NoZWNrRnJvbVBvcyA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIF9kb1VucGFpcigpXG4gICAge1xuICAgICAgICB0aGlzLkN1cnJlbnRTdGF0dXMgPSBTcGlTdGF0dXMuVW5wYWlyZWQ7XG4gICAgICAgIHRoaXMuX2Nvbm4uRGlzY29ubmVjdCgpO1xuICAgICAgICB0aGlzLl9zZWNyZXRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3BpTWVzc2FnZVN0YW1wLlNlY3JldHMgPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnU2VjcmV0c0NoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLl9zZWNyZXRzfSkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFNvbWV0aW1lcyB0aGUgc2VydmVyIGFza3MgdXMgdG8gcm9sbCBvdXIgc2VjcmV0cy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+PC9wYXJhbT5cbiAgICBfaGFuZGxlS2V5Um9sbGluZ1JlcXVlc3QobSlcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbGN1bGF0ZSB0aGUgbmV3IG9uZXMuLi5cbiAgICAgICAgdmFyIGtyUmVzID0gS2V5Um9sbGluZ0hlbHBlci5QZXJmb3JtS2V5Um9sbGluZyhtLCB0aGlzLl9zZWNyZXRzKTtcbiAgICAgICAgdGhpcy5fc2VjcmV0cyA9IGtyUmVzLk5ld1NlY3JldHM7IC8vIGFuZCB1cGRhdGUgb3VyIHNlY3JldHMgd2l0aCB0aGVtXG4gICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcC5TZWNyZXRzID0gdGhpcy5fc2VjcmV0czsgLy8gYW5kIG91ciBzdGFtcFxuICAgICAgICB0aGlzLl9zZW5kKGtyUmVzLktleVJvbGxpbmdDb25maXJtYXRpb24pOyAvLyBhbmQgd2UgdGVsbCB0aGUgc2VydmVyIHRoYXQgYWxsIGlzIHdlbGwuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdTZWNyZXRzQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuX3NlY3JldHN9KSk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhlIFBpblBhZCBzZXJ2ZXIgd2lsbCBzZW5kIHVzIHRoaXMgbWVzc2FnZSB3aGVuIGEgY3VzdG9tZXIgc2lnbmF0dXJlIGlzIHJlcWlyZWQuXG4gICAgLy8gV2UgbmVlZCB0byBhc2sgdGhlIGN1c3RvbWVyIHRvIHNpZ24gdGhlIGluY29taW5nIHJlY2VpcHQuXG4gICAgLy8gQW5kIHRoZW4gdGVsbCB0aGUgcGlucGFkIHdoZXRoZXIgdGhlIHNpZ25hdHVyZSBpcyBvayBvciBub3QuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibVwiPjwvcGFyYW0+XG4gICAgX2hhbmRsZVNpZ25hdHVyZVJlcXVpcmVkKG0pXG4gICAge1xuICAgICAgICB2YXIgaW5jb21pbmdQb3NSZWZJZCA9IG0uRGF0YS5wb3NfcmVmX2lkO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCA9PSBpbmNvbWluZ1Bvc1JlZklkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgU2lnbmF0dXJlIFJlcXVpcmVkIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLiBJbmNvbWluZyBQb3MgUmVmIElEOiAke2luY29taW5nUG9zUmVmSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2lnbmF0dXJlUmVxdWlyZWQobmV3IFNpZ25hdHVyZVJlcXVpcmVkKG0pLCBcIkFzayBDdXN0b21lciB0byBTaWduIHRoZSBSZWNlaXB0XCIpO1xuICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhlIFBpblBhZCBzZXJ2ZXIgd2lsbCBzZW5kIHVzIHRoaXMgbWVzc2FnZSB3aGVuIGFuIGF1dGggY29kZSBpcyByZXF1aXJlZC5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+PC9wYXJhbT5cbiAgICBfaGFuZGxlQXV0aENvZGVSZXF1aXJlZChtKVxuICAgIHtcbiAgICAgICAgdmFyIGluY29taW5nUG9zUmVmSWQgPSBtLkRhdGEucG9zX3JlZl9pZDtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5UcmFuc2FjdGlvbiB8fCB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZCB8fCAhdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuUG9zUmVmSWQgPT0gaW5jb21pbmdQb3NSZWZJZClcbiAgICAgICAge1xuICAgICAgICAgICAgX2xvZy5pbmZvKGBSZWNlaXZlZCBBdXRoIENvZGUgUmVxdWlyZWQgYnV0IEkgd2FzIG5vdCB3YWl0aW5nIGZvciBvbmUuIEluY29taW5nIFBvcyBSZWYgSUQ6ICR7aW5jb21pbmdQb3NSZWZJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGhvbmVGb3JBdXRoUmVxdWlyZWQgPSBuZXcgUGhvbmVGb3JBdXRoUmVxdWlyZWQobSk7XG4gICAgICAgIHZhciBtc2cgPSBgQXV0aCBDb2RlIFJlcXVpcmVkLiBDYWxsICR7cGhvbmVGb3JBdXRoUmVxdWlyZWQuR2V0UGhvbmVOdW1iZXIoKX0gYW5kIHF1b3RlIG1lcmNoYW50IGlkICR7cGhvbmVGb3JBdXRoUmVxdWlyZWQuR2V0TWVyY2hhbnRJZCgpfWA7XG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlBob25lRm9yQXV0aFJlcXVpcmVkKHBob25lRm9yQXV0aFJlcXVpcmVkLCBtc2cpO1xuICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhlIFBpblBhZCBzZXJ2ZXIgd2lsbCByZXBseSB0byBvdXIgUHVyY2hhc2VSZXF1ZXN0IHdpdGggYSBQdXJjaGFzZVJlc3BvbnNlLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1cIj48L3BhcmFtPlxuICAgIF9oYW5kbGVQdXJjaGFzZVJlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB2YXIgaW5jb21pbmdQb3NSZWZJZCA9IG0uRGF0YS5wb3NfcmVmX2lkO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCA9PSBpbmNvbWluZ1Bvc1JlZklkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgUHVyY2hhc2UgcmVzcG9uc2UgYnV0IEkgd2FzIG5vdCB3YWl0aW5nIGZvciBvbmUuIEluY29taW5nIFBvcyBSZWYgSUQ6ICR7aW5jb21pbmdQb3NSZWZJZH1cImApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRILTFBLCBUSC0yQVxuICAgICAgICBcbiAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuQ29tcGxldGVkKG0uR2V0U3VjY2Vzc1N0YXRlKCksIG0sIFwiUHVyY2hhc2UgVHJhbnNhY3Rpb24gRW5kZWQuXCIpO1xuICAgICAgICAvLyBUSC02QSwgVEgtNkVcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGUgUGluUGFkIHNlcnZlciB3aWxsIHJlcGx5IHRvIG91ciBDYXNob3V0T25seVJlcXVlc3Qgd2l0aCBhIENhc2hvdXRPbmx5UmVzcG9uc2UuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibVwiPjwvcGFyYW0+XG4gICAgX2hhbmRsZUNhc2hvdXRPbmx5UmVzcG9uc2UobSlcbiAgICB7XG4gICAgICAgIHZhciBpbmNvbWluZ1Bvc1JlZklkID0gbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgIGlmICh0aGlzLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuVHJhbnNhY3Rpb24gfHwgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuRmluaXNoZWQgfHwgIXRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlBvc1JlZklkID09IGluY29taW5nUG9zUmVmSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBSZWNlaXZlZCBDYXNob3V0IFJlc3BvbnNlIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLiBJbmNvbWluZyBQb3MgUmVmIElEOiAke2luY29taW5nUG9zUmVmSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVEgtMUEsIFRILTJBXG4gICAgICAgIFxuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Db21wbGV0ZWQobS5HZXRTdWNjZXNzU3RhdGUoKSwgbSwgXCJDYXNob3V0IFRyYW5zYWN0aW9uIEVuZGVkLlwiKTtcbiAgICAgICAgLy8gVEgtNkEsIFRILTZFXG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhlIFBpblBhZCBzZXJ2ZXIgd2lsbCByZXBseSB0byBvdXIgTW90b1B1cmNoYXNlUmVxdWVzdCB3aXRoIGEgTW90b1B1cmNoYXNlUmVzcG9uc2UuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibVwiPjwvcGFyYW0+XG4gICAgX2hhbmRsZU1vdG9QdXJjaGFzZVJlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB2YXIgaW5jb21pbmdQb3NSZWZJZCA9IG0uRGF0YS5wb3NfcmVmX2lkO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCA9PSBpbmNvbWluZ1Bvc1JlZklkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgTW90byBSZXNwb25zZSBidXQgSSB3YXMgbm90IHdhaXRpbmcgZm9yIG9uZS4gSW5jb21pbmcgUG9zIFJlZiBJRDogJHtpbmNvbWluZ1Bvc1JlZklkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRILTFBLCBUSC0yQVxuICAgICAgICBcbiAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuQ29tcGxldGVkKG0uR2V0U3VjY2Vzc1N0YXRlKCksIG0sIFwiTW90byBUcmFuc2FjdGlvbiBFbmRlZC5cIik7XG4gICAgICAgIC8vIFRILTZBLCBUSC02RVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgIH0gICBcblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFRoZSBQaW5QYWQgc2VydmVyIHdpbGwgcmVwbHkgdG8gb3VyIFJlZnVuZFJlcXVlc3Qgd2l0aCBhIFJlZnVuZFJlc3BvbnNlLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1cIj48L3BhcmFtPlxuICAgIF9oYW5kbGVSZWZ1bmRSZXNwb25zZShtKVxuICAgIHtcbiAgICAgICAgdmFyIGluY29taW5nUG9zUmVmSWQgPSBtLkRhdGEucG9zX3JlZl9pZDtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5UcmFuc2FjdGlvbiB8fCB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZCB8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCA9PSBpbmNvbWluZ1Bvc1JlZklkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgUmVmdW5kIHJlc3BvbnNlIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3IgdGhpcyBvbmUuIEluY29taW5nIFBvcyBSZWYgSUQ6ICR7aW5jb21pbmdQb3NSZWZJZH1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUSC0xQSwgVEgtMkFcbiAgICAgICAgXG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkNvbXBsZXRlZChtLkdldFN1Y2Nlc3NTdGF0ZSgpLCBtLCBcIlJlZnVuZCBUcmFuc2FjdGlvbiBFbmRlZC5cIik7XG4gICAgICAgIC8vIFRILTZBLCBUSC02RVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFRPRE86IEhhbmRsZSB0aGUgU2V0dGxlbWVudCBSZXNwb25zZSByZWNlaXZlZCBmcm9tIHRoZSBQaW5QYWRcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+PC9wYXJhbT5cbiAgICBIYW5kbGVTZXR0bGVSZXNwb25zZShtKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5UcmFuc2FjdGlvbiB8fCB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYFJlY2VpdmVkIFNldHRsZSByZXNwb25zZSBidXQgSSB3YXMgbm90IHdhaXRpbmcgZm9yIG9uZS4gJHttLkRlY3J5cHRlZEpzb259YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVEgtMUEsIFRILTJBXG4gICAgICAgIFxuICAgICAgICB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Db21wbGV0ZWQobS5HZXRTdWNjZXNzU3RhdGUoKSwgbSwgXCJTZXR0bGUgVHJhbnNhY3Rpb24gRW5kZWQuXCIpO1xuICAgICAgICAvLyBUSC02QSwgVEgtNkVcbiAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEhhbmRsZSB0aGUgU2V0dGxlbWVudCBFbnF1aXJ5IFJlc3BvbnNlIHJlY2VpdmVkIGZyb20gdGhlIFBpblBhZFxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1cIj48L3BhcmFtPlxuICAgIF9oYW5kbGVTZXR0bGVtZW50RW5xdWlyeVJlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgU2V0dGxlbWVudCBFbnF1aXJ5IHJlc3BvbnNlIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLiAke20uRGVjcnlwdGVkSnNvbn1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUSC0xQSwgVEgtMkFcbiAgICAgICAgXG4gICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkNvbXBsZXRlZChtLkdldFN1Y2Nlc3NTdGF0ZSgpLCBtLCBcIlNldHRsZW1lbnQgRW5xdWlyeSBFbmRlZC5cIik7XG4gICAgICAgIC8vIFRILTZBLCBUSC02RVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFNvbWV0aW1lcyB3ZSByZWNlaXZlIGV2ZW50IHR5cGUgXCJlcnJvclwiIGZyb20gdGhlIHNlcnZlciwgc3VjaCBhcyB3aGVuIGNhbGxpbmcgY2FuY2VsX3RyYW5zYWN0aW9uIGFuZCB0aGVyZSBpcyBubyB0cmFuc2FjdGlvbiBpbiBwcm9ncmVzcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+PC9wYXJhbT5cbiAgICBfaGFuZGxlRXJyb3JFdmVudChtKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5UcmFuc2FjdGlvblxuICAgICAgICAgICAgJiYgIXRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkXG4gICAgICAgICAgICAmJiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5BdHRlbXB0aW5nVG9DYW5jZWxcbiAgICAgICAgICAgICYmIG0uR2V0RXJyb3IoKSA9PSBcIk5PX1RSQU5TQUNUSU9OXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRILTJFXG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgV2FzIHRyeWluZyB0byBjYW5jZWwgYSB0cmFuc2FjdGlvbiBidXQgdGhlcmUgaXMgbm90aGluZyB0byBjYW5jZWwuIENhbGxpbmcgR0xUIHRvIHNlZSB3aGF0J3MgdXBgKTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGxHZXRMYXN0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBSZWNlaXZlZCBFcnJvciBFdmVudCBCdXQgRG9uJ3Qga25vdyB3aGF0IHRvIGRvIHdpdGggaXQuICR7bS5EZWNyeXB0ZWRKc29ufWApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gV2hlbiB0aGUgUGluUGFkIHJldHVybnMgdG8gdXMgd2hhdCB0aGUgTGFzdCBUcmFuc2FjdGlvbiB3YXMuXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibVwiPjwvcGFyYW0+XG4gICAgX2hhbmRsZUdldExhc3RUcmFuc2FjdGlvblJlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB2YXIgdHhTdGF0ZSA9IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHR4U3RhdGUuRmluaXNoZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiUmVjZWl2ZWQgZ2x0IHJlc3BvbnNlIGJ1dCB3ZSB3ZXJlIG5vdCBpbiB0aGUgbWlkZGxlIG9mIGEgdHguIGlnbm9yaW5nLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdHhTdGF0ZS5Bd2FpdGluZ0dsdFJlc3BvbnNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcInJlY2VpdmVkIGEgZ2x0IHJlc3BvbnNlIGJ1dCB3ZSBoYWQgbm90IGFza2VkIGZvciBvbmUgd2l0aGluIHRoaXMgdHJhbnNhY3Rpb24uIFBlcmhhcHMgbGVmdG92ZXIgZnJvbSBwcmV2aW91cyBvbmUuIGlnbm9yaW5nLlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eFN0YXRlLkxhc3RHbHRSZXF1ZXN0SWQgIT0gbS5JZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJyZWNlaXZlZCBhIGdsdCByZXNwb25zZSBidXQgdGhlIG1lc3NhZ2UgaWQgZG9lcyBub3QgbWF0Y2ggdGhlIGdsdCByZXF1ZXN0IHRoYXQgd2Ugc2VudC4gc3RyYW5nZS4gaWdub3JpbmcuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVEgtNCBXZSB3ZXJlIGluIHRoZSBtaWRkbGUgb2YgYSB0cmFuc2FjdGlvbi5cbiAgICAgICAgLy8gTGV0J3MgYXR0ZW1wdCByZWNvdmVyeS4gVGhpcyBpcyBzdGVwIDQgb2YgVHJhbnNhY3Rpb24gUHJvY2Vzc2luZyBIYW5kbGluZ1xuICAgICAgICB0aGlzLl9sb2cuaW5mbyhgR290IExhc3QgVHJhbnNhY3Rpb24uLmApO1xuICAgICAgICB0eFN0YXRlLkdvdEdsdFJlc3BvbnNlKCk7XG4gICAgICAgIHZhciBndGxSZXNwb25zZSA9IG5ldyBHZXRMYXN0VHJhbnNhY3Rpb25SZXNwb25zZShtKTtcbiAgICAgICAgdHhTdGF0ZS5HTFRSZXNwb25zZVBvc1JlZklkID0gZ3RsUmVzcG9uc2UuR2V0UG9zUmVmSWQoKTtcbiAgICAgICAgaWYgKCFndGxSZXNwb25zZS5XYXNSZXRyaWV2ZWRTdWNjZXNzZnVsbHkoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGd0bFJlc3BvbnNlLklzU3RpbGxJblByb2dyZXNzKHR4U3RhdGUuUG9zUmVmSWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRILTRFIC0gT3BlcmF0aW9uIEluIFByb2dyZXNzXG5cbiAgICAgICAgICAgICAgICBpZiAoZ3RsUmVzcG9uc2UuSXNXYWl0aW5nRm9yU2lnbmF0dXJlUmVzcG9uc2UoKSAmJiAhdHhTdGF0ZS5Bd2FpdGluZ1NpZ25hdHVyZUNoZWNrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJFZnRwb3MgaXMgd2FpdGluZyBmb3IgdXMgdG8gc2VuZCBpdCBzaWduYXR1cmUgYWNjZXB0L2RlY2xpbmUsIGJ1dCB3ZSB3ZXJlIG5vdCBhd2FyZSBvZiB0aGlzLiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlRoZSB1c2VyIGNhbiBvbmx5IHJlYWxseSBkZWNsaW5lIGF0IHRoaXMgc3RhZ2UgYXMgdGhlcmUgaXMgbm8gcmVjZWlwdCB0byBwcmludCBmb3Igc2lnbmluZy5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlNpZ25hdHVyZVJlcXVpcmVkKG5ldyBTaWduYXR1cmVSZXF1aXJlZCh0eFN0YXRlLlBvc1JlZklkLCBtLklkLCBcIk1JU1NJTkcgUkVDRUlQVFxcbiBERUNMSU5FIEFORCBUUlkgQUdBSU4uXCIpLCBcIlJlY292ZXJlZCBpbiBTaWduYXR1cmUgUmVxdWlyZWQgYnV0IHdlIGRvbid0IGhhdmUgcmVjZWlwdC4gWW91IG1heSBEZWNsaW5lIHRoZW4gUmV0cnkuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChndGxSZXNwb25zZS5Jc1dhaXRpbmdGb3JBdXRoQ29kZSgpICYmICF0eFN0YXRlLkF3YWl0aW5nUGhvbmVGb3JBdXRoKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJFZnRwb3MgaXMgd2FpdGluZyBmb3IgdXMgdG8gc2VuZCBpdCBhdXRoIGNvZGUsIGJ1dCB3ZSB3ZXJlIG5vdCBhd2FyZSBvZiB0aGlzLiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIldlIGNhbiBvbmx5IGNhbmNlbCB0aGUgdHJhbnNhY3Rpb24gYXQgdGhpcyBzdGFnZSBhcyB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiB0byByZWNvdmVyIGZyb20gdGhpcy5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlBob25lRm9yQXV0aFJlcXVpcmVkKG5ldyBQaG9uZUZvckF1dGhSZXF1aXJlZCh0eFN0YXRlLlBvc1JlZklkLCBtLklkLCBcIlVOS05PV05cIiwgXCJVTktOT1dOXCIpLCBcIlJlY292ZXJlZCBtaWQgUGhvbmUtRm9yLUF1dGggYnV0IGRvbid0IGhhdmUgZGV0YWlscy4gWW91IG1heSBDYW5jZWwgdGhlbiBSZXRyeS5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiT3BlcmF0aW9uIHN0aWxsIGluIHByb2dyZXNzLi4uIHN0YXkgd2FpdGluZy5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gcHVibGlzaCB0eEZsb3dTdGF0ZUNoYW5nZWQuIENhbiByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChndGxSZXNwb25zZS5XYXNUaW1lT3V0T2ZTeW5jRXJyb3IoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBMZXQncyBub3QgZ2l2ZSB1cCBiYXNlZCBvbiBhIFRPT1MgZXJyb3IuXG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgbG9nIGl0LCBhbmQgaWdub3JlIGl0LiBcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgVGltZS1PdXQtT2YtU3luYyBlcnJvciBpbiBHZXQgTGFzdCBUcmFuc2FjdGlvbiByZXNwb25zZS4gTGV0J3MgaWdub3JlIGl0IGFuZCB3ZSdsbCB0cnkgYWdhaW4uYCk7XG4gICAgICAgICAgICAgICAgLy8gTm8gbmVlZCB0byBwdWJsaXNoIHR4Rmxvd1N0YXRlQ2hhbmdlZC4gQ2FuIHJldHVybjtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVEgtNFggLSBVbmV4cGVjdGVkIFJlc3BvbnNlIHdoZW4gcmVjb3ZlcmluZ1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBVbmV4cGVjdGVkIFJlc3BvbnNlIGluIEdldCBMYXN0IFRyYW5zYWN0aW9uIGR1cmluZyAtIFJlY2VpdmVkIHBvc1JlZklkOiR7Z3RsUmVzcG9uc2UuR2V0UG9zUmVmSWQoKX0gRXJyb3I6JHttLkdldEVycm9yKCl9LiBJZ25vcmluZy5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHhTdGF0ZS5UeXBlID09IFRyYW5zYWN0aW9uVHlwZS5HZXRMYXN0VHJhbnNhY3Rpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVEhJUyBXQVMgQSBQTEFJTiBHRVQgTEFTVCBUUkFOU0FDVElPTiBSRVFVRVNULCBOT1QgRk9SIFJFQ09WRVJZIFBVUlBPU0VTLlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiUmV0cmlldmVkIExhc3QgVHJhbnNhY3Rpb24gYXMgYXNrZWQgZGlyZWN0bHkgYnkgdGhlIHVzZXIuXCIpO1xuICAgICAgICAgICAgICAgIGd0bFJlc3BvbnNlLkNvcHlNZXJjaGFudFJlY2VpcHRUb0N1c3RvbWVyUmVjZWlwdCgpO1xuICAgICAgICAgICAgICAgIHR4U3RhdGUuQ29tcGxldGVkKG0uR2V0U3VjY2Vzc1N0YXRlKCksIG0sIFwiTGFzdCBUcmFuc2FjdGlvbiBSZXRyaWV2ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVEgtNEEgLSBMZXQncyB0cnkgdG8gbWF0Y2ggdGhlIHJlY2VpdmVkIGxhc3QgdHJhbnNhY3Rpb24gYWdhaW5zdCB0aGUgY3VycmVudCB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgIHZhciBzdWNjZXNzU3RhdGUgPSB0aGlzLkdsdE1hdGNoKGd0bFJlc3BvbnNlLCB0eFN0YXRlLlBvc1JlZklkLCB0eFN0YXRlLkFtb3VudENlbnRzLCB0eFN0YXRlLlJlcXVlc3RUaW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc1N0YXRlID09IFN1Y2Nlc3NTdGF0ZS5Vbmtub3duKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVEgtNE46IERpZG4ndCBNYXRjaCBvdXIgdHJhbnNhY3Rpb24uIENvbnNpZGVyIFVua25vd24gU3RhdGUuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiRGlkIG5vdCBtYXRjaCB0cmFuc2FjdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHR4U3RhdGUuVW5rbm93bkNvbXBsZXRlZChcIkZhaWxlZCB0byByZWNvdmVyIFRyYW5zYWN0aW9uIFN0YXR1cy4gQ2hlY2sgRUZUUE9TLiBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRILTRZOiBXZSBNYXRjaGVkLCB0cmFuc2FjdGlvbiBmaW5pc2hlZCwgbGV0J3MgdXBkYXRlIG91cnNlbHZlc1xuICAgICAgICAgICAgICAgICAgICBndGxSZXNwb25zZS5Db3B5TWVyY2hhbnRSZWNlaXB0VG9DdXN0b21lclJlY2VpcHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdHhTdGF0ZS5Db21wbGV0ZWQoc3VjY2Vzc1N0YXRlLCBtLCBcIlRyYW5zYWN0aW9uIEVuZGVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IFxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0eFN0YXRlfSkpO1xuICAgIH1cblxuICAgIC8vV2hlbiB0aGUgdHJhbnNhY3Rpb24gY2FuY2VsIHJlc3BvbnNlIGlzIHJldHVybmVkLlxuICAgIF9oYW5kbGVDYW5jZWxUcmFuc2FjdGlvblJlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB2YXIgaW5jb21pbmdQb3NSZWZJZCA9IG0uRGF0YS5wb3NfcmVmX2lkO1xuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyAhPSBTcGlGbG93LlRyYW5zYWN0aW9uIHx8IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5Qb3NSZWZJZCA9PSBpbmNvbWluZ1Bvc1JlZklkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgUmVjZWl2ZWQgQ2FuY2VsIFJlcXVpcmVkIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLiBJbmNvbWluZyBQb3MgUmVmIElEOiAke2luY29taW5nUG9zUmVmSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHhTdGF0ZSA9IHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlO1xuICAgICAgICB2YXIgY2FuY2VsUmVzcG9uc2UgPSBuZXcgQ2FuY2VsVHJhbnNhY3Rpb25SZXNwb25zZShtKTtcblxuICAgICAgICBpZiAoY2FuY2VsUmVzcG9uc2UuU3VjY2VzcykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuX2xvZy53YXJuKFwiRmFpbGVkIHRvIGNhbmNlbCB0cmFuc2FjdGlvbjogcmVhc29uPVwiICsgY2FuY2VsUmVzcG9uc2UuR2V0RXJyb3JSZWFzb24oKSArIFwiLCBkZXRhaWw9XCIgKyBjYW5jZWxSZXNwb25zZS5HZXRFcnJvckRldGFpbCgpKTtcblxuICAgICAgICB0eFN0YXRlLkNhbmNlbEZhaWxlZChcIkZhaWxlZCB0byBjYW5jZWwgdHJhbnNhY3Rpb246IFwiICsgY2FuY2VsUmVzcG9uc2UuR2V0RXJyb3JEZXRhaWwoKSArIFwiLiBDaGVjayBFRlRQT1MuXCIpO1xuICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdHhTdGF0ZX0pKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlU2V0UG9zSW5mb1Jlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB2YXIgcmVzcG9uc2UgPSBuZXcgU2V0UG9zSW5mb1Jlc3BvbnNlKG0pO1xuICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWNjZXNzKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hhc1NldEluZm8gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJTZXR0aW5nIFBPUyBpbmZvIHN1Y2Nlc3NmdWxcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cud2FybihcIlNldHRpbmcgUE9TIGluZm8gZmFpbGVkOiByZWFzb249XCIgKyByZXNwb25zZS5nZXRFcnJvclJlYXNvbigpICsgXCIsIGRldGFpbD1cIiArIHJlc3BvbnNlLmdldEVycm9yRGV0YWlsKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N0YXJ0VHJhbnNhY3Rpb25Nb25pdG9yaW5nVGhyZWFkKClcbiAgICB7XG4gICAgICAgIHZhciBuZWVkc1B1Ymxpc2hpbmcgPSBmYWxzZTtcbiAgICBcbiAgICAgICAgdmFyIHR4U3RhdGUgPSB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZTtcbiAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5UcmFuc2FjdGlvbiAmJiAhdHhTdGF0ZS5GaW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gdHhTdGF0ZTtcbiAgICAgICAgICAgIGlmIChzdGF0ZS5BdHRlbXB0aW5nVG9DYW5jZWwgJiYgRGF0ZS5ub3coKSA+IHN0YXRlLkNhbmNlbEF0dGVtcHRUaW1lICsgdGhpcy5fbWF4V2FpdEZvckNhbmNlbFR4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRILTJUIC0gdG9vIGxvbmcgc2luY2UgY2FuY2VsIGF0dGVtcHQgLSBDb25zaWRlciB1bmtub3duXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYEJlZW4gdG9vIGxvbmcgd2FpdGluZyBmb3IgdHJhbnNhY3Rpb24gdG8gY2FuY2VsLmApO1xuICAgICAgICAgICAgICAgIHR4U3RhdGUuVW5rbm93bkNvbXBsZXRlZChgV2FpdGVkIGxvbmcgZW5vdWdoIGZvciBDYW5jZWwgVHJhbnNhY3Rpb24gcmVzdWx0LiBDaGVjayBFRlRQT1MuIGApO1xuICAgICAgICAgICAgICAgIG5lZWRzUHVibGlzaGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdGF0ZS5SZXF1ZXN0U2VudCAmJiBEYXRlLm5vdygpID4gc3RhdGUuTGFzdFN0YXRlUmVxdWVzdFRpbWUgKyB0aGlzLl9jaGVja09uVHhGcmVxdWVuY3kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVEgtMVQsIFRILTRUIC0gSXQncyBiZWVuIGEgd2hpbGUgc2luY2Ugd2UgcmVjZWl2ZWQgYW4gdXBkYXRlLCBsZXQncyBjYWxsIGEgR0xUXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oYENoZWNraW5nIG9uIG91ciB0cmFuc2FjdGlvbi4gTGFzdCB3ZSBhc2tlZCB3YXMgYXQgJHtzdGF0ZS5MYXN0U3RhdGVSZXF1ZXN0VGltZX0uLi5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsR2V0TGFzdFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmIChuZWVkc1B1Ymxpc2hpbmcpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fc3RhcnRUcmFuc2FjdGlvbk1vbml0b3JpbmdUaHJlYWQoKSwgdGhpcy5fdHhNb25pdG9yQ2hlY2tGcmVxdWVuY3kpO1xuICAgIH1cblxuICAgIFByaW50aW5nUmVzcG9uc2UobSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuIFBsZWFzZSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgaW4geW91ciBQT1MnKTtcbiAgICB9XG5cbiAgICBUZXJtaW5hbFN0YXR1c1Jlc3BvbnNlKG0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLiBQbGVhc2Ugb3ZlcndyaXRlIHRoaXMgbWV0aG9kIGluIHlvdXIgUE9TJyk7XG4gICAgfVxuXG4gICAgQmF0dGVyeUxldmVsQ2hhbmdlZChtKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4gUGxlYXNlIG92ZXJ3cml0ZSB0aGlzIG1ldGhvZCBpbiB5b3VyIFBPUycpO1xuICAgIH1cblxuICAgIF9oYW5kbGVQcmludGluZ1Jlc3BvbnNlKG0pXG4gICAge1xuICAgICAgICB0aGlzLlByaW50aW5nUmVzcG9uc2UobSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVRlcm1pbmFsU3RhdHVzUmVzcG9uc2UobSlcbiAgICB7XG4gICAgICAgIHRoaXMuVGVybWluYWxTdGF0dXNSZXNwb25zZShtKTtcbiAgICB9XG5cbiAgICBfaGFuZGxlQmF0dGVyeUxldmVsQ2hhbmdlZChtKVxuICAgIHtcbiAgICAgICAgdGhpcy5CYXR0ZXJ5TGV2ZWxDaGFuZ2VkKG0pO1xuICAgIH1cblxuICAgIC8vIGVuZHJlZ2lvblxuICAgICAgICBcbiAgICAvLyByZWdpb24gSW50ZXJuYWxzIGZvciBDb25uZWN0aW9uIE1hbmFnZW1lbnRcblxuICAgIF9yZXNldENvbm4oKVxuICAgIHtcbiAgICAgICAgLy8gU2V0dXAgdGhlIENvbm5lY3Rpb25cbiAgICAgICAgdGhpcy5fY29ubiA9IG5ldyBDb25uZWN0aW9uKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzVXNpbmdIdHRwcygpIHx8IHRoaXMuX2ZvcmNlU2VjdXJlV2ViU29ja2V0cykge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJTZWN1cmUgY29ubmVjdGlvbiBkZXRlY3RlZC5cIik7XG4gICAgICAgICAgICB0aGlzLl9lZnRwb3NBZGRyZXNzID0gdGhpcy5fZWZ0cG9zQWRkcmVzcy5yZXBsYWNlKFwid3M6Ly9cIiwgXCJ3c3M6Ly9cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2Nvbm4uQWRkcmVzcyA9IHRoaXMuX2VmdHBvc0FkZHJlc3M7XG4gICAgXG4gICAgICAgIC8vIFJlZ2lzdGVyIG91ciBFdmVudCBIYW5kbGVyc1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdDb25uZWN0aW9uU3RhdHVzQ2hhbmdlZCcsIChlKSA9PiB0aGlzLl9vblNwaUNvbm5lY3Rpb25TdGF0dXNDaGFuZ2VkKGUuZGV0YWlsKSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ01lc3NhZ2VSZWNlaXZlZCcsIChlKSA9PiB0aGlzLl9vblNwaU1lc3NhZ2VSZWNlaXZlZChlLmRldGFpbCkpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdFcnJvclJlY2VpdmVkJywgKGUpID0+IHRoaXMuX29uV3NFcnJvclJlY2VpdmVkKGUuZGV0YWlsKSk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBzdGF0dXMgY2hhbmdlcy5cbiAgICAvLyBZb3UgYXJlIGVuY291cmFnZWQgdG8gZGlzcGxheSBhIFBpblBhZCBDb25uZWN0aW9uIEluZGljYXRvciBvbiB0aGUgUE9TIHNjcmVlbi5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJzdGF0ZVwiPjwvcGFyYW0+XG4gICAgX29uU3BpQ29ubmVjdGlvblN0YXR1c0NoYW5nZWQoc3RhdGUpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKHN0YXRlLkNvbm5lY3Rpb25TdGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGluZzpcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgSSdtIENvbm5lY3RpbmcgdG8gdGhlIEVmdHBvcyBhdCAke3RoaXMuX2VmdHBvc0FkZHJlc3N9Li4uYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZDpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXRyaWVzU2luY2VMYXN0RGV2aWNlQWRkcmVzc1Jlc29sdXRpb24gPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5QYWlyaW5nICYmIHRoaXMuQ3VycmVudFN0YXR1cyA9PSBTcGlTdGF0dXMuVW5wYWlyZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlLk1lc3NhZ2UgPSBcIlJlcXVlc3RpbmcgdG8gUGFpci4uLlwiO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnUGFpcmluZ0Zsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRQYWlyaW5nRmxvd1N0YXRlfSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHIgPSBQYWlyaW5nSGVscGVyLk5ld1BhaXJSZXF1ZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmQocHIuVG9NZXNzYWdlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgSSdtIENvbm5lY3RlZCB0byAke3RoaXMuX2VmdHBvc0FkZHJlc3N9Li4uYCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcC5TZWNyZXRzID0gdGhpcy5fc2VjcmV0cztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRQZXJpb2RpY1BpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZDpcbiAgICAgICAgICAgICAgICAvLyBMZXQncyByZXNldCBzb21lIGxpZmVjeWNsZSByZWxhdGVkIHRvIGNvbm5lY3Rpb24gc3RhdGUsIHJlYWR5IGZvciBuZXh0IGNvbm5lY3Rpb25cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgSSdtIGRpc2Nvbm5lY3RlZCBmcm9tICR7dGhpcy5fZWZ0cG9zQWRkcmVzc30uLi5gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3N0UmVjZW50UGluZ1NlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vc3RSZWNlbnRQb25nUmVjZWl2ZWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX21pc3NlZFBvbmdzQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0b3BQZXJpb2RpY1BpbmcoKTtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgIT0gU3BpU3RhdHVzLlVucGFpcmVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DdXJyZW50U3RhdHVzID0gU3BpU3RhdHVzLlBhaXJlZENvbm5lY3Rpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuQ3VycmVudEZsb3cgPT0gU3BpRmxvdy5UcmFuc2FjdGlvbiAmJiAhdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuRmluaXNoZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB0cmFuc2FjdGlvbiwganVzdCBzbyB5b3Uga25vdyFcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRILTFEXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgTG9zdCBjb25uZWN0aW9uIGluIHRoZSBtaWRkbGUgb2YgYSB0cmFuc2FjdGlvbi4uLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29ubiA9PSBudWxsKSByZXR1cm47IC8vIFRoaXMgbWVhbnMgdGhlIGluc3RhbmNlIGhhcyBiZWVuIGRpc3Bvc2VkLiBBYm9ydGluZy5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmV0cmllc1NpbmNlTGFzdERldmljZUFkZHJlc3NSZXNvbHV0aW9uID49IHRoaXMuX3JldHJpZXNCZWZvcmVSZXNvbHZpbmdEZXZpY2VBZGRyZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHZlRWZ0cG9zQWRkcmVzcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JldHJpZXNTaW5jZUxhc3REZXZpY2VBZGRyZXNzUmVzb2x1dGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmV0cmllc1NpbmNlTGFzdERldmljZUFkZHJlc3NSZXNvbHV0aW9uICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgV2lsbCB0cnkgdG8gcmVjb25uZWN0IGluICR7dGhpcy5fc2xlZXBCZWZvcmVSZWNvbm5lY3RNc31tcy4uLmApO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLkN1cnJlbnRTdGF0dXMgIT0gU3BpU3RhdHVzLlVucGFpcmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgbm9uLWJsb2NraW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5fY29ubikgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb25uLkNvbm5lY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHRoaXMuX3NsZWVwQmVmb3JlUmVjb25uZWN0TXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLkN1cnJlbnRGbG93ID09IFNwaUZsb3cuUGFpcmluZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiTG9zdCBDb25uZWN0aW9uIGR1cmluZyBwYWlyaW5nLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5DdXJyZW50UGFpcmluZ0Zsb3dTdGF0ZS5NZXNzYWdlID0gXCJDb3VsZCBub3QgQ29ubmVjdCB0byBQYWlyLiBDaGVjayBOZXR3b3JrIGFuZCBUcnkgQWdhaW4uLi5cIjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25QYWlyaW5nRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdQYWlyaW5nRmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuQ3VycmVudFBhaXJpbmdGbG93U3RhdGV9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc3RhdGU6ICcgKyBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGlzIGlzIGFuIGltcG9ydGFudCBwaWVjZSBvZiB0aGUgcHV6emxlLiBJdCdzIGEgYmFja2dyb3VuZCB0aHJlYWQgdGhhdCBwZXJpb2RpY2FsbHlcbiAgICAvLyBzZW5kcyBQaW5ncyB0byB0aGUgc2VydmVyLiBJZiBpdCBkb2Vzbid0IHJlY2VpdmUgUG9uZ3MsIGl0IGNvbnNpZGVycyB0aGUgY29ubmVjdGlvbiBhcyBicm9rZW5cbiAgICAvLyBzbyBpdCBkaXNjb25uZWN0cy4gXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIF9zdGFydFBlcmlvZGljUGluZygpIHtcbiAgICAgICAgdGhpcy5fc3RvcFBlcmlvZGljUGluZygpO1xuICAgICAgICB0aGlzLl9wZXJpb2RpY1BpbmdUaHJlYWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLl9wZXJpb2RpY1BpbmcoKSx0aGlzLl9waW5nRnJlcXVlbmN5KTtcbiAgICAgICAgdGhpcy5fcGVyaW9kaWNQaW5nKCk7XG4gICAgfVxuXG4gICAgX3BlcmlvZGljUGluZygpIHtcbiAgICAgICAgLy8gd2hpbGUgaSdtIHN0aWxsIGNvbm5lY3RlZCBBTkQgcGFpcmVkLi4uXG4gICAgICAgIGlmKHRoaXMuX2Nvbm4uQ29ubmVjdGVkICYmIHRoaXMuX3NlY3JldHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZG9QaW5nKCk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9tb3N0UmVjZW50UGluZ1NlbnQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAodGhpcy5fbW9zdFJlY2VudFBvbmdSZWNlaXZlZCA9PSBudWxsIHx8IHRoaXMuX21vc3RSZWNlbnRQb25nUmVjZWl2ZWQuSWQgIT0gdGhpcy5fbW9zdFJlY2VudFBpbmdTZW50LklkKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21pc3NlZFBvbmdzQ291bnQgKz0gMTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhgRWZ0cG9zIGRpZG4ndCByZXBseSB0byBteSBQaW5nLiBNaXNzZWQgQ291bnQ6ICR7dGhpcy5fbWlzc2VkUG9uZ3NDb3VudH0vJHt0aGlzLl9taXNzZWRQb25nc1RvRGlzY29ubmVjdH0uYCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX21pc3NlZFBvbmdzQ291bnQgPCB0aGlzLl9taXNzZWRQb25nc1RvRGlzY29ubmVjdClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJUcnlpbmcgYW5vdGhlciBwaW5nLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhcnRQZXJpb2RpY1BpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgbWVhbnMgdGhhdCB3ZSBoYXZlIG5vdCByZWNlaXZlZCBhIHBvbmcgZm9yIG91ciBtb3N0IHJlY2VudCBwaW5nLlxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBjb25zaWRlciB0aGlzIGNvbm5lY3Rpb24gYXMgYnJva2VuLlxuICAgICAgICAgICAgICAgICAgICAvLyBMZXQncyBEaXNjb25uZWN0LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIkRpc2Nvbm5lY3RpbmcuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Nvbm4uRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9wUGVyaW9kaWNQaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5fbWlzc2VkUG9uZ3NDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIH0sdGhpcy5fcG9uZ1RpbWVvdXQpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdG9wUGVyaW9kaWNQaW5nKCk7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIkNhbmNlbGxpbmcgcGVyaW9kaWMgcGluZyBhcyB3ZXJlIGRpc2Nvbm5lY3RlZCBvciBub3QgcGFpcmVkXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gV2UgY2FsbCB0aGlzIG91cnNlbHZlcyBhcyBzb29uIGFzIHdlJ3JlIHJlYWR5IHRvIHRyYW5zYWN0IHdpdGggdGhlIFBpblBhZCBhZnRlciBhIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBlZmZlY3RpdmVseSBjYWxsZWQgYWZ0ZXIgd2UgcmVjZWl2ZWQgdGhlIGZpcnN0IExvZ2luIFJlc3BvbnNlIGZyb20gdGhlIFBpblBhZC5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgX29uUmVhZHlUb1RyYW5zYWN0KClcbiAgICB7XG4gICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiT24gUmVhZHkgVG8gVHJhbnNhY3QhXCIpO1xuXG4gICAgICAgIC8vIFNvLCB3ZSBoYXZlIGp1c3QgbWFkZSBhIGNvbm5lY3Rpb24sIHBpbmdlZCBhbmQgbG9nZ2VkIGluIHN1Y2Nlc3NmdWxseS5cbiAgICAgICAgdGhpcy5DdXJyZW50U3RhdHVzID0gU3BpU3RhdHVzLlBhaXJlZENvbm5lY3RlZDtcblxuICAgICAgICBpZiAodGhpcy5DdXJyZW50RmxvdyA9PSBTcGlGbG93LlRyYW5zYWN0aW9uICYmICF0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZS5GaW5pc2hlZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuQ3VycmVudFR4Rmxvd1N0YXRlLlJlcXVlc3RTZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRILTNBIC0gV2UndmUganVzdCByZWNvbm5lY3RlZCBhbmQgd2VyZSBpbiB0aGUgbWlkZGxlIG9mIFR4LlxuICAgICAgICAgICAgICAgIC8vIExldCdzIGdldCB0aGUgbGFzdCB0cmFuc2FjdGlvbiB0byBjaGVjayB3aGF0IHdlIG1pZ2h0IGhhdmUgbWlzc2VkIG91dCBvbi5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsR2V0TGFzdFRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVEgtM0FSIC0gV2UgaGFkIG5vdCBldmVuIHNlbnQgdGhlIHJlcXVlc3QgeWV0LiBMZXQncyBkbyB0aGF0IG5vd1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlbmQodGhpcy5DdXJyZW50VHhGbG93U3RhdGUuUmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuU2VudChgU2VuZGluZyBSZXF1ZXN0IE5vdy4uLmApO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5faGFzU2V0SW5mbykgeyBcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxsU2V0UG9zSW5mbygpOyBcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gbGV0J3MgYWxzbyB0ZWxsIHRoZSBlZnRwb3Mgb3VyIGxhdGVzdCB0YWJsZSBjb25maWd1cmF0aW9uLlxuICAgICAgICAgICAgaWYodGhpcy5fc3BpUGF0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BpUGF0LlB1c2hQYXlBdFRhYmxlQ29uZmlnKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfY2FsbFNldFBvc0luZm8oKVxuICAgIHtcbiAgICAgICAgdmFyIHNldFBvc0luZm9SZXF1ZXN0ID0gbmV3IFNldFBvc0luZm9SZXF1ZXN0KHRoaXMuX3Bvc1ZlcnNpb24sIHRoaXMuX3Bvc1ZlbmRvcklkLCBcImpzXCIsIFNQSV9WRVJTSU9OLCBEZXZpY2VJbmZvLkdldEFwcERldmljZUluZm8oKSk7XG4gICAgICAgIHRoaXMuX3NlbmQoc2V0UG9zSW5mb1JlcXVlc3QudG9NZXNzYWdlKCkpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIFdoZW4gd2UgZGlzY29ubmVjdCwgd2Ugc2hvdWxkIGFsc28gc3RvcCB0aGUgcGVyaW9kaWMgcGluZy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgX3N0b3BQZXJpb2RpY1BpbmcoKSB7XG4gICAgICAgIGlmKHRoaXMuX3BlcmlvZGljUGluZ1RocmVhZCkge1xuICAgICAgICAgICAgLy8gSWYgd2Ugd2VyZSBhbHJlYWR5IHNldCB1cCwgY2xlYW4gdXAgYmVmb3JlIHJlc3RhcnRpbmcuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3BlcmlvZGljUGluZ1RocmVhZCk7XG4gICAgICAgICAgICB0aGlzLl9wZXJpb2RpY1BpbmdUaHJlYWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2VuZCBhIFBpbmcgdG8gdGhlIFNlcnZlclxuICAgIF9kb1BpbmcoKVxuICAgIHtcbiAgICAgICAgdmFyIHBpbmcgPSBQaW5nSGVscGVyLkdlbmVyYXRlUGluZ1JlcXVlc3QoKTtcbiAgICAgICAgdGhpcy5fbW9zdFJlY2VudFBpbmdTZW50ID0gcGluZztcbiAgICAgICAgdGhpcy5fc2VuZChwaW5nKTtcbiAgICAgICAgdGhpcy5fbW9zdFJlY2VudFBpbmdTZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gUmVjZWl2ZWQgYSBQb25nIGZyb20gdGhlIHNlcnZlclxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICAvLyA8cGFyYW0gbmFtZT1cIm1cIj48L3BhcmFtPlxuICAgIF9oYW5kbGVJbmNvbWluZ1BvbmcobSlcbiAgICB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gbWFpbnRhaW4gdGhpcyB0aW1lIGRlbHRhIG90aGVyd2lzZSB0aGUgc2VydmVyIHdpbGwgbm90IGFjY2VwdCBvdXIgbWVzc2FnZXMuXG4gICAgICAgIHRoaXMuX3NwaU1lc3NhZ2VTdGFtcC5TZXJ2ZXJUaW1lRGVsdGEgPSBtLkdldFNlcnZlclRpbWVEZWx0YSgpO1xuXG4gICAgICAgIGlmICh0aGlzLl9tb3N0UmVjZW50UG9uZ1JlY2VpdmVkID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZpcnN0IHBvbmcgcmVjZWl2ZWQgYWZ0ZXIgYSBjb25uZWN0aW9uLCBhbmQgYWZ0ZXIgdGhlIHBhaXJpbmcgcHJvY2VzcyBpcyBmdWxseSBmaW5hbGlzZWQuXG4gICAgICAgICAgICBpZiAodGhpcy5DdXJyZW50U3RhdHVzICE9IFNwaVN0YXR1cy5VbnBhaXJlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIkZpcnN0IHBvbmcgb2YgY29ubmVjdGlvbiBhbmQgaW4gcGFpcmVkIHN0YXRlLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblJlYWR5VG9UcmFuc2FjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiRmlyc3QgcG9uZyBvZiBjb25uZWN0aW9uIGJ1dCBwYWlyaW5nIHByb2Nlc3Mgbm90IGZpbmFsaXNlZCB5ZXQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbW9zdFJlY2VudFBvbmdSZWNlaXZlZCA9IG07XG4gICAgICAgIHRoaXMuX2xvZy5kZWJ1ZyhgUG9uZ0xhdGVuY3k6JHtEYXRlLm5vdygpIC0gdGhpcy5fbW9zdFJlY2VudFBpbmdTZW50VGltZX1gKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGUgc2VydmVyIHdpbGwgYWxzbyBzZW5kIHVzIHBpbmdzLiBXZSBuZWVkIHRvIHJlcGx5IHdpdGggYSBwb25nIHNvIGl0IGRvZXNuJ3QgZGlzY29ubmVjdCB1cy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgLy8gPHBhcmFtIG5hbWU9XCJtXCI+PC9wYXJhbT5cbiAgICBfaGFuZGxlSW5jb21pbmdQaW5nKG0pXG4gICAge1xuICAgICAgICB2YXIgcG9uZyA9IFBvbmdIZWxwZXIuR2VuZXJhdGVQb25nUmVzc3BvbnNlKG0pO1xuICAgICAgICB0aGlzLl9zZW5kKHBvbmcpO1xuICAgIH1cblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEFzayB0aGUgUGluUGFkIHRvIHRlbGwgdXMgd2hhdCB0aGUgTW9zdCBSZWNlbnQgVHJhbnNhY3Rpb24gd2FzXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIF9jYWxsR2V0TGFzdFRyYW5zYWN0aW9uKClcbiAgICB7XG4gICAgICAgIHZhciBnbHRSZXF1ZXN0TXNnID0gbmV3IEdldExhc3RUcmFuc2FjdGlvblJlcXVlc3QoKS5Ub01lc3NhZ2UoKTtcbiAgICAgICAgdGhpcy5DdXJyZW50VHhGbG93U3RhdGUuQ2FsbGluZ0dsdChnbHRSZXF1ZXN0TXNnLklkKTtcbiAgICAgICAgdGhpcy5fc2VuZChnbHRSZXF1ZXN0TXNnKTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGlzIG1ldGhvZCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB3ZSByZWNlaXZlIGEgbWVzc2FnZSBmcm9tIHRoZSBDb25uZWN0aW9uXG4gICAgLy8gPC9zdW1tYXJ5PlxuICAgIC8vIDxwYXJhbSBuYW1lPVwibWVzc2FnZUpzb25cIj48L3BhcmFtPlxuICAgIF9vblNwaU1lc3NhZ2VSZWNlaXZlZChtZXNzYWdlSnNvbilcbiAgICB7XG4gICAgICAgIC8vIEZpcnN0IHdlIHBhcnNlIHRoZSBpbmNvbWluZyBtZXNzYWdlXG4gICAgICAgIHZhciBtID0gTWVzc2FnZS5Gcm9tSnNvbihtZXNzYWdlSnNvbi5NZXNzYWdlLCB0aGlzLl9zZWNyZXRzKTtcbiAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJSZWNlaXZlZDpcIiArIG0uRGVjcnlwdGVkSnNvbik7XG5cbiAgICAgICAgaWYgKFNwaVByZWF1dGguSXNQcmVhdXRoRXZlbnQobS5FdmVudE5hbWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcGlQcmVhdXRoLl9oYW5kbGVQcmVhdXRoTWVzc2FnZShtKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFuZCB0aGVuIHdlIHN3aXRjaCBvbiB0aGUgZXZlbnQgdHlwZS5cbiAgICAgICAgc3dpdGNoIChtLkV2ZW50TmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuS2V5UmVxdWVzdDpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVLZXlSZXF1ZXN0KG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuS2V5Q2hlY2s6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlS2V5Q2hlY2sobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5QYWlyUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlUGFpclJlc3BvbnNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuRHJvcEtleXNBZHZpY2U6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRHJvcEtleXNBZHZpY2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5QdXJjaGFzZVJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVB1cmNoYXNlUmVzcG9uc2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5SZWZ1bmRSZXNwb25zZTpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVSZWZ1bmRSZXNwb25zZShtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLkNhc2hvdXRPbmx5UmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2FzaG91dE9ubHlSZXNwb25zZShtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLk1vdG9QdXJjaGFzZVJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1vdG9QdXJjaGFzZVJlc3BvbnNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuU2lnbmF0dXJlUmVxdWlyZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlU2lnbmF0dXJlUmVxdWlyZWQobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5BdXRoQ29kZVJlcXVpcmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUF1dGhDb2RlUmVxdWlyZWQobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5HZXRMYXN0VHJhbnNhY3Rpb25SZXNwb25zZTpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVHZXRMYXN0VHJhbnNhY3Rpb25SZXNwb25zZShtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLlNldHRsZVJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuSGFuZGxlU2V0dGxlUmVzcG9uc2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5TZXR0bGVtZW50RW5xdWlyeVJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNldHRsZW1lbnRFbnF1aXJ5UmVzcG9uc2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5QaW5nOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUluY29taW5nUGluZyhtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLlBvbmc6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSW5jb21pbmdQb25nKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuS2V5Um9sbFJlcXVlc3Q6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlS2V5Um9sbGluZ1JlcXVlc3QobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5DYW5jZWxUcmFuc2FjdGlvblJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNhbmNlbFRyYW5zYWN0aW9uUmVzcG9uc2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEV2ZW50cy5TZXRQb3NJbmZvUmVzcG9uc2U6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlU2V0UG9zSW5mb1Jlc3BvbnNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuUGF5QXRUYWJsZUdldFRhYmxlQ29uZmlnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zcGlQYXQgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlbmQoUGF5QXRUYWJsZUNvbmZpZy5GZWF0dXJlRGlzYWJsZU1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwicGF0Y29uZlwiKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BpUGF0Ll9oYW5kbGVHZXRUYWJsZUNvbmZpZyhtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLlBheUF0VGFibGVHZXRCaWxsRGV0YWlsczpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGlQYXQuX2hhbmRsZUdldEJpbGxEZXRhaWxzUmVxdWVzdChtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLlBheUF0VGFibGVCaWxsUGF5bWVudDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGlQYXQuX2hhbmRsZUJpbGxQYXltZW50QWR2aWNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuUGF5QXRUYWJsZUdldE9wZW5UYWJsZXM6XG4gICAgICAgICAgICAgICAgdGhpcy5fc3BpUGF0Ll9oYW5kbGVHZXRPcGVuVGFibGVzUmVxdWVzdChtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLlBheUF0VGFibGVCaWxsUGF5bWVudEZsb3dFbmRlZDpcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGlQYXQuX2hhbmRsZUJpbGxQYXltZW50Rmxvd0VuZGVkKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuUHJpbnRpbmdSZXNwb25zZTpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVQcmludGluZ1Jlc3BvbnNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuVGVybWluYWxTdGF0dXNSZXNwb25zZTpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVUZXJtaW5hbFN0YXR1c1Jlc3BvbnNlKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuQmF0dGVyeUxldmVsQ2hhbmdlZDpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVCYXR0ZXJ5TGV2ZWxDaGFuZ2VkKG0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBFdmVudHMuRXJyb3I6XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRXJyb3JFdmVudChtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRXZlbnRzLkludmFsaWRIbWFjU2lnbmF0dXJlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiSSBjb3VsZCBub3QgdmVyaWZ5IG1lc3NhZ2UgZnJvbSBFZnRwb3MuIFlvdSBtaWdodCBoYXZlIHRvIFVuLXBhaXIgRWZ0cG9zIGFuZCB0aGVuIHJlY29ubmVjdC5cIik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBJIGRvbid0IFVuZGVyc3RhbmQgRXZlbnQ6ICR7bS5FdmVudE5hbWV9LCAke20uRGF0YX0uIFBlcmhhcHMgSSBoYXZlIG5vdCBpbXBsZW1lbnRlZCBpdCB5ZXQuYCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Xc0Vycm9yUmVjZWl2ZWQoZXJyb3IpXG4gICAge1xuICAgICAgICB0aGlzLl9sb2cud2FybihcIlJlY2VpdmVkIFdTIEVycm9yXCIsIGVycm9yLk1lc3NhZ2UpO1xuICAgIH1cblxuICAgIF9zZW5kKG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB2YXIganNvbiA9IG1lc3NhZ2UuVG9Kc29uKHRoaXMuX3NwaU1lc3NhZ2VTdGFtcCk7XG4gICAgICAgIGlmICh0aGlzLl9jb25uLkNvbm5lY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbG9nLmluZm8oXCJTZW5kaW5nOiBcIiArIG1lc3NhZ2UuRGVjcnlwdGVkSnNvbik7XG4gICAgICAgICAgICB0aGlzLl9jb25uLlNlbmQoanNvbik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiQXNrZWQgdG8gc2VuZCwgYnV0IG5vdCBjb25uZWN0ZWQ6IFwiICsgbWVzc2FnZS5EZWNyeXB0ZWRKc29uKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEhhc1NlcmlhbE51bWJlckNoYW5nZWQodXBkYXRlZFNlcmlhbE51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJpYWxOdW1iZXIgIT0gdXBkYXRlZFNlcmlhbE51bWJlcjtcbiAgICB9XG5cbiAgICBIYXNFZnRwb3NBZGRyZXNzQ2hhbmdlZCh1cGRhdGVkRWZ0cG9zQWRkcmVzcylcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZnRwb3NBZGRyZXNzICE9IHVwZGF0ZWRFZnRwb3NBZGRyZXNzO1xuICAgIH1cblxuICAgIF9hdXRvUmVzb2x2ZUVmdHBvc0FkZHJlc3MoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hdXRvQWRkcmVzc1Jlc29sdXRpb25FbmFibGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgIFxuICAgICAgICBpZiAoIXRoaXMuX3NlcmlhbE51bWJlciB8fCAhdGhpcy5fZGV2aWNlQXBpS2V5KSB7XG4gICAgICAgICAgICB0aGlzLl9sb2cud2FybihcIk1pc3Npbmcgc2VyaWFsTnVtYmVyIGFuZC9vciBkZXZpY2VBcGlLZXkuIE5lZWQgdG8gc2V0IHRoZW0gYmVmb3JlIGZvciBBdXRvIEFkZHJlc3MgdG8gd29yay5cIik7ICAgIFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNlcnZpY2UgPSBuZXcgRGV2aWNlQWRkcmVzc1NlcnZpY2UoKTtcbiAgICAgICAgdmFyIGlzU2VjdXJlQ29ubmVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgXG4gICAgICAgIC8vIGRldGVybWluZSB3aGV0aGVyIHRvIHVzZSB3c3Mgb3Igbm90XG4gICAgICAgIGlmICh0aGlzLl9pc1VzaW5nSHR0cHMoKSB8fCB0aGlzLl9mb3JjZVNlY3VyZVdlYlNvY2tldHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBTZWN1cmUgY29ubmVjdGlvbiBkZXRlY3RlZC5gKTsgICAgXG4gICAgICAgICAgICBpc1NlY3VyZUNvbm5lY3Rpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9nLmluZm8oYFJlc29sdmluZyBhZGRyZXNzIGZvciBkZXZpY2UgJHt0aGlzLl9zZXJpYWxOdW1iZXJ9LmApO1xuXG4gICAgICAgIHJldHVybiBzZXJ2aWNlLlJldHJpZXZlU2VydmljZSh0aGlzLl9zZXJpYWxOdW1iZXIsIHRoaXMuX2RldmljZUFwaUtleSwgdGhpcy5fYWNxdWlyZXJDb2RlLCBpc1NlY3VyZUNvbm5lY3Rpb24sIHRoaXMuX2luVGVzdE1vZGUsIHRoaXMuX2xvZykudGhlbigocmVzcG9uc2UpID0+IFxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGV2aWNlQWRkcmVzc1N0YXR1cyA9IE9iamVjdC5hc3NpZ24obmV3IERldmljZUFkZHJlc3NTdGF0dXMoaXNTZWN1cmVDb25uZWN0aW9uKSwgcmVzcG9uc2UpO1xuXG4gICAgICAgICAgICBpZighZGV2aWNlQWRkcmVzc1N0YXR1cyB8fCAhZGV2aWNlQWRkcmVzc1N0YXR1cy5BZGRyZXNzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBDb3VsZCBub3QgcmVzb2x2ZSBkZXZpY2UgYWRkcmVzcy5gLCByZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ0F1dG9BZGRyZXNzUmVzb2x1dGlvbkZhaWxlZCcsIHtkZXRhaWw6IHJlc3BvbnNlfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBBZGRyZXNzIGZvciBkZXZpY2UgcmVzb2x2ZWQgdG8gJHtkZXZpY2VBZGRyZXNzU3RhdHVzLkFkZHJlc3N9YCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuSGFzRWZ0cG9zQWRkcmVzc0NoYW5nZWQoZGV2aWNlQWRkcmVzc1N0YXR1cy5BZGRyZXNzKSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBkZXZpY2UgYW5kIGNvbm5lY3Rpb24gYWRkcmVzc1xuICAgICAgICAgICAgdmFyIHByb3RvY29sID0gaXNTZWN1cmVDb25uZWN0aW9uID8gXCJ3c3NcIiA6IFwid3NcIjtcbiAgICAgICAgICAgIHRoaXMuX2VmdHBvc0FkZHJlc3MgPSBwcm90b2NvbCArIFwiOi8vXCIgKyBkZXZpY2VBZGRyZXNzU3RhdHVzLkFkZHJlc3M7XG4gICAgICAgICAgICB0aGlzLl9jb25uLkFkZHJlc3MgPSB0aGlzLl9lZnRwb3NBZGRyZXNzO1xuXG4gICAgICAgICAgICB0aGlzLkN1cnJlbnREZXZpY2VTdGF0dXMgPSBkZXZpY2VBZGRyZXNzU3RhdHVzO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnRGV2aWNlQWRkcmVzc0NoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLkN1cnJlbnREZXZpY2VTdGF0dXN9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkN1cnJlbnREZXZpY2VTdGF0dXM7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9pc1VzaW5nSHR0cHMoKSBcbiAgICB7XG4gICAgICAgIHJldHVybiAnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCB7U3BpfTtcbiIsImltcG9ydCB7U3VjY2Vzc1N0YXRlfSBmcm9tICcuL01lc3NhZ2VzJztcblxuLy8gPHN1bW1hcnk+XG4vLyBSZXByZXNlbnRzIHRoZSAzIFBhaXJpbmcgc3RhdHVzZXMgdGhhdCB0aGUgU3BpIGluc3RhbnhjZSBjYW4gYmUgaW4uXG4vLyA8L3N1bW1hcnk+XG5leHBvcnQgY29uc3QgU3BpU3RhdHVzID0gXG57XG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gUGFpcmVkIGFuZCBDb25uZWN0ZWRcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgUGFpcmVkQ29ubmVjdGVkOiAnUGFpcmVkQ29ubmVjdGVkJyxcbiAgICBcbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBQYWlyZWQgYnV0IHRyeWluZyB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uIFxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBQYWlyZWRDb25uZWN0aW5nOiAnUGFpcmVkQ29ubmVjdGluZycsXG4gICAgXG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVW5wYWlyZWRcbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgVW5wYWlyZWQ6ICdVbnBhaXJlZCdcbn07XG5cbi8vIDxzdW1tYXJ5PlxuLy8gVGhlIFNwaSBpbnN0YW5jZSBjYW4gYmUgaW4gb25lIG9mIHRoZXNlIGZsb3dzIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNvbnN0IFNwaUZsb3cgPSBcbntcbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBDdXJyZW50bHkgZ29pbmcgdGhyb3VnaCB0aGUgUGFpcmluZyBQcm9jZXNzIEZsb3cuXG4gICAgLy8gSGFwcGVucyBkdXJpbmcgdGhlIFVucGFpcmVkIFNwaVN0YXR1cy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgUGFpcmluZzogJ1BhaXJpbmcnLFxuICAgIFxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIEN1cnJlbnRseSBnb2luZyB0aHJvdWdoIHRoZSB0cmFuc2FjdGlvbiBQcm9jZXNzIEZsb3cuXG4gICAgLy8gQ2Fubm90IGhhcHBlbiBpbiB0aGUgVW5wYWlyZWQgU3BpU3RhdHVzLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBUcmFuc2FjdGlvbjogJ1RyYW5zYWN0aW9uJyxcblxuICAgIC8vIDxzdW1tYXJ5PlxuICAgIC8vIE5vdCBpbiBhbnkgb2YgdGhlIG90aGVyIHN0YXRlcy5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgSWRsZTogJ0lkbGUnXG59O1xuXG4vLyA8c3VtbWFyeT5cbi8vIFJlcHJlc2VudHMgdGhlIFBhaXJpbmcgRmxvdyBTdGF0ZSBkdXJpbmcgdGhlIHBhaXJpbmcgcHJvY2VzcyBcbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBQYWlyaW5nRmxvd1N0YXRlXG57XG4gICAgY29uc3RydWN0b3Ioc3RhdGUpIHtcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFNvbWUgdGV4dCB0aGF0IGNhbiBiZSBkaXNwbGF5ZWQgaW4gdGhlIFBhaXJpbmcgUHJvY2VzcyBTY3JlZW5cbiAgICAgICAgLy8gdGhhdCBpbmRpY2F0ZXMgd2hhdCB0aGUgcGFpcmluZyBwcm9jZXNzIGlzIHVwIHRvLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG51bGw7XG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFdoZW4gdHJ1ZSwgaXQgbWVhbnMgdGhhdCB0aGUgRUZUUE9TIGlzIHNob2luZyB0aGUgY29uZmlybWF0aW9uIGNvZGUsXG4gICAgICAgIC8vIGFuZCB5b3VyIHVzZXIgbmVlZHMgdG8gcHJlc3MgWUVTIG9yIE5PIG9uIHRoZSBFRlRQT1MuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5Bd2FpdGluZ0NoZWNrRnJvbUVmdHBvcyA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gV2hlbiB0cnVlLCB5b3UgbmVlZCB0byBkaXNwbGF5IHRoZSBZRVMvTk8gYnV0dG9ucyBvbiB5b3UgcGFpcmluZyBzY3JlZW5cbiAgICAgICAgLy8gZm9yIHlvdXIgdXNlciB0byBjb25maXJtIHRoZSBjb2RlLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuQXdhaXRpbmdDaGVja0Zyb21Qb3MgPSBudWxsO1xuICAgICAgICBcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGNvbmZpcm1hdGlvbiBjb2RlIGZvciB0aGUgcGFpcmluZyBwcm9jZXNzLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuQ29uZmlybWF0aW9uQ29kZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gSW5kaWNhdGVzIHdoZXRoZXIgdGhlIFBhaXJpbmcgRmxvdyBoYXMgZmluaXNoZWQgaXRzIGpvYi5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkZpbmlzaGVkID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBJbmRpY2F0ZXMgd2hldGhlciBwYWlyaW5nIHdhcyBzdWNjZXNzZnVsIG9yIG5vdC5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLlN1Y2Nlc3NmdWwgPSBudWxsO1xuXG4gICAgICAgIGlmKHN0YXRlKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH0gICBcbn1cblxuZXhwb3J0IGNvbnN0IFRyYW5zYWN0aW9uVHlwZSA9IFxue1xuICAgIFB1cmNoYXNlOiAnUHVyY2hhc2UnLFxuICAgIFJlZnVuZDogJ1JlZnVuZCcsXG4gICAgQ2FzaG91dE9ubHk6ICdDYXNob3V0T25seScsXG4gICAgTU9UTzogJ01PVE8nLFxuICAgIFNldHRsZTogJ1NldHRsZScsXG4gICAgU2V0dGxlbWVudEVucXVpcnk6ICdTZXR0bGVtZW50RW5xdWlyeScsXG4gICAgR2V0TGFzdFRyYW5zYWN0aW9uOiAnR2V0TGFzdFRyYW5zYWN0aW9uJyxcbiAgICBQcmVhdXRoOiAnUHJlYXV0aCcsXG4gICAgQWNjb3VudFZlcmlmeTogJ0FjY291bnRWZXJpZnknXG59O1xuXG4vLyA8c3VtbWFyeT5cbi8vIFVzZWQgYXMgYSByZXR1cm4gaW4gdGhlIEluaXRpYXRlVHggbWV0aG9kcyB0byBzaWduaWZ5IHdoZXRoZXIgXG4vLyB0aGUgdHJhbnNhY3Rpb24gd2FzIGluaXRpYXRlZCBvciBub3QsIGFuZCBhIHJlYXNvbiB0byBnbyB3aXRoIGl0LlxuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNsYXNzIEluaXRpYXRlVHhSZXN1bHRcbntcbiAgICBjb25zdHJ1Y3Rvcihpbml0aWF0ZWQsIG1lc3NhZ2UpXG4gICAge1xuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gV2hldGhlciB0aGUgdHggd2FzIGluaXRpYXRlZC5cbiAgICAgICAgLy8gV2hlbiB0cnVlLCB5b3UgY2FuIGV4cGVjdCB1cGRhdGVkIHRvIHlvdXIgcmVnaXN0ZXJlZCBjYWxsYmFjay5cbiAgICAgICAgLy8gV2hlbiBmYWxzZSwgeW91IGNhbiByZXRyeSBjYWxsaW5nIHRoZSBJbml0aWF0ZVggbWV0aG9kLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuSW5pdGlhdGVkID0gaW5pdGlhdGVkO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUZXh0IHRoYXQgZ2l2ZXMgcmVhc29uIGZvciB0aGUgSW5pdGlhdGVkIGZsYWcsIGVzcGVjaWFsbHkgaW4gY2FzZSBvZiBmYWxzZS4gXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5NZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5cbi8vIDxzdW1tYXJ5PlxuLy8gVXNlZCBhcyBhIHJldHVybiBpbiBjYWxscyBtaWQgdHJhbnNhY3Rpb24gdG8gbGV0IHlvdSBrbm93XG4vLyB3aGV0aGVyIHRoZSBjYWxsIHdhcyB2YWxpZCBvciBub3QuXG4vLyBUaGVzZSBhdHRyaWJ1dGVzIHdvcmsgZm9yIENPTSBpbnRlcm9wLlxuLy8gPC9zdW1tYXJ5PlxuZXhwb3J0IGNsYXNzIE1pZFR4UmVzdWx0XG57XG4gICAgLy8gPHN1bW1hcnk+XG4gICAgLy8gVGhpcyBkZWZhdWx0IHN0dWN0dXJlIHdvcmtzIGZvciBDT00gaW50ZXJvcC5cbiAgICAvLyA8L3N1bW1hcnk+XG4gICAgY29uc3RydWN0b3IodmFsaWQsIG1lc3NhZ2UpXG4gICAge1xuICAgICAgICB0aGlzLlZhbGlkID0gdmFsaWQ7XG4gICAgICAgIHRoaXMuTWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxufSAgICBcblxuLy8gPHN1bW1hcnk+XG4vLyBSZXByZXNlbnRzIHRoZSBTdGF0ZSBkdXJpbmcgYSBUcmFuc2FjdGlvbkZsb3dcbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbkZsb3dTdGF0ZVxue1xuICAgIGNvbnN0cnVjdG9yKHBvc1JlZklkLCB0eXBlLCBhbW91bnRDZW50cywgbWVzc2FnZSwgbXNnKVxuICAgIHtcbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vICBUaGUgaWQgZ2l2ZW4gdG8gdGhpcyB0cmFuc2FjdGlvblxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuUG9zUmVmSWQgICA9IHBvc1JlZklkO1xuICAgICAgICB0aGlzLklkICAgICAgICAgPSBwb3NSZWZJZDsgLy8gb2Jzb2xldGUsIGJ1dCBsZXQncyBtYWludGFpbiBpdCBmb3Igbm93LCB0byBtZWFuIHNhbWUgYXMgUG9zUmVmSWQuXG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFB1cmNoYXNlL1JlZnVuZC9TZXR0bGUvLi4uXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5UeXBlID0gdHlwZTtcblxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gQSB0ZXh0IG1lc3NhZ2UgdG8gZGlzcGxheSBvbiB5b3VyIFRyYW5zYWN0aW9uIEZsb3cgU2NyZWVuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5EaXNwbGF5TWVzc2FnZSA9IG1zZztcblxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gQW1vdW50IGluIGNlbnRzIGZvciB0aGlzIHRyYW5zYWN0aW9uXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5BbW91bnRDZW50cyA9IGFtb3VudENlbnRzO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBXaHRoZXIgdGhlIHJlcXVlc3QgaGFzIGJlZW4gc2VudCB0byB0aGUgRUZUUE9TIHlldCBvciBub3QuXG4gICAgICAgIC8vIEluIHRoZSBQYWlyZWRDb25uZWN0aW5nIHN0YXRlLCB0aGUgdHJhbnNhY3Rpb24gaXMgaW5pdGlhdGVkXG4gICAgICAgIC8vIGJ1dCB0aGUgcmVxdWVzdCBpcyBvbmx5IHNlbnQgb25jZSB0aGUgY29ubmVjdGlvbiBpcyByZWNvdmVyZWQuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5SZXF1ZXN0U2VudCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgdGltZSB3aGVuIHRoZSByZXF1ZXN0IHdhcyBzZW50IHRvIHRoZSBFRlRQT1MuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5SZXF1ZXN0VGltZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgdGltZSB3aGVuIHdlIGxhc3QgYXNrZWQgZm9yIGFuIHVwZGF0ZSwgaW5jbHVkaW5nIHRoZSBvcmlnaW5hbCByZXF1ZXN0IGF0IGZpcnN0XG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5MYXN0U3RhdGVSZXF1ZXN0VGltZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gVGhlIGlkIG9mIHRoZSBsYXN0IGdsdCByZXF1ZXN0IG1lc3NhZ2UgdGhhdCB3YXMgc2VudC4gdXNlZCB0byBtYXRjaCB3aXRoIHRoZSByZXNwb25zZS5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkxhc3RHbHRSZXF1ZXN0SWQgPSBudWxsO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBXaGV0aGVyIHdlJ3JlIGN1cnJlbnRseSBhdHRlbXB0aW5nIHRvIENhbmNlbCB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5BdHRlbXB0aW5nVG9DYW5jZWwgPSBudWxsO1xuICAgIFxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gV2hlbiB0aGlzIGZsYWcgaXMgb24sIHlvdSBuZWVkIHRvIGRpc3BsYXkgdGhlIGRpZ25hdHVyZSBhY2NlcHQvZGVjbGluZSBidXR0b25zIGluIHlvdXIgXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGZsb3cgc2NyZWVuLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuQXdhaXRpbmdTaWduYXR1cmVDaGVjayA9IGZhbHNlO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBXaGVuIHRoaXMgZmxhZyBpcyBvbiwgeW91IG5lZWQgdG8gc2hvdyB5b3VyIHVzZXIgdGhlIHBob25lIG51bWJlciB0byBjYWxsIHRvIGdldCB0aGUgYXV0aG9yaXNhdGlvbiBjb2RlLlxuICAgICAgICAvLyBUaGVuIHlvdSBuZWVkIHRvIHByb3ZpZGUgeW91ciB1c2VyIG1lYW5zIHRvIGVudGVyIHRoYXQgZ2l2ZW4gY29kZSBhbmQgc3VibWl0IGl0IHZpYSBTdWJtaXRBdXRoQ29kZSgpLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuQXdhaXRpbmdQaG9uZUZvckF1dGggPSBudWxsO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBXaGV0aGVyIHRoaXMgdHJhbnNhY3Rpb24gZmxvdyBpcyBvdmVyIG9yIG5vdC5cbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkZpbmlzaGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoZSBzdWNjZXNzIHN0YXRlIG9mIHRoaXMgdHJhbnNhY3Rpb24uIFN0YXJ0cyBvZmYgYXMgVW5rbm93bi5cbiAgICAgICAgLy8gV2hlbiBmaW5pc2hlZCwgY2FuIGJlIFN1Y2Nlc3MsIEZhaWxlZCBPUiBVbmtub3duLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuU3VjY2VzcyA9IFN1Y2Nlc3NTdGF0ZS5Vbmtub3duO1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUaGUgcmVzcG9uc2UgYXQgdGhlIGVuZCBvZiB0aGUgdHJhbnNhY3Rpb24uIFxuICAgICAgICAvLyBNaWdodCBub3QgYmUgcHJlc2VudCBpbiBhbGwgZWRnZSBjYXNlcy5cbiAgICAgICAgLy8gWW91IGNhbiB0aGVuIHR1cm4gdGhpcyBNZXNzYWdlIGludG8gdGhlIGFwcHJvcHJpYXRlIHN0cnVjdHVyZSxcbiAgICAgICAgLy8gc3VjaCBhcyBQdXJjaGFzZVJlc3BvbnNlLCBSZWZ1bmRSZXNwb25zZSwgZXRjXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5SZXNwb25zZSA9IG51bGw7XG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoZSBtZXNzYWdlIHRoZSB3ZSByZWNlaXZlZCBmcm9tIEVGVFBPUyB0aGF0IHRvbGQgdXMgdGhhdCBzaWduYXR1cmUgaXMgcmVxdWlyZWQuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5TaWduYXR1cmVSZXF1aXJlZE1lc3NhZ2UgPSBudWxsO1xuICAgIFxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gVGhlIG1lc3NhZ2UgdGhlIHdlIHJlY2VpdmVkIGZyb20gRUZUUE9TIHRoYXQgdG9sZCB1cyB0aGF0IFBob25lIEZvciBBdXRoIGlzIHJlcXVpcmVkLlxuICAgICAgICAvLyA8L3N1bW1hcnk+XG4gICAgICAgIHRoaXMuUGhvbmVGb3JBdXRoUmVxdWlyZWRNZXNzYWdlID0gbnVsbDtcblxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gVGhlIHRpbWUgd2hlbiB0aGUgY2FuY2VsIGF0dGVtcHQgd2FzIG1hZGUuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5DYW5jZWxBdHRlbXB0VGltZSA9IG51bGw7XG5cbiAgICAgICAgLy8gPHN1bW1hcnk+XG4gICAgICAgIC8vIFRoZSByZXF1ZXN0IG1lc3NhZ2UgdGhhdCB3ZSBhcmUgc2VuZGluZy9zZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5SZXF1ZXN0ID0gbWVzc2FnZTtcblxuICAgICAgICAvLyA8c3VtbWFyeT5cbiAgICAgICAgLy8gV2hldGhlciB3ZSdyZSBjdXJyZW50bHkgd2FpdGluZyBmb3IgYSBHZXQgTGFzdCBUcmFuc2FjdGlvbiBSZXNwb25zZSB0byBnZXQgYW4gdXBkYXRlLiBcbiAgICAgICAgLy8gPC9zdW1tYXJ5PlxuICAgICAgICB0aGlzLkF3YWl0aW5nR2x0UmVzcG9uc2UgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuR0xUUmVzcG9uc2VQb3NSZWZJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgU2VudChtc2cpXG4gICAge1xuICAgICAgICB0aGlzLlJlcXVlc3RTZW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5SZXF1ZXN0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuTGFzdFN0YXRlUmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLkRpc3BsYXlNZXNzYWdlID0gbXNnO1xuICAgIH1cblxuICAgIENhbmNlbGxpbmcobXNnKVxuICAgIHtcbiAgICAgICAgdGhpcy5BdHRlbXB0aW5nVG9DYW5jZWwgPSB0cnVlO1xuICAgICAgICB0aGlzLkNhbmNlbEF0dGVtcHRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5EaXNwbGF5TWVzc2FnZSA9IG1zZztcbiAgICB9XG5cbiAgICBDYW5jZWxGYWlsZWQobXNnKVxuICAgIHtcbiAgICAgICAgdGhpcy5BdHRlbXB0aW5nVG9DYW5jZWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5EaXNwbGF5TWVzc2FnZSA9IG1zZztcbiAgICB9XG5cbiAgICBDYWxsaW5nR2x0KGdsdFJlcXVlc3RJZClcbiAgICB7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdHbHRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgIHRoaXMuTGFzdFN0YXRlUmVxdWVzdFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB0aGlzLkxhc3RHbHRSZXF1ZXN0SWQgPSBnbHRSZXF1ZXN0SWQ7XG4gICAgfVxuXG4gICAgR290R2x0UmVzcG9uc2UoKVxuICAgIHtcbiAgICAgICAgdGhpcy5Bd2FpdGluZ0dsdFJlc3BvbnNlID0gZmFsc2U7XG4gICAgfVxuICAgIFxuICAgIEZhaWxlZChyZXNwb25zZSwgbXNnKVxuICAgIHtcbiAgICAgICAgdGhpcy5TdWNjZXNzID0gU3VjY2Vzc1N0YXRlLkZhaWxlZDtcbiAgICAgICAgdGhpcy5GaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuUmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5EaXNwbGF5TWVzc2FnZSA9IG1zZztcbiAgICB9XG5cbiAgICBTaWduYXR1cmVSZXF1aXJlZChzcGlNZXNzYWdlLCBtc2cpXG4gICAge1xuICAgICAgICB0aGlzLlNpZ25hdHVyZVJlcXVpcmVkTWVzc2FnZSA9IHNwaU1lc3NhZ2U7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdTaWduYXR1cmVDaGVjayA9IHRydWU7XG4gICAgICAgIHRoaXMuRGlzcGxheU1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuXG4gICAgU2lnbmF0dXJlUmVzcG9uZGVkKG1zZylcbiAgICB7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdTaWduYXR1cmVDaGVjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLkRpc3BsYXlNZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICBcbiAgICBQaG9uZUZvckF1dGhSZXF1aXJlZChzcGlNZXNzYWdlLCBtc2cpXG4gICAge1xuICAgICAgICB0aGlzLlBob25lRm9yQXV0aFJlcXVpcmVkTWVzc2FnZSA9IHNwaU1lc3NhZ2U7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdQaG9uZUZvckF1dGggPSB0cnVlO1xuICAgICAgICB0aGlzLkRpc3BsYXlNZXNzYWdlID0gbXNnO1xuICAgIH1cbiAgICBcbiAgICBBdXRoQ29kZVNlbnQobXNnKVxuICAgIHtcbiAgICAgICAgdGhpcy5Bd2FpdGluZ1Bob25lRm9yQXV0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLkRpc3BsYXlNZXNzYWdlID0gbXNnO1xuICAgIH1cblxuICAgIENvbXBsZXRlZChzdGF0ZSwgcmVzcG9uc2UsIG1zZylcbiAgICB7XG4gICAgICAgIHRoaXMuU3VjY2VzcyA9IHN0YXRlO1xuICAgICAgICB0aGlzLlJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuRmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLkF0dGVtcHRpbmdUb0NhbmNlbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLkF3YWl0aW5nR2x0UmVzcG9uc2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5Bd2FpdGluZ1NpZ25hdHVyZUNoZWNrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdQaG9uZUZvckF1dGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5EaXNwbGF5TWVzc2FnZSA9IG1zZztcbiAgICB9XG5cbiAgICBVbmtub3duQ29tcGxldGVkKG1zZylcbiAgICB7XG4gICAgICAgIHRoaXMuU3VjY2VzcyA9IFN1Y2Nlc3NTdGF0ZS5Vbmtub3duO1xuICAgICAgICB0aGlzLlJlc3BvbnNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5GaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuQXR0ZW1wdGluZ1RvQ2FuY2VsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuQXdhaXRpbmdHbHRSZXNwb25zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLkF3YWl0aW5nU2lnbmF0dXJlQ2hlY2sgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5Bd2FpdGluZ1Bob25lRm9yQXV0aCA9IGZhbHNlO1xuICAgICAgICB0aGlzLkRpc3BsYXlNZXNzYWdlID0gbXNnO1xuICAgIH1cbn1cblxuLy8gPHN1bW1hcnk+XG4vLyBVc2VkIGFzIGEgcmV0dXJuIGluIHRoZSBTdWJtaXRBdXRoQ29kZSBtZXRob2QgdG8gc2lnbmlmeSB3aGV0aGVyIENvZGUgaXMgdmFsaWRcbi8vIDwvc3VtbWFyeT5cbmV4cG9ydCBjbGFzcyBTdWJtaXRBdXRoQ29kZVJlc3VsdFxue1xuICAgIGNvbnN0cnVjdG9yKHZhbGlkRm9ybWF0LCBtZXNzYWdlKVxuICAgIHtcbiAgICAgICAgdGhpcy5WYWxpZEZvcm1hdCA9IHZhbGlkRm9ybWF0O1xuXG4gICAgICAgIC8vIDxzdW1tYXJ5PlxuICAgICAgICAvLyBUZXh0IHRoYXQgZ2l2ZXMgcmVhc29uIGZvciBJbnZhbGlkaXR5XG4gICAgICAgIC8vIDwvc3VtbWFyeT5cbiAgICAgICAgdGhpcy5NZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcGlDb25maWdcbntcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5QcmludE1lcmNoYW50Q29weSA9IGZhbHNlO1xuICAgICAgICB0aGlzLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMuU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5FbmFibGVkUHJpbnRNZXJjaGFudENvcHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5FbmFibGVkUHJvbXB0Rm9yQ3VzdG9tZXJDb3B5T25FZnRwb3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5FbmFibGVkU2lnbmF0dXJlRmxvd09uRWZ0cG9zID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQWRkUmVjZWlwdENvbmZpZyhtZXNzYWdlRGF0YSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zICYmIHRoaXMuRW5hYmxlZFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zKVxuICAgICAgICB7XG4gICAgICAgICAgICBtZXNzYWdlRGF0YS5wcm9tcHRfZm9yX2N1c3RvbWVyX2NvcHkgPSB0aGlzLlByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLlNpZ25hdHVyZUZsb3dPbkVmdHBvcyAmJiB0aGlzLkVuYWJsZWRTaWduYXR1cmVGbG93T25FZnRwb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhLnByaW50X2Zvcl9zaWduYXR1cmVfcmVxdWlyZWRfdHJhbnNhY3Rpb25zID0gdGhpcy5TaWduYXR1cmVGbG93T25FZnRwb3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuUHJpbnRNZXJjaGFudENvcHkgJiYgdGhpcy5FbmFibGVkUHJpbnRNZXJjaGFudENvcHkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc3NhZ2VEYXRhLnByaW50X21lcmNoYW50X2NvcHkgPSB0aGlzLlByaW50TWVyY2hhbnRDb3B5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlRGF0YTtcbiAgICB9XG5cbiAgICBUb1N0cmluZygpXG4gICAge1xuICAgICAgICByZXR1cm4gYFByb21wdEZvckN1c3RvbWVyQ29weU9uRWZ0cG9zOiR7dGhpcy5Qcm9tcHRGb3JDdXN0b21lckNvcHlPbkVmdHBvc30gU2lnbmF0dXJlRmxvd09uRWZ0cG9zOiR7dGhpcy5TaWduYXR1cmVGbG93T25FZnRwb3N9IFByaW50TWVyY2hhbnRDb3B5OiAke3RoaXMuUHJpbnRNZXJjaGFudENvcHl9YDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2FjdGlvbk9wdGlvbnNcbntcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJSZWNlaXB0SGVhZGVyID0gXCJcIjtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJSZWNlaXB0Rm9vdGVyID0gXCJcIjtcbiAgICAgICAgdGhpcy5fbWVyY2hhbnRSZWNlaXB0SGVhZGVyID0gXCJcIjtcbiAgICAgICAgdGhpcy5fbWVyY2hhbnRSZWNlaXB0Rm9vdGVyID0gXCJcIjtcbiAgICB9XG5cbiAgICBTZXRDdXN0b21lclJlY2VpcHRIZWFkZXIoY3VzdG9tZXJSZWNlaXB0SGVhZGVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tZXJSZWNlaXB0SGVhZGVyID0gY3VzdG9tZXJSZWNlaXB0SGVhZGVyO1xuICAgIH1cblxuICAgIFNldEN1c3RvbWVyUmVjZWlwdEZvb3RlcihjdXN0b21lclJlY2VpcHRGb290ZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9jdXN0b21lclJlY2VpcHRGb290ZXIgPSBjdXN0b21lclJlY2VpcHRGb290ZXI7XG4gICAgfVxuICAgIFNldE1lcmNoYW50UmVjZWlwdEhlYWRlcihtZXJjaGFudFJlY2VpcHRIZWFkZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9tZXJjaGFudFJlY2VpcHRIZWFkZXIgPSBtZXJjaGFudFJlY2VpcHRIZWFkZXI7XG4gICAgfVxuICAgIFNldE1lcmNoYW50UmVjZWlwdEZvb3RlcihtZXJjaGFudFJlY2VpcHRGb290ZXIpXG4gICAge1xuICAgICAgICB0aGlzLl9tZXJjaGFudFJlY2VpcHRGb290ZXIgPSBtZXJjaGFudFJlY2VpcHRGb290ZXI7XG4gICAgfVxuICAgIEFkZE9wdGlvbnMobWVzc2FnZURhdGEpXG4gICAge1xuICAgICAgICBtZXNzYWdlRGF0YS5jdXN0b21lcl9yZWNlaXB0X2hlYWRlciA9IHRoaXMuX2N1c3RvbWVyUmVjZWlwdEhlYWRlcjtcbiAgICAgICAgbWVzc2FnZURhdGEuY3VzdG9tZXJfcmVjZWlwdF9mb290ZXIgPSB0aGlzLl9jdXN0b21lclJlY2VpcHRGb290ZXI7XG4gICAgICAgIG1lc3NhZ2VEYXRhLm1lcmNoYW50X3JlY2VpcHRfaGVhZGVyID0gdGhpcy5fbWVyY2hhbnRSZWNlaXB0SGVhZGVyO1xuICAgICAgICBtZXNzYWdlRGF0YS5tZXJjaGFudF9yZWNlaXB0X2Zvb3RlciA9IHRoaXMuX21lcmNoYW50UmVjZWlwdEZvb3RlcjtcblxuICAgICAgICByZXR1cm4gbWVzc2FnZURhdGE7XG4gICAgfVxufSIsImltcG9ydCB7UmVxdWVzdElkSGVscGVyfSBmcm9tICcuL1JlcXVlc3RJZEhlbHBlcic7XG5pbXBvcnQge0JpbGxQYXltZW50LCBQYXlBdFRhYmxlQ29uZmlnLCBQYXltZW50SGlzdG9yeUVudHJ5LCBCaWxsUmV0cmlldmFsUmVzdWx0LCBCaWxsU3RhdHVzUmVzcG9uc2V9IGZyb20gJy4vUGF5QXRUYWJsZSc7XG5cbmV4cG9ydCBjbGFzcyBTcGlQYXlBdFRhYmxlXG57ICBcbiAgICBjb25zdHJ1Y3RvcihzcGkpXG4gICAge1xuICAgICAgICB0aGlzLl9zcGkgPSBzcGk7XG4gICAgICAgIHRoaXMuX2xvZyA9IGNvbnNvbGU7XG5cbiAgICAgICAgdGhpcy5Db25maWcgPSBPYmplY3QuYXNzaWduKG5ldyBQYXlBdFRhYmxlQ29uZmlnKCksIHtcbiAgICAgICAgICAgIFBheUF0VGFibGVkRW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIE9wZXJhdG9ySWRFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgQWxsb3dlZE9wZXJhdG9ySWRzOiBbXSxcbiAgICAgICAgICAgIEVxdWFsU3BsaXRFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgU3BsaXRCeUFtb3VudEVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICBTdW1tYXJ5UmVwb3J0RW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgIFRpcHBpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgTGFiZWxPcGVyYXRvcklkOiBcIk9wZXJhdG9yIElEXCIsXG4gICAgICAgICAgICBMYWJlbFBheUJ1dHRvbjogXCJQYXkgYXQgVGFibGVcIixcbiAgICAgICAgICAgIExhYmVsVGFibGVJZDogXCJUYWJsZSBOdW1iZXJcIixcbiAgICAgICAgICAgIFRhYmxlUmV0cmlldmFsRW5hYmxlZDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyA8c3VtbWFyeT5cbiAgICAvLyBUaGlzIGRlbGVnYXRlIHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIEVmdHBvcyBuZWVkcyB0byBrbm93IHRoZSBjdXJyZW50IHN0YXRlIG9mIGEgYmlsbCBmb3IgYSB0YWJsZS4gXG4gICAgLy8gPHBhcmEgLz5cbiAgICAvLyBQYXJhbWV0ZXJzOjxwYXJhIC8+XG4gICAgLy8gYmlsbElkIC0gVGhlIHVuaXF1ZSBpZGVudGlmaWVyIG9mIHRoZSBiaWxsLiBJZiBlbXB0eSwgaXQgbWVhbnMgdGhhdCB0aGUgUGF5QXRUYWJsZSBmbG93IG9uIHRoZSBFZnRwb3MgaXMganVzdCBzdGFydGluZywgYW5kIHRoZSBsb29rdXAgaXMgYnkgdGFibGVJZC48cGFyYSAvPlxuICAgIC8vIHRhYmxlSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgdGFibGUgdGhhdCB0aGUgYmlsbCBpcyBmb3IuIDxwYXJhIC8+XG4gICAgLy8gb3BlcmF0b3JJZCAtIFRoZSBpZCBvZiB0aGUgb3BlcmF0b3IgZW50ZXJlZCBvbiB0aGUgZWZ0cG9zLiA8cGFyYSAvPlxuICAgIC8vIDxwYXJhIC8+XG4gICAgLy8gUmV0dXJuOjxwYXJhIC8+XG4gICAgLy8gWW91IG5lZWQgdG8gcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBiaWxsLlxuICAgIC8vIDwvc3VtbWFyeT5cbiAgICBHZXRCaWxsU3RhdHVzKGJpbGxJZCwgdGFibGVJZCwgb3BlcmF0b3JJZCwgcGF5bWVudEZsb3dTdGFydGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4gUGxlYXNlIG92ZXJ3cml0ZSB0aGlzIG1ldGhvZCBpbiB5b3VyIFBPUycpO1xuICAgIH1cblxuICAgIC8vIEFic3RyYWN0IG1ldGhvZCwgbXVzdCBpbXBsZW1lbnQgaW4gUE9TIHN5c3RlbVxuICAgIEJpbGxQYXltZW50UmVjZWl2ZWQoYmlsbFBheW1lbnQsIHVwZGF0ZWRCaWxsRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuIFBsZWFzZSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgaW4geW91ciBQT1MnKTtcbiAgICB9XG5cbiAgICBHZXRPcGVuVGFibGVzKG9wZXJhdG9ySWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkLiBQbGVhc2Ugb3ZlcndyaXRlIHRoaXMgbWV0aG9kIGluIHlvdXIgUE9TJyk7XG4gICAgfVxuXG4gICAgQmlsbFBheW1lbnRGbG93RW5kZWQobWVzc2FnZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQuIFBsZWFzZSBvdmVyd3JpdGUgdGhpcyBtZXRob2QgaW4geW91ciBQT1MnKTtcbiAgICB9XG5cbiAgICBQdXNoUGF5QXRUYWJsZUNvbmZpZygpXG4gICAge1xuICAgICAgICB0aGlzLl9zcGkuX3NlbmQodGhpcy5Db25maWcuVG9NZXNzYWdlKFJlcXVlc3RJZEhlbHBlci5JZChcInBhdGNvbmZcIikpKTtcbiAgICB9IFxuICAgIFxuICAgIF9oYW5kbGVHZXRCaWxsRGV0YWlsc1JlcXVlc3QobSlcbiAgICB7XG4gICAgICAgIHZhciBvcGVyYXRvcklkID0gbS5EYXRhW1wib3BlcmF0b3JfaWRcIl07XG4gICAgICAgIHZhciB0YWJsZUlkID0gbS5EYXRhW1widGFibGVfaWRcIl07XG4gICAgICAgIHZhciBwYXltZW50Rmxvd1N0YXJ0ZWQgPSBtLkRhdGFbXCJwYXltZW50X2Zsb3dfc3RhcnRlZFwiXTtcblxuICAgICAgICAvLyBBc2sgUE9TIGZvciBCaWxsIERldGFpbHMgZm9yIHRoaXMgdGFibGVJZCwgaW5sdWRpbmcgZW5jb2RlZCBQYXltZW50RGF0YVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuR2V0QmlsbFN0YXR1cyhcIlwiLCB0YWJsZUlkLCBvcGVyYXRvcklkLCBwYXltZW50Rmxvd1N0YXJ0ZWQpKS50aGVuKGJpbGxTdGF0dXMgPT4ge1xuICAgICAgICAgICAgYmlsbFN0YXR1cy5UYWJsZUlkID0gdGFibGVJZDtcbiAgICAgICAgICAgIGlmIChiaWxsU3RhdHVzLlRvdGFsQW1vdW50IDw9IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKFwiVGFibGUgaGFzIDAgdG90YWwgYW1vdW50LiBub3Qgc2VuZGluZyBpdCB0byBlZnRwb3MuXCIpO1xuICAgICAgICAgICAgICBiaWxsU3RhdHVzLlJlc3VsdCA9IEJpbGxSZXRyaWV2YWxSZXN1bHQuSU5WQUxJRF9UQUJMRV9JRDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICB0aGlzLl9zcGkuX3NlbmQoYmlsbFN0YXR1cy5Ub01lc3NhZ2UobS5JZCkpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIF9oYW5kbGVCaWxsUGF5bWVudEFkdmljZShtKVxuICAgIHtcbiAgICAgICAgdmFyIGJpbGxQYXltZW50ID0gbmV3IEJpbGxQYXltZW50KG0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQXNrIFBPUyBmb3IgQmlsbCBEZXRhaWxzLCBpbmx1ZGluZyBlbmNvZGVkIFBheW1lbnREYXRhXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5HZXRCaWxsU3RhdHVzKGJpbGxQYXltZW50LkJpbGxJZCwgYmlsbFBheW1lbnQuVGFibGVJZCwgYmlsbFBheW1lbnQuT3BlcmF0b3JJZCwgYmlsbFBheW1lbnQuUGF5bWVudEZsb3dTdGFydGVkKSkudGhlbihleGlzdGluZ0JpbGxTdGF0dXMgPT4ge1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nQmlsbFN0YXR1cy5SZXN1bHQgIT0gQmlsbFJldHJpZXZhbFJlc3VsdC5TVUNDRVNTKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy53YXJuKFwiQ291bGQgbm90IHJldHJpZXZlIEJpbGwgU3RhdHVzIGZvciBQYXltZW50IEFkdmljZS4gU2VuZGluZyBFcnJvciB0byBFZnRwb3MuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NwaS5fc2VuZChleGlzdGluZ0JpbGxTdGF0dXMuVG9NZXNzYWdlKG0uSWQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGV4aXN0aW5nUGF5bWVudEhpc3RvcnkgPSBleGlzdGluZ0JpbGxTdGF0dXMuZ2V0QmlsbFBheW1lbnRIaXN0b3J5KCk7XG4gICBcbiAgICAgICAgICAgIHZhciBmb3VuZEV4aXN0aW5nRW50cnkgPSBleGlzdGluZ1BheW1lbnRIaXN0b3J5LmZpbmQocGhlID0+IHBoZS5HZXRUZXJtaW5hbFJlZklkKCkgPT0gYmlsbFBheW1lbnQuUHVyY2hhc2VSZXNwb25zZS5HZXRUZXJtaW5hbFJlZmVyZW5jZUlkKCkpO1xuICAgICAgICAgICAgaWYgKGZvdW5kRXhpc3RpbmdFbnRyeSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIGFscmVhZHkgcHJvY2Vzc2VkIHRoaXMgcGF5bWVudC5cbiAgICAgICAgICAgICAgICAvLyBwZXJoYXBzIEVmdHBvcyBkaWQgZ2V0IG91ciBhY2tub3dsZWRnZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gTGV0J3MgdXBkYXRlIEVmdHBvcy5cbiAgICAgICAgICAgICAgICB0aGlzLl9sb2cud2FybihcIkhhZCBhbHJlYWR5IHJlY2VpdmVkIHRoaXMgYmlsbF9wYXltZW1udCBhZHZpY2UgZnJvbSBlZnRwb3MuIElnbm9yaW5nLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGkuX3NlbmQoZXhpc3RpbmdCaWxsU3RhdHVzLlRvTWVzc2FnZShtLklkKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBMZXQncyBhZGQgdGhlIG5ldyBlbnRyeSB0byB0aGUgaGlzdG9yeVxuICAgICAgICAgICAgdmFyIHVwZGF0ZWRIaXN0b3J5RW50cmllcyA9IGV4aXN0aW5nUGF5bWVudEhpc3Rvcnk7XG4gICAgICAgICAgICB1cGRhdGVkSGlzdG9yeUVudHJpZXMucHVzaChcbiAgICAgICAgICAgICAgICBuZXcgUGF5bWVudEhpc3RvcnlFbnRyeShiaWxsUGF5bWVudC5QYXltZW50VHlwZS50b0xvd2VyQ2FzZSgpLCBiaWxsUGF5bWVudC5QdXJjaGFzZVJlc3BvbnNlLlRvUGF5bWVudFN1bW1hcnkoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciB1cGRhdGVkQmlsbERhdGEgPSBCaWxsU3RhdHVzUmVzcG9uc2UuVG9CaWxsRGF0YSh1cGRhdGVkSGlzdG9yeUVudHJpZXMpO1xuXG4gICAgICAgICAgICAvLyBBZHZpc2UgUE9TIG9mIG5ldyBwYXltZW50IGFnYWluc3QgdGhpcyBiaWxsLCBhbmQgdGhlIHVwZGF0ZWQgQmlsbERhdGEgdG8gU2F2ZS5cbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSh0aGlzLkJpbGxQYXltZW50UmVjZWl2ZWQoYmlsbFBheW1lbnQsIHVwZGF0ZWRCaWxsRGF0YSkpLnRoZW4odXBkYXRlZEJpbGxTdGF0dXMgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBpbiBjYXNlIGNsaWVudCBmb3Jnb3QgdG8gc2V0IHRoZXNlOlxuICAgICAgICAgICAgICAgIHVwZGF0ZWRCaWxsU3RhdHVzLkJpbGxJZCA9IGJpbGxQYXltZW50LkJpbGxJZDtcbiAgICAgICAgICAgICAgICB1cGRhdGVkQmlsbFN0YXR1cy5UYWJsZUlkID0gYmlsbFBheW1lbnQuVGFibGVJZDtcblxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkQmlsbFN0YXR1cy5SZXN1bHQgIT0gQmlsbFJldHJpZXZhbFJlc3VsdC5TVUNDRVNTKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2xvZy53YXJuKFwiUE9TIEVycm9yZWQgd2hlbiBiZWluZyBBZHZpc2VkIG9mIFBheW1lbnQuIExldHRpbmcgRUZUUE9TIGtub3csIGFuZCBzZW5kaW5nIGV4aXN0aW5nIGJpbGwgZGF0YS5cIik7XG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQmlsbFN0YXR1cy5CaWxsRGF0YSA9IGV4aXN0aW5nQmlsbFN0YXR1cy5CaWxsRGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZWRCaWxsU3RhdHVzLkJpbGxEYXRhID0gdXBkYXRlZEJpbGxEYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICB0aGlzLl9zcGkuX3NlbmQodXBkYXRlZEJpbGxTdGF0dXMuVG9NZXNzYWdlKG0uSWQpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIF9oYW5kbGVHZXRUYWJsZUNvbmZpZyhtKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3BpLl9zZW5kKHRoaXMuQ29uZmlnLlRvTWVzc2FnZShtLklkKSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUdldE9wZW5UYWJsZXNSZXF1ZXN0KG0pXG4gICAge1xuICAgICAgICB2YXIgb3BlcmF0b3JJZCA9IG0uRGF0YVtcIm9wZXJhdG9yX2lkXCJdO1xuXG4gICAgICAgIC8vIEFzayBQT1MgZm9yIEJpbGwgRGV0YWlscyBmb3IgdGhpcyB0YWJsZUlkLCBpbmx1ZGluZyBlbmNvZGVkIFBheW1lbnREYXRhXG4gICAgICAgIHZhciBvcGVuVGFibGVzUmVzcG9uc2UgPSB0aGlzLkdldE9wZW5UYWJsZXMob3BlcmF0b3JJZCk7XG4gICAgICAgIGlmIChvcGVuVGFibGVzUmVzcG9uc2UuVGFibGVEYXRhLmxlbmd0aCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9sb2cuaW5mbyhcIlRoZXJlIGlzIG5vIG9wZW4gdGFibGUuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3BpLl9zZW5kKG9wZW5UYWJsZXNSZXNwb25zZS5Ub01lc3NhZ2UobS5JZCkpO1xuICAgIH1cblxuICAgIF9oYW5kbGVCaWxsUGF5bWVudEZsb3dFbmRlZChtKVxuICAgIHtcbiAgICAgICAgdGhpcy5CaWxsUGF5bWVudEZsb3dFbmRlZChtKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICAgIFByZWF1dGhFdmVudHMsXG4gICAgQWNjb3VudFZlcmlmeVJlcXVlc3QsIFxuICAgIFByZWF1dGhPcGVuUmVxdWVzdCwgXG4gICAgUHJlYXV0aFRvcHVwUmVxdWVzdCwgXG4gICAgUHJlYXV0aFBhcnRpYWxDYW5jZWxsYXRpb25SZXF1ZXN0LCBcbiAgICBQcmVhdXRoRXh0ZW5kUmVxdWVzdCxcbiAgICBQcmVhdXRoQ29tcGxldGlvblJlcXVlc3QsXG4gICAgUHJlYXV0aENhbmNlbFJlcXVlc3R9IGZyb20gJy4vUHJlYXV0aCc7XG5cblxuaW1wb3J0IHtUcmFuc2FjdGlvbkZsb3dTdGF0ZSwgVHJhbnNhY3Rpb25UeXBlLCBJbml0aWF0ZVR4UmVzdWx0LCBTcGlTdGF0dXMsIFNwaUZsb3csIFNwaUNvbmZpZywgVHJhbnNhY3Rpb25PcHRpb25zfSBmcm9tICcuL1NwaU1vZGVscyc7XG5cbmV4cG9ydCBjbGFzcyBTcGlQcmVhdXRoXG57XG4gICAgY29uc3RydWN0b3Ioc3BpKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3BpID0gc3BpO1xuICAgICAgICB0aGlzLl9sb2cgPSBjb25zb2xlO1xuXG4gICAgICAgIHRoaXMuQ29uZmlnID0gbmV3IFNwaUNvbmZpZygpO1xuICAgIH1cblxuICAgIEluaXRpYXRlQWNjb3VudFZlcmlmeVR4KHBvc1JlZklkKVxuICAgIHtcbiAgICAgICAgdmFyIHZlcmlmeU1zZyA9IG5ldyBBY2NvdW50VmVyaWZ5UmVxdWVzdChwb3NSZWZJZCkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIHRmcyA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuQWNjb3VudFZlcmlmeSwgMCwgdmVyaWZ5TXNnLFxuICAgICAgICAgICAgXCJXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIGFjY291bnQgdmVyaWZ5IHJlcXVlc3RcIik7XG4gICAgICAgIHZhciBzZW50TXNnID0gXCJBc2tlZCBFRlRQT1MgdG8gdmVyaWZ5IGFjY291bnRcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYXRlUHJlYXV0aFR4KHRmcywgc2VudE1zZyk7XG4gICAgfVxuICAgIFxuICAgIEluaXRpYXRlT3BlblR4KHBvc1JlZklkLCBhbW91bnRDZW50cywgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIHZhciBtc2cgPSBPYmplY3QuYXNzaWduKG5ldyBQcmVhdXRoT3BlblJlcXVlc3QoYW1vdW50Q2VudHMsIHBvc1JlZklkKSxcbiAgICAgICAge1xuICAgICAgICAgICAgQ29uZmlnOiB0aGlzLkNvbmZpZyxcbiAgICAgICAgICAgIE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIHRmcyA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUHJlYXV0aCwgYW1vdW50Q2VudHMsIG1zZyxcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHByZWF1dGggcmVxdWVzdCBmb3IgJHsoYW1vdW50Q2VudHMgLyAxMDAuMCkudG9GaXhlZCgyKX1gKTtcbiAgICAgICAgdmFyIHNlbnRNc2cgPSBgQXNrZWQgRUZUUE9TIHRvIGNyZWF0ZSBwcmVhdXRoIGZvciAkeyhhbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWA7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWF0ZVByZWF1dGhUeCh0ZnMsIHNlbnRNc2cpO1xuICAgIH1cblxuICAgIEluaXRpYXRlVG9wdXBUeChwb3NSZWZJZCwgcHJlYXV0aElkLCBhbW91bnRDZW50cywgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIHZhciBtc2cgPSBPYmplY3QuYXNzaWduKG5ldyBQcmVhdXRoVG9wdXBSZXF1ZXN0KHByZWF1dGhJZCwgYW1vdW50Q2VudHMsIHBvc1JlZklkKSxcbiAgICAgICAge1xuICAgICAgICAgICAgQ29uZmlnOiB0aGlzLkNvbmZpZyxcbiAgICAgICAgICAgIE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIHRmcyA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUHJlYXV0aCwgYW1vdW50Q2VudHMsIG1zZyxcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHByZWF1dGggdG9wdXAgcmVxdWVzdCBmb3IgJHsoYW1vdW50Q2VudHMgLyAxMDAuMCkudG9GaXhlZCgyKX1gKTtcbiAgICAgICAgdmFyIHNlbnRNc2cgPSBgQXNrZWQgRUZUUE9TIHRvIG1ha2UgcHJlYXV0aCB0b3B1cCBmb3IgJHsoYW1vdW50Q2VudHMgLyAxMDAuMCkudG9GaXhlZCgyKX1gO1xuICAgICAgICByZXR1cm4gdGhpcy5faW5pdGlhdGVQcmVhdXRoVHgodGZzLCBzZW50TXNnKTtcbiAgICB9XG5cbiAgICBJbml0aWF0ZVBhcnRpYWxDYW5jZWxsYXRpb25UeChwb3NSZWZJZCwgcHJlYXV0aElkLCBhbW91bnRDZW50cywgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIHZhciBtc2cgPSBPYmplY3QuYXNzaWduKG5ldyBQcmVhdXRoUGFydGlhbENhbmNlbGxhdGlvblJlcXVlc3QocHJlYXV0aElkLCBhbW91bnRDZW50cywgcG9zUmVmSWQpLFxuICAgICAgICB7XG4gICAgICAgICAgICBDb25maWc6IHRoaXMuQ29uZmlnLFxuICAgICAgICAgICAgT3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9KS5Ub01lc3NhZ2UoKTtcblxuICAgICAgICB2YXIgdGZzID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIFRyYW5zYWN0aW9uVHlwZS5QcmVhdXRoLCBhbW91bnRDZW50cywgbXNnLFxuICAgICAgICAgICAgYFdhaXRpbmcgZm9yIEVGVFBPUyBjb25uZWN0aW9uIHRvIG1ha2UgcHJlYXV0aCBwYXJ0aWFsIGNhbmNlbGxhdGlvbiByZXF1ZXN0IGZvciAkeyhhbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICB2YXIgc2VudE1zZyA9IGBBc2tlZCBFRlRQT1MgdG8gbWFrZSBwcmVhdXRoIHBhcnRpYWwgY2FuY2VsbGF0aW9uIGZvciAkeyhhbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWA7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWF0ZVByZWF1dGhUeCh0ZnMsIHNlbnRNc2cpO1xuICAgIH1cblxuICAgIEluaXRpYXRlRXh0ZW5kVHgocG9zUmVmSWQsIHByZWF1dGhJZCwgb3B0aW9ucyA9IG5ldyBUcmFuc2FjdGlvbk9wdGlvbnMoKSlcbiAgICB7XG4gICAgICAgIHZhciBtc2cgPSBPYmplY3QuYXNzaWduKG5ldyBQcmVhdXRoRXh0ZW5kUmVxdWVzdChwcmVhdXRoSWQsIHBvc1JlZklkKSxcbiAgICAgICAge1xuICAgICAgICAgICAgQ29uZmlnOiB0aGlzLkNvbmZpZyxcbiAgICAgICAgICAgIE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIHRmcyA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUHJlYXV0aCwgMCwgbXNnLFxuICAgICAgICAgICAgXCJXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHByZWF1dGggRXh0ZW5kIHJlcXVlc3RcIik7XG4gICAgICAgIHZhciBzZW50TXNnID0gXCJBc2tlZCBFRlRQT1MgdG8gbWFrZSBwcmVhdXRoIEV4dGVuZCByZXF1ZXN0XCI7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0aWF0ZVByZWF1dGhUeCh0ZnMsIHNlbnRNc2cpO1xuICAgIH1cblxuICAgIEluaXRpYXRlQ29tcGxldGlvblR4KHBvc1JlZklkLCBwcmVhdXRoSWQsIGFtb3VudENlbnRzLCBzdXJjaGFyZ2VBbW91bnQgPSAwLCBvcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpKVxuICAgIHtcbiAgICAgICAgdmFyIG1zZyA9IE9iamVjdC5hc3NpZ24obmV3IFByZWF1dGhDb21wbGV0aW9uUmVxdWVzdChwcmVhdXRoSWQsIGFtb3VudENlbnRzLCBwb3NSZWZJZCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIENvbmZpZzogdGhpcy5Db25maWcsXG4gICAgICAgICAgICBTdXJjaGFyZ2VBbW91bnQ6IHN1cmNoYXJnZUFtb3VudCxcbiAgICAgICAgICAgIE9wdGlvbnM6IG9wdGlvbnNcbiAgICAgICAgfSkuVG9NZXNzYWdlKCk7XG5cbiAgICAgICAgdmFyIHRmcyA9IG5ldyBUcmFuc2FjdGlvbkZsb3dTdGF0ZShcbiAgICAgICAgICAgIHBvc1JlZklkLCBUcmFuc2FjdGlvblR5cGUuUHJlYXV0aCwgYW1vdW50Q2VudHMsIG1zZyxcbiAgICAgICAgICAgIGBXYWl0aW5nIGZvciBFRlRQT1MgY29ubmVjdGlvbiB0byBtYWtlIHByZWF1dGggY29tcGxldGlvbiByZXF1ZXN0IGZvciAkeyhhbW91bnRDZW50cyAvIDEwMC4wKS50b0ZpeGVkKDIpfWApO1xuICAgICAgICB2YXIgc2VudE1zZyA9IGBBc2tlZCBFRlRQT1MgdG8gbWFrZSBwcmVhdXRoIGNvbXBsZXRpb24gZm9yICR7KGFtb3VudENlbnRzIC8gMTAwLjApLnRvRml4ZWQoMil9YDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYXRlUHJlYXV0aFR4KHRmcywgc2VudE1zZyk7XG4gICAgfVxuXG4gICAgSW5pdGlhdGVDYW5jZWxUeChwb3NSZWZJZCwgcHJlYXV0aElkLCBvcHRpb25zID0gbmV3IFRyYW5zYWN0aW9uT3B0aW9ucygpKVxuICAgIHtcbiAgICAgICAgdmFyIG1zZyA9IE9iamVjdC5hc3NpZ24obmV3IFByZWF1dGhDYW5jZWxSZXF1ZXN0KHByZWF1dGhJZCwgcG9zUmVmSWQpLFxuICAgICAgICB7XG4gICAgICAgICAgICBDb25maWc6IHRoaXMuQ29uZmlnLFxuICAgICAgICAgICAgT3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9KS5Ub01lc3NhZ2UoKTtcblxuICAgICAgICB2YXIgdGZzID0gbmV3IFRyYW5zYWN0aW9uRmxvd1N0YXRlKFxuICAgICAgICAgICAgcG9zUmVmSWQsIFRyYW5zYWN0aW9uVHlwZS5QcmVhdXRoLCAwLCBtc2csXG4gICAgICAgICAgICBcIldhaXRpbmcgZm9yIEVGVFBPUyBjb25uZWN0aW9uIHRvIG1ha2UgcHJlYXV0aCBjYW5jZWxsYXRpb24gcmVxdWVzdFwiKTtcbiAgICAgICAgdmFyIHNlbnRNc2cgPSBcIkFza2VkIEVGVFBPUyB0byBtYWtlIHByZWF1dGggY2FuY2VsbGF0aW9uIHJlcXVlc3RcIjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRpYXRlUHJlYXV0aFR4KHRmcywgc2VudE1zZyk7XG4gICAgfVxuXG4gICAgX2luaXRpYXRlUHJlYXV0aFR4KHRmcywgc2VudE1zZylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9zcGkuQ3VycmVudFN0YXR1cyA9PSBTcGlTdGF0dXMuVW5wYWlyZWQpIHJldHVybiBuZXcgSW5pdGlhdGVUeFJlc3VsdChmYWxzZSwgXCJOb3QgUGFpcmVkXCIpO1xuXG4gICAgICAgIGlmICh0aGlzLl9zcGkuQ3VycmVudEZsb3cgIT0gU3BpRmxvdy5JZGxlKSByZXR1cm4gbmV3IEluaXRpYXRlVHhSZXN1bHQoZmFsc2UsIFwiTm90IElkbGVcIik7XG5cbiAgICAgICAgdGhpcy5fc3BpLkN1cnJlbnRGbG93ID0gU3BpRmxvdy5UcmFuc2FjdGlvbjtcbiAgICAgICAgdGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZSA9IHRmcztcbiAgICAgICAgaWYgKHRoaXMuX3NwaS5fc2VuZCh0ZnMuUmVxdWVzdCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3NwaS5DdXJyZW50VHhGbG93U3RhdGUuU2VudChzZW50TXNnKTtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnVHhGbG93U3RhdGVDaGFuZ2VkJywge2RldGFpbDogdGhpcy5fc3BpLkN1cnJlbnRUeEZsb3dTdGF0ZX0pKTtcbiAgICAgICAgcmV0dXJuIG5ldyBJbml0aWF0ZVR4UmVzdWx0KHRydWUsIFwiUHJlYXV0aCBJbml0aWF0ZWRcIik7XG4gICAgfVxuXG4gICAgX2hhbmRsZVByZWF1dGhNZXNzYWdlKG0pXG4gICAge1xuICAgICAgICBzd2l0Y2ggKG0uRXZlbnROYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIFByZWF1dGhFdmVudHMuQWNjb3VudFZlcmlmeVJlc3BvbnNlOlxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUFjY291bnRWZXJpZnlSZXNwb25zZShtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgUHJlYXV0aEV2ZW50cy5QcmVhdXRoT3BlblJlc3BvbnNlOlxuICAgICAgICAgICAgY2FzZSBQcmVhdXRoRXZlbnRzLlByZWF1dGhUb3B1cFJlc3BvbnNlOlxuICAgICAgICAgICAgY2FzZSBQcmVhdXRoRXZlbnRzLlByZWF1dGhQYXJ0aWFsQ2FuY2VsbGF0aW9uUmVzcG9uc2U6XG4gICAgICAgICAgICBjYXNlIFByZWF1dGhFdmVudHMuUHJlYXV0aEV4dGVuZFJlc3BvbnNlOlxuICAgICAgICAgICAgY2FzZSBQcmVhdXRoRXZlbnRzLlByZWF1dGhDb21wbGV0ZVJlc3BvbnNlOlxuICAgICAgICAgICAgY2FzZSBQcmVhdXRoRXZlbnRzLlByZWF1dGhDYW5jZWxsYXRpb25SZXNwb25zZTpcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVQcmVhdXRoUmVzcG9uc2UobSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBJIGRvbid0IFVuZGVyc3RhbmQgUHJlYXV0aCBFdmVudDogJHttLkV2ZW50TmFtZX0sICR7bS5EYXRhfS4gUGVyaGFwcyBJIGhhdmUgbm90IGltcGxlbWVudGVkIGl0IHlldC5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9oYW5kbGVBY2NvdW50VmVyaWZ5UmVzcG9uc2UobSlcbiAgICB7XG4gICAgICAgIHZhciBpbmNvbWluZ1Bvc1JlZklkID0gbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgIHZhciBjdXJyZW50VHhGbG93U3RhdGUgPSB0aGlzLl9zcGkuQ3VycmVudFR4Rmxvd1N0YXRlO1xuICAgICAgICBpZiAodGhpcy5fc3BpLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuVHJhbnNhY3Rpb24gfHwgY3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICFjdXJyZW50VHhGbG93U3RhdGUuUG9zUmVmSWQgPT09IGluY29taW5nUG9zUmVmSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBSZWNlaXZlZCBBY2NvdW50IFZlcmlmeSByZXNwb25zZSBidXQgSSB3YXMgbm90IHdhaXRpbmcgZm9yIG9uZS4gSW5jb21pbmcgUG9zIFJlZiBJRDogJHtpbmNvbWluZ1Bvc1JlZklkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRILTFBLCBUSC0yQVxuXG4gICAgICAgIGN1cnJlbnRUeEZsb3dTdGF0ZS5Db21wbGV0ZWQobS5HZXRTdWNjZXNzU3RhdGUoKSwgbSwgXCJBY2NvdW50IFZlcmlmeSBUcmFuc2FjdGlvbiBFbmRlZC5cIik7XG4gICAgICAgIC8vIFRILTZBLCBUSC02RVxuICAgICAgICBcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ1R4Rmxvd1N0YXRlQ2hhbmdlZCcsIHtkZXRhaWw6IHRoaXMuX3NwaS5DdXJyZW50VHhGbG93U3RhdGV9KSk7XG4gICAgfVxuICAgIFxuICAgIF9oYW5kbGVQcmVhdXRoUmVzcG9uc2UobSlcbiAgICB7XG4gICAgICAgIHZhciBpbmNvbWluZ1Bvc1JlZklkID0gbS5EYXRhLnBvc19yZWZfaWQ7XG4gICAgICAgIHZhciBjdXJyZW50VHhGbG93U3RhdGUgPSB0aGlzLl9zcGkuQ3VycmVudFR4Rmxvd1N0YXRlO1xuICAgICAgICBpZiAodGhpcy5fc3BpLkN1cnJlbnRGbG93ICE9IFNwaUZsb3cuVHJhbnNhY3Rpb24gfHwgY3VycmVudFR4Rmxvd1N0YXRlLkZpbmlzaGVkIHx8ICFjdXJyZW50VHhGbG93U3RhdGUuUG9zUmVmSWQgPT09IGluY29taW5nUG9zUmVmSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZy5pbmZvKGBSZWNlaXZlZCBQcmVhdXRoIHJlc3BvbnNlIGJ1dCBJIHdhcyBub3Qgd2FpdGluZyBmb3Igb25lLiBJbmNvbWluZyBQb3MgUmVmIElEOiAke2luY29taW5nUG9zUmVmSWR9YCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gVEgtMUEsIFRILTJBXG5cbiAgICAgICAgY3VycmVudFR4Rmxvd1N0YXRlLkNvbXBsZXRlZChtLkdldFN1Y2Nlc3NTdGF0ZSgpLCBtLCBcIlByZWF1dGggVHJhbnNhY3Rpb24gRW5kZWQuXCIpO1xuICAgICAgICAvLyBUSC02QSwgVEgtNkVcbiAgICAgICAgXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdUeEZsb3dTdGF0ZUNoYW5nZWQnLCB7ZGV0YWlsOiB0aGlzLl9zcGkuQ3VycmVudFR4Rmxvd1N0YXRlfSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBJc1ByZWF1dGhFdmVudChldmVudE5hbWUpXG4gICAge1xuICAgICAgICByZXR1cm4gZXZlbnROYW1lLmxhc3RJbmRleE9mKFwicHJlYXV0aFwiLDApID09PSAwIFxuICAgICAgICAgICAgICAgIHx8IGV2ZW50TmFtZSA9PSBQcmVhdXRoRXZlbnRzLlByZWF1dGhDb21wbGV0ZVJlc3BvbnNlXG4gICAgICAgICAgICAgICAgfHwgZXZlbnROYW1lID09IFByZWF1dGhFdmVudHMuUHJlYXV0aENvbXBsZXRlUmVxdWVzdFxuICAgICAgICAgICAgICAgIHx8IGV2ZW50TmFtZSA9PSBQcmVhdXRoRXZlbnRzLkFjY291bnRWZXJpZnlSZXF1ZXN0XG4gICAgICAgICAgICAgICAgfHwgZXZlbnROYW1lID09IFByZWF1dGhFdmVudHMuQWNjb3VudFZlcmlmeVJlc3BvbnNlO1xuICAgIH1cbn1cbiIsImltcG9ydCB7RXZlbnRzLCBNZXNzYWdlfSBmcm9tICcuL01lc3NhZ2VzJztcbmltcG9ydCB7UmVxdWVzdElkSGVscGVyfSBmcm9tICcuL1JlcXVlc3RJZEhlbHBlcic7XG5cbmV4cG9ydCBjbGFzcyBUZXJtaW5hbFN0YXR1c1JlcXVlc3RcbntcbiAgICBUb01lc3NhZ2UoKVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7fTtcblxuICAgICAgICByZXR1cm4gbmV3IE1lc3NhZ2UoUmVxdWVzdElkSGVscGVyLklkKFwidHJtbmxcIiksIEV2ZW50cy5UZXJtaW5hbFN0YXR1c1JlcXVlc3QsIGRhdGEsIHRydWUpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlcm1pbmFsU3RhdHVzUmVzcG9uc2VcbntcbiAgICBjb25zdHJ1Y3RvcihtKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbSA9IG07XG4gICAgfVxuICAgIEdldFN0YXR1cygpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbS5EYXRhLnN0YXR1cztcbiAgICB9XG4gICAgR2V0QmF0dGVyeUxldmVsKClcbiAgICB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLl9tLkRhdGEuYmF0dGVyeV9sZXZlbCwxMCk7XG4gICAgfVxuICAgIElzQ2hhcmdpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fbS5EYXRhLmNoYXJnaW5nO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRlcm1pbmFsQmF0dGVyeVxue1xuICAgIGNvbnN0cnVjdG9yKG0pXG4gICAge1xuICAgICAgICB0aGlzLkJhdHRlcnlMZXZlbCA9IHBhcnNlSW50KG0uRGF0YS5iYXR0ZXJ5X2xldmVsLDEwKTtcbiAgICB9XG59XG4iLCIvKiAoaWdub3JlZCkgKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9